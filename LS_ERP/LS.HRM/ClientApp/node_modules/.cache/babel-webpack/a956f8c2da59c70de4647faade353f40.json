{"ast":null,"code":"import { FormControl, Validators } from '@angular/forms';\nimport { ParentOptMgtComponent } from '../../../sharedcomponent/parentoptmgt.component';\nimport { debounceTime, distinctUntilChanged, map, startWith, switchMap } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"../../../services/api.service\";\nimport * as i5 from \"../../../api-authorization/AuthorizeService\";\nimport * as i6 from \"../../../services/utility.service\";\nimport * as i7 from \"@ngx-translate/core\";\nimport * as i8 from \"../../../services/notification.service\";\nimport * as i9 from \"../../../sharedcomponent/ValidationService\";\nimport * as i10 from \"@angular/material/dialog\";\nimport * as i11 from \"../../../sharedcomponent/ValidationMessagesComponent\";\nimport * as i12 from \"@angular/common\";\nimport * as i13 from \"../../../sharedcomponent/autoloader.component\";\nimport * as i14 from \"@angular/material/autocomplete\";\nimport * as i15 from \"@angular/material/core\";\n\nfunction FinancialExpenseCostingComponent_option_48_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 30);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const site_r5 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵpropertyInterpolate(\"value\", site_r5.siteCode);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(!ctx_r0.isArab ? site_r5.siteName : site_r5.siteArbName);\n  }\n}\n\nfunction FinancialExpenseCostingComponent_div_53_mat_option_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 30);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const option_r8 = ctx.$implicit;\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"value\", option_r8);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", !ctx_r7.isArab ? option_r8.costNameInEnglish : option_r8.costNameInArabic, \" \");\n  }\n}\n\nfunction FinancialExpenseCostingComponent_div_53_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵelementStart(1, \"div\", 31);\n    i0.ɵɵelement(2, \"auto-loader\", 32);\n    i0.ɵɵelement(3, \"input\", 33);\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵpipe(5, \"translate\");\n    i0.ɵɵelementStart(6, \"mat-autocomplete\", 34, 35);\n    i0.ɵɵlistener(\"optionSelected\", function FinancialExpenseCostingComponent_div_53_Template_mat_autocomplete_optionSelected_6_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return ctx_r9.onSelectionFinancialExpense($event);\n    });\n    i0.ɵɵtemplate(8, FinancialExpenseCostingComponent_div_53_mat_option_8_Template, 2, 2, \"mat-option\", 21);\n    i0.ɵɵpipe(9, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 12);\n    i0.ɵɵelement(11, \"input\", 36);\n    i0.ɵɵpipe(12, \"translate\");\n    i0.ɵɵpipe(13, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\", 37);\n    i0.ɵɵelementStart(15, \"a\", 38);\n    i0.ɵɵlistener(\"click\", function FinancialExpenseCostingComponent_div_53_Template_a_click_15_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return ctx_r11.addUpdateFinancialExpense();\n    });\n    i0.ɵɵelement(16, \"i\", 39);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(17, \"div\", 40);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const _r6 = i0.ɵɵreference(7);\n\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"isLoading\", ctx_r1.isDataLoading);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate2(\"placeholder\", \"\", i0.ɵɵpipeBind1(4, 8, \"Please_Enter\"), \" \", i0.ɵɵpipeBind1(5, 10, \"Financial_Expense_Overhead\"), \"\");\n    i0.ɵɵproperty(\"formControl\", ctx_r1.financialExpenseCodeControl)(\"matAutocomplete\", _r6);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(9, 12, ctx_r1.filteredFinancialExpenses));\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate2(\"placeholder\", \"\", i0.ɵɵpipeBind1(12, 14, \"Enter\"), \" \", i0.ɵɵpipeBind1(13, 16, \"Amount\"), \"\");\n  }\n}\n\nfunction FinancialExpenseCostingComponent_table_54_tr_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\", 44);\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 43);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 45);\n    i0.ɵɵlistener(\"click\", function FinancialExpenseCostingComponent_table_54_tr_11_Template_td_click_5_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext(2);\n      return ctx_r15.removeFinExpense(ctx_r15.j);\n    });\n    i0.ɵɵelementStart(6, \"a\", 46);\n    i0.ɵɵelement(7, \"i\", 47);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const rc_r13 = ctx.$implicit;\n    const ctx_r12 = i0.ɵɵnextContext(2);\n    let tmp_0_0;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(!ctx_r12.isArab ? (tmp_0_0 = ctx_r12.getFinExpence(rc_r13.financialExpenseCode)) == null ? null : tmp_0_0.costNameInEnglish : (tmp_0_0 = ctx_r12.getFinExpence(rc_r13.financialExpenseCode)) == null ? null : tmp_0_0.costNameInArabic);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(rc_r13.costPerUnit);\n  }\n}\n\nfunction FinancialExpenseCostingComponent_table_54_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 41);\n    i0.ɵɵelementStart(1, \"thead\");\n    i0.ɵɵelementStart(2, \"tr\");\n    i0.ɵɵelementStart(3, \"th\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"th\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"tbody\");\n    i0.ɵɵtemplate(11, FinancialExpenseCostingComponent_table_54_tr_11_Template, 8, 2, \"tr\", 42);\n    i0.ɵɵelementStart(12, \"tr\");\n    i0.ɵɵelementStart(13, \"th\", 43);\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"th\", 43);\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(18, \"th\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(5, 5, \"Material_Equipment\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(8, 7, \"Amount\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.projectBudgetCosting.financialExpenseCostingsList);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(15, 9, \"Total\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.grandTotal, \" \");\n  }\n}\n\nfunction FinancialExpenseCostingComponent_input_59_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"input\", 48);\n  }\n}\n\nfunction FinancialExpenseCostingComponent_input_60_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"input\", 49);\n    i0.ɵɵlistener(\"click\", function FinancialExpenseCostingComponent_input_60_Template_input_click_0_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return ctx_r17.skippEstimationType();\n    });\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport class FinancialExpenseCostingComponent extends ParentOptMgtComponent {\n  constructor(fb, http, router, apiService, authService, utilService, translate, notifyService, validationService, dialogRef) {\n    super(authService);\n    this.fb = fb;\n    this.http = http;\n    this.router = router;\n    this.apiService = apiService;\n    this.authService = authService;\n    this.utilService = utilService;\n    this.translate = translate;\n    this.notifyService = notifyService;\n    this.validationService = validationService;\n    this.dialogRef = dialogRef;\n    this.financialExpenseCostingList = [];\n    this.grandTotal = 0;\n    this.totalForFinancialExpenseUnit = -1;\n    this.financialExpenseCode = '';\n    this.activeFinancialExpenseIndex = -1;\n    this.siteCodeSelectList = [];\n    this.financialExpenseSelectionList = [];\n    this.isDataLoading = false;\n    this.financialExpenseCodeControl = new FormControl('');\n    this.isArab = false;\n    this.filteredFinancialExpenses = this.financialExpenseCodeControl.valueChanges.pipe(startWith(this.financialExpenseCode), debounceTime(utilService.autoDelay()), distinctUntilChanged(), switchMap(val => {\n      if (val.trim() !== '') this.isDataLoading = true;\n      return this.filterFinancialExpenses(val || '');\n    }));\n  }\n\n  filterFinancialExpenses(val) {\n    return this.apiService.getall(`OperationExpenseHead/getAutoSelectListForFinancialExpense?search=${val}`).pipe(map(response => {\n      const res = response;\n      this.isDataLoading = false;\n      return res;\n    }));\n  }\n\n  ngOnInit() {\n    this.isArab = this.utilService.isArabic();\n    this.setForm();\n    this.getFinancialExpenseSelectionList();\n  }\n\n  getFinancialExpenseSelectionList() {\n    this.apiService.getall(`OperationExpenseHead/getOperationExpenseHeadsForFinancialExpence`).subscribe(res => {\n      this.financialExpenseCostingList = res;\n    });\n  }\n\n  setForm() {\n    var _a;\n\n    this.form = this.fb.group({\n      'projectCode': [this.project.projectCode],\n      'customerCode': [this.project.customerCode],\n      'siteCode': [((_a = this.project) === null || _a === void 0 ? void 0 : _a.siteCode) == null ? '' : this.project.siteCode, Validators.required],\n      'financialExpenseCode': [''],\n      'costPerUnit': ['']\n    });\n    this.apiService.getall(`customerSite/getSelectSiteListByProjectCode/${this.project.projectCode}`).subscribe(res => {\n      var _a;\n\n      if (res != null) {\n        this.siteCodeSelectList = res;\n\n        if (((_a = this.project) === null || _a === void 0 ? void 0 : _a.siteCode) != null) {\n          this.loadInitialData();\n          this.form.controls['siteCode'].disable({\n            onlySelf: true\n          });\n        }\n      } else this.siteCodeSelectList = [];\n    });\n  }\n\n  closeModel() {\n    this.dialogRef.close();\n  }\n\n  submit() {\n    //if (this.projectBudgetCosting.status == 3) {\n    //  this.notifyService.showError('Estimation is in Progress');\n    //}\n    //else\n    // if (this.form.valid && this.grandTotal != 0) {\n    if (this.projectBudgetCosting.financialExpenseCostingsList.length != 0) {\n      this.apiService.post('projectBudgetCosting/createProjectFinancialExpenseCostingForSite', this.projectBudgetCosting).subscribe(res => {\n        if (res) {\n          this.utilService.OkMessage();\n          this.dialogRef.close(true);\n        }\n      }, error => {\n        console.log(error);\n        console.error(error);\n        this.utilService.ShowApiErrorMessage(error);\n      });\n    } else {\n      this.utilService.FillUpFields();\n    }\n  }\n\n  loadInitialData() {\n    this.apiService.getall(`ProjectBudgetCosting/getProjectFinancialExpenseCostingForSite/${this.project.customerCode}/${this.project.projectCode}/${this.form.controls['siteCode'].value}`).subscribe(res => {\n      this.projectBudgetCosting = res;\n\n      if (this.projectBudgetCosting.status == 0) {\n        this.createNewProjectBudgetCosting();\n      } else if (this.projectBudgetCosting.status != 3) {}\n\n      this.findTotalsCosts();\n    });\n  }\n\n  createNewProjectBudgetCosting() {\n    this.projectBudgetCosting.customerCode = this.project.customerCode;\n    this.projectBudgetCosting.projectCode = this.project.projectCode;\n    this.projectBudgetCosting.siteCode = this.form.controls['siteCode'].value;\n    this.projectBudgetCosting.serviceType = \"MATERIALEQUIPMENT\";\n    this.createNewFinancialExpenseBudgetCostingList();\n  }\n\n  createNewFinancialExpenseBudgetCostingList() {\n    this.projectBudgetCosting.financialExpenseCostingsList = [];\n  }\n\n  findTotalsCosts() {\n    this.grandTotal = 0;\n\n    if (this.projectBudgetCosting.financialExpenseCostingsList.length != 0) {\n      this.projectBudgetCosting.financialExpenseCostingsList.forEach(plc => {\n        this.grandTotal = this.grandTotal + plc.costPerUnit;\n      });\n    }\n  }\n\n  onSelectSiteCode(event) {\n    // this.projectBudgetCosting = null;\n    this.totalForFinancialExpenseUnit = 0;\n    this.form.controls['siteCode'].setValue(event.target.value);\n    this.loadInitialData();\n    this.activeFinancialExpenseIndex = -1;\n  }\n\n  totalPerFinancialExpense(lsc) {\n    return lsc.costPerUnit;\n  }\n\n  onSelectionFinancialExpense(event) {\n    let name = !this.isArab ? event.option.value.costNameInEnglish : event.option.value.costNameInArabic;\n    this.form.controls['financialExpenseCode'].setValue(name);\n    this.financialExpenseCodeControl.setValue(name);\n    this.financialExpenseCode = event.option.value.costHead;\n    let index = this.projectBudgetCosting.financialExpenseCostingsList.findIndex(e => e.financialExpenseCode == event.option.value.costHead);\n\n    if (index >= 0) {\n      this.form.controls['costPerUnit'].setValue(this.projectBudgetCosting.financialExpenseCostingsList[index].costPerUnit);\n    } else {\n      this.form.controls['costPerUnit'].setValue('');\n    }\n  }\n\n  addUpdateFinancialExpense() {\n    if (this.form.controls['financialExpenseCode'].value != '' && this.financialExpenseCodeControl.value != '' && this.form.controls['costPerUnit'].value != '') {\n      let financialExpense = {\n        costPerUnit: this.form.controls['costPerUnit'].value,\n        projectBudgetCostingId: this.projectBudgetCosting.projectBudgetCostingId,\n        financialExpenseCostingId: 0,\n        financialExpenseCode: this.financialExpenseCode\n      };\n      let index = this.projectBudgetCosting.financialExpenseCostingsList.findIndex(e => e.financialExpenseCode == this.financialExpenseCode);\n\n      if (index >= 0) {\n        this.projectBudgetCosting.financialExpenseCostingsList[index].costPerUnit = this.form.controls['costPerUnit'].value;\n      } else {\n        this.projectBudgetCosting.financialExpenseCostingsList.push(financialExpense);\n      }\n\n      this.findTotalsCosts();\n    } else {\n      this.notifyService.showError(`${this.translate.instant('Incomplete Data')}`);\n    }\n\n    this.financialExpenseCode = '';\n    this.financialExpenseCodeControl.setValue('');\n    this.form.controls['costPerUnit'].setValue('');\n  }\n\n  removeFinExpense(index) {\n    this.projectBudgetCosting.financialExpenseCostingsList.splice(index, 1);\n    this.findTotalsCosts();\n  }\n\n  getFinExpence(code) {\n    return this.financialExpenseCostingList.find(e => e.costHead == code);\n  }\n\n  skippEstimationType() {\n    let input = {\n      projectCode: this.project.projectCode,\n      siteCode: this.project.siteCode,\n      type: \"financeExpence\"\n    };\n    this.apiService.post('projectBudgetCosting/skippEstimationType', input).subscribe(res => {\n      if (res) {\n        this.utilService.OkMessage();\n        this.dialogRef.close(true);\n      }\n    }, error => {\n      console.log(error);\n      console.error(error);\n      this.utilService.ShowApiErrorMessage(error);\n    });\n  }\n\n}\n\nFinancialExpenseCostingComponent.ɵfac = function FinancialExpenseCostingComponent_Factory(t) {\n  return new (t || FinancialExpenseCostingComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.HttpClient), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.ApiService), i0.ɵɵdirectiveInject(i5.AuthorizeService), i0.ɵɵdirectiveInject(i6.UtilityService), i0.ɵɵdirectiveInject(i7.TranslateService), i0.ɵɵdirectiveInject(i8.NotificationService), i0.ɵɵdirectiveInject(i9.ValidationService), i0.ɵɵdirectiveInject(i10.MatDialogRef));\n};\n\nFinancialExpenseCostingComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: FinancialExpenseCostingComponent,\n  selectors: [[\"app-financial-expense-costing\"]],\n  features: [i0.ɵɵInheritDefinitionFeature],\n  decls: 61,\n  vars: 39,\n  consts: [[\"type\", \"button\", \"aria-hidden\", \"true\", 1, \"close\", 3, \"click\"], [\"novalidate\", \"\", 1, \"mt-4\", 3, \"formGroup\", \"ngSubmit\"], [1, \"container-fluid\"], [1, \"row\"], [1, \"col-md-12\", \"col-lg-12\"], [1, \"card\"], [1, \"card-body\"], [1, \"col-md-7\", \"col-lg-9\"], [1, \"card-title\", \"pt6\"], [1, \"cardtitle-divider\"], [1, \"p-3\", 2, \"border\", \"1px solid #f4f4f4\"], [1, \"row\", \"mt-2\"], [1, \"col-md-3\", \"col-lg-3\"], [1, \"mr-sm-2\"], [1, \"form-group\"], [1, \"input-group\", \"mb-2\"], [\"type\", \"text\", \"formControlName\", \"customerCode\", \"readonly\", \"\", 1, \"form-control\", 3, \"placeholder\"], [3, \"control\"], [\"type\", \"text\", \"formControlName\", \"projectCode\", \"readonly\", \"\", 1, \"form-control\", 3, \"placeholder\"], [\"formControlName\", \"siteCode\", 1, \"custom-select\", \"mr-sm-2\", 3, \"change\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-md-6\", \"col-lg-6\", 2, \"padding-right\", \"0\"], [1, \"paddingtop15\"], [\"class\", \"row\", 4, \"ngIf\"], [\"class\", \"table  table-bordered table-borderedcustom no-wrap\", \"id\", \"table\", 4, \"ngIf\"], [1, \"col-md-12\", \"col-lg-12\", \"text-center\"], [\"type\", \"button\", \"value\", \"CANCEL\", 1, \"btn\", \"waves-effect\", \"waves-light\", \"btn-rounded\", \"btn-secondary\", \"btn-midblock\", 3, \"click\"], [\"type\", \"submit\", \"class\", \"btn waves-effect waves-light btn-rounded btn-primary btn-midblock\", \"value\", \"SAVE\", 4, \"ngIf\"], [\"type\", \"button\", \"class\", \"btn waves-effect waves-light btn-rounded btn-primary btn-midblock\", \"value\", \"SKIP\", 3, \"click\", 4, \"ngIf\"], [3, \"value\"], [1, \"col-md-6\", \"col-lg-6\"], [3, \"isLoading\"], [\"type\", \"text\", \"matInput\", \"\", 1, \"form-control\", 3, \"placeholder\", \"formControl\", \"matAutocomplete\"], [3, \"optionSelected\"], [\"auto1\", \"matAutocomplete\"], [\"type\", \"number\", \"formControlName\", \"costPerUnit\", 1, \"form-control\", 3, \"placeholder\"], [1, \"col-md-2\", \"col-lg-2\"], [2, \"font-size\", \"30px\", 3, \"click\"], [1, \"icon-plus\"], [1, \"col-md-2\", \"col-lg-1\"], [\"id\", \"table\", 1, \"table\", \"table-bordered\", \"table-borderedcustom\", \"no-wrap\"], [\"class\", \"selected\", 4, \"ngFor\", \"ngForOf\"], [2, \"text-align\", \"right\"], [1, \"selected\"], [2, \"width\", \"10%\", \"text-align\", \"right\", 3, \"click\"], [1, \"tableicons\"], [1, \"icon-trash\"], [\"type\", \"submit\", \"value\", \"SAVE\", 1, \"btn\", \"waves-effect\", \"waves-light\", \"btn-rounded\", \"btn-primary\", \"btn-midblock\"], [\"type\", \"button\", \"value\", \"SKIP\", 1, \"btn\", \"waves-effect\", \"waves-light\", \"btn-rounded\", \"btn-primary\", \"btn-midblock\", 3, \"click\"]],\n  template: function FinancialExpenseCostingComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"button\", 0);\n      i0.ɵɵlistener(\"click\", function FinancialExpenseCostingComponent_Template_button_click_0_listener() {\n        return ctx.closeModel();\n      });\n      i0.ɵɵtext(1, \" \\u00D7\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"form\", 1);\n      i0.ɵɵlistener(\"ngSubmit\", function FinancialExpenseCostingComponent_Template_form_ngSubmit_2_listener() {\n        return ctx.submit();\n      });\n      i0.ɵɵelementStart(3, \"div\", 2);\n      i0.ɵɵelementStart(4, \"div\", 3);\n      i0.ɵɵelementStart(5, \"div\", 4);\n      i0.ɵɵelementStart(6, \"div\", 5);\n      i0.ɵɵelementStart(7, \"div\", 6);\n      i0.ɵɵelementStart(8, \"div\", 3);\n      i0.ɵɵelementStart(9, \"div\", 7);\n      i0.ɵɵelementStart(10, \"h4\", 8);\n      i0.ɵɵtext(11);\n      i0.ɵɵpipe(12, \"translate\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(13, \"div\", 9);\n      i0.ɵɵelementStart(14, \"div\");\n      i0.ɵɵelementStart(15, \"div\", 4);\n      i0.ɵɵelementStart(16, \"div\", 10);\n      i0.ɵɵelementStart(17, \"div\", 11);\n      i0.ɵɵelementStart(18, \"div\", 12);\n      i0.ɵɵelementStart(19, \"label\", 13);\n      i0.ɵɵtext(20);\n      i0.ɵɵpipe(21, \"translate\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"div\", 14);\n      i0.ɵɵelementStart(23, \"div\", 15);\n      i0.ɵɵelement(24, \"input\", 16);\n      i0.ɵɵpipe(25, \"translate\");\n      i0.ɵɵpipe(26, \"translate\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(27, \"validation-message\", 17);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"div\", 12);\n      i0.ɵɵelementStart(29, \"label\", 13);\n      i0.ɵɵtext(30);\n      i0.ɵɵpipe(31, \"translate\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"div\", 14);\n      i0.ɵɵelementStart(33, \"div\", 15);\n      i0.ɵɵelement(34, \"input\", 18);\n      i0.ɵɵpipe(35, \"translate\");\n      i0.ɵɵpipe(36, \"translate\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(37, \"validation-message\", 17);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(38, \"div\", 12);\n      i0.ɵɵelementStart(39, \"div\", 14);\n      i0.ɵɵelementStart(40, \"label\", 13);\n      i0.ɵɵtext(41);\n      i0.ɵɵpipe(42, \"translate\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(43, \"select\", 19);\n      i0.ɵɵlistener(\"change\", function FinancialExpenseCostingComponent_Template_select_change_43_listener($event) {\n        return ctx.onSelectSiteCode($event);\n      });\n      i0.ɵɵelementStart(44, \"option\", 20);\n      i0.ɵɵtext(45);\n      i0.ɵɵpipe(46, \"translate\");\n      i0.ɵɵpipe(47, \"translate\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(48, FinancialExpenseCostingComponent_option_48_Template, 2, 2, \"option\", 21);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(49, \"validation-message\", 17);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(50, \"div\", 3);\n      i0.ɵɵelementStart(51, \"div\", 22);\n      i0.ɵɵelementStart(52, \"div\", 23);\n      i0.ɵɵtemplate(53, FinancialExpenseCostingComponent_div_53_Template, 18, 18, \"div\", 24);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(54, FinancialExpenseCostingComponent_table_54_Template, 19, 11, \"table\", 25);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(55, \"div\", 3);\n      i0.ɵɵelementStart(56, \"div\", 26);\n      i0.ɵɵelementStart(57, \"input\", 27);\n      i0.ɵɵlistener(\"click\", function FinancialExpenseCostingComponent_Template_input_click_57_listener() {\n        return ctx.closeModel();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(58, \" \\u00A0 \");\n      i0.ɵɵtemplate(59, FinancialExpenseCostingComponent_input_59_Template, 1, 0, \"input\", 28);\n      i0.ɵɵtemplate(60, FinancialExpenseCostingComponent_input_60_Template, 1, 0, \"input\", 29);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"formGroup\", ctx.form);\n      i0.ɵɵadvance(9);\n      i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(12, 19, \"FinancialExpense_Costing\"), \" \");\n      i0.ɵɵadvance(9);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(21, 21, \"Customer_Code\"));\n      i0.ɵɵadvance(4);\n      i0.ɵɵpropertyInterpolate2(\"placeholder\", \"\", i0.ɵɵpipeBind1(25, 23, \"Please_Enter\"), \" \", i0.ɵɵpipeBind1(26, 25, \"Customer_Code\"), \"\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"control\", ctx.form.controls.customerCode);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(31, 27, \"Project_Code\"));\n      i0.ɵɵadvance(4);\n      i0.ɵɵpropertyInterpolate2(\"placeholder\", \"\", i0.ɵɵpipeBind1(35, 29, \"Please_Enter\"), \" \", i0.ɵɵpipeBind1(36, 31, \"Project_Code\"), \"\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"control\", ctx.form.controls.projectCode);\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(42, 33, \"Site_Code\"));\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate2(\"\", i0.ɵɵpipeBind1(46, 35, \"Select\"), \" \", i0.ɵɵpipeBind1(47, 37, \"Site_Code\"), \" \");\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.siteCodeSelectList);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"control\", ctx.form.controls.siteCode);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.projectBudgetCosting != null);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.projectBudgetCosting != null);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.grandTotal > 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.grandTotal == 0);\n    }\n  },\n  directives: [i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.DefaultValueAccessor, i1.NgControlStatus, i1.FormControlName, i11.ValidationMessagesComponent, i1.SelectControlValueAccessor, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i12.NgForOf, i12.NgIf, i13.AutoLoaderComponent, i14.MatAutocompleteTrigger, i1.FormControlDirective, i14.MatAutocomplete, i1.NumberValueAccessor, i15.MatOption],\n  pipes: [i7.TranslatePipe, i12.AsyncPipe],\n  encapsulation: 2\n});","map":{"version":3,"sources":["F:/ExOneERP/LS_ERP/LS.HRM/ClientApp/src/app/Operationalmgt/project-budget-costing/financial-expense-costing/financial-expense-costing.component.ts"],"names":["FormControl","Validators","ParentOptMgtComponent","debounceTime","distinctUntilChanged","map","startWith","switchMap","i0","i1","i2","i3","i4","i5","i6","i7","i8","i9","i10","i11","i12","i13","i14","i15","FinancialExpenseCostingComponent_option_48_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","site_r5","$implicit","ctx_r0","ɵɵnextContext","ɵɵpropertyInterpolate","siteCode","ɵɵadvance","ɵɵtextInterpolate","isArab","siteName","siteArbName","FinancialExpenseCostingComponent_div_53_mat_option_8_Template","option_r8","ctx_r7","ɵɵproperty","ɵɵtextInterpolate1","costNameInEnglish","costNameInArabic","FinancialExpenseCostingComponent_div_53_Template","_r10","ɵɵgetCurrentView","ɵɵelement","ɵɵpipe","ɵɵlistener","FinancialExpenseCostingComponent_div_53_Template_mat_autocomplete_optionSelected_6_listener","$event","ɵɵrestoreView","ctx_r9","onSelectionFinancialExpense","ɵɵtemplate","FinancialExpenseCostingComponent_div_53_Template_a_click_15_listener","ctx_r11","addUpdateFinancialExpense","_r6","ɵɵreference","ctx_r1","isDataLoading","ɵɵpropertyInterpolate2","ɵɵpipeBind1","financialExpenseCodeControl","filteredFinancialExpenses","FinancialExpenseCostingComponent_table_54_tr_11_Template","_r16","FinancialExpenseCostingComponent_table_54_tr_11_Template_td_click_5_listener","ctx_r15","removeFinExpense","j","rc_r13","ctx_r12","tmp_0_0","getFinExpence","financialExpenseCode","costPerUnit","FinancialExpenseCostingComponent_table_54_Template","ctx_r2","projectBudgetCosting","financialExpenseCostingsList","grandTotal","FinancialExpenseCostingComponent_input_59_Template","FinancialExpenseCostingComponent_input_60_Template","_r18","FinancialExpenseCostingComponent_input_60_Template_input_click_0_listener","ctx_r17","skippEstimationType","FinancialExpenseCostingComponent","constructor","fb","http","router","apiService","authService","utilService","translate","notifyService","validationService","dialogRef","financialExpenseCostingList","totalForFinancialExpenseUnit","activeFinancialExpenseIndex","siteCodeSelectList","financialExpenseSelectionList","valueChanges","pipe","autoDelay","val","trim","filterFinancialExpenses","getall","response","res","ngOnInit","isArabic","setForm","getFinancialExpenseSelectionList","subscribe","_a","form","group","project","projectCode","customerCode","required","loadInitialData","controls","disable","onlySelf","closeModel","close","submit","length","post","OkMessage","error","console","log","ShowApiErrorMessage","FillUpFields","value","status","createNewProjectBudgetCosting","findTotalsCosts","serviceType","createNewFinancialExpenseBudgetCostingList","forEach","plc","onSelectSiteCode","event","setValue","target","totalPerFinancialExpense","lsc","name","option","costHead","index","findIndex","e","financialExpense","projectBudgetCostingId","financialExpenseCostingId","push","showError","instant","splice","code","find","input","type","ɵfac","FinancialExpenseCostingComponent_Factory","t","ɵɵdirectiveInject","FormBuilder","HttpClient","Router","ApiService","AuthorizeService","UtilityService","TranslateService","NotificationService","ValidationService","MatDialogRef","ɵcmp","ɵɵdefineComponent","selectors","features","ɵɵInheritDefinitionFeature","decls","vars","consts","template","FinancialExpenseCostingComponent_Template","FinancialExpenseCostingComponent_Template_button_click_0_listener","FinancialExpenseCostingComponent_Template_form_ngSubmit_2_listener","FinancialExpenseCostingComponent_Template_select_change_43_listener","FinancialExpenseCostingComponent_Template_input_click_57_listener","ɵɵtextInterpolate2","directives","ɵNgNoValidate","NgControlStatusGroup","FormGroupDirective","DefaultValueAccessor","NgControlStatus","FormControlName","ValidationMessagesComponent","SelectControlValueAccessor","NgSelectOption","ɵNgSelectMultipleOption","NgForOf","NgIf","AutoLoaderComponent","MatAutocompleteTrigger","FormControlDirective","MatAutocomplete","NumberValueAccessor","MatOption","pipes","TranslatePipe","AsyncPipe","encapsulation"],"mappings":"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","sourcesContent":["import { FormControl, Validators } from '@angular/forms';\r\nimport { ParentOptMgtComponent } from '../../../sharedcomponent/parentoptmgt.component';\r\nimport { debounceTime, distinctUntilChanged, map, startWith, switchMap } from 'rxjs/operators';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/forms\";\r\nimport * as i2 from \"@angular/common/http\";\r\nimport * as i3 from \"@angular/router\";\r\nimport * as i4 from \"../../../services/api.service\";\r\nimport * as i5 from \"../../../api-authorization/AuthorizeService\";\r\nimport * as i6 from \"../../../services/utility.service\";\r\nimport * as i7 from \"@ngx-translate/core\";\r\nimport * as i8 from \"../../../services/notification.service\";\r\nimport * as i9 from \"../../../sharedcomponent/ValidationService\";\r\nimport * as i10 from \"@angular/material/dialog\";\r\nimport * as i11 from \"../../../sharedcomponent/ValidationMessagesComponent\";\r\nimport * as i12 from \"@angular/common\";\r\nimport * as i13 from \"../../../sharedcomponent/autoloader.component\";\r\nimport * as i14 from \"@angular/material/autocomplete\";\r\nimport * as i15 from \"@angular/material/core\";\r\nfunction FinancialExpenseCostingComponent_option_48_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"option\", 30);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const site_r5 = ctx.$implicit;\r\n    const ctx_r0 = i0.ɵɵnextContext();\r\n    i0.ɵɵpropertyInterpolate(\"value\", site_r5.siteCode);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate(!ctx_r0.isArab ? site_r5.siteName : site_r5.siteArbName);\r\n} }\r\nfunction FinancialExpenseCostingComponent_div_53_mat_option_8_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"mat-option\", 30);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const option_r8 = ctx.$implicit;\r\n    const ctx_r7 = i0.ɵɵnextContext(2);\r\n    i0.ɵɵproperty(\"value\", option_r8);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate1(\" \", !ctx_r7.isArab ? option_r8.costNameInEnglish : option_r8.costNameInArabic, \" \");\r\n} }\r\nfunction FinancialExpenseCostingComponent_div_53_Template(rf, ctx) { if (rf & 1) {\r\n    const _r10 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"div\", 3);\r\n    i0.ɵɵelementStart(1, \"div\", 31);\r\n    i0.ɵɵelement(2, \"auto-loader\", 32);\r\n    i0.ɵɵelement(3, \"input\", 33);\r\n    i0.ɵɵpipe(4, \"translate\");\r\n    i0.ɵɵpipe(5, \"translate\");\r\n    i0.ɵɵelementStart(6, \"mat-autocomplete\", 34, 35);\r\n    i0.ɵɵlistener(\"optionSelected\", function FinancialExpenseCostingComponent_div_53_Template_mat_autocomplete_optionSelected_6_listener($event) { i0.ɵɵrestoreView(_r10); const ctx_r9 = i0.ɵɵnextContext(); return ctx_r9.onSelectionFinancialExpense($event); });\r\n    i0.ɵɵtemplate(8, FinancialExpenseCostingComponent_div_53_mat_option_8_Template, 2, 2, \"mat-option\", 21);\r\n    i0.ɵɵpipe(9, \"async\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(10, \"div\", 12);\r\n    i0.ɵɵelement(11, \"input\", 36);\r\n    i0.ɵɵpipe(12, \"translate\");\r\n    i0.ɵɵpipe(13, \"translate\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(14, \"div\", 37);\r\n    i0.ɵɵelementStart(15, \"a\", 38);\r\n    i0.ɵɵlistener(\"click\", function FinancialExpenseCostingComponent_div_53_Template_a_click_15_listener() { i0.ɵɵrestoreView(_r10); const ctx_r11 = i0.ɵɵnextContext(); return ctx_r11.addUpdateFinancialExpense(); });\r\n    i0.ɵɵelement(16, \"i\", 39);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelement(17, \"div\", 40);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const _r6 = i0.ɵɵreference(7);\r\n    const ctx_r1 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵproperty(\"isLoading\", ctx_r1.isDataLoading);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵpropertyInterpolate2(\"placeholder\", \"\", i0.ɵɵpipeBind1(4, 8, \"Please_Enter\"), \" \", i0.ɵɵpipeBind1(5, 10, \"Financial_Expense_Overhead\"), \"\");\r\n    i0.ɵɵproperty(\"formControl\", ctx_r1.financialExpenseCodeControl)(\"matAutocomplete\", _r6);\r\n    i0.ɵɵadvance(5);\r\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(9, 12, ctx_r1.filteredFinancialExpenses));\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵpropertyInterpolate2(\"placeholder\", \"\", i0.ɵɵpipeBind1(12, 14, \"Enter\"), \" \", i0.ɵɵpipeBind1(13, 16, \"Amount\"), \"\");\r\n} }\r\nfunction FinancialExpenseCostingComponent_table_54_tr_11_Template(rf, ctx) { if (rf & 1) {\r\n    const _r16 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"tr\", 44);\r\n    i0.ɵɵelementStart(1, \"td\");\r\n    i0.ɵɵtext(2);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(3, \"td\", 43);\r\n    i0.ɵɵtext(4);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(5, \"td\", 45);\r\n    i0.ɵɵlistener(\"click\", function FinancialExpenseCostingComponent_table_54_tr_11_Template_td_click_5_listener() { i0.ɵɵrestoreView(_r16); const ctx_r15 = i0.ɵɵnextContext(2); return ctx_r15.removeFinExpense(ctx_r15.j); });\r\n    i0.ɵɵelementStart(6, \"a\", 46);\r\n    i0.ɵɵelement(7, \"i\", 47);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const rc_r13 = ctx.$implicit;\r\n    const ctx_r12 = i0.ɵɵnextContext(2);\r\n    let tmp_0_0;\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(!ctx_r12.isArab ? (tmp_0_0 = ctx_r12.getFinExpence(rc_r13.financialExpenseCode)) == null ? null : tmp_0_0.costNameInEnglish : (tmp_0_0 = ctx_r12.getFinExpence(rc_r13.financialExpenseCode)) == null ? null : tmp_0_0.costNameInArabic);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(rc_r13.costPerUnit);\r\n} }\r\nfunction FinancialExpenseCostingComponent_table_54_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"table\", 41);\r\n    i0.ɵɵelementStart(1, \"thead\");\r\n    i0.ɵɵelementStart(2, \"tr\");\r\n    i0.ɵɵelementStart(3, \"th\");\r\n    i0.ɵɵtext(4);\r\n    i0.ɵɵpipe(5, \"translate\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(6, \"th\");\r\n    i0.ɵɵtext(7);\r\n    i0.ɵɵpipe(8, \"translate\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelement(9, \"th\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(10, \"tbody\");\r\n    i0.ɵɵtemplate(11, FinancialExpenseCostingComponent_table_54_tr_11_Template, 8, 2, \"tr\", 42);\r\n    i0.ɵɵelementStart(12, \"tr\");\r\n    i0.ɵɵelementStart(13, \"th\", 43);\r\n    i0.ɵɵtext(14);\r\n    i0.ɵɵpipe(15, \"translate\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(16, \"th\", 43);\r\n    i0.ɵɵtext(17);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelement(18, \"th\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const ctx_r2 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(4);\r\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(5, 5, \"Material_Equipment\"), \" \");\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(8, 7, \"Amount\"));\r\n    i0.ɵɵadvance(4);\r\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.projectBudgetCosting.financialExpenseCostingsList);\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(15, 9, \"Total\"), \" \");\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.grandTotal, \" \");\r\n} }\r\nfunction FinancialExpenseCostingComponent_input_59_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelement(0, \"input\", 48);\r\n} }\r\nfunction FinancialExpenseCostingComponent_input_60_Template(rf, ctx) { if (rf & 1) {\r\n    const _r18 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"input\", 49);\r\n    i0.ɵɵlistener(\"click\", function FinancialExpenseCostingComponent_input_60_Template_input_click_0_listener() { i0.ɵɵrestoreView(_r18); const ctx_r17 = i0.ɵɵnextContext(); return ctx_r17.skippEstimationType(); });\r\n    i0.ɵɵelementEnd();\r\n} }\r\nexport class FinancialExpenseCostingComponent extends ParentOptMgtComponent {\r\n    constructor(fb, http, router, apiService, authService, utilService, translate, notifyService, validationService, dialogRef) {\r\n        super(authService);\r\n        this.fb = fb;\r\n        this.http = http;\r\n        this.router = router;\r\n        this.apiService = apiService;\r\n        this.authService = authService;\r\n        this.utilService = utilService;\r\n        this.translate = translate;\r\n        this.notifyService = notifyService;\r\n        this.validationService = validationService;\r\n        this.dialogRef = dialogRef;\r\n        this.financialExpenseCostingList = [];\r\n        this.grandTotal = 0;\r\n        this.totalForFinancialExpenseUnit = -1;\r\n        this.financialExpenseCode = '';\r\n        this.activeFinancialExpenseIndex = -1;\r\n        this.siteCodeSelectList = [];\r\n        this.financialExpenseSelectionList = [];\r\n        this.isDataLoading = false;\r\n        this.financialExpenseCodeControl = new FormControl('');\r\n        this.isArab = false;\r\n        this.filteredFinancialExpenses = this.financialExpenseCodeControl.valueChanges.pipe(startWith(this.financialExpenseCode), debounceTime(utilService.autoDelay()), distinctUntilChanged(), switchMap((val) => {\r\n            if (val.trim() !== '')\r\n                this.isDataLoading = true;\r\n            return this.filterFinancialExpenses(val || '');\r\n        }));\r\n    }\r\n    filterFinancialExpenses(val) {\r\n        return this.apiService.getall(`OperationExpenseHead/getAutoSelectListForFinancialExpense?search=${val}`)\r\n            .pipe(map(response => {\r\n            const res = response;\r\n            this.isDataLoading = false;\r\n            return res;\r\n        }));\r\n    }\r\n    ngOnInit() {\r\n        this.isArab = this.utilService.isArabic();\r\n        this.setForm();\r\n        this.getFinancialExpenseSelectionList();\r\n    }\r\n    getFinancialExpenseSelectionList() {\r\n        this.apiService.getall(`OperationExpenseHead/getOperationExpenseHeadsForFinancialExpence`).subscribe(res => {\r\n            this.financialExpenseCostingList = res;\r\n        });\r\n    }\r\n    setForm() {\r\n        var _a;\r\n        this.form = this.fb.group({\r\n            'projectCode': [this.project.projectCode],\r\n            'customerCode': [this.project.customerCode],\r\n            'siteCode': [((_a = this.project) === null || _a === void 0 ? void 0 : _a.siteCode) == null ? '' : this.project.siteCode, Validators.required],\r\n            'financialExpenseCode': [''],\r\n            'costPerUnit': ['']\r\n        });\r\n        this.apiService.getall(`customerSite/getSelectSiteListByProjectCode/${this.project.projectCode}`).subscribe(res => {\r\n            var _a;\r\n            if (res != null) {\r\n                this.siteCodeSelectList = res;\r\n                if (((_a = this.project) === null || _a === void 0 ? void 0 : _a.siteCode) != null) {\r\n                    this.loadInitialData();\r\n                    this.form.controls['siteCode'].disable({ onlySelf: true });\r\n                }\r\n            }\r\n            else\r\n                this.siteCodeSelectList = [];\r\n        });\r\n    }\r\n    closeModel() {\r\n        this.dialogRef.close();\r\n    }\r\n    submit() {\r\n        //if (this.projectBudgetCosting.status == 3) {\r\n        //  this.notifyService.showError('Estimation is in Progress');\r\n        //}\r\n        //else\r\n        // if (this.form.valid && this.grandTotal != 0) {\r\n        if (this.projectBudgetCosting.financialExpenseCostingsList.length != 0) {\r\n            this.apiService.post('projectBudgetCosting/createProjectFinancialExpenseCostingForSite', this.projectBudgetCosting)\r\n                .subscribe(res => {\r\n                if (res) {\r\n                    this.utilService.OkMessage();\r\n                    this.dialogRef.close(true);\r\n                }\r\n            }, error => {\r\n                console.log(error);\r\n                console.error(error);\r\n                this.utilService.ShowApiErrorMessage(error);\r\n            });\r\n        }\r\n        else {\r\n            this.utilService.FillUpFields();\r\n        }\r\n    }\r\n    loadInitialData() {\r\n        this.apiService.getall(`ProjectBudgetCosting/getProjectFinancialExpenseCostingForSite/${this.project.customerCode}/${this.project.projectCode}/${this.form.controls['siteCode'].value}`).subscribe(res => {\r\n            this.projectBudgetCosting = res;\r\n            if (this.projectBudgetCosting.status == 0) {\r\n                this.createNewProjectBudgetCosting();\r\n            }\r\n            else if (this.projectBudgetCosting.status != 3) {\r\n            }\r\n            this.findTotalsCosts();\r\n        });\r\n    }\r\n    createNewProjectBudgetCosting() {\r\n        this.projectBudgetCosting.customerCode = this.project.customerCode;\r\n        this.projectBudgetCosting.projectCode = this.project.projectCode;\r\n        this.projectBudgetCosting.siteCode = this.form.controls['siteCode'].value;\r\n        this.projectBudgetCosting.serviceType = \"MATERIALEQUIPMENT\";\r\n        this.createNewFinancialExpenseBudgetCostingList();\r\n    }\r\n    createNewFinancialExpenseBudgetCostingList() {\r\n        this.projectBudgetCosting.financialExpenseCostingsList = [];\r\n    }\r\n    findTotalsCosts() {\r\n        this.grandTotal = 0;\r\n        if (this.projectBudgetCosting.financialExpenseCostingsList.length != 0) {\r\n            this.projectBudgetCosting.financialExpenseCostingsList.forEach((plc) => {\r\n                this.grandTotal = this.grandTotal + plc.costPerUnit;\r\n            });\r\n        }\r\n    }\r\n    onSelectSiteCode(event) {\r\n        // this.projectBudgetCosting = null;\r\n        this.totalForFinancialExpenseUnit = 0;\r\n        this.form.controls['siteCode'].setValue(event.target.value);\r\n        this.loadInitialData();\r\n        this.activeFinancialExpenseIndex = -1;\r\n    }\r\n    totalPerFinancialExpense(lsc) {\r\n        return lsc.costPerUnit;\r\n    }\r\n    onSelectionFinancialExpense(event) {\r\n        let name = !this.isArab ? event.option.value.costNameInEnglish : event.option.value.costNameInArabic;\r\n        this.form.controls['financialExpenseCode'].setValue(name);\r\n        this.financialExpenseCodeControl.setValue(name);\r\n        this.financialExpenseCode = event.option.value.costHead;\r\n        let index = this.projectBudgetCosting.financialExpenseCostingsList.findIndex(e => e.financialExpenseCode == event.option.value.costHead);\r\n        if (index >= 0) {\r\n            this.form.controls['costPerUnit'].setValue(this.projectBudgetCosting.financialExpenseCostingsList[index].costPerUnit);\r\n        }\r\n        else {\r\n            this.form.controls['costPerUnit'].setValue('');\r\n        }\r\n    }\r\n    addUpdateFinancialExpense() {\r\n        if (this.form.controls['financialExpenseCode'].value != '' && this.financialExpenseCodeControl.value != '' && this.form.controls['costPerUnit'].value != '') {\r\n            let financialExpense = {\r\n                costPerUnit: this.form.controls['costPerUnit'].value,\r\n                projectBudgetCostingId: this.projectBudgetCosting.projectBudgetCostingId,\r\n                financialExpenseCostingId: 0,\r\n                financialExpenseCode: this.financialExpenseCode,\r\n            };\r\n            let index = this.projectBudgetCosting.financialExpenseCostingsList.findIndex(e => e.financialExpenseCode == this.financialExpenseCode);\r\n            if (index >= 0) {\r\n                this.projectBudgetCosting.financialExpenseCostingsList[index].costPerUnit = this.form.controls['costPerUnit'].value;\r\n            }\r\n            else {\r\n                this.projectBudgetCosting.financialExpenseCostingsList.push(financialExpense);\r\n            }\r\n            this.findTotalsCosts();\r\n        }\r\n        else {\r\n            this.notifyService.showError(`${this.translate.instant('Incomplete Data')}`);\r\n        }\r\n        this.financialExpenseCode = '';\r\n        this.financialExpenseCodeControl.setValue('');\r\n        this.form.controls['costPerUnit'].setValue('');\r\n    }\r\n    removeFinExpense(index) {\r\n        this.projectBudgetCosting.financialExpenseCostingsList.splice(index, 1);\r\n        this.findTotalsCosts();\r\n    }\r\n    getFinExpence(code) {\r\n        return this.financialExpenseCostingList.find(e => e.costHead == code);\r\n    }\r\n    skippEstimationType() {\r\n        let input = {\r\n            projectCode: this.project.projectCode,\r\n            siteCode: this.project.siteCode,\r\n            type: \"financeExpence\"\r\n        };\r\n        this.apiService.post('projectBudgetCosting/skippEstimationType', input)\r\n            .subscribe(res => {\r\n            if (res) {\r\n                this.utilService.OkMessage();\r\n                this.dialogRef.close(true);\r\n            }\r\n        }, error => {\r\n            console.log(error);\r\n            console.error(error);\r\n            this.utilService.ShowApiErrorMessage(error);\r\n        });\r\n    }\r\n}\r\nFinancialExpenseCostingComponent.ɵfac = function FinancialExpenseCostingComponent_Factory(t) { return new (t || FinancialExpenseCostingComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.HttpClient), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.ApiService), i0.ɵɵdirectiveInject(i5.AuthorizeService), i0.ɵɵdirectiveInject(i6.UtilityService), i0.ɵɵdirectiveInject(i7.TranslateService), i0.ɵɵdirectiveInject(i8.NotificationService), i0.ɵɵdirectiveInject(i9.ValidationService), i0.ɵɵdirectiveInject(i10.MatDialogRef)); };\r\nFinancialExpenseCostingComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: FinancialExpenseCostingComponent, selectors: [[\"app-financial-expense-costing\"]], features: [i0.ɵɵInheritDefinitionFeature], decls: 61, vars: 39, consts: [[\"type\", \"button\", \"aria-hidden\", \"true\", 1, \"close\", 3, \"click\"], [\"novalidate\", \"\", 1, \"mt-4\", 3, \"formGroup\", \"ngSubmit\"], [1, \"container-fluid\"], [1, \"row\"], [1, \"col-md-12\", \"col-lg-12\"], [1, \"card\"], [1, \"card-body\"], [1, \"col-md-7\", \"col-lg-9\"], [1, \"card-title\", \"pt6\"], [1, \"cardtitle-divider\"], [1, \"p-3\", 2, \"border\", \"1px solid #f4f4f4\"], [1, \"row\", \"mt-2\"], [1, \"col-md-3\", \"col-lg-3\"], [1, \"mr-sm-2\"], [1, \"form-group\"], [1, \"input-group\", \"mb-2\"], [\"type\", \"text\", \"formControlName\", \"customerCode\", \"readonly\", \"\", 1, \"form-control\", 3, \"placeholder\"], [3, \"control\"], [\"type\", \"text\", \"formControlName\", \"projectCode\", \"readonly\", \"\", 1, \"form-control\", 3, \"placeholder\"], [\"formControlName\", \"siteCode\", 1, \"custom-select\", \"mr-sm-2\", 3, \"change\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-md-6\", \"col-lg-6\", 2, \"padding-right\", \"0\"], [1, \"paddingtop15\"], [\"class\", \"row\", 4, \"ngIf\"], [\"class\", \"table  table-bordered table-borderedcustom no-wrap\", \"id\", \"table\", 4, \"ngIf\"], [1, \"col-md-12\", \"col-lg-12\", \"text-center\"], [\"type\", \"button\", \"value\", \"CANCEL\", 1, \"btn\", \"waves-effect\", \"waves-light\", \"btn-rounded\", \"btn-secondary\", \"btn-midblock\", 3, \"click\"], [\"type\", \"submit\", \"class\", \"btn waves-effect waves-light btn-rounded btn-primary btn-midblock\", \"value\", \"SAVE\", 4, \"ngIf\"], [\"type\", \"button\", \"class\", \"btn waves-effect waves-light btn-rounded btn-primary btn-midblock\", \"value\", \"SKIP\", 3, \"click\", 4, \"ngIf\"], [3, \"value\"], [1, \"col-md-6\", \"col-lg-6\"], [3, \"isLoading\"], [\"type\", \"text\", \"matInput\", \"\", 1, \"form-control\", 3, \"placeholder\", \"formControl\", \"matAutocomplete\"], [3, \"optionSelected\"], [\"auto1\", \"matAutocomplete\"], [\"type\", \"number\", \"formControlName\", \"costPerUnit\", 1, \"form-control\", 3, \"placeholder\"], [1, \"col-md-2\", \"col-lg-2\"], [2, \"font-size\", \"30px\", 3, \"click\"], [1, \"icon-plus\"], [1, \"col-md-2\", \"col-lg-1\"], [\"id\", \"table\", 1, \"table\", \"table-bordered\", \"table-borderedcustom\", \"no-wrap\"], [\"class\", \"selected\", 4, \"ngFor\", \"ngForOf\"], [2, \"text-align\", \"right\"], [1, \"selected\"], [2, \"width\", \"10%\", \"text-align\", \"right\", 3, \"click\"], [1, \"tableicons\"], [1, \"icon-trash\"], [\"type\", \"submit\", \"value\", \"SAVE\", 1, \"btn\", \"waves-effect\", \"waves-light\", \"btn-rounded\", \"btn-primary\", \"btn-midblock\"], [\"type\", \"button\", \"value\", \"SKIP\", 1, \"btn\", \"waves-effect\", \"waves-light\", \"btn-rounded\", \"btn-primary\", \"btn-midblock\", 3, \"click\"]], template: function FinancialExpenseCostingComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"button\", 0);\r\n        i0.ɵɵlistener(\"click\", function FinancialExpenseCostingComponent_Template_button_click_0_listener() { return ctx.closeModel(); });\r\n        i0.ɵɵtext(1, \" \\u00D7\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(2, \"form\", 1);\r\n        i0.ɵɵlistener(\"ngSubmit\", function FinancialExpenseCostingComponent_Template_form_ngSubmit_2_listener() { return ctx.submit(); });\r\n        i0.ɵɵelementStart(3, \"div\", 2);\r\n        i0.ɵɵelementStart(4, \"div\", 3);\r\n        i0.ɵɵelementStart(5, \"div\", 4);\r\n        i0.ɵɵelementStart(6, \"div\", 5);\r\n        i0.ɵɵelementStart(7, \"div\", 6);\r\n        i0.ɵɵelementStart(8, \"div\", 3);\r\n        i0.ɵɵelementStart(9, \"div\", 7);\r\n        i0.ɵɵelementStart(10, \"h4\", 8);\r\n        i0.ɵɵtext(11);\r\n        i0.ɵɵpipe(12, \"translate\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(13, \"div\", 9);\r\n        i0.ɵɵelementStart(14, \"div\");\r\n        i0.ɵɵelementStart(15, \"div\", 4);\r\n        i0.ɵɵelementStart(16, \"div\", 10);\r\n        i0.ɵɵelementStart(17, \"div\", 11);\r\n        i0.ɵɵelementStart(18, \"div\", 12);\r\n        i0.ɵɵelementStart(19, \"label\", 13);\r\n        i0.ɵɵtext(20);\r\n        i0.ɵɵpipe(21, \"translate\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(22, \"div\", 14);\r\n        i0.ɵɵelementStart(23, \"div\", 15);\r\n        i0.ɵɵelement(24, \"input\", 16);\r\n        i0.ɵɵpipe(25, \"translate\");\r\n        i0.ɵɵpipe(26, \"translate\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(27, \"validation-message\", 17);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(28, \"div\", 12);\r\n        i0.ɵɵelementStart(29, \"label\", 13);\r\n        i0.ɵɵtext(30);\r\n        i0.ɵɵpipe(31, \"translate\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(32, \"div\", 14);\r\n        i0.ɵɵelementStart(33, \"div\", 15);\r\n        i0.ɵɵelement(34, \"input\", 18);\r\n        i0.ɵɵpipe(35, \"translate\");\r\n        i0.ɵɵpipe(36, \"translate\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(37, \"validation-message\", 17);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(38, \"div\", 12);\r\n        i0.ɵɵelementStart(39, \"div\", 14);\r\n        i0.ɵɵelementStart(40, \"label\", 13);\r\n        i0.ɵɵtext(41);\r\n        i0.ɵɵpipe(42, \"translate\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(43, \"select\", 19);\r\n        i0.ɵɵlistener(\"change\", function FinancialExpenseCostingComponent_Template_select_change_43_listener($event) { return ctx.onSelectSiteCode($event); });\r\n        i0.ɵɵelementStart(44, \"option\", 20);\r\n        i0.ɵɵtext(45);\r\n        i0.ɵɵpipe(46, \"translate\");\r\n        i0.ɵɵpipe(47, \"translate\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtemplate(48, FinancialExpenseCostingComponent_option_48_Template, 2, 2, \"option\", 21);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(49, \"validation-message\", 17);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(50, \"div\", 3);\r\n        i0.ɵɵelementStart(51, \"div\", 22);\r\n        i0.ɵɵelementStart(52, \"div\", 23);\r\n        i0.ɵɵtemplate(53, FinancialExpenseCostingComponent_div_53_Template, 18, 18, \"div\", 24);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtemplate(54, FinancialExpenseCostingComponent_table_54_Template, 19, 11, \"table\", 25);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(55, \"div\", 3);\r\n        i0.ɵɵelementStart(56, \"div\", 26);\r\n        i0.ɵɵelementStart(57, \"input\", 27);\r\n        i0.ɵɵlistener(\"click\", function FinancialExpenseCostingComponent_Template_input_click_57_listener() { return ctx.closeModel(); });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtext(58, \" \\u00A0 \");\r\n        i0.ɵɵtemplate(59, FinancialExpenseCostingComponent_input_59_Template, 1, 0, \"input\", 28);\r\n        i0.ɵɵtemplate(60, FinancialExpenseCostingComponent_input_60_Template, 1, 0, \"input\", 29);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"formGroup\", ctx.form);\r\n        i0.ɵɵadvance(9);\r\n        i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(12, 19, \"FinancialExpense_Costing\"), \" \");\r\n        i0.ɵɵadvance(9);\r\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(21, 21, \"Customer_Code\"));\r\n        i0.ɵɵadvance(4);\r\n        i0.ɵɵpropertyInterpolate2(\"placeholder\", \"\", i0.ɵɵpipeBind1(25, 23, \"Please_Enter\"), \" \", i0.ɵɵpipeBind1(26, 25, \"Customer_Code\"), \"\");\r\n        i0.ɵɵadvance(3);\r\n        i0.ɵɵproperty(\"control\", ctx.form.controls.customerCode);\r\n        i0.ɵɵadvance(3);\r\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(31, 27, \"Project_Code\"));\r\n        i0.ɵɵadvance(4);\r\n        i0.ɵɵpropertyInterpolate2(\"placeholder\", \"\", i0.ɵɵpipeBind1(35, 29, \"Please_Enter\"), \" \", i0.ɵɵpipeBind1(36, 31, \"Project_Code\"), \"\");\r\n        i0.ɵɵadvance(3);\r\n        i0.ɵɵproperty(\"control\", ctx.form.controls.projectCode);\r\n        i0.ɵɵadvance(4);\r\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(42, 33, \"Site_Code\"));\r\n        i0.ɵɵadvance(4);\r\n        i0.ɵɵtextInterpolate2(\"\", i0.ɵɵpipeBind1(46, 35, \"Select\"), \" \", i0.ɵɵpipeBind1(47, 37, \"Site_Code\"), \" \");\r\n        i0.ɵɵadvance(3);\r\n        i0.ɵɵproperty(\"ngForOf\", ctx.siteCodeSelectList);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"control\", ctx.form.controls.siteCode);\r\n        i0.ɵɵadvance(4);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.projectBudgetCosting != null);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.projectBudgetCosting != null);\r\n        i0.ɵɵadvance(5);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.grandTotal > 0);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.grandTotal == 0);\r\n    } }, directives: [i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.DefaultValueAccessor, i1.NgControlStatus, i1.FormControlName, i11.ValidationMessagesComponent, i1.SelectControlValueAccessor, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i12.NgForOf, i12.NgIf, i13.AutoLoaderComponent, i14.MatAutocompleteTrigger, i1.FormControlDirective, i14.MatAutocomplete, i1.NumberValueAccessor, i15.MatOption], pipes: [i7.TranslatePipe, i12.AsyncPipe], encapsulation: 2 });\r\n"]},"metadata":{},"sourceType":"module"}