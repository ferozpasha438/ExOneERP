{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../../services/api.service\";\nimport * as i3 from \"../../../api-authorization/AuthorizeService\";\nimport * as i4 from \"../../../services/utility.service\";\nimport * as i5 from \"@angular/material/dialog\";\nimport * as i6 from \"../../../services/notification.service\";\nimport * as i7 from \"../../../sharedcomponent/ValidationService\";\nimport * as i8 from \"@angular/material/datepicker\";\nimport * as i9 from \"@angular/material/form-field\";\nimport * as i10 from \"../../../sharedcomponent/ValidationMessagesComponent\";\nimport * as i11 from \"@angular/common\";\nimport * as i12 from \"@ng-select/ng-select\";\nimport * as i13 from \"@ngx-translate/core\";\nimport * as i14 from \"../../../sharedcomponent/SafeHtmlPipe\";\n\nfunction AddupdatebrsstatementComponent_option_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 40);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r9 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", item_r9.text);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r9.text);\n  }\n}\n\nfunction AddupdatebrsstatementComponent_th_84_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 41);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(2, 1, \"Branch\"));\n  }\n}\n\nfunction AddupdatebrsstatementComponent_ng_container_85_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"th\", 41);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"th\", 41);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 2, \"Service\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(6, 4, \"Branch\"));\n  }\n}\n\nfunction AddupdatebrsstatementComponent_ng_container_86_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"th\", 41);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 1, \"Service\"));\n  }\n}\n\nfunction AddupdatebrsstatementComponent_td_111_option_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 40);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r11 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", item_r11.value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r11.text);\n  }\n}\n\nconst _c0 = function () {\n  return {\n    standalone: true\n  };\n};\n\nfunction AddupdatebrsstatementComponent_td_111_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵelementStart(1, \"select\", 42);\n    i0.ɵɵlistener(\"ngModelChange\", function AddupdatebrsstatementComponent_td_111_Template_select_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return ctx_r12.branchCode = $event;\n    })(\"change\", function AddupdatebrsstatementComponent_td_111_Template_select_change_1_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return ctx_r14.loadAccountCodes($event);\n    });\n    i0.ɵɵelementStart(2, \"option\", 17);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, AddupdatebrsstatementComponent_td_111_option_5_Template, 2, 2, \"option\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r5.branchCode)(\"ngModelOptions\", i0.ɵɵpureFunction0(7, _c0))(\"disabled\", ctx_r5.branchList.length == 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 5, \"Branch\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r5.branchList);\n  }\n}\n\nfunction AddupdatebrsstatementComponent_ng_container_112_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵelementStart(2, \"ng-select\", 43);\n    i0.ɵɵlistener(\"ngModelChange\", function AddupdatebrsstatementComponent_ng_container_112_Template_ng_select_ngModelChange_2_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return ctx_r15.batch = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵelementStart(4, \"ng-select\", 43);\n    i0.ɵɵlistener(\"ngModelChange\", function AddupdatebrsstatementComponent_ng_container_112_Template_ng_select_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return ctx_r17.batch2 = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"items\", ctx_r6.segmentSetupList)(\"ngModel\", ctx_r6.batch)(\"ngModelOptions\", i0.ɵɵpureFunction0(6, _c0));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"items\", ctx_r6.segmentTwoSetupList)(\"ngModel\", ctx_r6.batch2)(\"ngModelOptions\", i0.ɵɵpureFunction0(7, _c0));\n  }\n}\n\nfunction AddupdatebrsstatementComponent_ng_container_113_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵelementStart(2, \"ng-select\", 43);\n    i0.ɵɵlistener(\"ngModelChange\", function AddupdatebrsstatementComponent_ng_container_113_Template_ng_select_ngModelChange_2_listener($event) {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return ctx_r18.batch = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"items\", ctx_r7.segmentSetupList)(\"ngModel\", ctx_r7.batch)(\"ngModelOptions\", i0.ɵɵpureFunction0(3, _c0));\n  }\n}\n\nfunction AddupdatebrsstatementComponent_tbody_132_tr_1_td_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r23 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r23.branchName);\n  }\n}\n\nfunction AddupdatebrsstatementComponent_tbody_132_tr_1_ng_container_2_span_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r23 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r23.batch2Name);\n  }\n}\n\nfunction AddupdatebrsstatementComponent_tbody_132_tr_1_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵtemplate(5, AddupdatebrsstatementComponent_tbody_132_tr_1_ng_container_2_span_5_Template, 2, 1, \"span\", 26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const item_r23 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r23.batch);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", item_r23.batch2, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r23.batch2Name);\n  }\n}\n\nfunction AddupdatebrsstatementComponent_tbody_132_tr_1_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const item_r23 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r23.batch);\n  }\n}\n\nfunction AddupdatebrsstatementComponent_tbody_132_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r34 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵtemplate(1, AddupdatebrsstatementComponent_tbody_132_tr_1_td_1_Template, 2, 1, \"td\", 26);\n    i0.ɵɵtemplate(2, AddupdatebrsstatementComponent_tbody_132_tr_1_ng_container_2_Template, 6, 3, \"ng-container\", 26);\n    i0.ɵɵtemplate(3, AddupdatebrsstatementComponent_tbody_132_tr_1_ng_container_3_Template, 3, 1, \"ng-container\", 26);\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\");\n    i0.ɵɵtext(15);\n    i0.ɵɵpipe(16, \"leadingZeros\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"td\");\n    i0.ɵɵtext(18);\n    i0.ɵɵpipe(19, \"leadingZeros\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"td\", 29);\n    i0.ɵɵelementStart(21, \"i\", 47);\n    i0.ɵɵlistener(\"click\", function AddupdatebrsstatementComponent_tbody_132_tr_1_Template_i_click_21_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r34);\n      const item_r23 = restoredCtx.$implicit;\n      const ctx_r33 = i0.ɵɵnextContext(2);\n      return ctx_r33.editInvoiceItem(item_r23);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(22, \" \\u00A0 \");\n    i0.ɵɵelementStart(23, \"i\", 48);\n    i0.ɵɵlistener(\"click\", function AddupdatebrsstatementComponent_tbody_132_tr_1_Template_i_click_23_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r34);\n      const item_r23 = restoredCtx.$implicit;\n      const ctx_r35 = i0.ɵɵnextContext(2);\n      return ctx_r35.deleteInvoiceItem(item_r23);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(24, \" \\u00A0 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r23 = ctx.$implicit;\n    const ctx_r20 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r20.hasBranchHidden);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r20.isSeg2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r20.isSeg1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r23.finAcCode);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r23.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r23.remarks);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r23.costAllocationName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r23.costSegCodeName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(16, 10, item_r23.drAmount));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(19, 12, item_r23.crAmount));\n  }\n}\n\nfunction AddupdatebrsstatementComponent_tbody_132_td_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"td\", 49);\n  }\n}\n\nfunction AddupdatebrsstatementComponent_tbody_132_td_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"td\", 50);\n  }\n}\n\nfunction AddupdatebrsstatementComponent_tbody_132_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\");\n    i0.ɵɵtemplate(1, AddupdatebrsstatementComponent_tbody_132_tr_1_Template, 25, 14, \"tr\", 44);\n    i0.ɵɵelementStart(2, \"tr\");\n    i0.ɵɵtemplate(3, AddupdatebrsstatementComponent_tbody_132_td_3_Template, 1, 0, \"td\", 45);\n    i0.ɵɵtemplate(4, AddupdatebrsstatementComponent_tbody_132_td_4_Template, 1, 0, \"td\", 46);\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"leadingZeros\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"leadingZeros\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵpipe(13, \"leadingZeros\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r8.itemList);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r8.hasBranchHidden);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r8.hasBranchHidden);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(7, 6, ctx_r8.totalDrAmount));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(10, 8, ctx_r8.totalCrAmount));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(13, 10, ctx_r8.totalAmount));\n  }\n}\n\nexport let AddupdatebrsstatementComponent = /*#__PURE__*/(() => {\n  class AddupdatebrsstatementComponent {\n    constructor(fb, apiService, authService, utilService, dialogRef, notifyService, validationService) {\n      this.fb = fb;\n      this.apiService = apiService;\n      this.authService = authService;\n      this.utilService = utilService;\n      this.dialogRef = dialogRef;\n      this.notifyService = notifyService;\n      this.validationService = validationService;\n      this.id = 0;\n      this.isEdit = false;\n      this.customerSiteList = [];\n      this.customerList = [];\n      this.companyList = [];\n      this.payCodeList = [];\n      this.branchList = []; //itemsBranchList: Array<CustomSelectListItem> = [];\n\n      this.accountCodeList = [];\n      this.segmentSetupList = [];\n      this.segmentTwoSetupList = [];\n      this.costAllocationList = [];\n      this.costSegCodeList = [];\n      this.batchSetupList = [];\n      this.itemList = [];\n      this.isSeg1 = false;\n      this.isSeg2 = false;\n      this.isArab = false;\n      this.isCodeSegmentReadonly = false;\n      this.isEditingRecord = false;\n      this.hasBranchHidden = false;\n      this.branchName = '';\n      this.branchCode = '';\n      this.finAcCode = '';\n      this.description = '';\n      this.remarks = '';\n      this.batch = '';\n      this.batch2 = '';\n      this.costAllocation = 0;\n      this.costAllocationName = '';\n      this.costSegCode = '';\n      this.costSegCodeName = '';\n      this.drAmount = 0;\n      this.crAmount = 0;\n      this.sequence = 1;\n      this.editsequence = 0;\n      this.totalDrAmount = 0;\n      this.totalCrAmount = 0;\n      this.totalAmount = 0;\n    }\n\n    ngOnInit() {\n      this.isArab = this.utilService.isArabic();\n      this.setForm();\n      this.loadData();\n\n      if (this.id > 0) {\n        this.isEdit = true;\n        this.setEditForm();\n      }\n    }\n\n    setForm() {\n      //let cDate: IMyDateModel = { isRange: false, singleDate: {}, dateRange: null };\n      this.form = this.fb.group({\n        'date': [this.utilService.getCurrentDate(), Validators.required],\n        'amount': ['', Validators.required],\n        'payCode': ['', Validators.required],\n        'branchCode': ['', Validators.required],\n        'docNum': ['', Validators.required],\n        'batch': '',\n        'remarks': [''],\n        'narration': ['']\n      });\n    }\n\n    loadData() {\n      //this.apiService.getall(\"customer/getSelectLanCustomerList\").subscribe(res => {\n      //  if (res) {\n      //    this.customerList = res;\n      //    const newList = this.customerList.map((i) => {\n      //      i.text = !this.isArab ? i.text : i.textAr;\n      //      return i;\n      //    });\n      //  }\n      //});\n      this.apiService.getall(\"mainAccounts/financesetup\").subscribe(res => {\n        if (res) {\n          const nubOfSeg = res['numOfSeg'];\n          this.isSeg1 = nubOfSeg == 1;\n          this.isSeg2 = nubOfSeg == 2;\n\n          if (this.isSeg1 || this.isSeg2) {\n            this.apiService.getall(\"segmentSetup/getSegmentSetupSelectList\").subscribe(res => {\n              if (res) this.segmentSetupList = res;\n            });\n          }\n\n          if (this.isSeg2) {\n            this.apiService.getall(\"segmentTwoSetup/getSegmentTwoSetupSelectList\").subscribe(res => {\n              if (res) this.segmentTwoSetupList = res;\n            });\n          }\n        }\n      });\n      this.apiService.getall(\"paymentcodes/getSelectPaymentCodeList\").subscribe(res => {\n        if (res) this.payCodeList = res;\n      });\n      this.apiService.getall(\"costAllocationSetup/getCostAllocationSetupSelectList\").subscribe(res => {\n        if (res) this.costAllocationList = res;\n      });\n      this.apiService.getall(\"batchSetup/getBatchSetupSelectList\").subscribe(res => {\n        if (res) this.batchSetupList = res;\n      }); //this.apiService.getall(\"branch/getSelectBranchNameCodeList\").subscribe(res => {\n      //  if (res) {\n      //    this.itemsBranchList = res;\n      //    if (this.itemsBranchList.length == 1) {\n      //      this.loadAccountCodesForBranch(this.itemsBranchList[0].value);\n      //    }\n      //  }\n      //});\n    } //hasBranchHiddenChecked(event: MatSlideToggleChange) {\n    //  this.hasBranchHidden = event.checked;\n    //}\n\n\n    setCheckNumber(event) {\n      let payCode = event.target.value;\n\n      if (payCode !== '') {\n        this.apiService.getall(`paymentcodes?payCode=${payCode}`).subscribe(res => {\n          if (res) {\n            this.form.controls['branchCode'].setValue(res['finBranchCode']);\n            this.loadAccountCodesForBranch(res['finBranchCode']);\n          }\n        });\n      }\n    }\n\n    loadSegCodedata(event) {\n      const id = event.value;\n      this.costAllocationName = event.text;\n\n      if (id > 0) {\n        this.costSegCode = '';\n        this.costSegCodeName = '';\n        this.apiService.getall(`costAllocationSetup/getCostSegmentCodeSelectList/${id}`).subscribe(res => {\n          if (res) this.costSegCodeList = res;\n          const newList = this.costSegCodeList.map(i => {\n            i.text = !this.isArab ? i.text + ' ' + i.textTwo : i.textTwo + ' ' + i.textAr;\n            return i;\n          });\n          this.costSegCode = event.custCode; //console.log(newList);\n        });\n      }\n    }\n\n    selectSegCodedata(event) {\n      this.costSegCodeName = event.text;\n    }\n\n    loadBranchs(event) {\n      let comId = event.target.value;\n      this.branchCode = '';\n\n      if (comId) {\n        this.apiService.getall(`branch/getSelectSysBranchListByComId/${comId}`).subscribe(res => {\n          if (res) this.branchList = res;\n\n          if (this.branchList.length == 1) {\n            this.loadAccountCodesForBranch(this.branchList[0].value);\n          }\n        });\n      }\n    }\n\n    selectBranch(evt) {\n      this.branchCode = evt.target.value;\n      this.loadAccountCodesForBranch(this.branchCode);\n    }\n\n    loadAccountCodes(event) {\n      let branchCode = event.target.value;\n      this.loadAccountCodesForBranch(branchCode);\n    }\n\n    loadAccountCodesForBranch(branchCode) {\n      if (branchCode) {\n        this.finAcCode = '';\n        this.apiService.getall(`accountsbranchmapping/getSelectAccountMappingList?branchCode=${branchCode}`).subscribe(res => {\n          if (res) this.accountCodeList = res;\n        });\n      }\n    }\n\n    setEditForm() {\n      this.apiService.get('brsVoucher', this.id).subscribe(res => {\n        if (res) {\n          const items = res['itemList'];\n          this.displayJvItems(items);\n\n          if (res['siteCode']) {\n            this.isEditingRecord = true;\n            this.customerSiteList = [{\n              text: res['siteCode'],\n              value: res['siteCode'],\n              textAr: '',\n              textTwo: ''\n            }];\n          }\n\n          this.form.patchValue(res);\n        }\n      });\n    }\n\n    displayJvItems(items) {\n      items.forEach(item => {\n        var _a;\n\n        this.branchName = item.branchName;\n        this.branchCode = item.branchCode, this.description = item.description;\n        this.finAcCode = item.finAcCode;\n        this.remarks = item.remarks;\n        this.batch = item.batch;\n        this.batch2 = item.batch2;\n        this.batch2 = item.batch2;\n        this.costAllocation = item.costAllocation;\n        this.costAllocationName = item.costAllocation ? (_a = this.costAllocationList.find(citem => citem.value == item.costAllocation)) === null || _a === void 0 ? void 0 : _a.text : '';\n        this.costSegCode = item.costSegCode;\n        this.costSegCodeName = item.costSegCode;\n        this.drAmount = item.drAmount;\n        this.crAmount = item.crAmount;\n        this.fillITems();\n      });\n      this.setVarience();\n    } //edtiItemsList: Array<any> = [];\n    //laodAndEditItem(res: any, result: any) {\n    //  this.edtiItemsList = [];\n    //  this.loadAccountCodeForBranch(res['branchCode'], res['id'] as number, result);\n    //  this.itemList.push(this.createAuthority(res));\n    //}\n\n\n    loadAccountCodeForBranch(branchCode, finAcCode) {\n      if (branchCode) {\n        this.apiService.getall(`accountsbranchmapping/getSelectAccountMappingList?branchCode=${branchCode}`).subscribe(res => {\n          if (res) {\n            this.accountCodeList = res;\n            this.finAcCode = finAcCode;\n          }\n        });\n      }\n    }\n\n    fillITems() {\n      this.itemList.push({\n        sequence: this.getSequence(),\n        branchName: this.branchName,\n        branchCode: this.branchCode,\n        finAcCode: this.finAcCode,\n        description: this.description,\n        remarks: this.remarks,\n        batch: this.batch,\n        batch2: this.batch2,\n        costAllocation: this.costAllocation,\n        costSegCode: this.costSegCode,\n        costAllocationName: this.costAllocationName,\n        costSegCodeName: this.costSegCodeName,\n        drAmount: this.drAmount,\n        crAmount: this.crAmount\n      });\n      this.setToDefault();\n    }\n\n    setVarience() {\n      this.totalDrAmount = this.totalCrAmount = 0;\n      this.itemList.forEach(itemL => {\n        this.totalDrAmount += itemL.drAmount;\n        this.totalCrAmount += itemL.crAmount;\n      });\n      this.totalAmount = this.totalDrAmount - this.totalCrAmount;\n    }\n\n    addItem() {\n      if ((this.drAmount > 0 || this.crAmount > 0) && this.utilService.hasValue(this.form.controls['branchCode'].value) && this.utilService.hasValue(this.finAcCode)) {\n        if (this.editsequence > 0) {\n          this.removeInvoiceList(this.editsequence); //let index: number = this.listOfInvoices.findIndex(a => a.sequence === this.editsequence);\n          //this.listOfInvoices.splice(index, 1);\n\n          this.editsequence = 0;\n        }\n\n        this.itemList.push({\n          sequence: this.getSequence(),\n          branchName: this.getBranchName(this.branchCode),\n          branchCode: this.branchCode,\n          finAcCode: this.finAcCode,\n          description: this.description,\n          remarks: this.remarks,\n          batch: this.batch,\n          batch2: this.batch2,\n          costAllocation: this.costAllocation,\n          costSegCode: this.costSegCode,\n          costAllocationName: this.costAllocationName,\n          costSegCodeName: this.costSegCodeName,\n          drAmount: this.drAmount,\n          crAmount: this.crAmount\n        }); //this.setLabelPrices(this.total, this.vatAmount, '');\n\n        this.setVarience();\n        this.setToDefault();\n      }\n    }\n\n    getSequence() {\n      return this.sequence += this.sequence + 1;\n    }\n\n    deleteInvoiceItem(item) {\n      this.removeInvoiceList(item.sequence);\n      this.setVarience();\n    }\n\n    removeInvoiceList(sequence) {\n      let index = this.itemList.findIndex(a => a.sequence === sequence);\n      this.itemList.splice(index, 1);\n    }\n\n    getBranchName(branchCode) {\n      var _a;\n\n      return (_a = this.branchList.find(a => a.value === branchCode)) === null || _a === void 0 ? void 0 : _a.text; //return this.itemsBranchList.find(a => a.value === branchCode)?.text;\n    }\n\n    editInvoiceItem(item) {\n      console.log(item);\n      this.editsequence = item.sequence, this.branchCode = item.branchCode;\n      this.loadAccountCodeForBranch(this.branchCode, item.finAcCode);\n      this.description = item.description;\n      this.remarks = item.remarks;\n      this.batch = item.batch;\n      this.batch2 = item.batch2;\n      this.costAllocation = item.costAllocation;\n      this.costAllocationName = item.costAllocationName;\n      this.costSegCode = item.costSegCode;\n      this.costSegCodeName = item.costSegCodeName;\n      this.drAmount = item.drAmount;\n      this.crAmount = item.crAmount;\n    }\n\n    setToDefault() {\n      this.editsequence = 0;\n      if (this.hasBranchHidden) this.branchCode = '';\n      this.finAcCode = '';\n      this.description = '';\n      this.remarks = '';\n      this.batch = '';\n      this.batch2 = '';\n\n      if (!this.isCodeSegmentReadonly) {\n        this.costAllocation = 0;\n        this.costAllocationName = '';\n        this.costSegCode = '';\n        this.costSegCodeName = '';\n      }\n\n      this.drAmount = 0;\n      this.crAmount = 0;\n    }\n\n    resetCodeSegmentReadonly() {\n      this.isCodeSegmentReadonly = false;\n      this.costSegCode = '';\n      this.costAllocation = 0; // this.form.controls['siteCode'].setValue(null);\n    }\n\n    customerChange(event) {\n      var _a;\n\n      let custId = event.value,\n          custCode = event.textTwo;\n      this.form.controls['siteCode'].setValue(null);\n      this.isCodeSegmentReadonly = true;\n      this.costAllocation = (_a = this.costAllocationList.find(item => item.textTwo.toLowerCase() == 'customer')) === null || _a === void 0 ? void 0 : _a.value;\n      this.loadSegCodedata({\n        value: this.costAllocation,\n        custCode: custCode\n      });\n      this.apiService.getall(`customer/getCustomerSitesSelectList/${custId}`).subscribe(res => {\n        if (res) {\n          this.customerSiteList = res;\n          this.customerSiteList.map(i => {\n            i.text = !this.isArab ? i.text : i.textTwo;\n            return i;\n          });\n        }\n      });\n    }\n\n    submit() {\n      if (this.itemList.length <= 0) {\n        this.utilService.FillUpFields();\n        return;\n      }\n\n      if (this.form.valid) {\n        if (!this.hasBranchHidden) {\n          this.itemList.forEach(item => {\n            item.branchCode = this.form.value['branchCode'];\n          });\n        }\n\n        this.form.value['date'] = this.utilService.selectedDateTime(this.form.controls['date'].value);\n        if (this.id > 0) this.form.value['id'] = this.id;\n        this.form.value['itemList'] = this.itemList;\n        this.apiService.post('brsVoucher', this.form.value).subscribe(res => {\n          this.utilService.OkMessage();\n          this.reset();\n          this.dialogRef.close(true);\n        }, error => {\n          this.utilService.ShowApiErrorMessage(error);\n        });\n      } else this.utilService.FillUpFields();\n    }\n\n    reset() {\n      this.form.controls['date'].setValue(''); //this.form.controls['companyId'].setValue('');\n\n      this.form.controls['branchCode'].setValue('');\n    }\n\n    closeModel() {\n      this.dialogRef.close();\n    }\n\n  }\n\n  AddupdatebrsstatementComponent.ɵfac = function AddupdatebrsstatementComponent_Factory(t) {\n    return new (t || AddupdatebrsstatementComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ApiService), i0.ɵɵdirectiveInject(i3.AuthorizeService), i0.ɵɵdirectiveInject(i4.UtilityService), i0.ɵɵdirectiveInject(i5.MatDialogRef), i0.ɵɵdirectiveInject(i6.NotificationService), i0.ɵɵdirectiveInject(i7.ValidationService));\n  };\n\n  AddupdatebrsstatementComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AddupdatebrsstatementComponent,\n    selectors: [[\"app-addupdatebrsstatement\"]],\n    decls: 141,\n    vars: 126,\n    consts: [[\"type\", \"button\", \"aria-hidden\", \"true\", 1, \"close\", 3, \"click\"], [\"novalidate\", \"\", 1, \"mt-4\", 3, \"formGroup\", \"ngSubmit\"], [1, \"modal-body\", \"p-0\"], [1, \"outer\"], [1, \"row\"], [1, \"col-md-6\", \"col-lg-6\"], [1, \"form-group\"], [1, \"input-group\", \"mb-2\"], [\"formControlName\", \"date\", 1, \"form-control\", \"datapickerinput\", 3, \"placeholder\", \"matDatepicker\"], [1, \"input-group-prepend\", \"datapickericon\"], [\"matSuffix\", \"\", 3, \"for\"], [\"picker\", \"\"], [3, \"control\"], [\"type\", \"number\", \"formControlName\", \"amount\", 1, \"form-control\", 3, \"placeholder\"], [1, \"form-group\", \"mb-4\"], [1, \"mr-sm-2\"], [\"formControlName\", \"payCode\", 1, \"custom-select\", \"mr-sm-2\", 3, \"change\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"text\", \"formControlName\", \"branchCode\", \"readonly\", \"\", 1, \"form-control\", 3, \"placeholder\"], [\"type\", \"text\", \"formControlName\", \"docNum\", 1, \"form-control\", 3, \"placeholder\"], [\"formControlName\", \"remarks\", 1, \"form-control\", 3, \"placeholder\"], [\"formControlName\", \"narration\", 1, \"form-control\", 3, \"placeholder\"], [1, \"\"], [\"id\", \"zero_config\", 1, \"table\", \"table-bordered\", \"no-wrap\", 2, \"width\", \"120%\"], [\"width\", \"10%\", 4, \"ngIf\"], [4, \"ngIf\"], [2, \"width\", \"25%\"], [\"width\", \"9%\"], [1, \"text-center\"], [\"bindLabel\", \"text\", \"bindValue\", \"value\", 1, \"voucher-width-250\", 3, \"items\", \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [\"rows\", \"5\", \"type\", \"text\", 1, \"form-control\", \"voucher-width-200\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [\"bindLabel\", \"text\", \"bindValue\", \"value\", 1, \"voucher-width-180\", 3, \"items\", \"ngModel\", \"ngModelOptions\", \"readonly\", \"ngModelChange\", \"change\"], [\"bindLabel\", \"text\", \"bindValue\", \"textTwo\", 1, \"voucher-width-230\", 3, \"items\", \"ngModel\", \"ngModelOptions\", \"readonly\", \"ngModelChange\", \"change\"], [\"type\", \"number\", 1, \"form-control\", \"voucher-width-120\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\", \"keyup\"], [1, \"fas\", \"fa-plus-circle\", 3, \"click\"], [1, \"fas\", \"fa-eraser\", \"text-danger\", 3, \"click\"], [1, \"col-lg-12\", \"col-md-12\", \"text-center\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\", 3, \"click\"], [\"type\", \"submit\", 1, \"btn\", \"waves-effect\", \"waves-light\", \"btn-primary\", 3, \"value\"], [3, \"value\"], [\"width\", \"10%\"], [1, \"custom-select\", \"mr-sm-2\", \"voucher-width-120\", 3, \"ngModel\", \"ngModelOptions\", \"disabled\", \"ngModelChange\", \"change\"], [\"bindLabel\", \"text\", \"bindValue\", \"value\", 1, \"voucher-width-180\", 3, \"items\", \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [4, \"ngFor\", \"ngForOf\"], [\"colspan\", \"8\", 4, \"ngIf\"], [\"colspan\", \"7\", 4, \"ngIf\"], [1, \"icon-note\", \"cpointer\", 3, \"click\"], [1, \"icon-trash\", \"cpointer\", 3, \"click\"], [\"colspan\", \"8\"], [\"colspan\", \"7\"]],\n    template: function AddupdatebrsstatementComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h3\");\n        i0.ɵɵtext(1);\n        i0.ɵɵpipe(2, \"translate\");\n        i0.ɵɵelementStart(3, \"button\", 0);\n        i0.ɵɵlistener(\"click\", function AddupdatebrsstatementComponent_Template_button_click_3_listener() {\n          return ctx.closeModel();\n        });\n        i0.ɵɵtext(4, \" \\u00D7\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"form\", 1);\n        i0.ɵɵlistener(\"ngSubmit\", function AddupdatebrsstatementComponent_Template_form_ngSubmit_5_listener() {\n          return ctx.submit();\n        });\n        i0.ɵɵelementStart(6, \"div\", 2);\n        i0.ɵɵelementStart(7, \"div\", 3);\n        i0.ɵɵelementStart(8, \"div\", 4);\n        i0.ɵɵelementStart(9, \"div\", 5);\n        i0.ɵɵelementStart(10, \"div\", 6);\n        i0.ɵɵelementStart(11, \"label\");\n        i0.ɵɵtext(12);\n        i0.ɵɵpipe(13, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"div\", 7);\n        i0.ɵɵelement(15, \"input\", 8);\n        i0.ɵɵpipe(16, \"translate\");\n        i0.ɵɵelementStart(17, \"div\", 9);\n        i0.ɵɵelement(18, \"mat-datepicker-toggle\", 10);\n        i0.ɵɵelement(19, \"mat-datepicker\", null, 11);\n        i0.ɵɵelement(21, \"br\");\n        i0.ɵɵelement(22, \"br\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(23, \"validation-message\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"div\", 5);\n        i0.ɵɵelementStart(25, \"div\", 6);\n        i0.ɵɵelementStart(26, \"label\");\n        i0.ɵɵtext(27);\n        i0.ɵɵpipe(28, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(29, \"input\", 13);\n        i0.ɵɵpipe(30, \"translate\");\n        i0.ɵɵpipe(31, \"translate\");\n        i0.ɵɵelement(32, \"validation-message\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"div\", 5);\n        i0.ɵɵelementStart(34, \"div\", 14);\n        i0.ɵɵelementStart(35, \"label\", 15);\n        i0.ɵɵtext(36);\n        i0.ɵɵpipe(37, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(38, \" \\u00A0\\u00A0 \");\n        i0.ɵɵelementStart(39, \"select\", 16);\n        i0.ɵɵlistener(\"change\", function AddupdatebrsstatementComponent_Template_select_change_39_listener($event) {\n          return ctx.setCheckNumber($event);\n        });\n        i0.ɵɵelementStart(40, \"option\", 17);\n        i0.ɵɵtext(41);\n        i0.ɵɵpipe(42, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(43, AddupdatebrsstatementComponent_option_43_Template, 2, 2, \"option\", 18);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(44, \"validation-message\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(45, \"div\", 5);\n        i0.ɵɵelementStart(46, \"div\", 6);\n        i0.ɵɵelementStart(47, \"label\");\n        i0.ɵɵtext(48);\n        i0.ɵɵpipe(49, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(50, \"input\", 19);\n        i0.ɵɵpipe(51, \"translate\");\n        i0.ɵɵelement(52, \"validation-message\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(53, \"div\", 5);\n        i0.ɵɵelementStart(54, \"div\", 6);\n        i0.ɵɵelementStart(55, \"label\");\n        i0.ɵɵtext(56);\n        i0.ɵɵpipe(57, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(58, \"input\", 20);\n        i0.ɵɵpipe(59, \"translate\");\n        i0.ɵɵpipe(60, \"translate\");\n        i0.ɵɵelement(61, \"validation-message\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(62, \"div\", 5);\n        i0.ɵɵelementStart(63, \"div\", 6);\n        i0.ɵɵelementStart(64, \"label\");\n        i0.ɵɵtext(65);\n        i0.ɵɵpipe(66, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(67, \"textarea\", 21);\n        i0.ɵɵpipe(68, \"translate\");\n        i0.ɵɵpipe(69, \"translate\");\n        i0.ɵɵtext(70, \"                  \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(71, \"div\", 5);\n        i0.ɵɵelementStart(72, \"div\", 6);\n        i0.ɵɵelementStart(73, \"label\");\n        i0.ɵɵtext(74);\n        i0.ɵɵpipe(75, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(76, \"textarea\", 22);\n        i0.ɵɵpipe(77, \"translate\");\n        i0.ɵɵpipe(78, \"translate\");\n        i0.ɵɵtext(79, \" \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(80, \"div\", 23);\n        i0.ɵɵelementStart(81, \"table\", 24);\n        i0.ɵɵelementStart(82, \"thead\");\n        i0.ɵɵelementStart(83, \"tr\");\n        i0.ɵɵtemplate(84, AddupdatebrsstatementComponent_th_84_Template, 3, 3, \"th\", 25);\n        i0.ɵɵtemplate(85, AddupdatebrsstatementComponent_ng_container_85_Template, 7, 6, \"ng-container\", 26);\n        i0.ɵɵtemplate(86, AddupdatebrsstatementComponent_ng_container_86_Template, 4, 3, \"ng-container\", 26);\n        i0.ɵɵelementStart(87, \"th\", 27);\n        i0.ɵɵtext(88);\n        i0.ɵɵpipe(89, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(90, \"th\");\n        i0.ɵɵtext(91);\n        i0.ɵɵpipe(92, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(93, \"th\");\n        i0.ɵɵtext(94);\n        i0.ɵɵpipe(95, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(96, \"th\");\n        i0.ɵɵtext(97);\n        i0.ɵɵpipe(98, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(99, \"th\");\n        i0.ɵɵtext(100);\n        i0.ɵɵpipe(101, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(102, \"th\", 28);\n        i0.ɵɵtext(103);\n        i0.ɵɵpipe(104, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(105, \"th\", 28);\n        i0.ɵɵtext(106);\n        i0.ɵɵpipe(107, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(108, \"th\", 29);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(109, \"tbody\");\n        i0.ɵɵelementStart(110, \"tr\");\n        i0.ɵɵtemplate(111, AddupdatebrsstatementComponent_td_111_Template, 6, 8, \"td\", 26);\n        i0.ɵɵtemplate(112, AddupdatebrsstatementComponent_ng_container_112_Template, 5, 8, \"ng-container\", 26);\n        i0.ɵɵtemplate(113, AddupdatebrsstatementComponent_ng_container_113_Template, 3, 4, \"ng-container\", 26);\n        i0.ɵɵelementStart(114, \"td\");\n        i0.ɵɵelementStart(115, \"ng-select\", 30);\n        i0.ɵɵlistener(\"ngModelChange\", function AddupdatebrsstatementComponent_Template_ng_select_ngModelChange_115_listener($event) {\n          return ctx.finAcCode = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(116, \"td\");\n        i0.ɵɵelementStart(117, \"textarea\", 31);\n        i0.ɵɵlistener(\"ngModelChange\", function AddupdatebrsstatementComponent_Template_textarea_ngModelChange_117_listener($event) {\n          return ctx.description = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(118, \"td\");\n        i0.ɵɵelementStart(119, \"textarea\", 31);\n        i0.ɵɵlistener(\"ngModelChange\", function AddupdatebrsstatementComponent_Template_textarea_ngModelChange_119_listener($event) {\n          return ctx.remarks = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(120, \"td\");\n        i0.ɵɵelementStart(121, \"ng-select\", 32);\n        i0.ɵɵlistener(\"ngModelChange\", function AddupdatebrsstatementComponent_Template_ng_select_ngModelChange_121_listener($event) {\n          return ctx.costAllocation = $event;\n        })(\"change\", function AddupdatebrsstatementComponent_Template_ng_select_change_121_listener($event) {\n          return ctx.loadSegCodedata($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(122, \"td\");\n        i0.ɵɵelementStart(123, \"ng-select\", 33);\n        i0.ɵɵlistener(\"ngModelChange\", function AddupdatebrsstatementComponent_Template_ng_select_ngModelChange_123_listener($event) {\n          return ctx.costSegCode = $event;\n        })(\"change\", function AddupdatebrsstatementComponent_Template_ng_select_change_123_listener($event) {\n          return ctx.selectSegCodedata($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(124, \"td\");\n        i0.ɵɵelementStart(125, \"input\", 34);\n        i0.ɵɵlistener(\"ngModelChange\", function AddupdatebrsstatementComponent_Template_input_ngModelChange_125_listener($event) {\n          return ctx.drAmount = $event;\n        })(\"keyup\", function AddupdatebrsstatementComponent_Template_input_keyup_125_listener() {\n          return ctx.drAmount > 0 ? ctx.crAmount = 0 : ctx.crAmount = 0;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(126, \"td\");\n        i0.ɵɵelementStart(127, \"input\", 34);\n        i0.ɵɵlistener(\"ngModelChange\", function AddupdatebrsstatementComponent_Template_input_ngModelChange_127_listener($event) {\n          return ctx.crAmount = $event;\n        })(\"keyup\", function AddupdatebrsstatementComponent_Template_input_keyup_127_listener() {\n          return ctx.crAmount > 0 ? ctx.drAmount = 0 : ctx.drAmount = 0;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(128, \"td\");\n        i0.ɵɵelementStart(129, \"i\", 35);\n        i0.ɵɵlistener(\"click\", function AddupdatebrsstatementComponent_Template_i_click_129_listener() {\n          return ctx.addItem();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(130, \" \\u00A0\\u00A0 \");\n        i0.ɵɵelementStart(131, \"i\", 36);\n        i0.ɵɵlistener(\"click\", function AddupdatebrsstatementComponent_Template_i_click_131_listener() {\n          return ctx.setToDefault();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(132, AddupdatebrsstatementComponent_tbody_132_Template, 14, 12, \"tbody\", 26);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(133, \"div\", 4);\n        i0.ɵɵelementStart(134, \"div\", 37);\n        i0.ɵɵelementStart(135, \"button\", 38);\n        i0.ɵɵlistener(\"click\", function AddupdatebrsstatementComponent_Template_button_click_135_listener() {\n          return ctx.closeModel();\n        });\n        i0.ɵɵtext(136);\n        i0.ɵɵpipe(137, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(138, \" \\u00A0\\u00A0 \");\n        i0.ɵɵelement(139, \"input\", 39);\n        i0.ɵɵpipe(140, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        const _r0 = i0.ɵɵreference(20);\n\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 63, \"Create_New_BRS_Voucher\"), \" \");\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"formGroup\", ctx.form);\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(13, 65, \"BRS_Date\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵpropertyInterpolate(\"placeholder\", i0.ɵɵpipeBind1(16, 67, \"Select_a_Date\"));\n        i0.ɵɵproperty(\"matDatepicker\", _r0);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"for\", _r0);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"control\", ctx.form.controls.date);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(28, 69, \"Amount\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵpropertyInterpolate2(\"placeholder\", \"\", i0.ɵɵpipeBind1(30, 71, \"PleaseEnter\"), \" \", i0.ɵɵpipeBind1(31, 73, \"Amount\"), \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"control\", ctx.form.controls.amount);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(37, 75, \"PayCode\"));\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(42, 77, \"Select_Organization\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.payCodeList);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"control\", ctx.form.controls.payCode);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(49, 79, \"Branch\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵpropertyInterpolate(\"placeholder\", i0.ɵɵpipeBind1(51, 81, \"PleaseEnter\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"control\", ctx.form.controls.branchCode);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(57, 83, \"DocumentNumber\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵpropertyInterpolate2(\"placeholder\", \"\", i0.ɵɵpipeBind1(59, 85, \"PleaseEnter\"), \" \", i0.ɵɵpipeBind1(60, 87, \"DocumentNumber\"), \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"control\", ctx.form.controls.docNum);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(66, 89, \"Remarks\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵpropertyInterpolate2(\"placeholder\", \"\", i0.ɵɵpipeBind1(68, 91, \"PleaseEnter\"), \" \", i0.ɵɵpipeBind1(69, 93, \"Remarks\"), \"\");\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(75, 95, \"Narration\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵpropertyInterpolate2(\"placeholder\", \"\", i0.ɵɵpipeBind1(77, 97, \"PleaseEnter\"), \" \", i0.ɵɵpipeBind1(78, 99, \"Narration\"), \"\");\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngIf\", ctx.hasBranchHidden);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isSeg2);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isSeg1);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(89, 101, \"A_C_Code\"), \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(92, 103, \"Description\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(95, 105, \"Line_Remarks\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(98, 107, \"CostAllocation\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(101, 109, \"CostSegCode\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(104, 111, \"Dr_Amount\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(107, 113, \"Cr_Amount\"));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.hasBranchHidden);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isSeg2);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isSeg1);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"items\", ctx.accountCodeList)(\"ngModel\", ctx.finAcCode)(\"ngModelOptions\", i0.ɵɵpureFunction0(119, _c0));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.description)(\"ngModelOptions\", i0.ɵɵpureFunction0(120, _c0));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.remarks)(\"ngModelOptions\", i0.ɵɵpureFunction0(121, _c0));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"items\", ctx.costAllocationList)(\"ngModel\", ctx.costAllocation)(\"ngModelOptions\", i0.ɵɵpureFunction0(122, _c0))(\"readonly\", ctx.isCodeSegmentReadonly);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"items\", ctx.costSegCodeList)(\"ngModel\", ctx.costSegCode)(\"ngModelOptions\", i0.ɵɵpureFunction0(123, _c0))(\"readonly\", ctx.isCodeSegmentReadonly);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.drAmount)(\"ngModelOptions\", i0.ɵɵpureFunction0(124, _c0));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.crAmount)(\"ngModelOptions\", i0.ɵɵpureFunction0(125, _c0));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.itemList.length > 0);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(137, 115, \"Cancel\"), \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵpropertyInterpolate(\"value\", i0.ɵɵpipeBind1(140, 117, \"Save\"));\n      }\n    },\n    directives: [i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.DefaultValueAccessor, i8.MatDatepickerInput, i1.NgControlStatus, i1.FormControlName, i8.MatDatepickerToggle, i9.MatSuffix, i8.MatDatepicker, i10.ValidationMessagesComponent, i1.NumberValueAccessor, i1.SelectControlValueAccessor, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i11.NgForOf, i11.NgIf, i12.NgSelectComponent, i1.NgModel],\n    pipes: [i13.TranslatePipe, i14.LeadingZerosPipe],\n    encapsulation: 2\n  });\n  return AddupdatebrsstatementComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}