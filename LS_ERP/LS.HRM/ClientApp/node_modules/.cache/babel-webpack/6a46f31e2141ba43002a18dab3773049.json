{"ast":null,"code":"import { FormControl } from '@angular/forms';\nimport { debounceTime, distinctUntilChanged, map, startWith, switchMap } from 'rxjs/operators';\nimport { DBOperation } from '../../../../services/utility.constants';\nimport { ParentOptMgtComponent } from '../../../../sharedcomponent/parentoptmgt.component';\nimport { ConfirmDialogWindowComponent } from '../../../confirm-dialog-window/confirm-dialog-window.component';\nimport { UpdateEmployeeShiftComponent } from './update-employee-shift/update-employee-shift.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngx-translate/core\";\nimport * as i2 from \"../../../../services/notification.service\";\nimport * as i3 from \"../../../../services/utility.service\";\nimport * as i4 from \"@angular/material/dialog\";\nimport * as i5 from \"../../../../services/api.service\";\nimport * as i6 from \"../../../../api-authorization/AuthorizeService\";\nimport * as i7 from \"@angular/forms\";\nimport * as i8 from \"../../../opr-services.service\";\nimport * as i9 from \"@angular/common\";\nimport * as i10 from \"../../../../sharedcomponent/autoloader.component\";\nimport * as i11 from \"@angular/material/autocomplete\";\nimport * as i12 from \"@angular/material/core\";\nimport * as i13 from \"@angular/material/tooltip\";\n\nfunction ManualAttendancePopupComponent_span_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.employee == null ? null : ctx_r0.employee.employeeNumber, \" \");\n  }\n}\n\nfunction ManualAttendancePopupComponent_span_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.altEmployee == null ? null : ctx_r1.altEmployee.employeeNumber, \" \");\n  }\n}\n\nfunction ManualAttendancePopupComponent_td_15_mat_option_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const option_r14 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", option_r14);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", option_r14.text, \"-\", option_r14.textTwo, \" \");\n  }\n}\n\nconst _c0 = function () {\n  return {\n    standalone: true\n  };\n};\n\nfunction ManualAttendancePopupComponent_td_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵelementStart(1, \"span\");\n    i0.ɵɵelement(2, \"auto-loader\", 14);\n    i0.ɵɵelement(3, \"input\", 15);\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵpipe(5, \"translate\");\n    i0.ɵɵelementStart(6, \"mat-autocomplete\", 16, 17);\n    i0.ɵɵlistener(\"optionSelected\", function ManualAttendancePopupComponent_td_15_Template_mat_autocomplete_optionSelected_6_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return ctx_r15.autoSelectionEmployeeNumber($event);\n    });\n    i0.ɵɵtemplate(8, ManualAttendancePopupComponent_td_15_mat_option_8_Template, 2, 3, \"mat-option\", 18);\n    i0.ɵɵpipe(9, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"span\");\n    i0.ɵɵelementStart(11, \"input\", 19);\n    i0.ɵɵlistener(\"ngModelChange\", function ManualAttendancePopupComponent_td_15_Template_input_ngModelChange_11_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return ctx_r17.canShowAllEmployees = $event;\n    })(\"change\", function ManualAttendancePopupComponent_td_15_Template_input_change_11_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return ctx_r18.changeEmployeeFilter();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12);\n    i0.ɵɵpipe(13, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const _r12 = i0.ɵɵreference(7);\n\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"isLoading\", ctx_r2.isDataLoading);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate2(\"placeholder\", \"\", i0.ɵɵpipeBind1(4, 9, \"Enter\"), \" \", i0.ɵɵpipeBind1(5, 11, \"Employee\"), \"\");\n    i0.ɵɵproperty(\"formControl\", ctx_r2.empCodeControl)(\"matAutocomplete\", _r12);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(9, 13, ctx_r2.filteredEmployeeNumbers));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.canShowAllEmployees)(\"ngModelOptions\", i0.ɵɵpureFunction0(17, _c0));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(13, 15, \"Show_All_Employees\"), \" \");\n  }\n}\n\nfunction ManualAttendancePopupComponent_span_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"span\", 21);\n    i0.ɵɵlistener(\"click\", function ManualAttendancePopupComponent_span_17_Template_span_click_0_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return ctx_r19.editEmployee();\n    });\n    i0.ɵɵelement(1, \"i\", 22);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"matTooltip\", ctx_r3.translateToolTip(\"edit_employee\"));\n  }\n}\n\nfunction ManualAttendancePopupComponent_span_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"span\", 23);\n    i0.ɵɵlistener(\"click\", function ManualAttendancePopupComponent_span_18_Template_span_click_0_listener() {\n      i0.ɵɵrestoreView(_r22);\n      const ctx_r21 = i0.ɵɵnextContext();\n      return ctx_r21.editEmployee();\n    });\n    i0.ɵɵelement(1, \"i\", 24);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ManualAttendancePopupComponent_span_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r5.employee == null ? null : ctx_r5.employee.employeeName, \" \");\n  }\n}\n\nfunction ManualAttendancePopupComponent_span_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r6.altEmployee == null ? null : ctx_r6.altEmployee.employeeName, \" \");\n  }\n}\n\nfunction ManualAttendancePopupComponent_td_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r7.shift == null ? null : ctx_r7.shift.shiftCode, \" \");\n  }\n}\n\nfunction ManualAttendancePopupComponent_td_36_option_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const sc_r24 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", sc_r24.shiftCode);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(sc_r24.shiftCode);\n  }\n}\n\nfunction ManualAttendancePopupComponent_td_36_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r26 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"td\", 25);\n    i0.ɵɵelementStart(1, \"select\", 26);\n    i0.ɵɵlistener(\"ngModelChange\", function ManualAttendancePopupComponent_td_36_Template_select_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r26);\n      const ctx_r25 = i0.ɵɵnextContext();\n      return ctx_r25.altShift.shiftCode = $event;\n    })(\"change\", function ManualAttendancePopupComponent_td_36_Template_select_change_1_listener($event) {\n      i0.ɵɵrestoreView(_r26);\n      const ctx_r27 = i0.ɵɵnextContext();\n      return ctx_r27.onSelectShift($event);\n    });\n    i0.ɵɵelementStart(2, \"option\", 27);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵpipe(5, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, ManualAttendancePopupComponent_td_36_option_6_Template, 2, 2, \"option\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r8.altShift.shiftCode)(\"ngModelOptions\", i0.ɵɵpureFunction0(9, _c0));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", i0.ɵɵpipeBind1(4, 5, \"Select\"), \" \", i0.ɵɵpipeBind1(5, 7, \"Shift_Code\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r8.listOfShiftCodes);\n  }\n}\n\nfunction ManualAttendancePopupComponent_span_38_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r29 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"span\", 21);\n    i0.ɵɵlistener(\"click\", function ManualAttendancePopupComponent_span_38_Template_span_click_0_listener() {\n      i0.ɵɵrestoreView(_r29);\n      const ctx_r28 = i0.ɵɵnextContext();\n      return ctx_r28.updateShift();\n    });\n    i0.ɵɵelement(1, \"i\", 22);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"matTooltip\", ctx_r9.translateToolTip(\"Change_Shift\"));\n  }\n}\n\nfunction ManualAttendancePopupComponent_td_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r10.inputData.altShiftCode, \" \");\n  }\n}\n\nfunction ManualAttendancePopupComponent_table_52_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r36 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵelementStart(1, \"button\", 32);\n    i0.ɵɵlistener(\"click\", function ManualAttendancePopupComponent_table_52_span_3_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r36);\n      const ctx_r35 = i0.ɵɵnextContext(2);\n      return ctx_r35.enterAttendance();\n    });\n    i0.ɵɵelementStart(2, \"i\");\n    i0.ɵɵtext(3, \"P-\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \" \\u00A0 \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 1, \"Present\"));\n  }\n}\n\nfunction ManualAttendancePopupComponent_table_52_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r38 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵelementStart(1, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function ManualAttendancePopupComponent_table_52_span_4_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r37 = i0.ɵɵnextContext(2);\n      return ctx_r37.enterAbsent();\n    });\n    i0.ɵɵelementStart(2, \"i\");\n    i0.ɵɵtext(3, \"A-\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\u00A0 \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 1, \"Absent\"));\n  }\n}\n\nfunction ManualAttendancePopupComponent_table_52_td_12_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r46 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵelementStart(1, \"button\", 34);\n    i0.ɵɵlistener(\"click\", function ManualAttendancePopupComponent_table_52_td_12_span_1_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r46);\n      const ctx_r45 = i0.ɵɵnextContext(3);\n      return ctx_r45.enterEmployeeLeave(\"AL\");\n    });\n    i0.ɵɵtext(2, \"AL\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"\\u00A0 \");\n    i0.ɵɵelementStart(4, \"button\", 35);\n    i0.ɵɵlistener(\"click\", function ManualAttendancePopupComponent_table_52_td_12_span_1_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r46);\n      const ctx_r47 = i0.ɵɵnextContext(3);\n      return ctx_r47.enterEmployeeLeave(\"EL\");\n    });\n    i0.ɵɵtext(5, \"EL\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\u00A0 \");\n    i0.ɵɵelementStart(7, \"button\", 36);\n    i0.ɵɵlistener(\"click\", function ManualAttendancePopupComponent_table_52_td_12_span_1_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r46);\n      const ctx_r48 = i0.ɵɵnextContext(3);\n      return ctx_r48.enterEmployeeLeave(\"SL\");\n    });\n    i0.ɵɵtext(8, \"SL\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \"\\u00A0 \");\n    i0.ɵɵelementStart(10, \"button\", 36);\n    i0.ɵɵlistener(\"click\", function ManualAttendancePopupComponent_table_52_td_12_span_1_Template_button_click_10_listener() {\n      i0.ɵɵrestoreView(_r46);\n      const ctx_r49 = i0.ɵɵnextContext(3);\n      return ctx_r49.enterEmployeeLeave(\"UL\");\n    });\n    i0.ɵɵtext(11, \"UL\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\u00A0 \");\n    i0.ɵɵelementStart(13, \"button\", 36);\n    i0.ɵɵlistener(\"click\", function ManualAttendancePopupComponent_table_52_td_12_span_1_Template_button_click_13_listener() {\n      i0.ɵɵrestoreView(_r46);\n      const ctx_r50 = i0.ɵɵnextContext(3);\n      return ctx_r50.enterEmployeeLeave(\"STL\");\n    });\n    i0.ɵɵtext(14, \"STL\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(15, \"\\u00A0 \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ManualAttendancePopupComponent_table_52_td_12_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r52 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵelementStart(1, \"button\", 36);\n    i0.ɵɵlistener(\"click\", function ManualAttendancePopupComponent_table_52_td_12_span_2_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r52);\n      const ctx_r51 = i0.ɵɵnextContext(3);\n      return ctx_r51.cancelEmployeeLeave(ctx_r51.inputData.leavesData.id);\n    });\n    i0.ɵɵelementStart(2, \"i\");\n    i0.ɵɵtext(3, \"CL-\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\u00A0 \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 1, \"Cancel_Leave\"));\n  }\n}\n\nfunction ManualAttendancePopupComponent_table_52_td_12_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r54 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵelementStart(1, \"button\", 36);\n    i0.ɵɵlistener(\"click\", function ManualAttendancePopupComponent_table_52_td_12_span_3_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r54);\n      const ctx_r53 = i0.ɵɵnextContext(3);\n      return ctx_r53.cancelEmployeeLeave(ctx_r53.inputData.leavesData.id);\n    });\n    i0.ɵɵelementStart(2, \"i\");\n    i0.ɵɵtext(3, \"CW-\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\u00A0 \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 1, \"Cancel_Withdrawal\"));\n  }\n}\n\nfunction ManualAttendancePopupComponent_table_52_td_12_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r56 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵelementStart(1, \"button\", 36);\n    i0.ɵɵlistener(\"click\", function ManualAttendancePopupComponent_table_52_td_12_span_4_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r56);\n      const ctx_r55 = i0.ɵɵnextContext(3);\n      return ctx_r55.cancelEmployeeTRX(ctx_r55.inputData == null ? null : ctx_r55.inputData.transORresignData == null ? null : ctx_r55.inputData.transORresignData.id);\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\u00A0 \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 1, \"Cancel_Transfer\"));\n  }\n}\n\nfunction ManualAttendancePopupComponent_table_52_td_12_span_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r58 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵelementStart(1, \"button\", 36);\n    i0.ɵɵlistener(\"click\", function ManualAttendancePopupComponent_table_52_td_12_span_5_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r58);\n      const ctx_r57 = i0.ɵɵnextContext(3);\n      return ctx_r57.cancelEmployeeTRX(ctx_r57.inputData == null ? null : ctx_r57.inputData.transORresignData == null ? null : ctx_r57.inputData.transORresignData.id);\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\u00A0 \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 1, \"Cancel_Resign\"));\n  }\n}\n\nfunction ManualAttendancePopupComponent_table_52_td_12_span_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r60 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵelementStart(1, \"button\", 36);\n    i0.ɵɵlistener(\"click\", function ManualAttendancePopupComponent_table_52_td_12_span_6_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r60);\n      const ctx_r59 = i0.ɵɵnextContext(3);\n      return ctx_r59.cancelEmployeeTRX(ctx_r59.inputData == null ? null : ctx_r59.inputData.transORresignData == null ? null : ctx_r59.inputData.transORresignData.id);\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\u00A0 \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 1, \"Cancel_Termination\"));\n  }\n}\n\nfunction ManualAttendancePopupComponent_table_52_td_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 28);\n    i0.ɵɵtemplate(1, ManualAttendancePopupComponent_table_52_td_12_span_1_Template, 16, 0, \"span\", 6);\n    i0.ɵɵtemplate(2, ManualAttendancePopupComponent_table_52_td_12_span_2_Template, 7, 3, \"span\", 6);\n    i0.ɵɵtemplate(3, ManualAttendancePopupComponent_table_52_td_12_span_3_Template, 7, 3, \"span\", 6);\n    i0.ɵɵtemplate(4, ManualAttendancePopupComponent_table_52_td_12_span_4_Template, 5, 3, \"span\", 6);\n    i0.ɵɵtemplate(5, ManualAttendancePopupComponent_table_52_td_12_span_5_Template, 5, 3, \"span\", 6);\n    i0.ɵɵtemplate(6, ManualAttendancePopupComponent_table_52_td_12_span_6_Template, 5, 3, \"span\", 6);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r32 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r32.inputData.isWithDrawn && !ctx_r32.inputData.isTransfered && !ctx_r32.inputData.isResigned && !ctx_r32.inputData.isTerminated && !ctx_r32.inputData.isOnLeave);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r32.inputData.isOnLeave);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r32.inputData.isWithDrawn);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r32.inputData == null ? null : ctx_r32.inputData.isTransfered);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r32.inputData == null ? null : ctx_r32.inputData.isResigned);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r32.inputData == null ? null : ctx_r32.inputData.isTerminated);\n  }\n}\n\nfunction ManualAttendancePopupComponent_table_52_tr_13_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r63 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵelementStart(1, \"button\", 38);\n    i0.ɵɵlistener(\"click\", function ManualAttendancePopupComponent_table_52_tr_13_span_2_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r63);\n      const ctx_r62 = i0.ɵɵnextContext(3);\n      return ctx_r62.enterEmployeeLeave(\"W\");\n    });\n    i0.ɵɵelementStart(2, \"i\");\n    i0.ɵɵtext(3, \"W-\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\u00A0 \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 1, \"Withdraw\"));\n  }\n}\n\nfunction ManualAttendancePopupComponent_table_52_tr_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r65 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\", 28);\n    i0.ɵɵtemplate(2, ManualAttendancePopupComponent_table_52_tr_13_span_2_Template, 7, 3, \"span\", 6);\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵelementStart(4, \"button\", 37);\n    i0.ɵɵlistener(\"click\", function ManualAttendancePopupComponent_table_52_tr_13_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r65);\n      const ctx_r64 = i0.ɵɵnextContext(2);\n      return ctx_r64.enterEmployeeTransResign(\"TR\");\n    });\n    i0.ɵɵelementStart(5, \"i\");\n    i0.ɵɵtext(6, \"TR-\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \"\\u00A0 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"span\");\n    i0.ɵɵelementStart(11, \"button\", 37);\n    i0.ɵɵlistener(\"click\", function ManualAttendancePopupComponent_table_52_tr_13_Template_button_click_11_listener() {\n      i0.ɵɵrestoreView(_r65);\n      const ctx_r66 = i0.ɵɵnextContext(2);\n      return ctx_r66.enterEmployeeTransResign(\"R\");\n    });\n    i0.ɵɵelementStart(12, \"i\");\n    i0.ɵɵtext(13, \"R-\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16, \"\\u00A0 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"span\");\n    i0.ɵɵelementStart(18, \"button\", 37);\n    i0.ɵɵlistener(\"click\", function ManualAttendancePopupComponent_table_52_tr_13_Template_button_click_18_listener() {\n      i0.ɵɵrestoreView(_r65);\n      const ctx_r67 = i0.ɵɵnextContext(2);\n      return ctx_r67.enterEmployeeTransResign(\"X\");\n    });\n    i0.ɵɵelementStart(19, \"i\");\n    i0.ɵɵtext(20, \"X-\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(21);\n    i0.ɵɵpipe(22, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(23, \"\\u00A0 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r33 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r33.inputData.isDefShiftOff);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(8, 4, \"Transfer\"));\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(15, 6, \"Resigned\"));\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(22, 8, \"Terminated\"));\n  }\n}\n\nfunction ManualAttendancePopupComponent_table_52_tr_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\", 39);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r34 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r34.inputData == null ? null : ctx_r34.inputData.transORresignData == null ? null : ctx_r34.inputData.transORresignData.remarks, \" \");\n  }\n}\n\nfunction ManualAttendancePopupComponent_table_52_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r69 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"table\", 4);\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵelementStart(2, \"td\", 28);\n    i0.ɵɵtemplate(3, ManualAttendancePopupComponent_table_52_span_3_Template, 7, 3, \"span\", 6);\n    i0.ɵɵtemplate(4, ManualAttendancePopupComponent_table_52_span_4_Template, 7, 3, \"span\", 6);\n    i0.ɵɵelementStart(5, \"span\");\n    i0.ɵɵelementStart(6, \"button\", 29);\n    i0.ɵɵlistener(\"click\", function ManualAttendancePopupComponent_table_52_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r69);\n      const ctx_r68 = i0.ɵɵnextContext();\n      return ctx_r68.closeModel();\n    });\n    i0.ɵɵelement(7, \"i\", 30);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \" \\u00A0 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"tr\");\n    i0.ɵɵtemplate(12, ManualAttendancePopupComponent_table_52_td_12_Template, 7, 6, \"td\", 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(13, ManualAttendancePopupComponent_table_52_tr_13_Template, 24, 10, \"tr\", 6);\n    i0.ɵɵtemplate(14, ManualAttendancePopupComponent_table_52_tr_14_Template, 3, 1, \"tr\", 6);\n    i0.ɵɵelementStart(15, \"tr\");\n    i0.ɵɵelementStart(16, \"td\");\n    i0.ɵɵtext(17, \" AL = Anuual Leave \\u0627\\u0644\\u0639\\u0637\\u0644\\u0629 \\u0627\\u0644\\u0633\\u0646\\u0648\\u064A\\u0629 SL = Sick Leave \\u0625\\u062C\\u0627\\u0632\\u0629 \\u0645\\u0631\\u0636\\u064A\\u0629 EL = Emergrncy Leave \\u0625\\u062C\\u0627\\u0632\\u0629 \\u062E\\u0627\\u0635\\u0629/\\u0637\\u0627\\u0631\\u0626\\u0629 UL= Unpaid Leave \\u0625\\u062C\\u0627\\u0632\\u0629 \\u063A\\u064A\\u0631 \\u0645\\u062F\\u0641\\u0648\\u0639\\u0629 W = Withdraw \\u0627\\u0646\\u0633\\u062D\\u0627\\u0628 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"tr\");\n    i0.ɵɵelementStart(19, \"td\");\n    i0.ɵɵtext(20, \" TR = Transferred \\u0646\\u0642\\u0644 R = Resigned \\u0645\\u0633\\u062A\\u0642\\u064A\\u0644 X = Terminated \\u0625\\u0646\\u0647\\u0627\\u0621 \\u062E\\u062F\\u0645\\u0627\\u062A \\u0627\\u0644\\u0645\\u0648\\u0638\\u0641/\\u0625\\u0646\\u0647\\u0627\\u0621 \\u0641\\u062A\\u0631\\u0629 \\u062A\\u062C\\u0631\\u0628\\u0629/\\u0641\\u0635\\u0644 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r11.inputData.id == 0 && (!(ctx_r11.inputData == null ? null : ctx_r11.inputData.isOnLeave) && !(ctx_r11.inputData == null ? null : ctx_r11.inputData.isWithDrawn) && !(ctx_r11.inputData == null ? null : ctx_r11.inputData.isTransfered) && !(ctx_r11.inputData == null ? null : ctx_r11.inputData.isResigned) && !(ctx_r11.inputData == null ? null : ctx_r11.inputData.isTerminated) || !ctx_r11.inputData.isDefShiftOff && !ctx_r11.inputData.isDefaultEmployee) || (ctx_r11.employee == null ? null : ctx_r11.employee.employeeNumber) != (ctx_r11.altEmployee == null ? null : ctx_r11.altEmployee.employeeNumber));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r11.inputData.id > 0 || ctx_r11.inputData.id == 0 && !ctx_r11.inputData.isDefShiftOff && !ctx_r11.inputData.isPosted) && !(ctx_r11.inputData == null ? null : ctx_r11.inputData.isOnLeave) && !(ctx_r11.inputData == null ? null : ctx_r11.inputData.isWithDrawn) && !(ctx_r11.inputData == null ? null : ctx_r11.inputData.isTransfered) && !(ctx_r11.inputData == null ? null : ctx_r11.inputData.isTerminated) && !(ctx_r11.inputData == null ? null : ctx_r11.inputData.isResigned) && !(ctx_r11.inputData == null ? null : ctx_r11.inputData.isDefShiftOff));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(9, 6, \"Cancel\"), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r11.inputData.isDefShiftOff);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r11.inputData.isWithDrawn && !ctx_r11.inputData.isTransfered && !ctx_r11.inputData.isResigned && !ctx_r11.inputData.isTerminated && !ctx_r11.inputData.isOnLeave);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r11.inputData.isTransfered || ctx_r11.inputData.isResigned || ctx_r11.inputData.isTerminated) && ctx_r11.inputData.isDefaultEmployee);\n  }\n}\n\nexport let ManualAttendancePopupComponent = /*#__PURE__*/(() => {\n  class ManualAttendancePopupComponent extends ParentOptMgtComponent {\n    constructor(translate, notifyService, utilService, dialog, apiService, dialogRef, authService, fb, oprService) {\n      super(authService);\n      this.translate = translate;\n      this.notifyService = notifyService;\n      this.utilService = utilService;\n      this.dialog = dialog;\n      this.apiService = apiService;\n      this.dialogRef = dialogRef;\n      this.authService = authService;\n      this.fb = fb;\n      this.oprService = oprService;\n      this.editEmp = true;\n      this.shift = {\n        shiftCode: ''\n      };\n      this.altShift = {\n        shiftCode: ''\n      };\n      this.listOfShiftCodes = [];\n      this.editInTime = 0;\n      this.editOutTime = 0;\n      this.empCodeControl = new FormControl('');\n      this.employeeList = [];\n      this.employeesForProjectSite = [];\n      this.employeeNumber = '';\n      this.isDataLoading = false;\n      this.inTime = \"11:00\";\n      this.canShowAllEmployees = false;\n      this.filteredEmployeeNumbers = this.empCodeControl.valueChanges.pipe(startWith(this.employeeNumber), debounceTime(utilService.autoDelay()), distinctUntilChanged(), switchMap(val => {\n        if (val.trim() !== '') this.isDataLoading = true;\n        return this.filterEmployeeNumbers(val || '');\n      }));\n    }\n\n    ngOnInit() {\n      console.log(this.inputData);\n\n      if (!this.inputData.isPrimarySite) {\n        this.inputData.isDefaultEmployee = true;\n      }\n\n      this.loadShiftCodes();\n      this.getEmployee(this.inputData.employeeNumber);\n      if (this.inputData.altEmployeeNumber != \"\") this.getAltEmployee(this.inputData.altEmployeeNumber);\n      this.getShift(this.inputData.shiftCode);\n      if (this.inputData.altShiftCode != \"\") this.getAltShift(this.inputData.altShiftCode);\n      this.setForm();\n    }\n\n    setForm() {\n      this.form = this.fb.group({});\n    }\n\n    closeModel() {\n      this.dialogRef.close();\n    }\n\n    submit() {}\n\n    editEmployee() {\n      this.editEmp = !this.editEmp;\n    }\n\n    getEmployee(employeeNumber) {\n      this.apiService.get('Employee/getEmployeeByEmployeeNumber/', employeeNumber).subscribe(res => {\n        // this.apiService.getall(`EmployeesToProjectSite/getEmployeeOfProjectSiteByEmpNumber/${this.inputData.projectCode}/${this.inputData.siteCode}/${employeeNumber}`).subscribe(res => {\n        if (res) {\n          this.employee = res;\n        }\n      });\n    }\n\n    getAltEmployee(employeeNumber) {\n      this.apiService.get('Employee/getEmployeeByEmployeeNumber/', employeeNumber).subscribe(res => {\n        // this.apiService.getall(`EmployeesToProjectSite/getEmployeeOfProjectSiteByEmpNumber/${this.inputData.projectCode}/${this.inputData.siteCode}/${employeeNumber}`).subscribe(res => {\n        if (res) {\n          this.altEmployee = res;\n        }\n      });\n    } //getEmployee(employeeID: number){\n    //  this.apiService.get('Employee/getEmployeeById/', employeeID).subscribe(res => {\n    //    if (res) {\n    //      this.employee = res;\n    //    }\n    //  });\n    //}\n\n\n    getShift(shiftCode) {\n      if (shiftCode != '') {\n        this.apiService.getall('ShiftMaster/getShiftMasterByShiftMasterCode/' + shiftCode).subscribe(res => {\n          if (res) {\n            this.shift = res;\n\n            if (this.inputData.id > 0) {\n              this.shift.inTime = res.inTime.toString().substring(0, 5);\n              this.shift.outTime = res.outTime.toString().substring(0, 5);\n            }\n          }\n        });\n      }\n    }\n\n    getAltShift(shiftCode) {\n      if (shiftCode != '') {\n        this.apiService.getall('ShiftMaster/getShiftMasterByShiftMasterCode/' + shiftCode).subscribe(res => {\n          if (res) {\n            this.altShift = res;\n\n            if (this.altShift.isOff) {\n              this.altShift.shiftCode = '';\n            }\n          }\n        });\n      }\n    }\n\n    changeTime(element, event) {\n      let in_HH = Number(this.shift.inTime.split(\":\")[0]);\n      let out_HH = Number(this.shift.outTime.split(\":\")[0]);\n      let in_MM = Number(this.shift.inTime.split(\":\")[1]);\n      let out_MM = Number(this.shift.outTime.split(\":\")[1]);\n\n      if (element == 'intime') {\n        let totIn = in_HH * 60 + this.editInTime + in_MM;\n        this.shift.inTime = this.minsToTimeString(totIn);\n      } else {\n        let totOut = out_HH * 60 + out_MM + this.editOutTime;\n        this.shift.outTime = this.minsToTimeString(totOut);\n      }\n\n      this.editOutTime = 0;\n      this.editInTime = 0;\n    }\n\n    minsToTimeString(value) {\n      let hours = value > 0 ? Math.floor(value / 60) % 24 : Math.floor((value + 1440) / 60) % 24;\n      let minutes = value > 0 ? Math.floor(value % 60) : value + 60;\n      return this.padLeft(hours.toString(), \"0\", 2) + \":\" + this.padLeft(minutes.toString(), \"0\", 2);\n    }\n\n    padLeft(text, padChar, size) {\n      return (String(padChar).repeat(size) + text).substr(size * -1, size);\n    }\n\n    onSelectShift(event) {\n      this.getAltShift(event.target.value);\n      this.getShift(event.target.value);\n    }\n\n    loadShiftCodes() {\n      this.apiService.getall(`ShiftMaster/getShiftsByProjectAndSiteCode/${this.inputData.projectCode}/${this.inputData.siteCode}`).subscribe(res => {\n        this.listOfShiftCodes = res;\n      });\n    }\n\n    enterAttendance() {\n      if (this.inputData.isDefShiftOff) {\n        this.inputData.altShiftCode = this.altShift.shiftCode;\n      } else {\n        this.inputData.altShiftCode = \"\";\n      }\n\n      if (!this.inputData.isDefShiftOff && !this.inputData.isDefaultEmployee) {\n        this.inputData.attendance = 'S';\n        this.inputData.altEmployeeNumber = this.altEmployee.employeeNumber;\n      } else if (this.inputData.isDefShiftOff) {\n        this.inputData.attendance = 'P';\n        this.inputData.altEmployeeNumber = this.altEmployee.employeeNumber;\n      } else {\n        this.inputData.altEmployeeNumber = \"\";\n      }\n\n      if (this.inputData.altEmployeeNumber == this.inputData.employeeNumber || this.inputData.altEmployeeNumber == \"\") {\n        this.inputData.isDefaultEmployee = true;\n      }\n\n      this.inputData.inTime = this.shift.inTime;\n      this.inputData.outTime = this.shift.outTime;\n\n      if (this.inputData.isDefShiftOff && this.inputData.altShiftCode != \"\" || !this.inputData.isDefShiftOff && this.inputData.altShiftCode != this.inputData.shiftCode) {\n        let inTimeHrs = Number(this.inputData.inTime.substr(0, 2));\n        let inTimeMins = Number(this.inputData.inTime.substr(3, 2));\n        let outTimeHrs = Number(this.inputData.outTime.substr(0, 2));\n        let outTimeMins = Number(this.inputData.outTime.substr(3, 2));\n        let diff = this.inputData.daywiseConsolidateData.tch * 60 + this.inputData.daywiseConsolidateData.tch_min - this.inputData.daywiseConsolidateData.mins - this.inputData.daywiseConsolidateData.hours * 60;\n        let nw = outTimeHrs * 60 + outTimeMins - inTimeHrs * 60 - inTimeMins;\n        if (nw < 0) nw = nw + 24 * 60;\n\n        if (diff < nw) {\n          this.notifyService.showError(this.translate.instant(\"Daily_Shift_Hours_Exceeding\"));\n        } else {\n          this.apiService.post('EmployeesAttendance/enterEmployeeAttendance', this.inputData).subscribe(res => {\n            this.utilService.OkMessage();\n            this.dialogRef.close({\n              res: true,\n              cellData: this.inputCellData,\n              outputData: this.inputData\n            });\n          }, error => {\n            console.error(error);\n            this.utilService.ShowApiErrorMessage(error);\n          });\n        }\n      } else {\n        this.notifyService.showError(this.translate.instant(\"Please\") + \" \" + this.translate.instant(\"Select\") + \" \" + this.translate.instant(\"Shift_Code\"));\n      }\n    }\n\n    filterEmployeeNumbers(val) {\n      if (!this.canShowAllEmployees) {\n        return this.apiService.getall(`EmployeesToProjectSite/getAutoFillEmployeeListForProjectSite/${this.inputData.projectCode}/${this.inputData.siteCode}/?search=${val}`) //return this.apiService.getall(`Employee/getAutoSelectEmployeeList/?search=${val}`)\n        .pipe(map(response => {\n          const res = response;\n          this.isDataLoading = false;\n          return res;\n        }));\n      } else {\n        return this.apiService.getall(`Employee/getAutoSelectEmployeeList/?search=${val}`).pipe(map(response => {\n          const res = response;\n          this.isDataLoading = false;\n          return res;\n        }));\n      }\n    }\n\n    autoSelectionEmployeeNumber(event) {\n      if (this.inputData.employeeNumber != event.option.value.text || this.inputData.isDefShiftOff) {\n        this.altEmployee.employeeNumber = event.option.value.text;\n        this.altEmployee.employeeID = event.option.value.value;\n        this.altEmployee.employeeName = event.option.value.textTwo;\n        this.inputData.isDefaultEmployee = false;\n      } else {\n        this.altEmployee.employeeNumber = \"\";\n        this.altEmployee.employeeName = \"\";\n        this.inputData.isDefaultEmployee = true;\n      }\n\n      this.empCodeControl.setValue('');\n      this.editEmp = true;\n    }\n\n    enterAbsent() {\n      if (!this.inputData.isDefShiftOff && this.inputData.isDefaultEmployee) {\n        this.inputData.attendance = \"A\";\n        this.inputData.isDefaultEmployee = true;\n        this.inputData.inTime = this.shift.inTime;\n        this.inputData.outTime = this.shift.outTime;\n        this.apiService.post('EmployeesAttendance/enterEmployeeAbsent', this.inputData).subscribe(res => {\n          this.utilService.OkMessage();\n          this.dialogRef.close({\n            res: true,\n            cellData: this.inputCellData,\n            outputData: this.inputData\n          });\n        }, error => {\n          console.error(error);\n          this.utilService.ShowApiErrorMessage(error);\n        });\n      }\n    }\n\n    enterEmployeeLeave(leaveType) {\n      let leaveDto = {\n        employeeNumber: this.inputData.employeeNumber,\n        attnDate: this.inputData.attnDate,\n        al: false,\n        el: false,\n        ul: false,\n        sl: false,\n        stl: false,\n        w: false,\n        projectCode: this.inputData.projectCode,\n        siteCode: this.inputData.siteCode,\n        shiftCode: this.inputData.shiftCode\n      };\n\n      switch (leaveType) {\n        case \"AL\":\n          leaveDto.al = true;\n          break;\n\n        case \"EL\":\n          leaveDto.el = true;\n          break;\n\n        case \"UL\":\n          leaveDto.ul = true;\n          break;\n\n        case \"SL\":\n          leaveDto.sl = true;\n          break;\n\n        case \"STL\":\n          leaveDto.stl = true;\n          break;\n\n        case \"W\":\n          leaveDto.w = true;\n          break;\n\n        default:\n          console.log(\"Default\");\n      }\n\n      this.openConfirmationDialog(DBOperation.create, 'Are_You_Sure?', leaveType, ConfirmDialogWindowComponent, this.inputCellData, this.inputData, leaveDto, \"leave\");\n    }\n\n    openConfirmationDialog(dbops, modalTitle, leaveType, Component, cellData, outputData, leaveData, confirmType) {\n      let dialogRef = this.oprService.confirmationDialog(this.dialog, Component);\n      dialogRef.componentInstance.dbops = dbops;\n      dialogRef.componentInstance.modalTitle = modalTitle;\n      dialogRef.componentInstance.leaveType = leaveType;\n      dialogRef.componentInstance.cellData = cellData;\n      dialogRef.componentInstance.outputData = outputData;\n      dialogRef.componentInstance.leaveData = leaveData;\n      dialogRef.componentInstance.confirmType = confirmType;\n      dialogRef.afterClosed().subscribe(res => {\n        if (res && res == true || res.res) {\n          if (confirmType == \"leave\") // for leave and withdraw\n            {\n              this.apiService.post('EmployeeLeaves/enterEmployeeLeave', leaveData).subscribe(res => {\n                console.log(res);\n                this.utilService.OkMessage();\n                this.dialogRef.close({\n                  res: true,\n                  cellData: this.inputCellData,\n                  outputData: this.inputData,\n                  leaveData: leaveData,\n                  isConfirmedLeave: true\n                });\n              }, error => {\n                console.error(error);\n                this.utilService.ShowApiErrorMessage(error);\n              });\n            } else if (confirmType == \"transResign\") // for transfer or resign\n            {\n              leaveData.remarks = res.remarks;\n              this.apiService.post('EmployeeTransResign/enterEmployeeTransResign', leaveData).subscribe(res => {\n                this.utilService.OkMessage();\n                this.dialogRef.close({\n                  res: true,\n                  cellData: this.inputCellData,\n                  outputData: this.inputData,\n                  leaveData: leaveData,\n                  confirmType\n                });\n              }, error => {\n                console.error(error);\n                this.utilService.ShowApiErrorMessage(error);\n              });\n            } else if (confirmType == \"cancelLeave\") // for transfer or resign\n            {\n              console.log(leaveData);\n              this.apiService.get('EmployeeLeaves/cancelLeave', leaveData.id) // this.apiService.delete('EmployeeLeaves',leaveData.id)\n              .subscribe(res => {\n                this.utilService.OkMessage();\n                this.dialogRef.close({\n                  res: true,\n                  cellData: this.inputCellData,\n                  outputData: this.inputData,\n                  leaveData: leaveData,\n                  confirmType\n                });\n              }, error => {\n                console.error(error);\n                this.utilService.ShowApiErrorMessage(error);\n              });\n            } else if (confirmType == \"cancelEmployeeTRX\") // for cancel transfer or resign or Termination\n            {\n              this.apiService.get('EmployeeTransResign/cancelEmployeeTRX', leaveData.id) // this.apiService.delete('EmployeeLeaves',leaveData.id)\n              .subscribe(res => {\n                this.utilService.OkMessage();\n                this.dialogRef.close({\n                  res: true,\n                  cellData: this.inputCellData,\n                  outputData: this.inputData,\n                  leaveData: leaveData,\n                  confirmType\n                });\n              }, error => {\n                console.error(error);\n                this.utilService.ShowApiErrorMessage(error);\n              });\n            }\n        }\n      });\n    }\n\n    openUpdateShiftWindow(inputData, Component) {\n      let dialogRef = this.oprService.openAutoWidthDialog(this.dialog, Component);\n      dialogRef.componentInstance.inputData = inputData;\n      dialogRef.afterClosed().subscribe(res => {\n        //if (res.res == true && res.isShiftUpdated == true)\n        //{\n        //  this.dialogRef.close({ res: true, isUpdatedShift: true, r: this.inputData.r, c: this.inputData.c, updatedShift: res.updatedShift });\n        //}\n        //else\n        //{\n        //  this.dialogRef.close(false);\n        //}\n        if ((res === null || res === void 0 ? void 0 : res.result) > 0) {\n          this.dialogRef.close({\n            res: true,\n            isUpdatedShift: true,\n            r: this.inputData.r,\n            c: this.inputData.c,\n            updatedShift: res.updatedShift\n          });\n          this.notifyService.showSuccess(\"Success\");\n        } else if (res == false) {} else {\n          this.notifyService.showError(\"Failed\");\n          this.dialogRef.close(false);\n        }\n      });\n    }\n\n    enterEmployeeTransResign(input) {\n      let transResignDto = {\n        employeeNumber: this.inputData.employeeNumber,\n        attnDate: this.inputData.attnDate,\n        projectCode: this.inputData.projectCode,\n        siteCode: this.inputData.siteCode,\n        r: false,\n        tr: false\n      };\n\n      switch (input) {\n        case \"R\":\n          transResignDto.r = true;\n          break;\n\n        case \"TR\":\n          transResignDto.tr = true;\n          break;\n\n        case \"X\":\n          transResignDto.r = false;\n          transResignDto.tr = false;\n          break;\n\n        default:\n          console.log(\"Default\");\n      }\n\n      this.openConfirmationDialog(DBOperation.create, 'Are_You_Sure?', input, ConfirmDialogWindowComponent, this.inputCellData, this.inputData, transResignDto, \"transResign\");\n    }\n\n    cancelEmployeeLeave(id) {\n      let leaveDto = {\n        id: id\n      };\n      this.openConfirmationDialog(DBOperation.create, 'Are_You_Sure?', \"\", ConfirmDialogWindowComponent, this.inputCellData, this.inputData, leaveDto, \"cancelLeave\");\n    }\n\n    cancelEmployeeTRX(id) {\n      let leaveDto = {\n        id: id\n      };\n      this.openConfirmationDialog(DBOperation.create, 'Are_You_Sure?', \"\", ConfirmDialogWindowComponent, this.inputCellData, this.inputData, leaveDto, \"cancelEmployeeTRX\");\n    }\n\n    updateShift() {\n      this.inputData.c = this.inputData.attnDate.toString().split(\"-\")[2] - 1;\n      this.openUpdateShiftWindow(this.inputData, UpdateEmployeeShiftComponent);\n    }\n\n    translateToolTip(msg) {\n      return `${this.translate.instant(msg)}`;\n    }\n\n    changeEmployeeFilter() {\n      this.filteredEmployeeNumbers = this.empCodeControl.valueChanges.pipe(startWith(this.employeeNumber), debounceTime(this.utilService.autoDelay()), distinctUntilChanged(), switchMap(val => {\n        if (val.trim() !== '') this.isDataLoading = true;\n        return this.filterEmployeeNumbers(val || '');\n      }));\n    }\n\n  }\n\n  ManualAttendancePopupComponent.ɵfac = function ManualAttendancePopupComponent_Factory(t) {\n    return new (t || ManualAttendancePopupComponent)(i0.ɵɵdirectiveInject(i1.TranslateService), i0.ɵɵdirectiveInject(i2.NotificationService), i0.ɵɵdirectiveInject(i3.UtilityService), i0.ɵɵdirectiveInject(i4.MatDialog), i0.ɵɵdirectiveInject(i5.ApiService), i0.ɵɵdirectiveInject(i4.MatDialogRef), i0.ɵɵdirectiveInject(i6.AuthorizeService), i0.ɵɵdirectiveInject(i7.FormBuilder), i0.ɵɵdirectiveInject(i8.OprServicesService));\n  };\n\n  ManualAttendancePopupComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ManualAttendancePopupComponent,\n    selectors: [[\"app-manual-attendance-popup\"]],\n    features: [i0.ɵɵInheritDefinitionFeature],\n    decls: 53,\n    vars: 41,\n    consts: [[1, \"modal-title\"], [\"type\", \"button\", \"aria-hidden\", \"true\", 1, \"close\", 3, \"click\"], [\"novalidate\", \"\", 1, \"mt-4\", 3, \"formGroup\", \"ngSubmit\"], [1, \"col-md-12\", \"col-lg-12\"], [2, \"width\", \"100%\"], [2, \"padding-right\", \"5px\", \"width\", \"auto\"], [4, \"ngIf\"], [\"class\", \"clickaction clickicons\", 3, \"matTooltip\", \"click\", 4, \"ngIf\"], [\"class\", \"clickaction clickicons\", 3, \"click\", 4, \"ngIf\"], [2, \"padding-right\", \"5px\"], [\"style\", \"width:80%\", 4, \"ngIf\"], [\"type\", \"time\", \"id\", \"inTimeNew\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [\"type\", \"time\", \"id\", \"outTimeNew\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [\"style\", \"width:100%\", 4, \"ngIf\"], [3, \"isLoading\"], [\"type\", \"text\", \"matInput\", \"\", 1, \"form-control\", 3, \"placeholder\", \"formControl\", \"matAutocomplete\"], [3, \"optionSelected\"], [\"auto_emp\", \"matAutocomplete\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"checkbox\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\", \"change\"], [3, \"value\"], [1, \"clickaction\", \"clickicons\", 3, \"matTooltip\", \"click\"], [1, \"fas\", \"fa-pencil-alt\"], [1, \"clickaction\", \"clickicons\", 3, \"click\"], [1, \"far\", \"fa-times-circle\"], [2, \"width\", \"80%\"], [1, \"custom-select\", \"mr-sm-2\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\", \"change\"], [\"value\", \"\"], [\"align\", \"center\", 2, \"padding-bottom\", \"10px\"], [\"type\", \"button\", 1, \"btn\", \"btn-dark\", 3, \"click\"], [1, \"icon-close\"], [\"align\", \"center\", \"style\", \"padding-bottom:10px\", 4, \"ngIf\"], [\"type\", \"button\", 1, \"btn\", \"waves-effect\", \"waves-light\", \"btn-success\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"waves-effect\", \"btn-danger\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"waves-effect\", \"waves-light\", \"btn-warning\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"waves-effect\", \"btn-warning\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-warning\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"waves-effect\", \"waves-light\", \"btn-info\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"waves-effect\", \"waves-light\", \"btn-dark\", 3, \"click\"], [\"align\", \"center\", 2, \"padding-bottom\", \"10px\", \"color\", \"red\"]],\n    template: function ManualAttendancePopupComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h3\", 0);\n        i0.ɵɵtext(1);\n        i0.ɵɵpipe(2, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"button\", 1);\n        i0.ɵɵlistener(\"click\", function ManualAttendancePopupComponent_Template_button_click_3_listener() {\n          return ctx.closeModel();\n        });\n        i0.ɵɵtext(4, \" \\u00D7\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"form\", 2);\n        i0.ɵɵlistener(\"ngSubmit\", function ManualAttendancePopupComponent_Template_form_ngSubmit_5_listener() {\n          return ctx.submit();\n        });\n        i0.ɵɵelementStart(6, \"div\", 3);\n        i0.ɵɵelementStart(7, \"table\", 4);\n        i0.ɵɵelementStart(8, \"tr\");\n        i0.ɵɵelementStart(9, \"td\", 5);\n        i0.ɵɵtext(10);\n        i0.ɵɵpipe(11, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"td\");\n        i0.ɵɵtemplate(13, ManualAttendancePopupComponent_span_13_Template, 2, 1, \"span\", 6);\n        i0.ɵɵtemplate(14, ManualAttendancePopupComponent_span_14_Template, 2, 1, \"span\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(15, ManualAttendancePopupComponent_td_15_Template, 14, 18, \"td\", 6);\n        i0.ɵɵelementStart(16, \"td\");\n        i0.ɵɵtemplate(17, ManualAttendancePopupComponent_span_17_Template, 2, 1, \"span\", 7);\n        i0.ɵɵtemplate(18, ManualAttendancePopupComponent_span_18_Template, 2, 0, \"span\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"tr\");\n        i0.ɵɵelement(20, \"td\");\n        i0.ɵɵelementStart(21, \"td\", 9);\n        i0.ɵɵtemplate(22, ManualAttendancePopupComponent_span_22_Template, 2, 1, \"span\", 6);\n        i0.ɵɵtemplate(23, ManualAttendancePopupComponent_span_23_Template, 2, 1, \"span\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"tr\");\n        i0.ɵɵelementStart(25, \"td\", 9);\n        i0.ɵɵtext(26);\n        i0.ɵɵpipe(27, \"translate\");\n        i0.ɵɵpipe(28, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"td\");\n        i0.ɵɵtext(30);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"tr\");\n        i0.ɵɵelementStart(32, \"td\");\n        i0.ɵɵtext(33);\n        i0.ɵɵpipe(34, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(35, ManualAttendancePopupComponent_td_35_Template, 2, 1, \"td\", 6);\n        i0.ɵɵtemplate(36, ManualAttendancePopupComponent_td_36_Template, 7, 10, \"td\", 10);\n        i0.ɵɵelementStart(37, \"td\");\n        i0.ɵɵtemplate(38, ManualAttendancePopupComponent_span_38_Template, 2, 1, \"span\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(39, ManualAttendancePopupComponent_td_39_Template, 2, 1, \"td\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(40, \"tr\");\n        i0.ɵɵelementStart(41, \"td\", 9);\n        i0.ɵɵtext(42);\n        i0.ɵɵpipe(43, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(44, \"td\");\n        i0.ɵɵelementStart(45, \"input\", 11);\n        i0.ɵɵlistener(\"ngModelChange\", function ManualAttendancePopupComponent_Template_input_ngModelChange_45_listener($event) {\n          return ctx.shift.inTime = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(46, \"tr\");\n        i0.ɵɵelementStart(47, \"td\", 9);\n        i0.ɵɵtext(48);\n        i0.ɵɵpipe(49, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(50, \"td\");\n        i0.ɵɵelementStart(51, \"input\", 12);\n        i0.ɵɵlistener(\"ngModelChange\", function ManualAttendancePopupComponent_Template_input_ngModelChange_51_listener($event) {\n          return ctx.shift.outTime = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(52, ManualAttendancePopupComponent_table_52_Template, 21, 8, \"table\", 13);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(2, 25, ctx.modalTitle));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"formGroup\", ctx.form);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(11, 27, \"Employee\"), \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.inputData.isDefaultEmployee);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.inputData.isDefaultEmployee);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.editEmp);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.editEmp && ctx.inputData.id == 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.editEmp);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.inputData == null ? null : ctx.inputData.isDefaultEmployee);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.inputData.isDefaultEmployee);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate2(\"\", i0.ɵɵpipeBind1(27, 29, \"Attendance\"), \" \", i0.ɵɵpipeBind1(28, 31, \"Date\"), \"\");\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(ctx.inputData == null ? null : ctx.inputData.attnDate.toString().substring(0, 10));\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(34, 33, \"Shift\"), \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", !(ctx.inputData == null ? null : ctx.inputData.isDefShiftOff));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", (ctx.inputData == null ? null : ctx.inputData.isDefShiftOff) && (ctx.inputData == null ? null : ctx.inputData.id) == 0 && ctx.inputData.isPrimarySite);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", (ctx.inputData == null ? null : ctx.inputData.id) == 0 && !(ctx.inputData == null ? null : ctx.inputData.isOnLeave) && !(ctx.inputData == null ? null : ctx.inputData.isWithDrawn));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", (ctx.inputData == null ? null : ctx.inputData.isDefShiftOff) && (ctx.inputData == null ? null : ctx.inputData.id) > 0);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(43, 35, \"IN_Time\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.shift.inTime)(\"ngModelOptions\", i0.ɵɵpureFunction0(39, _c0));\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(49, 37, \"OUT_Time\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.shift.outTime)(\"ngModelOptions\", i0.ɵɵpureFunction0(40, _c0));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.inputData.isPrimarySite && !(ctx.inputData == null ? null : ctx.inputData.isPosted));\n      }\n    },\n    directives: [i7.ɵNgNoValidate, i7.NgControlStatusGroup, i7.FormGroupDirective, i9.NgIf, i7.DefaultValueAccessor, i7.NgControlStatus, i7.NgModel, i10.AutoLoaderComponent, i11.MatAutocompleteTrigger, i7.FormControlDirective, i11.MatAutocomplete, i9.NgForOf, i7.CheckboxControlValueAccessor, i12.MatOption, i13.MatTooltip, i7.SelectControlValueAccessor, i7.NgSelectOption, i7.ɵNgSelectMultipleOption],\n    pipes: [i1.TranslatePipe, i9.AsyncPipe],\n    encapsulation: 2\n  });\n  return ManualAttendancePopupComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}