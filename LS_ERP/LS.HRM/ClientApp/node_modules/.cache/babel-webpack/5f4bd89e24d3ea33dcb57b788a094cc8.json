{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../../../services/api.service\";\nimport * as i3 from \"../../../../api-authorization/AuthorizeService\";\nimport * as i4 from \"../../../../services/utility.service\";\nimport * as i5 from \"@angular/material/dialog\";\nimport * as i6 from \"../../../../services/notification.service\";\nimport * as i7 from \"../../../../sharedcomponent/ValidationService\";\nimport * as i8 from \"@angular/material/datepicker\";\nimport * as i9 from \"@angular/material/form-field\";\nimport * as i10 from \"../../../../sharedcomponent/ValidationMessagesComponent\";\nimport * as i11 from \"@ng-select/ng-select\";\nimport * as i12 from \"@angular/common\";\nimport * as i13 from \"@angular/material/slide-toggle\";\nimport * as i14 from \"@ngx-translate/core\";\n\nfunction AddupdatecashvoucherComponent_option_54_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 52);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r13 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", item_r13.value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r13.text);\n  }\n}\n\nfunction AddupdatecashvoucherComponent_option_67_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 52);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r14 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", item_r14.value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r14.text);\n  }\n}\n\nfunction AddupdatecashvoucherComponent_option_87_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 52);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r15 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", item_r15.text);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r15.text);\n  }\n}\n\nfunction AddupdatecashvoucherComponent_th_134_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 53);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(2, 1, \"Branch\"));\n  }\n}\n\nfunction AddupdatecashvoucherComponent_ng_container_135_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"th\", 53);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"th\", 53);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 2, \"Service\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(6, 4, \"Branch\"));\n  }\n}\n\nfunction AddupdatecashvoucherComponent_ng_container_136_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"th\", 53);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 1, \"Service\"));\n  }\n}\n\nfunction AddupdatecashvoucherComponent_th_152_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 54);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(2, 1, \"Dr_Amount\"));\n  }\n}\n\nfunction AddupdatecashvoucherComponent_th_153_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 54);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"Cr_Amount\"), \" \");\n  }\n}\n\nfunction AddupdatecashvoucherComponent_td_157_option_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 52);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r17 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", item_r17.value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r17.text);\n  }\n}\n\nconst _c0 = function () {\n  return {\n    standalone: true\n  };\n};\n\nfunction AddupdatecashvoucherComponent_td_157_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵelementStart(1, \"select\", 55);\n    i0.ɵɵlistener(\"ngModelChange\", function AddupdatecashvoucherComponent_td_157_Template_select_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return ctx_r18.branchCode = $event;\n    })(\"change\", function AddupdatecashvoucherComponent_td_157_Template_select_change_1_listener($event) {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return ctx_r20.loadAccountCodes($event);\n    });\n    i0.ɵɵelementStart(2, \"option\", 19);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, AddupdatecashvoucherComponent_td_157_option_5_Template, 2, 2, \"option\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r9.branchCode)(\"ngModelOptions\", i0.ɵɵpureFunction0(7, _c0))(\"disabled\", ctx_r9.branchList.length == 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 5, \"Branch\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r9.branchList);\n  }\n}\n\nfunction AddupdatecashvoucherComponent_ng_container_158_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵelementStart(2, \"ng-select\", 56);\n    i0.ɵɵlistener(\"ngModelChange\", function AddupdatecashvoucherComponent_ng_container_158_Template_ng_select_ngModelChange_2_listener($event) {\n      i0.ɵɵrestoreView(_r22);\n      const ctx_r21 = i0.ɵɵnextContext();\n      return ctx_r21.batch = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵelementStart(4, \"ng-select\", 56);\n    i0.ɵɵlistener(\"ngModelChange\", function AddupdatecashvoucherComponent_ng_container_158_Template_ng_select_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r22);\n      const ctx_r23 = i0.ɵɵnextContext();\n      return ctx_r23.batch2 = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"items\", ctx_r10.segmentSetupList)(\"ngModel\", ctx_r10.batch)(\"ngModelOptions\", i0.ɵɵpureFunction0(6, _c0));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"items\", ctx_r10.segmentTwoSetupList)(\"ngModel\", ctx_r10.batch2)(\"ngModelOptions\", i0.ɵɵpureFunction0(7, _c0));\n  }\n}\n\nfunction AddupdatecashvoucherComponent_ng_container_159_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵelementStart(2, \"ng-select\", 56);\n    i0.ɵɵlistener(\"ngModelChange\", function AddupdatecashvoucherComponent_ng_container_159_Template_ng_select_ngModelChange_2_listener($event) {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r24 = i0.ɵɵnextContext();\n      return ctx_r24.batch = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"items\", ctx_r11.segmentSetupList)(\"ngModel\", ctx_r11.batch)(\"ngModelOptions\", i0.ɵɵpureFunction0(3, _c0));\n  }\n}\n\nfunction AddupdatecashvoucherComponent_tbody_176_tr_1_td_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r27 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r27.branchName);\n  }\n}\n\nfunction AddupdatecashvoucherComponent_tbody_176_tr_1_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const item_r27 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r27.batch);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r27.batch2);\n  }\n}\n\nfunction AddupdatecashvoucherComponent_tbody_176_tr_1_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const item_r27 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r27.batch);\n  }\n}\n\nfunction AddupdatecashvoucherComponent_tbody_176_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r36 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵtemplate(1, AddupdatecashvoucherComponent_tbody_176_tr_1_td_1_Template, 2, 1, \"td\", 37);\n    i0.ɵɵtemplate(2, AddupdatecashvoucherComponent_tbody_176_tr_1_ng_container_2_Template, 5, 2, \"ng-container\", 37);\n    i0.ɵɵtemplate(3, AddupdatecashvoucherComponent_tbody_176_tr_1_ng_container_3_Template, 3, 1, \"ng-container\", 37);\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"td\", 40);\n    i0.ɵɵelementStart(17, \"i\", 58);\n    i0.ɵɵlistener(\"click\", function AddupdatecashvoucherComponent_tbody_176_tr_1_Template_i_click_17_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r36);\n      const item_r27 = restoredCtx.$implicit;\n      const ctx_r35 = i0.ɵɵnextContext(2);\n      return ctx_r35.editInvoiceItem(item_r27);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18, \" \\u00A0 \");\n    i0.ɵɵelementStart(19, \"i\", 59);\n    i0.ɵɵlistener(\"click\", function AddupdatecashvoucherComponent_tbody_176_tr_1_Template_i_click_19_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r36);\n      const item_r27 = restoredCtx.$implicit;\n      const ctx_r37 = i0.ɵɵnextContext(2);\n      return ctx_r37.deleteInvoiceItem(item_r27);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20, \" \\u00A0 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r27 = ctx.$implicit;\n    const ctx_r26 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r26.hasBranchHidden);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r26.isSeg2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r26.isSeg1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r27.finAcCode);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r27.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r27.remarks);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r27.costAllocationName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r27.costSegCodeName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r27.payment);\n  }\n}\n\nfunction AddupdatecashvoucherComponent_tbody_176_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\");\n    i0.ɵɵtemplate(1, AddupdatecashvoucherComponent_tbody_176_tr_1_Template, 21, 9, \"tr\", 57);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r12.itemList);\n  }\n}\n\nexport let AddupdatecashvoucherComponent = /*#__PURE__*/(() => {\n  class AddupdatecashvoucherComponent {\n    constructor(fb, apiService, authService, utilService, dialogRef, notifyService, validationService) {\n      this.fb = fb;\n      this.apiService = apiService;\n      this.authService = authService;\n      this.utilService = utilService;\n      this.dialogRef = dialogRef;\n      this.notifyService = notifyService;\n      this.validationService = validationService;\n      this.id = 0;\n      this.isEdit = false;\n      this.customerSiteList = [];\n      this.customerList = [];\n      this.companyList = [];\n      this.branchList = []; //itemsBranchList: Array<CustomSelectListItem> = [];\n\n      this.accountCodeList = [];\n      this.segmentSetupList = [];\n      this.segmentTwoSetupList = [];\n      this.costAllocationList = [];\n      this.costSegCodeList = [];\n      this.batchSetupList = [];\n      this.isSeg1 = false;\n      this.isSeg2 = false;\n      this.payCodeList = [];\n      this.itemList = [];\n      this.isPaymentType = false;\n      this.isArab = false;\n      this.isCodeSegmentReadonly = false;\n      this.isEditingRecord = false;\n      this.hasBranchHidden = false;\n      this.branchName = '';\n      this.branchCode = '';\n      this.finAcCode = '';\n      this.description = '';\n      this.remarks = '';\n      this.batch = '';\n      this.batch2 = '';\n      this.costAllocation = 0;\n      this.costAllocationName = '';\n      this.costSegCode = '';\n      this.costSegCodeName = '';\n      this.payment = 0;\n      this.sequence = 1;\n      this.editsequence = 0;\n    }\n\n    ngOnInit() {\n      this.isArab = this.utilService.isArabic();\n      this.setForm();\n      this.loadData();\n\n      if (this.id > 0) {\n        this.isEdit = true;\n        this.setEditForm();\n      }\n    }\n\n    setForm() {\n      //let cDate: IMyDateModel = { isRange: false, singleDate: {}, dateRange: null };\n      this.form = this.fb.group({\n        'jvDate': [this.utilService.getCurrentDate(), Validators.required],\n        'amount': ['', Validators.required],\n        'customerId': [''],\n        'siteCode': [''],\n        'companyId': ['', Validators.required],\n        'branchCode': ['', Validators.required],\n        'docNum': ['', Validators.required],\n        'batch': '',\n        'cBookCode': ['', Validators.required],\n        'voucherType': ['', Validators.required],\n        'remarks': [''],\n        'narration': ['']\n      });\n    }\n\n    loadData() {\n      this.apiService.getall(\"customer/getSelectLanCustomerList\").subscribe(res => {\n        if (res) {\n          this.customerList = res;\n          const newList = this.customerList.map(i => {\n            i.text = !this.isArab ? i.text : i.textAr;\n            return i;\n          });\n        }\n      });\n      this.apiService.getall(\"mainAccounts/financesetup\").subscribe(res => {\n        if (res) {\n          const nubOfSeg = res['numOfSeg'];\n          this.isSeg1 = nubOfSeg == 1;\n          this.isSeg2 = nubOfSeg == 2;\n\n          if (this.isSeg1 || this.isSeg2) {\n            this.apiService.getall(\"segmentSetup/getSegmentSetupSelectList\").subscribe(res => {\n              if (res) this.segmentSetupList = res;\n            });\n          }\n\n          if (this.isSeg2) {\n            this.apiService.getall(\"segmentTwoSetup/getSegmentTwoSetupSelectList\").subscribe(res => {\n              if (res) this.segmentTwoSetupList = res;\n            });\n          }\n        }\n      });\n      this.apiService.getall(\"costAllocationSetup/getCostAllocationSetupSelectList\").subscribe(res => {\n        if (res) this.costAllocationList = res;\n      });\n      this.apiService.getall(\"batchSetup/getBatchSetupSelectList\").subscribe(res => {\n        if (res) this.batchSetupList = res;\n      });\n      this.apiService.getall(\"paymentcodes/getSelectPaymentCashCodeList\").subscribe(res => {\n        if (res) {\n          console.log(res);\n          this.payCodeList = res;\n        }\n      });\n      this.apiService.getall(\"company/getSelectCompanyList\").subscribe(res => {\n        if (res) this.companyList = res;\n      }); //this.apiService.getall(\"branch/getSelectBranchNameCodeList\").subscribe(res => {\n      //  if (res) {\n      //    this.itemsBranchList = res;\n      //    if (this.itemsBranchList.length == 1) {\n      //      this.loadAccountCodesForBranch(this.itemsBranchList[0].value);\n      //    }\n      //  }\n      //});\n    }\n\n    hasBranchHiddenChecked(event) {\n      this.hasBranchHidden = event.checked;\n    }\n\n    loadSegCodedata(event) {\n      const id = event.value;\n      this.costAllocationName = event.text;\n\n      if (id > 0) {\n        this.costSegCode = '';\n        this.costSegCodeName = '';\n        this.apiService.getall(`costAllocationSetup/getCostSegmentCodeSelectList/${id}`).subscribe(res => {\n          if (res) this.costSegCodeList = res;\n          const newList = this.costSegCodeList.map(i => {\n            i.text = !this.isArab ? i.text + ' ' + i.textTwo : i.textTwo + ' ' + i.textAr;\n            return i;\n          });\n          this.costSegCode = event.custCode;\n        });\n      }\n    }\n\n    selectSegCodedata(event) {\n      this.costSegCodeName = event.text;\n    }\n\n    loadBranchs(event) {\n      let comId = event.target.value;\n\n      if (comId) {\n        this.apiService.getall(`branch/getSelectSysBranchListByComId/${comId}`).subscribe(res => {\n          if (res) this.branchList = res;\n\n          if (this.branchList.length == 1) {\n            this.loadAccountCodesForBranch(this.branchList[0].value);\n          }\n        });\n      }\n    }\n\n    selectBranch(evt) {\n      this.branchCode = evt.target.value;\n      this.loadAccountCodesForBranch(this.branchCode);\n    }\n\n    loadAccountCodes(event) {\n      let branchCode = event.target.value;\n      this.loadAccountCodesForBranch(branchCode);\n    }\n\n    loadAccountCodesForBranch(branchCode) {\n      if (branchCode) {\n        this.finAcCode = '';\n        this.apiService.getall(`accountsbranchmapping/getSelectAccountMappingList?branchCode=${branchCode}`).subscribe(res => {\n          if (res) this.accountCodeList = res;\n        });\n      }\n    }\n\n    setEditForm() {\n      this.apiService.get('cashVoucher', this.id).subscribe(res => {\n        if (res) {\n          this.loadBranchsForCompany(res['companyId'], res);\n          const items = res['itemList'];\n          this.displayJvItems(items);\n\n          if (res['siteCode']) {\n            this.isEditingRecord = true;\n            this.customerSiteList = [{\n              text: res['siteCode'],\n              value: res['siteCode'],\n              textAr: '',\n              textTwo: ''\n            }];\n          }\n\n          this.form.patchValue(res);\n        }\n      });\n    }\n\n    displayJvItems(items) {\n      items.forEach(item => {\n        var _a;\n\n        this.branchName = item.branchName;\n        this.branchCode = item.branchCode, this.description = item.description;\n        this.finAcCode = item.finAcCode;\n        this.remarks = item.remarks;\n        this.batch = item.batch;\n        this.batch2 = item.batch2;\n        this.costAllocation = item.costAllocation;\n        this.costAllocationName = item.costAllocation ? (_a = this.costAllocationList.find(citem => citem.value == item.costAllocation)) === null || _a === void 0 ? void 0 : _a.text : '';\n        this.costSegCode = item.costSegCode;\n        this.costSegCodeName = item.costSegCode;\n        this.payment = item.payment;\n        this.fillITems();\n      });\n    } //edtiItemsList: Array<any> = [];\n    //laodAndEditItem(res: any, result: any) {\n    //  this.edtiItemsList = [];\n    //  this.loadAccountCodeForBranch(res['branchCode'], res['id'] as number, result);\n    //  this.itemList.push(this.createAuthority(res));\n    //}\n\n\n    loadBranchsForCompany(comId, result) {\n      if (comId) {\n        this.apiService.getall(`branch/getSelectSysBranchListByComId/${comId}`).subscribe(res => {\n          if (res) {\n            this.branchList = res;\n          }\n        });\n      }\n    }\n\n    loadAccountCodeForBranch(branchCode, finAcCode) {\n      if (branchCode) {\n        this.apiService.getall(`accountsbranchmapping/getSelectAccountMappingList?branchCode=${branchCode}`).subscribe(res => {\n          if (res) {\n            this.accountCodeList = res;\n            this.finAcCode = finAcCode;\n          }\n        });\n      }\n    }\n\n    fillITems() {\n      this.itemList.push({\n        sequence: this.getSequence(),\n        branchName: this.branchName,\n        branchCode: this.branchCode,\n        finAcCode: this.finAcCode,\n        description: this.description,\n        remarks: this.remarks,\n        batch: this.batch,\n        batch2: this.batch2,\n        costAllocation: this.costAllocation,\n        costSegCode: this.costSegCode,\n        costAllocationName: this.costAllocationName,\n        costSegCodeName: this.costSegCodeName,\n        payment: this.payment\n      });\n      this.setToDefault();\n    }\n\n    addItem() {\n      if (this.payment > 0) {\n        if (this.editsequence > 0) {\n          this.removeInvoiceList(this.editsequence); //let index: number = this.listOfInvoices.findIndex(a => a.sequence === this.editsequence);\n          //this.listOfInvoices.splice(index, 1);\n\n          this.editsequence = 0;\n        }\n\n        this.itemList.push({\n          sequence: this.getSequence(),\n          branchName: this.getBranchName(this.branchCode),\n          branchCode: this.branchCode,\n          finAcCode: this.finAcCode,\n          description: this.description,\n          remarks: this.remarks,\n          batch: this.batch,\n          batch2: this.batch2,\n          costAllocation: this.costAllocation,\n          costSegCode: this.costSegCode,\n          costAllocationName: this.costAllocationName,\n          costSegCodeName: this.costSegCodeName,\n          payment: this.payment\n        }); //this.setLabelPrices(this.total, this.vatAmount, '');     \n\n        this.setToDefault();\n      }\n    }\n\n    getSequence() {\n      return this.sequence += this.sequence + 1;\n    }\n\n    deleteInvoiceItem(item) {\n      this.removeInvoiceList(item.sequence);\n    }\n\n    removeInvoiceList(sequence) {\n      let index = this.itemList.findIndex(a => a.sequence === sequence);\n      this.itemList.splice(index, 1);\n    }\n\n    getBranchName(branchCode) {\n      var _a;\n\n      return (_a = this.branchList.find(a => a.value === branchCode)) === null || _a === void 0 ? void 0 : _a.text; //return this.itemsBranchList.find(a => a.value === branchCode)?.text;\n    }\n\n    editInvoiceItem(item) {\n      this.editsequence = item.sequence, this.branchCode = item.branchCode;\n      this.loadAccountCodeForBranch(this.branchCode, item.finAcCode);\n      this.description = item.description;\n      this.remarks = item.remarks;\n      this.batch = item.batch;\n      this.batch2 = item.batch2;\n      this.costAllocation = item.costAllocation;\n      this.costAllocationName = item.costAllocationName;\n      this.costSegCode = item.costSegCode;\n      this.costSegCodeName = item.costSegCodeName;\n      this.payment = item.payment;\n    }\n\n    setToDefault() {\n      this.editsequence = 0;\n      if (this.hasBranchHidden) this.branchCode = '';\n      this.finAcCode = '';\n      this.description = '';\n      this.remarks = '';\n      this.batch = '';\n      this.batch2 = '';\n\n      if (!this.isCodeSegmentReadonly) {\n        this.costAllocation = 0;\n        this.costAllocationName = '';\n        this.costSegCode = '';\n        this.costSegCodeName = '';\n      }\n\n      this.payment = 0;\n    }\n\n    selectVoucherType(evt) {\n      const value = evt.target.value;\n      if (value !== '') this.isPaymentType = evt.target.value == 'Payment' ? true : false;\n    }\n\n    resetCodeSegmentReadonly() {\n      this.isCodeSegmentReadonly = false;\n      this.costSegCode = '';\n      this.costAllocation = 0;\n      this.form.controls['siteCode'].setValue(null);\n    }\n\n    customerChange(event) {\n      var _a;\n\n      let custId = event.value,\n          custCode = event.textTwo;\n      this.form.controls['siteCode'].setValue(null);\n      this.isCodeSegmentReadonly = true;\n      this.costAllocation = (_a = this.costAllocationList.find(item => item.textTwo.toLowerCase() == 'customer')) === null || _a === void 0 ? void 0 : _a.value;\n      this.loadSegCodedata({\n        value: this.costAllocation,\n        custCode: custCode\n      });\n      this.apiService.getall(`customer/getCustomerSitesSelectList/${custId}`).subscribe(res => {\n        if (res) {\n          this.customerSiteList = res;\n          this.customerSiteList.map(i => {\n            i.text = !this.isArab ? i.text : i.textTwo;\n            return i;\n          });\n        }\n      });\n    }\n\n    submit() {\n      if (this.itemList.length <= 0) {\n        this.utilService.FillUpFields();\n        return;\n      }\n\n      if (this.form.valid) {\n        if (!this.hasBranchHidden) {\n          this.itemList.forEach(item => {\n            item.branchCode = this.form.value['branchCode'];\n          });\n        }\n\n        this.form.value['jvDate'] = this.utilService.selectedDateTime(this.form.controls['jvDate'].value);\n        if (this.id > 0) this.form.value['id'] = this.id;\n        this.form.value['itemList'] = this.itemList;\n        this.apiService.post('cashVoucher', this.form.value).subscribe(res => {\n          this.utilService.OkMessage();\n          this.reset();\n          this.dialogRef.close(true);\n        }, error => {\n          this.utilService.ShowApiErrorMessage(error);\n        });\n      } else this.utilService.FillUpFields();\n    }\n\n    reset() {\n      this.form.controls['jvDate'].setValue('');\n      this.form.controls['companyId'].setValue('');\n      this.form.controls['branchCode'].setValue('');\n    }\n\n    closeModel() {\n      this.dialogRef.close();\n    }\n\n  }\n\n  AddupdatecashvoucherComponent.ɵfac = function AddupdatecashvoucherComponent_Factory(t) {\n    return new (t || AddupdatecashvoucherComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ApiService), i0.ɵɵdirectiveInject(i3.AuthorizeService), i0.ɵɵdirectiveInject(i4.UtilityService), i0.ɵɵdirectiveInject(i5.MatDialogRef), i0.ɵɵdirectiveInject(i6.NotificationService), i0.ɵɵdirectiveInject(i7.ValidationService));\n  };\n\n  AddupdatecashvoucherComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AddupdatecashvoucherComponent,\n    selectors: [[\"app-addupdatecashvoucher\"]],\n    decls: 185,\n    vars: 156,\n    consts: [[\"type\", \"button\", \"aria-hidden\", \"true\", 1, \"close\", 3, \"click\"], [\"novalidate\", \"\", 1, \"mt-4\", 3, \"formGroup\", \"ngSubmit\"], [1, \"modal-body\"], [1, \"outer\"], [1, \"row\"], [1, \"col-md-6\", \"col-lg-6\"], [1, \"form-group\"], [1, \"input-group\", \"mb-2\"], [\"formControlName\", \"jvDate\", 1, \"form-control\", \"datapickerinput\", 3, \"placeholder\", \"matDatepicker\"], [1, \"input-group-prepend\", \"datapickericon\"], [\"matSuffix\", \"\", 3, \"for\"], [\"picker\", \"\"], [3, \"control\"], [\"type\", \"number\", \"formControlName\", \"amount\", 1, \"form-control\", 3, \"placeholder\"], [1, \"col-md-6\", \"col-lg-6\", \"d-none\"], [1, \"mr-sm-2\"], [\"bindLabel\", \"text\", \"bindValue\", \"textTwo\", \"formControlName\", \"customerId\", 3, \"items\", \"clear\", \"change\"], [\"bindLabel\", \"text\", \"bindValue\", \"value\", \"formControlName\", \"siteCode\", 3, \"items\"], [\"formControlName\", \"companyId\", 1, \"custom-select\", \"mr-sm-2\", 3, \"change\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"form-group\", \"mb-4\"], [\"color\", \"primary\", 3, \"change\"], [\"formControlName\", \"branchCode\", 1, \"custom-select\", \"mr-sm-2\", 3, \"change\"], [\"type\", \"text\", \"formControlName\", \"docNum\", 1, \"form-control\", 3, \"placeholder\"], [1, \"col-md-3\", \"col-lg-3\"], [\"formControlName\", \"cBookCode\", 1, \"custom-select\", \"mr-sm-2\"], [\"formControlName\", \"voucherType\", 1, \"custom-select\", \"mr-sm-2\", 3, \"change\"], [\"value\", \"Receipts\"], [\"value\", \"Payment\"], [\"bindLabel\", \"text\", \"bindValue\", \"value\", \"formControlName\", \"batch\", 3, \"items\"], [1, \"col-md-12\", \"col-lg-12\"], [\"formControlName\", \"remarks\", 1, \"form-control\", 3, \"placeholder\"], [\"formControlName\", \"narration\", 1, \"form-control\", 3, \"placeholder\"], [1, \"\"], [\"id\", \"zero_config\", 1, \"table\", \"table-bordered\", \"no-wrap\"], [\"width\", \"10%\", 4, \"ngIf\"], [4, \"ngIf\"], [2, \"width\", \"25%\"], [\"width\", \"9%\", 4, \"ngIf\"], [1, \"text-center\"], [\"bindLabel\", \"text\", \"bindValue\", \"value\", 1, \"voucher-width-250\", 3, \"items\", \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [\"rows\", \"5\", \"type\", \"text\", \"value\", \"Nil\", 1, \"form-control\", \"voucher-width-200\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [\"rows\", \"5\", \"type\", \"text\", \"value\", \"Travelling\", 1, \"form-control\", \"voucher-width-200\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [\"bindLabel\", \"text\", \"bindValue\", \"value\", 1, \"voucher-width-180\", 3, \"items\", \"ngModel\", \"ngModelOptions\", \"readonly\", \"ngModelChange\", \"change\"], [\"bindLabel\", \"text\", \"bindValue\", \"textTwo\", 1, \"voucher-width-230\", 3, \"items\", \"ngModel\", \"ngModelOptions\", \"readonly\", \"ngModelChange\", \"change\"], [\"type\", \"number\", \"value\", \"\", 1, \"form-control\", \"voucher-width-120\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [1, \"fas\", \"fa-plus-circle\", 3, \"click\"], [1, \"fas\", \"fa-eraser\", \"text-danger\", 3, \"click\"], [1, \"col-lg-12\", \"col-md-12\", \"text-center\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\", 3, \"click\"], [\"type\", \"submit\", 1, \"btn\", \"waves-effect\", \"waves-light\", \"btn-primary\", 3, \"value\"], [3, \"value\"], [\"width\", \"10%\"], [\"width\", \"9%\"], [1, \"custom-select\", \"mr-sm-2\", \"voucher-width-120\", 3, \"ngModel\", \"ngModelOptions\", \"disabled\", \"ngModelChange\", \"change\"], [\"bindLabel\", \"text\", \"bindValue\", \"value\", 1, \"voucher-width-180\", 3, \"items\", \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [4, \"ngFor\", \"ngForOf\"], [1, \"icon-note\", \"cpointer\", 3, \"click\"], [1, \"icon-trash\", \"cpointer\", 3, \"click\"]],\n    template: function AddupdatecashvoucherComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h3\");\n        i0.ɵɵtext(1);\n        i0.ɵɵpipe(2, \"translate\");\n        i0.ɵɵelementStart(3, \"button\", 0);\n        i0.ɵɵlistener(\"click\", function AddupdatecashvoucherComponent_Template_button_click_3_listener() {\n          return ctx.closeModel();\n        });\n        i0.ɵɵtext(4, \" \\u00D7\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"form\", 1);\n        i0.ɵɵlistener(\"ngSubmit\", function AddupdatecashvoucherComponent_Template_form_ngSubmit_5_listener() {\n          return ctx.submit();\n        });\n        i0.ɵɵelementStart(6, \"div\", 2);\n        i0.ɵɵelementStart(7, \"div\", 3);\n        i0.ɵɵelementStart(8, \"div\", 4);\n        i0.ɵɵelementStart(9, \"div\", 5);\n        i0.ɵɵelementStart(10, \"div\", 6);\n        i0.ɵɵelementStart(11, \"label\");\n        i0.ɵɵtext(12);\n        i0.ɵɵpipe(13, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"div\", 7);\n        i0.ɵɵelement(15, \"input\", 8);\n        i0.ɵɵpipe(16, \"translate\");\n        i0.ɵɵelementStart(17, \"div\", 9);\n        i0.ɵɵelement(18, \"mat-datepicker-toggle\", 10);\n        i0.ɵɵelement(19, \"mat-datepicker\", null, 11);\n        i0.ɵɵelement(21, \"br\");\n        i0.ɵɵelement(22, \"br\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(23, \"validation-message\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"div\", 5);\n        i0.ɵɵelementStart(25, \"div\", 6);\n        i0.ɵɵelementStart(26, \"label\");\n        i0.ɵɵtext(27);\n        i0.ɵɵpipe(28, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(29, \"input\", 13);\n        i0.ɵɵpipe(30, \"translate\");\n        i0.ɵɵpipe(31, \"translate\");\n        i0.ɵɵelement(32, \"validation-message\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"div\", 14);\n        i0.ɵɵelementStart(34, \"div\", 6);\n        i0.ɵɵelementStart(35, \"label\", 15);\n        i0.ɵɵtext(36);\n        i0.ɵɵpipe(37, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(38, \"ng-select\", 16);\n        i0.ɵɵlistener(\"clear\", function AddupdatecashvoucherComponent_Template_ng_select_clear_38_listener() {\n          return ctx.resetCodeSegmentReadonly();\n        })(\"change\", function AddupdatecashvoucherComponent_Template_ng_select_change_38_listener($event) {\n          return ctx.customerChange($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(39, \"div\", 14);\n        i0.ɵɵelementStart(40, \"div\", 6);\n        i0.ɵɵelementStart(41, \"label\", 15);\n        i0.ɵɵtext(42);\n        i0.ɵɵpipe(43, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(44, \"ng-select\", 17);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(45, \"div\", 5);\n        i0.ɵɵelementStart(46, \"div\", 6);\n        i0.ɵɵelementStart(47, \"label\");\n        i0.ɵɵtext(48);\n        i0.ɵɵpipe(49, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(50, \"select\", 18);\n        i0.ɵɵlistener(\"change\", function AddupdatecashvoucherComponent_Template_select_change_50_listener($event) {\n          return ctx.loadBranchs($event);\n        });\n        i0.ɵɵelementStart(51, \"option\", 19);\n        i0.ɵɵtext(52);\n        i0.ɵɵpipe(53, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(54, AddupdatecashvoucherComponent_option_54_Template, 2, 2, \"option\", 20);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(55, \"validation-message\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(56, \"div\", 5);\n        i0.ɵɵelementStart(57, \"div\", 21);\n        i0.ɵɵelementStart(58, \"label\", 15);\n        i0.ɵɵtext(59);\n        i0.ɵɵpipe(60, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(61, \" \\u00A0\\u00A0 \");\n        i0.ɵɵelementStart(62, \"mat-slide-toggle\", 22);\n        i0.ɵɵlistener(\"change\", function AddupdatecashvoucherComponent_Template_mat_slide_toggle_change_62_listener($event) {\n          return ctx.hasBranchHiddenChecked($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(63, \"select\", 23);\n        i0.ɵɵlistener(\"change\", function AddupdatecashvoucherComponent_Template_select_change_63_listener($event) {\n          return ctx.selectBranch($event);\n        });\n        i0.ɵɵelementStart(64, \"option\", 19);\n        i0.ɵɵtext(65);\n        i0.ɵɵpipe(66, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(67, AddupdatecashvoucherComponent_option_67_Template, 2, 2, \"option\", 20);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(68, \"validation-message\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(69, \"div\", 5);\n        i0.ɵɵelementStart(70, \"div\", 6);\n        i0.ɵɵelementStart(71, \"label\");\n        i0.ɵɵtext(72);\n        i0.ɵɵpipe(73, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(74, \"input\", 24);\n        i0.ɵɵpipe(75, \"translate\");\n        i0.ɵɵpipe(76, \"translate\");\n        i0.ɵɵelement(77, \"validation-message\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(78, \"div\", 25);\n        i0.ɵɵelementStart(79, \"div\", 6);\n        i0.ɵɵelementStart(80, \"label\", 15);\n        i0.ɵɵtext(81);\n        i0.ɵɵpipe(82, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(83, \"select\", 26);\n        i0.ɵɵelementStart(84, \"option\", 19);\n        i0.ɵɵtext(85);\n        i0.ɵɵpipe(86, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(87, AddupdatecashvoucherComponent_option_87_Template, 2, 2, \"option\", 20);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(88, \"validation-message\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(89, \"div\", 5);\n        i0.ɵɵelementStart(90, \"div\", 21);\n        i0.ɵɵelementStart(91, \"label\", 15);\n        i0.ɵɵtext(92);\n        i0.ɵɵpipe(93, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(94, \"select\", 27);\n        i0.ɵɵlistener(\"change\", function AddupdatecashvoucherComponent_Template_select_change_94_listener($event) {\n          return ctx.selectVoucherType($event);\n        });\n        i0.ɵɵelementStart(95, \"option\", 19);\n        i0.ɵɵtext(96);\n        i0.ɵɵpipe(97, \"translate\");\n        i0.ɵɵpipe(98, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(99, \"option\", 28);\n        i0.ɵɵtext(100);\n        i0.ɵɵpipe(101, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(102, \"option\", 29);\n        i0.ɵɵtext(103);\n        i0.ɵɵpipe(104, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(105, \"validation-message\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(106, \"div\", 5);\n        i0.ɵɵelementStart(107, \"div\", 6);\n        i0.ɵɵelementStart(108, \"label\");\n        i0.ɵɵtext(109);\n        i0.ɵɵpipe(110, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(111, \"ng-select\", 30);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(112, \"div\", 31);\n        i0.ɵɵelementStart(113, \"div\", 6);\n        i0.ɵɵelementStart(114, \"label\");\n        i0.ɵɵtext(115);\n        i0.ɵɵpipe(116, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(117, \"textarea\", 32);\n        i0.ɵɵpipe(118, \"translate\");\n        i0.ɵɵpipe(119, \"translate\");\n        i0.ɵɵtext(120, \"                  \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(121, \"div\", 31);\n        i0.ɵɵelementStart(122, \"div\", 6);\n        i0.ɵɵelementStart(123, \"label\");\n        i0.ɵɵtext(124);\n        i0.ɵɵpipe(125, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(126, \"textarea\", 33);\n        i0.ɵɵpipe(127, \"translate\");\n        i0.ɵɵpipe(128, \"translate\");\n        i0.ɵɵtext(129, \"                  \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(130, \"div\", 34);\n        i0.ɵɵelementStart(131, \"table\", 35);\n        i0.ɵɵelementStart(132, \"thead\");\n        i0.ɵɵelementStart(133, \"tr\");\n        i0.ɵɵtemplate(134, AddupdatecashvoucherComponent_th_134_Template, 3, 3, \"th\", 36);\n        i0.ɵɵtemplate(135, AddupdatecashvoucherComponent_ng_container_135_Template, 7, 6, \"ng-container\", 37);\n        i0.ɵɵtemplate(136, AddupdatecashvoucherComponent_ng_container_136_Template, 4, 3, \"ng-container\", 37);\n        i0.ɵɵelementStart(137, \"th\", 38);\n        i0.ɵɵtext(138);\n        i0.ɵɵpipe(139, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(140, \"th\");\n        i0.ɵɵtext(141);\n        i0.ɵɵpipe(142, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(143, \"th\");\n        i0.ɵɵtext(144);\n        i0.ɵɵpipe(145, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(146, \"th\");\n        i0.ɵɵtext(147);\n        i0.ɵɵpipe(148, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(149, \"th\");\n        i0.ɵɵtext(150);\n        i0.ɵɵpipe(151, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(152, AddupdatecashvoucherComponent_th_152_Template, 3, 3, \"th\", 39);\n        i0.ɵɵtemplate(153, AddupdatecashvoucherComponent_th_153_Template, 3, 3, \"th\", 39);\n        i0.ɵɵelement(154, \"th\", 40);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(155, \"tbody\");\n        i0.ɵɵelementStart(156, \"tr\");\n        i0.ɵɵtemplate(157, AddupdatecashvoucherComponent_td_157_Template, 6, 8, \"td\", 37);\n        i0.ɵɵtemplate(158, AddupdatecashvoucherComponent_ng_container_158_Template, 5, 8, \"ng-container\", 37);\n        i0.ɵɵtemplate(159, AddupdatecashvoucherComponent_ng_container_159_Template, 3, 4, \"ng-container\", 37);\n        i0.ɵɵelementStart(160, \"td\");\n        i0.ɵɵelementStart(161, \"ng-select\", 41);\n        i0.ɵɵlistener(\"ngModelChange\", function AddupdatecashvoucherComponent_Template_ng_select_ngModelChange_161_listener($event) {\n          return ctx.finAcCode = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(162, \"td\");\n        i0.ɵɵelementStart(163, \"textarea\", 42);\n        i0.ɵɵlistener(\"ngModelChange\", function AddupdatecashvoucherComponent_Template_textarea_ngModelChange_163_listener($event) {\n          return ctx.description = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(164, \"td\");\n        i0.ɵɵelementStart(165, \"textarea\", 43);\n        i0.ɵɵlistener(\"ngModelChange\", function AddupdatecashvoucherComponent_Template_textarea_ngModelChange_165_listener($event) {\n          return ctx.remarks = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(166, \"td\");\n        i0.ɵɵelementStart(167, \"ng-select\", 44);\n        i0.ɵɵlistener(\"ngModelChange\", function AddupdatecashvoucherComponent_Template_ng_select_ngModelChange_167_listener($event) {\n          return ctx.costAllocation = $event;\n        })(\"change\", function AddupdatecashvoucherComponent_Template_ng_select_change_167_listener($event) {\n          return ctx.loadSegCodedata($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(168, \"td\");\n        i0.ɵɵelementStart(169, \"ng-select\", 45);\n        i0.ɵɵlistener(\"ngModelChange\", function AddupdatecashvoucherComponent_Template_ng_select_ngModelChange_169_listener($event) {\n          return ctx.costSegCode = $event;\n        })(\"change\", function AddupdatecashvoucherComponent_Template_ng_select_change_169_listener($event) {\n          return ctx.selectSegCodedata($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(170, \"td\");\n        i0.ɵɵelementStart(171, \"input\", 46);\n        i0.ɵɵlistener(\"ngModelChange\", function AddupdatecashvoucherComponent_Template_input_ngModelChange_171_listener($event) {\n          return ctx.payment = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(172, \"td\");\n        i0.ɵɵelementStart(173, \"i\", 47);\n        i0.ɵɵlistener(\"click\", function AddupdatecashvoucherComponent_Template_i_click_173_listener() {\n          return ctx.addItem();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(174, \" \\u00A0\\u00A0 \");\n        i0.ɵɵelementStart(175, \"i\", 48);\n        i0.ɵɵlistener(\"click\", function AddupdatecashvoucherComponent_Template_i_click_175_listener() {\n          return ctx.setToDefault();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(176, AddupdatecashvoucherComponent_tbody_176_Template, 2, 1, \"tbody\", 37);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(177, \"div\", 4);\n        i0.ɵɵelementStart(178, \"div\", 49);\n        i0.ɵɵelementStart(179, \"button\", 50);\n        i0.ɵɵlistener(\"click\", function AddupdatecashvoucherComponent_Template_button_click_179_listener() {\n          return ctx.closeModel();\n        });\n        i0.ɵɵtext(180);\n        i0.ɵɵpipe(181, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(182, \" \\u00A0\\u00A0 \");\n        i0.ɵɵelement(183, \"input\", 51);\n        i0.ɵɵpipe(184, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        const _r0 = i0.ɵɵreference(20);\n\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 78, \"Create_New_Cash_Voucher\"), \" \");\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"formGroup\", ctx.form);\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(13, 80, \"Date\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵpropertyInterpolate(\"placeholder\", i0.ɵɵpipeBind1(16, 82, \"Select_a_Date\"));\n        i0.ɵɵproperty(\"matDatepicker\", _r0);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"for\", _r0);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"control\", ctx.form.controls.jvDate);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(28, 84, \"Amount\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵpropertyInterpolate2(\"placeholder\", \"\", i0.ɵɵpipeBind1(30, 86, \"PleaseEnter\"), \" \", i0.ɵɵpipeBind1(31, 88, \"Amount\"), \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"control\", ctx.form.controls.amount);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(37, 90, \"Customer\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"items\", ctx.customerList);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(43, 92, \"Customer_Sites\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"items\", ctx.customerSiteList);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(49, 94, \"Company\"));\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(53, 96, \"Select_Organization\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.companyList);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"control\", ctx.form.controls.companyId);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(60, 98, \"Branch\"));\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(66, 100, \"Select_Branch\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.branchList);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"control\", ctx.form.controls.branchCode);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(73, 102, \"DocumentNumber\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵpropertyInterpolate2(\"placeholder\", \"\", i0.ɵɵpipeBind1(75, 104, \"PleaseEnter\"), \" \", i0.ɵɵpipeBind1(76, 106, \"DocumentNumber\"), \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"control\", ctx.form.controls.docNum);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(82, 108, \"Cash_Book_Code\"));\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(86, 110, \"Cash_Book_Code\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.payCodeList);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"control\", ctx.form.controls.cBookCode);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(93, 112, \"VoucherType\"));\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate2(\"\", i0.ɵɵpipeBind1(97, 114, \"Choose\"), \" \", i0.ɵɵpipeBind1(98, 116, \"VoucherType\"), \"\");\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(101, 118, \"Receipts\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(104, 120, \"Payment\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"control\", ctx.form.controls.voucherType);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(110, 122, \"Batch\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"items\", ctx.batchSetupList);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(116, 124, \"Remarks\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵpropertyInterpolate2(\"placeholder\", \"\", i0.ɵɵpipeBind1(118, 126, \"PleaseEnter\"), \" \", i0.ɵɵpipeBind1(119, 128, \"Remarks\"), \"\");\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(125, 130, \"Narration\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵpropertyInterpolate2(\"placeholder\", \"\", i0.ɵɵpipeBind1(127, 132, \"PleaseEnter\"), \" \", i0.ɵɵpipeBind1(128, 134, \"Narration\"), \"\");\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngIf\", ctx.hasBranchHidden);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isSeg2);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isSeg1);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(139, 136, \"A_C_Code\"), \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(142, 138, \"Description\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(145, 140, \"Line_Remarks\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(148, 142, \"CostAllocation\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(151, 144, \"CostSegCode\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.isPaymentType);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.isPaymentType);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.hasBranchHidden);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isSeg2);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isSeg1);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"items\", ctx.accountCodeList)(\"ngModel\", ctx.finAcCode)(\"ngModelOptions\", i0.ɵɵpureFunction0(150, _c0));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.description)(\"ngModelOptions\", i0.ɵɵpureFunction0(151, _c0));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.remarks)(\"ngModelOptions\", i0.ɵɵpureFunction0(152, _c0));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"items\", ctx.costAllocationList)(\"ngModel\", ctx.costAllocation)(\"ngModelOptions\", i0.ɵɵpureFunction0(153, _c0))(\"readonly\", ctx.isCodeSegmentReadonly);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"items\", ctx.costSegCodeList)(\"ngModel\", ctx.costSegCode)(\"ngModelOptions\", i0.ɵɵpureFunction0(154, _c0))(\"readonly\", ctx.isCodeSegmentReadonly);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.payment)(\"ngModelOptions\", i0.ɵɵpureFunction0(155, _c0));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.itemList.length > 0);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(181, 146, \"Cancel\"), \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵpropertyInterpolate(\"value\", i0.ɵɵpipeBind1(184, 148, \"Save\"));\n      }\n    },\n    directives: [i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.DefaultValueAccessor, i8.MatDatepickerInput, i1.NgControlStatus, i1.FormControlName, i8.MatDatepickerToggle, i9.MatSuffix, i8.MatDatepicker, i10.ValidationMessagesComponent, i1.NumberValueAccessor, i11.NgSelectComponent, i1.SelectControlValueAccessor, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i12.NgForOf, i13.MatSlideToggle, i12.NgIf, i1.NgModel],\n    pipes: [i14.TranslatePipe],\n    encapsulation: 2\n  });\n  return AddupdatecashvoucherComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}