"use strict";(self.webpackChunkclient_app=self.webpackChunkclient_app||[]).push([[502],{6502:(KZ,pt,y)=>{y.r(pt),y.d(pt,{FinancemgsetupModule:()=>WZ});var d=y(8583),Nt=y(7453),Q=y(4655),q=y(9692),x=y(1494),p=y(2789),v=y(5289),L=y(4913),s=y(3679),t=y(7716),h=y(5830),_=y(3048),A=y(7278),T=y(2238),f=y(2013),O=y(7928),j=y(4376),M=y(3250),m=y(1627),U=y(8295),F=y(5396),Z=y(9790);function Ot(i,a){if(1&i&&(t.TgZ(0,"option",37),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function wt(i,a){if(1&i&&(t.TgZ(0,"option",37),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function kt(i,a){if(1&i&&(t.TgZ(0,"option",37),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.text),t.xp6(1),t.Oqu(e.text)}}function It(i,a){if(1&i&&(t.TgZ(0,"div",8),t.TgZ(1,"div",9),t.TgZ(2,"label",10),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"input",38),t.ALo(6,"translate"),t.ALo(7,"translate"),t._UZ(8,"validation-message",12),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(3),t.hij("",t.lcZ(4,4,"checkNumber")," "),t.xp6(2),t.hYB("placeholder","",t.lcZ(6,6,"Please_Enter"),"  ",t.lcZ(7,8,"checkNumber")," "),t.xp6(3),t.Q6J("control",e.form.controls.checkNumber)}}function Mt(i,a){if(1&i&&(t.TgZ(0,"div",8),t.TgZ(1,"label",10),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",9),t.TgZ(5,"div",17),t._UZ(6,"input",39),t.ALo(7,"translate"),t.TgZ(8,"div",19),t._UZ(9,"mat-datepicker-toggle",20),t._UZ(10,"mat-datepicker",null,40),t._UZ(12,"br"),t._UZ(13,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.MAs(11);t.xp6(2),t.Oqu(t.lcZ(3,4,"checkdate")),t.xp6(4),t.s9C("placeholder",t.lcZ(7,6,"Select_a_Date")),t.Q6J("matDatepicker",e),t.xp6(3),t.Q6J("for",e)}}function Jt(i,a){if(1&i&&(t.TgZ(0,"div",41),t.TgZ(1,"div",9),t.TgZ(2,"label",10),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"ng-select",42),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,2,"Invoice_Number")),t.xp6(2),t.Q6J("items",e.invoiceNumberList)}}let Dt=(()=>{class i{constructor(e,o,n,r,l,c,u,g){this.fb=e,this.apiService=o,this.authService=n,this.utilService=r,this.dialogRef=l,this.dialog=c,this.notifyService=u,this.validationService=g,this.id=0,this.IsEnableInvoice=!1,this.toBePaidAmount="",this.invoiceNumberList=[],this.customerSiteList=[],this.customerList=[],this.companyList=[],this.payCodeList=[],this.branchList=[],this.payCodeTypeList=[],this.invoiceItems=[],this.selectedInvoiceItems=[],this.selectedInvoiceIDs=[],this.selectedInvoiceIdList=[],this.IsCheckSelected=!1,this.payType="",this.customerCode="",this.totalAmount=0,this.totalAmountStr="",this.isArab=!1,this.isSiteSelected=!1,this.finsetup={minCutOffShortAmt:0,maxCutOffOverAmr:0}}ngOnInit(){this.isArab=this.utilService.isArabic(),this.setForm(),this.loadData(),this.loadFinSetupData()}setForm(){this.form=this.fb.group({custCode:["",s.kI.required],companyId:["",s.kI.required],branchCode:["",s.kI.required],tranDate:["",s.kI.required],payCode:["",s.kI.required],advAmount:["0",s.kI.required],invoiceNumber:[],preparedby:this.authService.getUserName(),remarks:[""],notes:[""],docNum:[""],checkNumber:[""],sndInvNum:[1],checkDate:[null]})}enableInvoice(e){this.IsEnableInvoice=e.checked,this.form.controls.invoiceNumber.setValue(null)}loadBranchsForCompany(e,o){e&&this.apiService.getall(`branch/getSelectSysBranchListByComId/${e}`).subscribe(n=>{n&&(this.branchList=n,"1"===o.payType&&(this.IsCheckSelected=!0),this.form.patchValue(o))})}loadFinSetupData(){this.apiService.getall("financialsetup/getFinSetup").subscribe(e=>{e&&(this.finsetup={minCutOffShortAmt:e.minCutOffShortAmt,maxCutOffOverAmr:e.maxCutOffOverAmr})})}loadData(){this.apiService.getall("paymentcodes/getSelectPaymentCodeList").subscribe(e=>{e&&(this.payCodeList=e)}),this.apiService.getall("vendor/getLanVendorsCustomList?isPayment=true").subscribe(e=>{e&&(this.customerList=e,this.customerList.map(n=>(n.text=this.isArab?n.textAr:n.text,n)))}),this.apiService.getall("company/getSelectCompanyList").subscribe(e=>{e&&(this.companyList=e)}),this.apiService.getall("paymentcodes/getSelectPaymentTypeList").subscribe(e=>{e&&(this.payCodeTypeList=e)})}setCheckNumber(e){let o=e.target.value;""!==o?this.apiService.getall(`paymentcodes?payCode=${o}`).subscribe(n=>{n&&(this.payType=n.finPayType,this.setCheckNumberInput(this.payType))}):this.setCheckNumberInput("")}setCheckNumberInput(e){""!==e?(this.form.controls.payType.setValue(e),"1"===e?(this.payType=e,this.IsCheckSelected=!0,this.form.controls.checkNumber.setValidators([s.kI.required]),this.form.controls.checkDate.setValidators([s.kI.required])):this.setCheckNumberInputDefault(),this.form.controls.checkNumber.updateValueAndValidity(),this.form.controls.checkDate.updateValueAndValidity()):(this.form.controls.payType.setValue(""),this.setCheckNumberInputDefault())}setCheckNumberInputDefault(){this.form.controls.checkNumber.setValue(""),this.form.controls.checkDate.setValue(null),this.form.controls.checkNumber.clearValidators(),this.form.controls.checkDate.clearValidators(),this.IsCheckSelected=!1}resetSiteInfo(){this.isSiteSelected=!1,this.loadCustomerInvoices(this.customerCode)}loadProductdata(e){let o=e.textTwo;this.form.controls.invoiceNumber.setValue(null),o?(this.customerCode=o,this.selectedInvoiceIDs=[],this.selectedInvoiceItems=[],this.totalAmount=0):this.toBePaidAmount="Amount to be Paid : 0"}loadCustomerInvoices(e){this.apiService.getall(`opmArPayment/getOpmArInvoiceList?customerCode=${e}`).subscribe(o=>{o&&(this.invoiceItems=o)})}loadBranchs(e){let o=e.target.value;o&&this.apiService.getall(`branch/getSelectSysBranchListByComId/${o}`).subscribe(n=>{n&&(this.branchList=n)})}submit(){this.form.valid?(this.form.value.tranDate=this.utilService.selectedDateTime(this.form.controls.tranDate.value),this.apiService.post("opmArPayment/createOpmCustomerAdvancePayment",this.form.value).subscribe(e=>{this.utilService.OkMessage(),this.reset(),this.dialogRef.close(!0)},e=>{this.utilService.ShowApiErrorMessage(e)})):this.utilService.FillUpFields()}reset(){this.form.controls.custCode.setValue(""),this.form.controls.branchCode.setValue(""),this.form.controls.companyId.setValue("")}closeModel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(T.so),t.Y36(T.uw),t.Y36(f.g),t.Y36(O.R))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-addupdateapadvancepayment"]],decls:124,vars:101,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-hidden","true",1,"close",3,"click"],["novalidate","",1,"mt-1",3,"formGroup","ngSubmit"],[1,"outer"],[1,"row","rowm0"],[1,"col-md-12","col-lg-12"],[1,"row"],[1,"col-md-3","col-lg-3"],[1,"form-group"],[1,"mr-sm-2"],["bindLabel","text","bindValue","textTwo","formControlName","custCode",3,"items","change"],[3,"control"],["formControlName","companyId",1,"custom-select","mr-sm-2",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","branchCode",1,"custom-select","mr-sm-2"],[1,"input-group","mb-2"],["formControlName","tranDate",1,"form-control","datapickerinput",3,"placeholder","matDatepicker"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["tranDate",""],["formControlName","payCode",1,"custom-select","mr-sm-2"],["type","number","formControlName","advAmount",1,"form-control",3,"placeholder"],["type","text","formControlName","preparedby",1,"form-control",3,"placeholder"],["type","text","formControlName","docNum",1,"form-control",3,"placeholder"],["class","col-md-3 col-lg-3",4,"ngIf"],[1,"col-md-6","col-lg-6"],["formControlName","remarks",1,"form-control",3,"placeholder"],["formControlName","notes",1,"form-control",3,"placeholder"],[1,"col-md-2","col-lg-2"],[1,"mtop6"],["color","primary",3,"change"],["class","col-md-4 col-lg-4",4,"ngIf"],[1,"col-lg-12","col-md-12","text-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","waves-effect","waves-light","btn-primary",3,"value"],[3,"value"],["type","text","formControlName","checkNumber","maxlength","10",1,"form-control",3,"placeholder"],["type","text","formControlName","checkDate",1,"form-control","datapickerinput",3,"placeholder","matDatepicker"],["checkdate",""],[1,"col-md-4","col-lg-4"],["bindLabel","text","bindValue","value","formControlName","invoiceNumber",3,"items"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"h2",1),t._uU(2),t.ALo(3,"translate"),t.TgZ(4,"button",2),t.NdJ("click",function(){return o.closeModel()}),t._uU(5," \xd7"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"form",3),t.NdJ("ngSubmit",function(){return o.submit()}),t.TgZ(7,"div",4),t.TgZ(8,"div",5),t.TgZ(9,"div",6),t.TgZ(10,"div",7),t.TgZ(11,"div",8),t.TgZ(12,"div",9),t.TgZ(13,"label",10),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"ng-select",11),t.NdJ("change",function(r){return o.loadProductdata(r)}),t.qZA(),t._UZ(17,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(18,"div",8),t.TgZ(19,"div",9),t.TgZ(20,"label",10),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"select",13),t.NdJ("change",function(r){return o.loadBranchs(r)}),t.TgZ(24,"option",14),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.YNc(27,Ot,2,2,"option",15),t.qZA(),t._UZ(28,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(29,"div",8),t.TgZ(30,"div",9),t.TgZ(31,"label",10),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"select",16),t.TgZ(35,"option",14),t._uU(36),t.ALo(37,"translate"),t.qZA(),t.YNc(38,wt,2,2,"option",15),t.qZA(),t._UZ(39,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(40,"div",8),t.TgZ(41,"label",10),t._uU(42),t.ALo(43,"translate"),t.qZA(),t.TgZ(44,"div",9),t.TgZ(45,"div",17),t._UZ(46,"input",18),t.ALo(47,"translate"),t.TgZ(48,"div",19),t._UZ(49,"mat-datepicker-toggle",20),t._UZ(50,"mat-datepicker",null,21),t.qZA(),t.qZA(),t._UZ(52,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(53,"div",8),t.TgZ(54,"div",9),t.TgZ(55,"label",10),t._uU(56),t.ALo(57,"translate"),t.qZA(),t.TgZ(58,"select",22),t.TgZ(59,"option",14),t._uU(60),t.ALo(61,"translate"),t.qZA(),t.YNc(62,kt,2,2,"option",15),t.qZA(),t._UZ(63,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(64,"div",8),t.TgZ(65,"div",9),t.TgZ(66,"label",10),t._uU(67),t.ALo(68,"translate"),t.qZA(),t._UZ(69,"input",23),t.ALo(70,"translate"),t.ALo(71,"translate"),t._UZ(72,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(73,"div",8),t.TgZ(74,"div",9),t.TgZ(75,"label",10),t._uU(76),t.ALo(77,"translate"),t.qZA(),t._UZ(78,"input",24),t.ALo(79,"translate"),t.ALo(80,"translate"),t._UZ(81,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(82,"div",8),t.TgZ(83,"div",9),t.TgZ(84,"label",10),t._uU(85),t.ALo(86,"translate"),t.qZA(),t._UZ(87,"input",25),t.ALo(88,"translate"),t.ALo(89,"translate"),t.qZA(),t.qZA(),t.YNc(90,It,9,10,"div",26),t.YNc(91,Mt,14,8,"div",26),t.TgZ(92,"div",27),t.TgZ(93,"div",9),t.TgZ(94,"label",10),t._uU(95),t.ALo(96,"translate"),t.qZA(),t._UZ(97,"textarea",28),t.ALo(98,"translate"),t.ALo(99,"translate"),t.qZA(),t.qZA(),t.TgZ(100,"div",27),t.TgZ(101,"div",9),t.TgZ(102,"label",10),t._uU(103),t.ALo(104,"translate"),t.qZA(),t._UZ(105,"textarea",29),t.ALo(106,"translate"),t.ALo(107,"translate"),t.qZA(),t.qZA(),t.TgZ(108,"div",30),t.TgZ(109,"label",31),t._uU(110),t.ALo(111,"translate"),t.qZA(),t._UZ(112,"br"),t.TgZ(113,"mat-slide-toggle",32),t.NdJ("change",function(r){return o.enableInvoice(r)}),t.qZA(),t.qZA(),t.YNc(114,Jt,6,4,"div",33),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(115,"div",4),t.TgZ(116,"div",7),t.TgZ(117,"div",34),t.TgZ(118,"button",35),t.NdJ("click",function(){return o.closeModel()}),t._uU(119),t.ALo(120,"translate"),t.qZA(),t._uU(121," \xa0\xa0 "),t._UZ(122,"input",36),t.ALo(123,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e){const n=t.MAs(51);t.xp6(2),t.hij(" ",t.lcZ(3,45,"Create_New_Vendor_Advance_Payment")," "),t.xp6(4),t.Q6J("formGroup",o.form),t.xp6(8),t.Oqu(t.lcZ(15,47,"Vendor_Name")),t.xp6(2),t.Q6J("items",o.customerList),t.xp6(1),t.Q6J("control",o.form.controls.custCode),t.xp6(4),t.Oqu(t.lcZ(22,49,"Organization")),t.xp6(4),t.Oqu(t.lcZ(26,51,"Select_Organization")),t.xp6(2),t.Q6J("ngForOf",o.companyList),t.xp6(1),t.Q6J("control",o.form.controls.companyId),t.xp6(4),t.Oqu(t.lcZ(33,53,"Branch")),t.xp6(4),t.Oqu(t.lcZ(37,55,"Select_Branch")),t.xp6(2),t.Q6J("ngForOf",o.branchList),t.xp6(1),t.Q6J("control",o.form.controls.branchCode),t.xp6(3),t.Oqu(t.lcZ(43,57,"Payment_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(47,59,"Select_a_Date")),t.Q6J("matDatepicker",n),t.xp6(3),t.Q6J("for",n),t.xp6(3),t.Q6J("control",o.form.controls.tranDate),t.xp6(4),t.Oqu(t.lcZ(57,61,"PayCode")),t.xp6(4),t.Oqu(t.lcZ(61,63,"Select_Organization")),t.xp6(2),t.Q6J("ngForOf",o.payCodeList),t.xp6(1),t.Q6J("control",o.form.controls.payCode),t.xp6(4),t.Oqu(t.lcZ(68,65,"amount")),t.xp6(2),t.hYB("placeholder","",t.lcZ(70,67,"Please_Enter")," ",t.lcZ(71,69,"Invoice_Reference_Number"),""),t.xp6(3),t.Q6J("control",o.form.controls.advAmount),t.xp6(4),t.hij(" ",t.lcZ(77,71,"preparedby")," "),t.xp6(2),t.hYB("placeholder"," ",t.lcZ(79,73,"Please_Enter"),"  ",t.lcZ(80,75,"LPO_Contract"),""),t.xp6(3),t.Q6J("control",o.form.controls.preparedby),t.xp6(4),t.hij(" ",t.lcZ(86,77,"Doc_Number")," "),t.xp6(2),t.hYB("placeholder"," ",t.lcZ(88,79,"Please_Enter"),"  ",t.lcZ(89,81,"Doc_Number"),""),t.xp6(3),t.Q6J("ngIf",o.IsCheckSelected),t.xp6(1),t.Q6J("ngIf",o.IsCheckSelected),t.xp6(4),t.Oqu(t.lcZ(96,83,"Remarks")),t.xp6(2),t.hYB("placeholder","",t.lcZ(98,85,"PLease_Enter")," ",t.lcZ(99,87,"Remarks"),""),t.xp6(6),t.Oqu(t.lcZ(104,89,"Invoice_Notes")),t.xp6(2),t.hYB("placeholder","",t.lcZ(106,91,"PLease_Enter")," ",t.lcZ(107,93,"Invoice_Notes"),""),t.xp6(5),t.hij(" ",t.lcZ(111,95,"Payment_Against_Invoice")," "),t.xp6(4),t.Q6J("ngIf",o.IsEnableInvoice),t.xp6(5),t.hij(" ",t.lcZ(120,97,"Cancel")," "),t.xp6(3),t.s9C("value",t.lcZ(123,99,"Save"))}},directives:[s._Y,s.JL,s.sg,j.w9,s.JJ,s.u,M.s,s.EJ,s.YN,s.Kr,d.sg,s.Fj,m.hl,m.nW,U.R9,m.Mq,s.wV,d.O5,F.Rr,s.nD],pipes:[Z.X$],encapsulation:2}),i})();var k=y(6397),z=y(8590),b=y(4041);function Pt(i,a){1&i&&(t.TgZ(0,"th",31),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Vendor_Code")," "))}function Yt(i,a){if(1&i&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.custCode)}}function Qt(i,a){1&i&&(t.TgZ(0,"th",31),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Vendor_Name")," "))}function jt(i,a){if(1&i&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.customerName)}}function Ft(i,a){1&i&&(t.TgZ(0,"th",31),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Transaction_Date")," "))}function Bt(i,a){if(1&i&&(t.TgZ(0,"td",32),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.tranDate,"dd/MM/yyyy"))}}function Vt(i,a){1&i&&(t.TgZ(0,"th",31),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"PayCode")," "))}function Rt(i,a){if(1&i&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.payCode)}}function Et(i,a){1&i&&(t.TgZ(0,"th",31),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"amount")," "))}function $t(i,a){if(1&i&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.advAmount)}}function zt(i,a){1&i&&t._UZ(0,"tr",33)}function Ht(i,a){1&i&&t._UZ(0,"tr",34)}let Gt=(()=>{class i extends L.k{constructor(e,o,n,r,l,c,u,g,C,S){super(r),this.fb=e,this.router=o,this.apiService=n,this.authService=r,this.utilService=l,this.translate=c,this.notifyService=u,this.validationService=g,this.pageService=C,this.dialog=S,this.displayedColumns=["custCode","customerName","tranDate","payCode","advAmount"],this.data=new p.by,this.totalItemsCount=0,this.searchValue="",this.sortingOrder="id desc",this.isLoading=!1}ngOnInit(){this.initialLoading()}refresh(){this.searchValue="",this.initialLoading()}initialLoading(){this.loadList(0,this.pageService.pageCount,"",this.sortingOrder)}onSortOrder(e){this.sortingOrder=e.active+" "+e.direction,this.totalItemsCount=0,this.loadList(0,this.pageService.pageCount,"",this.sortingOrder)}onPageSwitch(e){this.pageService.change(e),this.loadList(e.pageIndex,e.pageSize,"",this.sortingOrder)}loadList(e,o,n,r){this.isLoading=!0,this.apiService.getPagination("opmArPayment/getCustomerAdvancePaymentPazedList",this.utilService.getQueryString(e,o,n,r,"","1")).subscribe(l=>{this.totalItemsCount=0,this.data=new p.by(l.items),this.totalItemsCount=l.totalCount,setTimeout(()=>{this.paginator.pageIndex=e,this.paginator.length=this.totalItemsCount}),this.data.sort=this.sort,this.isLoading=!1},l=>this.utilService.ShowApiErrorMessage(l))}applyFilter(e){e&&(this.searchValue=e,this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder))}openDialogManage(e=0,o,n="",r="",l){let c=this.utilService.openCrudDialog(this.dialog,l,"98");c.componentInstance.dbops=o,c.componentInstance.modalTitle=n,c.componentInstance.id=e,c.afterClosed().subscribe(u=>{u&&!0===u&&this.initialLoading()})}addAdvance(){this.openDialogManage(0,v.Oi.update,this.translate.instant("Add_Advance_Payment"),"",Dt)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(Q.F0),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(Z.sK),t.Y36(f.g),t.Y36(O.R),t.Y36(k.N),t.Y36(T.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-apadvancepayment"]],viewQuery:function(e,o){if(1&e&&(t.Gf(q.NW,7),t.Gf(x.YE,7)),2&e){let n;t.iGM(n=t.CRH())&&(o.paginator=n.first),t.iGM(n=t.CRH())&&(o.sort=n.first)}},features:[t.qOj],decls:51,vars:24,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"row","pb-3"],[1,"card-title","pt6"],[1,"col-md-3"],[1,"form-control",3,"placeholder","ngModel","ngModelChange"],[1,"col-md-4","arabicright"],[1,"btn","btn-primary",3,"click"],[1,"",3,"matTooltip","click"],[1,"btn","btn-primary","icon-refresh"],[1,"col-md-5","col-lg-5","text-right"],["data-toggle","modal","data-target","#createnewbranch","href","#",1,"btn","waves-effect","waves-light","btn-rounded","btn-outline-primary",3,"click"],[1,"icon-plus"],[1,"cardtitle-divider"],[1,"table-responsive"],[3,"isLoading"],[1,"mat-elevation-z8"],["mat-table","","matSortDisableClear","","matSort","",1,"table","table-bordered","no-wrap",3,"dataSource","matSortChange"],["matColumnDef","custCode"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","customerName"],["matColumnDef","tranDate"],["matColumnDef","payCode"],["matColumnDef","advAmount"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions","page"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"div",2),t.TgZ(7,"h4",6),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.qZA(),t.TgZ(10,"div",7),t.TgZ(11,"input",8),t.NdJ("ngModelChange",function(r){return o.searchValue=r}),t.ALo(12,"translate"),t.qZA(),t.qZA(),t.TgZ(13,"div",9),t.TgZ(14,"button",10),t.NdJ("click",function(){return o.applyFilter(o.searchValue)}),t._uU(15),t.ALo(16,"translate"),t.qZA(),t._uU(17," \xa0 "),t.TgZ(18,"a",11),t.NdJ("click",function(){return o.refresh()}),t.ALo(19,"translate"),t._UZ(20,"i",12),t.qZA(),t.qZA(),t.TgZ(21,"div",13),t.TgZ(22,"a",14),t.NdJ("click",function(){return o.addAdvance()}),t._UZ(23,"i",15),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.qZA(),t.qZA(),t._UZ(26,"div",16),t.TgZ(27,"div",17),t._UZ(28,"spinner-loader",18),t.TgZ(29,"div",19),t.ynx(30),t.TgZ(31,"table",20),t.NdJ("matSortChange",function(r){return o.onSortOrder(r)}),t.ynx(32,21),t.YNc(33,Pt,3,3,"th",22),t.YNc(34,Yt,2,1,"td",23),t.BQk(),t.ynx(35,24),t.YNc(36,Qt,3,3,"th",22),t.YNc(37,jt,2,1,"td",23),t.BQk(),t.ynx(38,25),t.YNc(39,Ft,3,3,"th",22),t.YNc(40,Bt,3,4,"td",23),t.BQk(),t.ynx(41,26),t.YNc(42,Vt,3,3,"th",22),t.YNc(43,Rt,2,1,"td",23),t.BQk(),t.ynx(44,27),t.YNc(45,Et,3,3,"th",22),t.YNc(46,$t,2,1,"td",23),t.BQk(),t.YNc(47,zt,1,0,"tr",28),t.YNc(48,Ht,1,0,"tr",29),t.qZA(),t.ynx(49),t.TgZ(50,"mat-paginator",30),t.NdJ("page",function(r){return o.onPageSwitch(r)}),t.qZA(),t.BQk(),t.BQk(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(8),t.hij("",t.lcZ(9,14,"Add_Advance_Payment_List")," "),t.xp6(3),t.MGl("placeholder","",t.lcZ(12,16,"Search"),"..."),t.Q6J("ngModel",o.searchValue),t.xp6(4),t.Oqu(t.lcZ(16,18,"Search")),t.xp6(3),t.s9C("matTooltip",t.lcZ(19,20,"Refresh")),t.xp6(6),t.hij("",t.lcZ(25,22,"Add_Advance_Payment")," "),t.xp6(4),t.Q6J("isLoading",o.isLoading),t.xp6(3),t.Q6J("dataSource",o.data),t.xp6(16),t.Q6J("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(2),t.Q6J("length",o.totalItemsCount)("pageSize",o.pageService.pageCount)("pageSizeOptions",o.pageService.selectItemsPerPage))},directives:[s.Fj,s.JJ,s.On,z.gM,b.r,p.BZ,x.YE,p.w1,p.fO,p.Dz,p.as,p.nj,q.NW,p.ge,x.nU,p.ev,p.XQ,p.Gk],pipes:[Z.X$,d.uU],encapsulation:2}),i})();var H=y(4803);function Xt(i,a){if(1&i&&(t.TgZ(0,"option",33),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function Wt(i,a){if(1&i&&(t.TgZ(0,"option",33),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function Kt(i,a){if(1&i&&(t.TgZ(0,"option",33),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.text),t.xp6(1),t.Oqu(e.text)}}function te(i,a){if(1&i&&(t.TgZ(0,"option",33),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function ee(i,a){if(1&i&&(t.TgZ(0,"div",7),t.TgZ(1,"div",8),t.TgZ(2,"label",9),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"input",34),t.ALo(6,"translate"),t.ALo(7,"translate"),t._UZ(8,"validation-message",11),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(3),t.hij("",t.lcZ(4,4,"checkNumber")," "),t.xp6(2),t.hYB("placeholder","",t.lcZ(6,6,"Please_Enter"),"  ",t.lcZ(7,8,"TAX_Id_Number")," "),t.xp6(3),t.Q6J("control",e.form.controls.checkNumber)}}function oe(i,a){if(1&i&&(t.TgZ(0,"div",7),t.TgZ(1,"label",9),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",8),t.TgZ(5,"div",16),t._UZ(6,"input",35),t.ALo(7,"translate"),t._UZ(8,"validation-message",11),t.TgZ(9,"div",18),t._UZ(10,"mat-datepicker-toggle",19),t._UZ(11,"mat-datepicker",null,36),t._UZ(13,"br"),t._UZ(14,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.MAs(12),o=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,5,"checkdate")),t.xp6(4),t.s9C("placeholder",t.lcZ(7,7,"Select_a_Date")),t.Q6J("matDatepicker",e),t.xp6(2),t.Q6J("control",o.form.controls.checkdate),t.xp6(2),t.Q6J("for",e)}}let dt=(()=>{class i{constructor(e,o,n,r,l,c,u){this.fb=e,this.apiService=o,this.authService=n,this.utilService=r,this.dialogRef=l,this.notifyService=c,this.validationService=u,this.id=0,this.toBePaidAmount="",this.customerList=[],this.companyList=[],this.payCodeList=[],this.branchList=[],this.payCodeTypeList=[],this.IsCheckSelected=!1,this.payType=""}ngOnInit(){this.setForm(),this.loadData(),this.id>0&&this.setEditForm()}setForm(){this.form=this.fb.group({vendCode:["",s.kI.required],companyId:["",s.kI.required],branchCode:["",s.kI.required],tranDate:["",s.kI.required],payCode:["",s.kI.required],payType:["",s.kI.required],amount:["",s.kI.required],narration:["",s.kI.required],preparedby:["",s.kI.required],remarks:[""],checkNumber:[""],checkDate:[null]})}setEditForm(){this.apiService.get("vendorPayment",this.id).subscribe(e=>{e&&this.loadBranchsForCompany(e.companyId,e)})}loadBranchsForCompany(e,o){e&&this.apiService.getall(`branch/getSelectSysBranchListByComId/${e}`).subscribe(n=>{n&&(this.branchList=n,"1"===o.payType&&(this.IsCheckSelected=!0),this.form.patchValue(o))})}loadData(){this.apiService.getall("paymentcodes/getSelectPaymentCodeList").subscribe(e=>{e&&(this.payCodeList=e)}),this.apiService.getall("vendor/getLanVendorsCustomList?isPayment=true").subscribe(e=>{e&&(this.customerList=e)}),this.apiService.getall("company/getSelectCompanyList").subscribe(e=>{e&&(this.companyList=e)}),this.apiService.getall("paymentcodes/getSelectPaymentTypeList").subscribe(e=>{e&&(this.payCodeTypeList=e)})}setCheckNumber(e){let o=e.target.value;""!==o?this.apiService.getall(`paymentcodes?payCode=${o}`).subscribe(n=>{n&&(this.payType=n.finPayType,this.setCheckNumberInput(this.payType))}):this.setCheckNumberInput("")}setCheckNumberInput(e){""!==e?(this.form.controls.payType.setValue(e),"1"===e?(this.payType=e,this.IsCheckSelected=!0,this.form.controls.checkNumber.setValidators([s.kI.required]),this.form.controls.checkDate.setValidators([s.kI.required])):this.setCheckNumberInputDefault(),this.form.controls.checkNumber.updateValueAndValidity(),this.form.controls.checkDate.updateValueAndValidity()):(this.form.controls.payType.setValue(""),this.setCheckNumberInputDefault())}setCheckNumberInputDefault(){this.form.controls.checkNumber.setValue(""),this.form.controls.checkDate.setValue(null),this.form.controls.checkNumber.clearValidators(),this.form.controls.checkDate.clearValidators(),this.IsCheckSelected=!1}loadProductdata(e){let o=e.textTwo;o?this.apiService.getall(`vendorPayment/getVendorToBePaidAmount?customerCode=${o}`).subscribe(n=>{n&&(this.toBePaidAmount=n.isPaid?"Amount to be Paid : 0":`Amount to be Paid : <br> (Invoice Amount) ${n.netAmount} - [ (Paid Amount) ${n.paidAmount} + (Advance Amount) ${n.appliedAmount} ] = ${n.tobePaidAmount} `)}):this.toBePaidAmount="Amount to be Paid : 0"}loadBranchs(e){let o=e.target.value;o&&this.apiService.getall(`branch/getSelectSysBranchListByComId/${o}`).subscribe(n=>{n&&(this.branchList=n)})}submit(){this.form.valid?(this.id>0&&(this.form.value.id=this.id),"1"!==this.payType&&delete this.form.value.checkdate,this.form.value.tranDate=this.utilService.selectedDate(this.form.controls.tranDate.value),this.form.controls.checkDate.value&&(this.form.value.checkDate=this.utilService.selectedDate(this.form.controls.checkDate.value)),this.apiService.post("vendorPayment",this.form.value).subscribe(e=>{this.utilService.OkMessage(),this.reset(),this.dialogRef.close(!0)},e=>{console.error(e),this.utilService.ShowApiErrorMessage(e)})):this.utilService.FillUpFields()}reset(){this.form.controls.vendCode.setValue(""),this.form.controls.branchCode.setValue(""),this.form.controls.companyId.setValue("")}closeModel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(T.so),t.Y36(f.g),t.Y36(O.R))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-addupdatevendorpayment"]],decls:120,vars:98,consts:[[1,"modal-title"],["type","button","aria-hidden","true",1,"close",3,"click"],["novalidate","",1,"mt-1",3,"formGroup","ngSubmit"],[1,"outer"],[1,"row","rowm0"],[1,"col-md-12","col-lg-12"],[1,"row"],[1,"col-md-3","col-lg-3"],[1,"form-group"],[1,"mr-sm-2"],["bindLabel","text","bindValue","textTwo","formControlName","vendCode",3,"items","change"],[3,"control"],["formControlName","companyId",1,"custom-select","mr-sm-2",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","branchCode",1,"custom-select","mr-sm-2"],[1,"input-group","mb-2"],["formControlName","tranDate",1,"form-control","datapickerinput",3,"placeholder","matDatepicker"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["tranDate",""],["formControlName","payCode",1,"custom-select","mr-sm-2",3,"change"],["formControlName","payType","disabled","",1,"custom-select","mr-sm-2"],["type","number","formControlName","amount",1,"form-control",3,"placeholder"],["type","text","formControlName","narration",1,"form-control",3,"placeholder"],["type","text","formControlName","preparedby",1,"form-control",3,"placeholder"],["class","col-md-3 col-lg-3",4,"ngIf"],[1,"col-md-6","col-lg-6"],["formControlName","remarks",1,"form-control",3,"placeholder"],[1,"col-md-12","col-lg-12","pb-5",3,"innerHtml"],[1,"col-lg-12","col-md-12","text-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","waves-effect","waves-light","btn-primary",3,"value"],[3,"value"],["type","text","formControlName","checkNumber","maxlength","10",1,"form-control",3,"placeholder"],["type","text","formControlName","checkDate",1,"form-control","datapickerinput",3,"placeholder","matDatepicker"],["checkdate",""]],template:function(e,o){if(1&e&&(t.TgZ(0,"h2",0),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"button",1),t.NdJ("click",function(){return o.closeModel()}),t._uU(4," \xd7"),t.qZA(),t.qZA(),t.TgZ(5,"form",2),t.NdJ("ngSubmit",function(){return o.submit()}),t.TgZ(6,"div",3),t.TgZ(7,"div",4),t.TgZ(8,"div",5),t.TgZ(9,"div",6),t.TgZ(10,"div",7),t.TgZ(11,"div",8),t.TgZ(12,"label",9),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"ng-select",10),t.NdJ("change",function(r){return o.loadProductdata(r)}),t.qZA(),t._UZ(16,"validation-message",11),t.qZA(),t.qZA(),t.TgZ(17,"div",7),t.TgZ(18,"div",8),t.TgZ(19,"label",9),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"select",12),t.NdJ("change",function(r){return o.loadBranchs(r)}),t.TgZ(23,"option",13),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.YNc(26,Xt,2,2,"option",14),t.qZA(),t._UZ(27,"validation-message",11),t.qZA(),t.qZA(),t.TgZ(28,"div",7),t.TgZ(29,"div",8),t.TgZ(30,"label",9),t._uU(31),t.ALo(32,"translate"),t.qZA(),t.TgZ(33,"select",15),t.TgZ(34,"option",13),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.YNc(37,Wt,2,2,"option",14),t.qZA(),t._UZ(38,"validation-message",11),t.qZA(),t.qZA(),t.TgZ(39,"div",7),t.TgZ(40,"label",9),t._uU(41),t.ALo(42,"translate"),t.qZA(),t.TgZ(43,"div",8),t.TgZ(44,"div",16),t._UZ(45,"input",17),t.ALo(46,"translate"),t.TgZ(47,"div",18),t._UZ(48,"mat-datepicker-toggle",19),t._UZ(49,"mat-datepicker",null,20),t.qZA(),t.qZA(),t._UZ(51,"validation-message",11),t.qZA(),t.qZA(),t.TgZ(52,"div",7),t.TgZ(53,"div",8),t.TgZ(54,"label",9),t._uU(55),t.ALo(56,"translate"),t.qZA(),t.TgZ(57,"select",21),t.NdJ("change",function(r){return o.setCheckNumber(r)}),t.TgZ(58,"option",13),t._uU(59),t.ALo(60,"translate"),t.qZA(),t.YNc(61,Kt,2,2,"option",14),t.qZA(),t._UZ(62,"validation-message",11),t.qZA(),t.qZA(),t.TgZ(63,"div",7),t.TgZ(64,"div",8),t.TgZ(65,"label",9),t._uU(66),t.ALo(67,"translate"),t.qZA(),t.TgZ(68,"select",22),t.TgZ(69,"option",13),t._uU(70),t.ALo(71,"translate"),t.qZA(),t.YNc(72,te,2,2,"option",14),t.qZA(),t._UZ(73,"validation-message",11),t.qZA(),t.qZA(),t.TgZ(74,"div",7),t.TgZ(75,"div",8),t.TgZ(76,"label",9),t._uU(77),t.ALo(78,"translate"),t.qZA(),t._UZ(79,"input",23),t.ALo(80,"translate"),t.ALo(81,"translate"),t._UZ(82,"validation-message",11),t.qZA(),t.qZA(),t.TgZ(83,"div",7),t.TgZ(84,"div",8),t.TgZ(85,"label",9),t._uU(86),t.ALo(87,"translate"),t.qZA(),t._UZ(88,"input",24),t.ALo(89,"translate"),t.ALo(90,"translate"),t._UZ(91,"validation-message",11),t.qZA(),t.qZA(),t.TgZ(92,"div",7),t.TgZ(93,"div",8),t.TgZ(94,"label",9),t._uU(95),t.ALo(96,"translate"),t.qZA(),t._UZ(97,"input",25),t.ALo(98,"translate"),t.ALo(99,"translate"),t._UZ(100,"validation-message",11),t.qZA(),t.qZA(),t.YNc(101,ee,9,10,"div",26),t.YNc(102,oe,15,9,"div",26),t.TgZ(103,"div",27),t.TgZ(104,"div",8),t.TgZ(105,"label",9),t._uU(106),t.ALo(107,"translate"),t.qZA(),t._UZ(108,"textarea",28),t.ALo(109,"translate"),t.ALo(110,"translate"),t.qZA(),t.qZA(),t._UZ(111,"div",29),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(112,"div",6),t.TgZ(113,"div",30),t.TgZ(114,"button",31),t.NdJ("click",function(){return o.closeModel()}),t._uU(115),t.ALo(116,"translate"),t.qZA(),t._uU(117," \xa0\xa0 "),t._UZ(118,"input",32),t.ALo(119,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e){const n=t.MAs(50);t.xp6(1),t.hij(" ",t.lcZ(2,46,"Create_New_Vendor_Payment")," "),t.xp6(4),t.Q6J("formGroup",o.form),t.xp6(8),t.Oqu(t.lcZ(14,48,"Vendor")),t.xp6(2),t.Q6J("items",o.customerList),t.xp6(1),t.Q6J("control",o.form.controls.vendCode),t.xp6(4),t.Oqu(t.lcZ(21,50,"Organization")),t.xp6(4),t.Oqu(t.lcZ(25,52,"Select_Organization")),t.xp6(2),t.Q6J("ngForOf",o.companyList),t.xp6(1),t.Q6J("control",o.form.controls.companyId),t.xp6(4),t.Oqu(t.lcZ(32,54,"Branch")),t.xp6(4),t.Oqu(t.lcZ(36,56,"Select_Branch")),t.xp6(2),t.Q6J("ngForOf",o.branchList),t.xp6(1),t.Q6J("control",o.form.controls.branchCode),t.xp6(3),t.Oqu(t.lcZ(42,58,"tranDate")),t.xp6(4),t.s9C("placeholder",t.lcZ(46,60,"Select_a_Date")),t.Q6J("matDatepicker",n),t.xp6(3),t.Q6J("for",n),t.xp6(3),t.Q6J("control",o.form.controls.tranDate),t.xp6(4),t.Oqu(t.lcZ(56,62,"PayCode")),t.xp6(4),t.Oqu(t.lcZ(60,64,"Select_Organization")),t.xp6(2),t.Q6J("ngForOf",o.payCodeList),t.xp6(1),t.Q6J("control",o.form.controls.payCode),t.xp6(4),t.Oqu(t.lcZ(67,66,"PayType")),t.xp6(4),t.Oqu(t.lcZ(71,68,"Select_Organization")),t.xp6(2),t.Q6J("ngForOf",o.payCodeTypeList),t.xp6(1),t.Q6J("control",o.form.controls.payType),t.xp6(4),t.Oqu(t.lcZ(78,70,"amount")),t.xp6(2),t.hYB("placeholder","",t.lcZ(80,72,"Please_Enter")," ",t.lcZ(81,74,"Invoice_Reference_Number"),""),t.xp6(3),t.Q6J("control",o.form.controls.amount),t.xp6(4),t.Oqu(t.lcZ(87,76,"narration")),t.xp6(2),t.hYB("placeholder","",t.lcZ(89,78,"Please_Enter")," ",t.lcZ(90,80,"Customer"),""),t.xp6(3),t.Q6J("control",o.form.controls.narration),t.xp6(4),t.hij(" ",t.lcZ(96,82,"preparedby")," "),t.xp6(2),t.hYB("placeholder"," ",t.lcZ(98,84,"Please_Enter"),"  ",t.lcZ(99,86,"LPO_Contract"),""),t.xp6(3),t.Q6J("control",o.form.controls.preparedby),t.xp6(1),t.Q6J("ngIf",o.IsCheckSelected),t.xp6(1),t.Q6J("ngIf",o.IsCheckSelected),t.xp6(4),t.Oqu(t.lcZ(107,88,"Remarks")),t.xp6(2),t.hYB("placeholder","",t.lcZ(109,90,"PLease_Enter")," ",t.lcZ(110,92,"Remarks"),""),t.xp6(3),t.Q6J("innerHtml",o.toBePaidAmount,t.oJD),t.xp6(4),t.hij(" ",t.lcZ(116,94,"Cancel")," "),t.xp6(3),t.s9C("value",t.lcZ(119,96,"Save"))}},directives:[s._Y,s.JL,s.sg,j.w9,s.JJ,s.u,M.s,s.EJ,s.YN,s.Kr,d.sg,s.Fj,m.hl,m.nW,U.R9,m.Mq,s.wV,d.O5,s.nD],pipes:[Z.X$],encapsulation:2}),i})();var lt=y(9206),ut=y(6288);function ie(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",1),t.TgZ(2,"button",2),t.NdJ("click",function(){return t.CHM(e),t.oxw().printVoucher()}),t._uU(3,"Print"),t.qZA(),t._uU(4," \xa0 "),t._uU(5," \xa0 "),t.TgZ(6,"button",3),t.NdJ("click",function(){return t.CHM(e),t.oxw().closeModel()}),t._uU(7," Close"),t.qZA(),t.qZA(),t._UZ(8,"br"),t.TgZ(9,"div",4),t._UZ(10,"link",5),t.TgZ(11,"table",6),t.TgZ(12,"tr"),t.TgZ(13,"td",7),t._uU(14," Vendor Payment Voucher "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"div",8),t.TgZ(16,"table",6),t.TgZ(17,"tr"),t.TgZ(18,"td",9),t.TgZ(19,"div",10),t.TgZ(20,"table",6),t.TgZ(21,"tr"),t.TgZ(22,"td",11),t.TgZ(23,"table",6),t.TgZ(24,"tr"),t.TgZ(25,"td",12),t.TgZ(26,"span",13),t._uU(27,"Voucher#:"),t.qZA(),t._uU(28),t.qZA(),t.qZA(),t.TgZ(29,"tr"),t.TgZ(30,"td"),t.TgZ(31,"table",6),t.TgZ(32,"tr"),t.TgZ(33,"td",14),t._uU(34," Voucher Details: "),t.qZA(),t.TgZ(35,"td",12),t._uU(36),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(37,"tr"),t.TgZ(38,"td",15),t.TgZ(39,"div",12),t.TgZ(40,"span",13),t._uU(41,"Document Num:"),t.qZA(),t._uU(42),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(43,"td",16),t.TgZ(44,"div",17),t.TgZ(45,"table"),t.TgZ(46,"tr"),t.TgZ(47,"td"),t.TgZ(48,"span",13),t._uU(49," Date:"),t.qZA(),t._uU(50),t.ALo(51,"date"),t.qZA(),t.qZA(),t.TgZ(52,"tr"),t.TgZ(53,"td",18),t.TgZ(54,"div",19),t._UZ(55,"img",20),t._UZ(56,"br"),t._UZ(57,"div",21),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(58,"div",8),t.TgZ(59,"table",6),t.TgZ(60,"tr"),t.TgZ(61,"td",9),t.TgZ(62,"div",10),t.TgZ(63,"table",6),t.TgZ(64,"tr"),t.TgZ(65,"td",22),t.TgZ(66,"div",12),t.TgZ(67,"span",13),t._uU(68,"Received From:"),t.qZA(),t._uU(69),t.qZA(),t.qZA(),t.TgZ(70,"td",16),t.TgZ(71,"div",17),t.TgZ(72,"span",13),t._uU(73,"Voucher Date:"),t.qZA(),t._uU(74),t.ALo(75,"date"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(76,"tr"),t.TgZ(77,"td",23),t.TgZ(78,"div",12),t.TgZ(79,"span",13),t._uU(80,"Branch:"),t.qZA(),t._uU(81),t.qZA(),t.qZA(),t.TgZ(82,"td",23),t.TgZ(83,"div",17),t.TgZ(84,"span",13),t._uU(85,"Payment Mode:"),t.qZA(),t._uU(86),t.qZA(),t.qZA(),t.qZA(),t.TgZ(87,"tr"),t.TgZ(88,"td",23),t.TgZ(89,"div",12),t.TgZ(90,"span",13),t._uU(91,"Bank:"),t.qZA(),t._uU(92),t.qZA(),t.qZA(),t.TgZ(93,"td",23),t.TgZ(94,"div",17),t.TgZ(95,"span",13),t._uU(96,"Amount:"),t.qZA(),t._uU(97),t.qZA(),t.qZA(),t.qZA(),t.TgZ(98,"tr"),t.TgZ(99,"td",23),t.TgZ(100,"div",12),t.TgZ(101,"span",13),t._uU(102,"Cheque:"),t.qZA(),t._uU(103),t.qZA(),t.qZA(),t.TgZ(104,"td",23),t.TgZ(105,"div",17),t.TgZ(106,"span",13),t._uU(107,"Check Date:"),t.qZA(),t._uU(108),t.ALo(109,"date"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(110,"div",24),t._UZ(111,"hr",25),t.TgZ(112,"div",26),t._uU(113," Prepared by Mohsin "),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&i){const e=t.oxw();t.xp6(28),t.hij(" ",e.voucher.voucherNumber," "),t.xp6(8),t.lnq(" ",e.voucher.company,", ",e.voucher.customerName,", ",e.voucher.address," "),t.xp6(6),t.hij(" ",e.voucher.docNum," "),t.xp6(8),t.hij(" ",t.xi3(51,15,e.voucher.date,"dd/MM/yyyy")," "),t.xp6(5),t.s9C("src",e.voucher.logo,t.LSH),t.xp6(14),t.hij(" ",e.voucher.receivedFrom," "),t.xp6(5),t.hij(" ",t.xi3(75,18,e.voucher.voucherDate,"dd/MM/yyyy")," "),t.xp6(7),t.hij(" ",e.voucher.branchName," "),t.xp6(5),t.hij(" ",e.voucher.payType," "),t.xp6(6),t.hij(" ",e.voucher.branchName," "),t.xp6(5),t.hij(" ",e.voucher.amount," "),t.xp6(6),t.hij(" ",e.voucher.checkNumber," "),t.xp6(5),t.hij(" ",t.xi3(109,21,e.voucher.checkdate,"dd/MM/yyyy")," ")}}let ne=(()=>{class i extends ut.v{constructor(e,o,n,r,l,c){super(n),this.fb=e,this.apiService=o,this.authService=n,this.utilService=r,this.dialogRef=l,this.notifyService=c,this.id=0}ngOnInit(){this.id>0&&this.loadVoucher()}loadVoucher(){this.apiService.getall(`vendorPayment/getVendorpaymentvoucher?id=${this.id}`).subscribe(e=>{this.voucher=e})}printVoucher(){const e=document.getElementById("printcontainer"),o=window.open("","","left=0,top=0,width=2000,height=1000,toolbar=0,scrollbars=0,status=0");setTimeout(()=>{o.document.write(e.innerHTML),o.document.close(),o.focus(),o.print(),o.close()},50)}closeModel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(T.so),t.Y36(f.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-vendorpaymentvoucher"]],features:[t.qOj],decls:1,vars:1,consts:[[4,"ngIf"],[2,"position","fixed"],[3,"click"],["type","button","aria-hidden","true",1,"",3,"click"],["id","printcontainer",1,"container-fluid","invoice-container","print-container",2,"width","850px","margin","auto"],["rel","stylesheet","href","https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,500,600,700,800,900","type","text/css"],["border","0","cellpadding","0","cellspacing","0","width","100%",2,"width","100%"],[2,"font-size","1.5rem !important","color","#0c2f54","font-family","'Poppins', sans-serif","font-weight","500","line-height","1.2","margin","0","padding-top","15px","text-align","center"],[2,"padding-top","10px","padding-bottom","5px"],[2,"width","100%","text-align","center"],[2,"border","2px solid #878787","border-radius","5px","padding","10PX"],[2,"padding","5px","width","50%","text-align","left","vertical-align","top"],[2,"font-family","'Poppins', sans-serif","font-weight","500","font-size","0.875rem !important","color","#878787"],[2,"font-family","'Poppins', sans-serif","font-weight","600","font-size","0.875rem !important","color","#000000"],[2,"font-family","'Poppins', sans-serif","font-weight","600","font-size","0.875rem !important","color","#000000","width","130px"],[2,"width","50%","text-align","left"],[2,"padding","5px","text-align","left"],[2,"font-family","'Poppins', sans-serif","font-weight","500","font-size","0.875rem !important","color","#878787","float","right"],[2,"text-align","center"],[2,"float","right"],[2,"width","200px","height","150px",3,"src"],[2,"font-family","'Poppins', sans-serif","font-weight","500","font-size","0.875rem !important","color","#000000"],[2,"padding","5px","width","50%","text-align","left"],[2,"padding","2px 5px 2px 5px","width","50%","text-align","left"],[2,"width","40%","padding-top","30px"],[2,"margin","0"],[2,"font-family","'Poppins', sans-serif","font-weight","500","font-size","0.825rem !important","color","#000000"]],template:function(e,o){1&e&&t.YNc(0,ie,114,24,"ng-container",0),2&e&&t.Q6J("ngIf",o.voucher)},directives:[d.O5],pipes:[d.uU],encapsulation:2}),i})();var I=y(4246);function ae(i,a){1&i&&(t.TgZ(0,"th",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Voucher")," "))}function re(i,a){if(1&i&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.voucherNumber)}}function se(i,a){1&i&&(t.TgZ(0,"th",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Vendor_Name")," "))}function le(i,a){if(1&i&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.custName)}}function ce(i,a){1&i&&(t.TgZ(0,"th",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Branch")," "))}function pe(i,a){if(1&i&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.branchName)}}function de(i,a){1&i&&(t.TgZ(0,"th",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Trans_Date")," "))}function ue(i,a){if(1&i&&(t.TgZ(0,"td",46),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.tranDate,"dd/MM/yyyy"))}}function me(i,a){1&i&&(t.TgZ(0,"th",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Document")," "))}function ge(i,a){if(1&i&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.docNum)}}function Ze(i,a){1&i&&(t.TgZ(0,"th",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Check_Number")," "))}function he(i,a){if(1&i&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.checkNumber)}}function _e(i,a){1&i&&(t.TgZ(0,"th",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Check_Date")," "))}function Ae(i,a){if(1&i&&(t.TgZ(0,"td",46),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.checkDate,"dd/MM/yyyy"))}}function fe(i,a){1&i&&(t.TgZ(0,"th",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Amount")," "))}function Te(i,a){if(1&i&&(t.TgZ(0,"td",46),t._uU(1),t.ALo(2,"decimalpipe"),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.amount))}}function ve(i,a){1&i&&(t.TgZ(0,"th",47),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Actions")))}function qe(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"a",49),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit;return t.oxw().edit(n.id)}),t.ALo(1,"translate"),t._UZ(2,"i",51),t.qZA()}2&i&&t.s9C("matTooltip",t.lcZ(1,1,"Edit_Item"))}function Ce(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"a",49),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit;return t.oxw().delete(n.id)}),t.ALo(1,"translate"),t._UZ(2,"i",52),t.qZA()}2&i&&t.s9C("matTooltip",t.lcZ(1,1,"Delete_Item"))}function xe(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"a",49),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit;return t.oxw().post(n.id,n.vendCode)}),t.ALo(1,"translate"),t._UZ(2,"i",53),t.qZA()}2&i&&t.s9C("matTooltip",t.lcZ(1,1,"Posting_Item"))}function be(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"td",46),t.YNc(1,qe,3,3,"a",48),t._uU(2," \xa0 "),t.YNc(3,Ce,3,3,"a",48),t._uU(4,"\xa0 "),t.YNc(5,xe,3,3,"a",48),t.TgZ(6,"a",49),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().vendorReceipt(r.id)}),t.ALo(7,"translate"),t._UZ(8,"i",50),t.qZA(),t._uU(9,"\xa0 "),t.qZA()}if(2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",!e.isPaid),t.xp6(2),t.Q6J("ngIf",!e.isPaid),t.xp6(2),t.Q6J("ngIf",!e.isPaid),t.xp6(1),t.s9C("matTooltip",t.lcZ(7,4,"Print"))}}function ye(i,a){1&i&&t._UZ(0,"tr",54)}function Ue(i,a){1&i&&t._UZ(0,"tr",55)}let Le=(()=>{class i extends L.k{constructor(e,o,n,r,l,c,u,g,C,S){super(r),this.fb=e,this.router=o,this.apiService=n,this.authService=r,this.utilService=l,this.translate=c,this.notifyService=u,this.validationService=g,this.pageService=C,this.dialog=S,this.displayedColumns=["voucherNumber","custName","branchName","tranDate","docNum","checkNumber","checkdate","amount","Actions"],this.searchValue="",this.sortingOrder="id desc",this.isLoading=!1}ngOnInit(){this.initialLoading()}refresh(){this.searchValue="",this.initialLoading()}initialLoading(){this.utilService.hasPaymenRoute()?this.router.navigateByUrl("dashboard/fin/opmappayment"):this.apiService.getall("customerPayment/checkOpenItemMenthod").subscribe(e=>{e?(localStorage.setItem("hasPaymenRoute","hasPayment"),this.router.navigateByUrl("dashboard/fin/opmappayment")):this.loadList(0,this.pageService.pageCount,"",this.sortingOrder)})}onSortOrder(e){this.sortingOrder=e.active+" "+e.direction,this.totalItemsCount=0,this.loadList(0,this.pageService.pageCount,"",this.sortingOrder)}onPageSwitch(e){this.pageService.change(e),this.loadList(e.pageIndex,e.pageSize,"",this.sortingOrder)}loadList(e,o,n,r){this.isLoading=!0,this.apiService.getPagination("vendorPayment",this.utilService.getQueryString(e,o,n,r)).subscribe(l=>{this.totalItemsCount=0,this.data=new p.by(l.items),this.totalItemsCount=l.totalCount,setTimeout(()=>{this.paginator.pageIndex=e,this.paginator.length=this.totalItemsCount}),this.data.sort=this.sort,this.isLoading=!1},l=>this.utilService.ShowApiErrorMessage(l))}applyFilter(e){e&&(this.searchValue=e,this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder))}openDialogManage(e=0,o,n="",r="",l,c={module:"00",action:"00act"}){let u=this.utilService.openCrudDialog(this.dialog,l);u.componentInstance.dbops=o,u.componentInstance.modalTitle=n,u.componentInstance.id=e,u.componentInstance.moduleFile=c,u.afterClosed().subscribe(g=>{g&&!0===g&&this.initialLoading()})}openDialogManageOne(e="",o,n="",r){let l=this.utilService.openDialogCongif(this.dialog,r);l.componentInstance.dbops=o,l.componentInstance.modalTitle=n,l.componentInstance.customerCode=e}create(){this.openDialogManage(0,v.Oi.create,this.translate.instant("Create_New_Sales_Invoice"),"",dt)}edit(e){this.openDialogManage(e,v.Oi.update,this.translate.instant("Create_New_Sales_Invoice"),"",dt)}delete(e){this.utilService.openDeleteConfirmDialog(this.dialog,H.a).afterClosed().subscribe(n=>{n&&e>0&&this.apiService.delete("vendorPayment",e).subscribe(r=>{this.refresh(),this.utilService.OkMessage()})},n=>this.utilService.ShowApiErrorMessage(n))}print(e){this.openDialogManageOne(e,v.Oi.update,this.translate.instant("Create_New_Sales_Invoice"),lt.G)}vendorReceipt(e){this.openDialogManage(e,v.Oi.update,this.translate.instant("Create_New_Sales_Invoice"),"",ne)}post(e,o){this.utilService.openDeleteConfirmDialog(this.dialog,H.a).afterClosed().subscribe(r=>{r&&e>0&&this.apiService.post("vendorPayment/vendorPaymentApproval",{customerCode:o,Id:e}).subscribe(l=>{this.initialLoading(),this.utilService.OkMessage()},l=>{console.error(l),this.utilService.ShowApiErrorMessage(l)})})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(Q.F0),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(Z.sK),t.Y36(f.g),t.Y36(O.R),t.Y36(k.N),t.Y36(T.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-appayment"]],viewQuery:function(e,o){if(1&e&&(t.Gf(q.NW,7),t.Gf(x.YE,7)),2&e){let n;t.iGM(n=t.CRH())&&(o.paginator=n.first),t.iGM(n=t.CRH())&&(o.sort=n.first)}},features:[t.qOj],decls:83,vars:36,consts:[[1,"page-breadcrumb"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],[1,"container-fluid"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"row","pb-3"],[1,"col-md-3"],[1,"form-control",3,"placeholder","ngModel","ngModelChange"],[1,"col-md-4","arabicright"],[1,"btn","btn-primary",3,"click"],[1,"",3,"matTooltip","click"],[1,"btn","btn-primary","icon-refresh"],[1,"col-md-7","col-lg-9"],[1,"card-title","pt6"],[1,"col-md-3","col-lg-3","text-right"],[1,"nav-item","dropdown"],["data-toggle","modal","data-target","#scrollable-modal","href","#",1,"btn","waves-effect","waves-light","btn-rounded","btn-outline-primary",3,"click"],[1,"icon-plus"],[1,"cardtitle-divider"],[1,"example-table-container","table-responsive","pt-3"],[3,"isLoading"],["mat-table","","matSort","","matSortActive","Id","matSortDisableClear","","matSortDirection","desc",1,"table","table-bordered","no-wrap",3,"dataSource","matSortChange"],["matColumnDef","voucherNumber"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","custName"],["matColumnDef","branchName"],["matColumnDef","tranDate"],["matColumnDef","docNum"],["matColumnDef","checkNumber"],["matColumnDef","checkdate"],["matColumnDef","amount"],["matColumnDef","Actions","stickyEnd",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions","page"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["class","tableicons",3,"matTooltip","click",4,"ngIf"],[1,"tableicons",3,"matTooltip","click"],[1,"icon-settings"],[1,"icon-note"],[1,"icon-trash"],[1,"icon-action-redo"],["mat-header-row",""],["mat-row",""]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"nav",5),t.TgZ(8,"ol",6),t.TgZ(9,"li",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"li",7),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"li",8),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",9),t.TgZ(19,"div",1),t.TgZ(20,"div",10),t.TgZ(21,"div",11),t.TgZ(22,"div",12),t.TgZ(23,"div",13),t._UZ(24,"div",10),t.TgZ(25,"div",14),t.TgZ(26,"input",15),t.NdJ("ngModelChange",function(r){return o.searchValue=r}),t.ALo(27,"translate"),t.qZA(),t.qZA(),t.TgZ(28,"div",16),t.TgZ(29,"button",17),t.NdJ("click",function(){return o.applyFilter(o.searchValue)}),t._uU(30),t.ALo(31,"translate"),t.qZA(),t._uU(32," \xa0 "),t.TgZ(33,"a",18),t.NdJ("click",function(){return o.refresh()}),t.ALo(34,"translate"),t._UZ(35,"i",19),t.qZA(),t.qZA(),t.qZA(),t.TgZ(36,"div",1),t.TgZ(37,"div",20),t.TgZ(38,"h4",21),t._uU(39),t.ALo(40,"translate"),t.qZA(),t.qZA(),t.TgZ(41,"div",22),t.TgZ(42,"div",23),t.TgZ(43,"a",24),t.NdJ("click",function(){return o.create()}),t._UZ(44,"i",25),t._uU(45),t.ALo(46,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(47,"div",26),t.TgZ(48,"div",27),t._UZ(49,"spinner-loader",28),t.ynx(50),t.TgZ(51,"table",29),t.NdJ("matSortChange",function(r){return o.onSortOrder(r)}),t.ynx(52,30),t.YNc(53,ae,3,3,"th",31),t.YNc(54,re,2,1,"td",32),t.BQk(),t.ynx(55,33),t.YNc(56,se,3,3,"th",31),t.YNc(57,le,2,1,"td",32),t.BQk(),t.ynx(58,34),t.YNc(59,ce,3,3,"th",31),t.YNc(60,pe,2,1,"td",32),t.BQk(),t.ynx(61,35),t.YNc(62,de,3,3,"th",31),t.YNc(63,ue,3,4,"td",32),t.BQk(),t.ynx(64,36),t.YNc(65,me,3,3,"th",31),t.YNc(66,ge,2,1,"td",32),t.BQk(),t.ynx(67,37),t.YNc(68,Ze,3,3,"th",31),t.YNc(69,he,2,1,"td",32),t.BQk(),t.ynx(70,38),t.YNc(71,_e,3,3,"th",31),t.YNc(72,Ae,3,4,"td",32),t.BQk(),t.ynx(73,39),t.YNc(74,fe,3,3,"th",31),t.YNc(75,Te,3,3,"td",32),t.BQk(),t.ynx(76,40),t.YNc(77,ve,3,3,"th",41),t.YNc(78,be,10,6,"td",32),t.BQk(),t.YNc(79,ye,1,0,"tr",42),t.YNc(80,Ue,1,0,"tr",43),t.qZA(),t.ynx(81),t.TgZ(82,"mat-paginator",44),t.NdJ("page",function(r){return o.onPageSwitch(r)}),t.qZA(),t.BQk(),t.BQk(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.hij(" ",t.lcZ(5,18,"Vendor_Payment")," "),t.xp6(6),t.hij("",t.lcZ(11,20,"Finance")," "),t.xp6(3),t.Oqu(t.lcZ(14,22,"Account_Payable")),t.xp6(3),t.hij("",t.lcZ(17,24,"Vendor_Payment")," "),t.xp6(10),t.MGl("placeholder","",t.lcZ(27,26,"Search"),"..."),t.Q6J("ngModel",o.searchValue),t.xp6(4),t.Oqu(t.lcZ(31,28,"Search")),t.xp6(3),t.s9C("matTooltip",t.lcZ(34,30,"Refresh")),t.xp6(6),t.hij(" ",t.lcZ(40,32,"Vendor_Payment_List")," "),t.xp6(6),t.hij("",t.lcZ(46,34,"AddNewPayment")," "),t.xp6(4),t.Q6J("isLoading",o.isLoading),t.xp6(2),t.Q6J("dataSource",o.data),t.xp6(28),t.Q6J("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(2),t.Q6J("length",o.totalItemsCount)("pageSize",o.pageService.pageCount)("pageSizeOptions",o.pageService.selectItemsPerPage))},directives:[s.Fj,s.JJ,s.On,z.gM,b.r,p.BZ,x.YE,p.w1,p.fO,p.Dz,p.as,p.nj,q.NW,p.ge,x.nU,p.ev,d.O5,p.XQ,p.Gk],pipes:[Z.X$,d.uU,I.J],encapsulation:2}),i})();var Se=y(9075);let E=(()=>{class i{constructor(e){this.sanitizer=e}transform(e){return null!=e?parseFloat(e)>=100?(0,d.uf)(e,"en","3.2-5"):(0,d.uf)(e,"en","1.2-5"):e}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Se.H7,16))},i.\u0275pipe=t.Yjl({name:"leadingZeros",type:i,pure:!0}),i})();function Ne(i,a){if(1&i&&t._UZ(0,"img",61),2&i){const e=t.oxw(2);t.s9C("src",e.company.logoURL,t.LSH)}}function Oe(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",62),t._uU(2),t.qZA(),t.TgZ(3,"td",62),t.TgZ(4,"b",63),t._uU(5),t._UZ(6,"br"),t.qZA(),t.qZA(),t.TgZ(7,"td",64),t.TgZ(8,"div",65),t._uU(9),t.qZA(),t.qZA(),t.TgZ(10,"td",62),t._uU(11),t.qZA(),t.TgZ(12,"td",62),t._uU(13),t.qZA(),t.TgZ(14,"td",62),t._uU(15),t.qZA(),t.TgZ(16,"td",66),t._uU(17),t.qZA(),t.TgZ(18,"td",66),t._uU(19),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.hij(" ",e.productId," "),t.xp6(3),t.hij(" ",e.productName,""),t.xp6(4),t.hij(" ",e.description," "),t.xp6(2),t.hij(" ",e.quantity," "),t.xp6(2),t.hij(" ",e.unitPrice," "),t.xp6(2),t.hij(" ",e.taxTariffPercentage+" %"," "),t.xp6(2),t.hij(" ",e.taxAmount," "),t.xp6(2),t.hij(" ",e.totalAmount," ")}}function we(i,a){1&i&&(t.TgZ(0,"table",5),t.TgZ(1,"tr"),t._UZ(2,"td",67),t.qZA(),t.qZA())}function ke(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"div",1),t.TgZ(2,"table",2),t.TgZ(3,"tr"),t.TgZ(4,"td",3),t.YNc(5,Ne,1,1,"img",4),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"table",5),t.TgZ(7,"tr"),t.TgZ(8,"td",6),t.TgZ(9,"h4",7),t._uU(10),t.qZA(),t.TgZ(11,"h4",7),t._uU(12),t.qZA(),t._UZ(13,"span"),t.TgZ(14,"h4",7),t._uU(15," C.R. No.: "),t.TgZ(16,"span",8),t._uU(17),t.qZA(),t.qZA(),t.TgZ(18,"h4",7),t._uU(19," C.C. No.: "),t.TgZ(20,"span",8),t._uU(21),t.qZA(),t.qZA(),t.TgZ(22,"h4",7),t._uU(23," VAT NO : "),t.TgZ(24,"span",8),t._uU(25),t.qZA(),t.qZA(),t.qZA(),t.TgZ(26,"td",9),t.TgZ(27,"span",10),t._uU(28,"\u0641\u0627\u062a\u0648\u0631\u0629 \u0634\u0631\u0627\u0621"),t.qZA(),t._UZ(29,"br"),t.TgZ(30,"span",11),t._uU(31," VAT INVOICE \xa0 \xa0\xa0 "),t.qZA(),t.qZA(),t.TgZ(32,"td",12),t.TgZ(33,"h4",7),t._uU(34),t.qZA(),t.TgZ(35,"h4",7),t._uU(36),t.qZA(),t.TgZ(37,"h4",7),t._uU(38),t.qZA(),t.TgZ(39,"h4",7),t._uU(40),t.qZA(),t.TgZ(41,"h4",7),t._uU(42),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(43,"div",13),t.TgZ(44,"table",14),t.TgZ(45,"tr"),t.TgZ(46,"td",15),t.TgZ(47,"table",16),t.TgZ(48,"tr"),t.TgZ(49,"td",17),t._uU(50," Issue Date "),t.qZA(),t.TgZ(51,"td",18),t.TgZ(52,"label",19),t._uU(53),t.ALo(54,"date"),t.qZA(),t.qZA(),t.TgZ(55,"td",20),t._uU(56," \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0635\u062f\u0627\u0631 "),t.qZA(),t.qZA(),t.TgZ(57,"tr"),t.TgZ(58,"td",17),t._uU(59," Due Date "),t.qZA(),t.TgZ(60,"td",18),t.TgZ(61,"label",19),t._uU(62),t.ALo(63,"date"),t.qZA(),t.qZA(),t.TgZ(64,"td",20),t._uU(65," \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0633\u062a\u062d\u0642\u0627\u0642 "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(66,"td",21),t.TgZ(67,"td",22),t.TgZ(68,"table",16),t.TgZ(69,"tr"),t.TgZ(70,"td",17),t._uU(71," Invoice # "),t.qZA(),t.TgZ(72,"td",18),t._uU(73),t.qZA(),t.TgZ(74,"td",20),t._uU(75," \u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629 "),t.qZA(),t.qZA(),t.TgZ(76,"tr"),t.TgZ(77,"td",17),t._uU(78," Service Month "),t.qZA(),t.TgZ(79,"td",18),t._uU(80),t.qZA(),t.TgZ(81,"td",20),t._uU(82," \u0634\u0647\u0631 \u0627\u0644\u0639\u0645\u0644 "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(83,"div",23),t.TgZ(84,"table",16),t.TgZ(85,"tr"),t.TgZ(86,"td",24),t._uU(87," Vendor Name "),t.qZA(),t.TgZ(88,"td",25),t._uU(89),t.qZA(),t.TgZ(90,"td",26),t._uU(91," Address "),t.qZA(),t.TgZ(92,"td",27),t._uU(93),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(94,"div",23),t.TgZ(95,"table",16),t.TgZ(96,"tr"),t.TgZ(97,"td",28),t._uU(98),t.qZA(),t.TgZ(99,"td",29),t._uU(100," \u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0631\u062f "),t.qZA(),t.TgZ(101,"td",30),t._uU(102),t.qZA(),t.TgZ(103,"td",31),t._uU(104," \u0627\u0644\u0639\u0646\u0648\u0627\u0646 "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(105,"div",23),t.TgZ(106,"table",16),t.TgZ(107,"tr"),t.TgZ(108,"td",18),t._uU(109," Vendor VAT No \xa0 \xa0 "),t.TgZ(110,"span",32),t._uU(111," \u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064a\u0628\u0649 \u0644\u0644\u0645\u0648\u0631\u062f "),t.qZA(),t.qZA(),t.TgZ(112,"td",33),t._uU(113," P.O. No. \xa0 \xa0 "),t.TgZ(114,"span",32),t._uU(115," \u0631\u0642\u0645 \u0623\u0645\u0631 \u0627\u0644\u0634\u0631\u0627\u0621 "),t.qZA(),t.qZA(),t.TgZ(116,"td",34),t._uU(117," Payment Terms "),t.TgZ(118,"span",32),t._uU(119," \u0634\u0631\u0648\u0637 \u0627\u0644\u062f\u0641\u0639 "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(120,"tr"),t.TgZ(121,"td",18),t._uU(122),t.qZA(),t.TgZ(123,"td",33),t._uU(124),t.qZA(),t.TgZ(125,"td",34),t._uU(126),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(127,"div",23),t.TgZ(128,"table",16),t.TgZ(129,"tr"),t.TgZ(130,"th",35),t.TgZ(131,"div",36),t._uU(132,"\u0631\u0642\u0645 \u0627\u0644\u0635\u0646\u0641"),t.qZA(),t.TgZ(133,"div",37),t._uU(134,"Item"),t.qZA(),t.qZA(),t.TgZ(135,"th",35),t.TgZ(136,"div",36),t._uU(137," \u0627\u0633\u0645"),t.qZA(),t.TgZ(138,"div",37),t._uU(139,"Name"),t.qZA(),t.qZA(),t.TgZ(140,"th",18),t.TgZ(141,"div",36),t._uU(142,"\u0627\u0644\u0648\u0635\u0641"),t.qZA(),t.TgZ(143,"div",37),t._uU(144,"Description"),t.qZA(),t.qZA(),t.TgZ(145,"th",35),t.TgZ(146,"div",36),t._uU(147," \u0627\u0644\u0643\u0645\u064a\u0629"),t.qZA(),t.TgZ(148,"div",37),t._uU(149,"Qty"),t.qZA(),t.qZA(),t.TgZ(150,"th",35),t.TgZ(151,"div",36),t._uU(152,"\u0633\u0639\u0631 \u0627\u0644\u0648\u062d\u062f\u0629"),t.qZA(),t.TgZ(153,"div",37),t._uU(154,"Unit Price"),t.qZA(),t.qZA(),t.TgZ(155,"th",35),t.TgZ(156,"div",36),t._uU(157," \u0636\u0631\u064a\u0628\u0629 \u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0645\u0636\u0627\u0641\u0629"),t.qZA(),t.TgZ(158,"div",37),t._uU(159,"Vat"),t.qZA(),t.qZA(),t.TgZ(160,"th",38),t.TgZ(161,"div",36),t._uU(162," \u0625\u062c\u0645\u0627\u0644\u064a \u0636\u0631\u064a\u0628\u0629 \u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0645\u0636\u0627\u0641\u0629"),t.qZA(),t.TgZ(163,"div",37),t._uU(164,"Vat Amount"),t.qZA(),t.qZA(),t.TgZ(165,"th",38),t.TgZ(166,"div",36),t._uU(167,"\u0627\u0644\u0633\u0639\u0631 \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a"),t.qZA(),t.TgZ(168,"div",37),t._uU(169,"Total Price"),t.qZA(),t.qZA(),t.qZA(),t.YNc(170,Oe,20,8,"tr",39),t.TgZ(171,"tr"),t.TgZ(172,"td",40),t.TgZ(173,"div",41),t._uU(174),t.qZA(),t.TgZ(175,"div",42),t._uU(176),t.qZA(),t.qZA(),t.TgZ(177,"td",43),t.TgZ(178,"div",44),t._uU(179," \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a \u063a\u064a\u0631 \u0634\u0627\u0645\u0644 \u0627\u0644\u0636\u0631\u064a\u0628\u0629"),t.qZA(),t.TgZ(180,"div",45),t._uU(181,"Subtotal Excl. VAT"),t.qZA(),t.qZA(),t.TgZ(182,"td",46),t._uU(183),t.ALo(184,"leadingZeros"),t.qZA(),t.qZA(),t.TgZ(185,"tr"),t.TgZ(186,"td",43),t.TgZ(187,"div",44),t._UZ(188,"span",45),t._uU(189," \u0636\u0631\u064a\u0628\u0629 \u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0645\u0636\u0627\u0641\u0629 "),t.qZA(),t.TgZ(190,"div",45),t._uU(191,"VAT Amount"),t.qZA(),t.qZA(),t.TgZ(192,"td",46),t._uU(193),t.ALo(194,"leadingZeros"),t.qZA(),t.qZA(),t.TgZ(195,"tr"),t.TgZ(196,"td",47),t.TgZ(197,"table",48),t.TgZ(198,"tr"),t.TgZ(199,"td",49),t.TgZ(200,"div",50),t._uU(201,":Bank Account Details"),t.qZA(),t.TgZ(202,"div",50),t._uU(203),t.qZA(),t.TgZ(204,"div",50),t._uU(205),t.qZA(),t.TgZ(206,"div",50),t._uU(207),t.qZA(),t.TgZ(208,"div",50),t._uU(209),t.qZA(),t.TgZ(210,"div",50),t._uU(211),t.qZA(),t.TgZ(212,"div",50),t._uU(213),t.qZA(),t.TgZ(214,"div",50),t._uU(215),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(216,"td",51),t.TgZ(217,"div",52),t._uU(218," \u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a \u0634\u0627\u0645\u0644 \u0627\u0644\u0636\u0631\u064a\u0628\u0629"),t.qZA(),t.TgZ(219,"div",53),t._uU(220,"Total Incl. VAT"),t.qZA(),t.qZA(),t.TgZ(221,"td",54),t._uU(222," SAR "),t.TgZ(223,"span",55),t._uU(224),t.ALo(225,"leadingZeros"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(226,"tr"),t.TgZ(227,"td",43),t.TgZ(228,"div",44),t._uU(229,"\u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u0645\u062f\u0641\u0648\u0639"),t.qZA(),t.TgZ(230,"div",45),t._uU(231,"Amount Paid"),t.qZA(),t.qZA(),t.TgZ(232,"td",46),t._uU(233),t.ALo(234,"leadingZeros"),t.qZA(),t.qZA(),t.TgZ(235,"tr"),t.TgZ(236,"td",51),t.TgZ(237,"div",52),t._uU(238,"\u0627\u0644\u0631\u0635\u064a\u062f \u0627\u0644\u0645\u0633\u062a\u062d\u0642"),t.qZA(),t.TgZ(239,"div",53),t._uU(240,"Balance Due "),t.qZA(),t.qZA(),t.TgZ(241,"td",54),t._uU(242),t.ALo(243,"leadingZeros"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(244,"div",56),t.TgZ(245,"table",16),t.TgZ(246,"tr"),t.TgZ(247,"td",57),t._uU(248," Prepared by:"),t._UZ(249,"br"),t._uU(250,"\u0625\u0646\u0634\u0627\u0621: "),t.qZA(),t.TgZ(251,"td",58),t._uU(252," Approved by:"),t._UZ(253,"br"),t._uU(254,"\u0645\u0648\u0627\u0641\u0642\u0629: "),t.qZA(),t.TgZ(255,"td",59),t._uU(256," Received by: "),t._UZ(257,"br"),t._uU(258," \u0627\u0633\u062a\u0644\u0627\u0645: "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(259,we,3,0,"table",60),t.qZA(),t.qZA(),t.BQk()),2&i){const e=t.oxw();t.xp6(4),t.Akn(e.isSavePDF?"height : 0px ":"height:150px"),t.xp6(1),t.Q6J("ngIf",e.isSavePDF),t.xp6(5),t.hij(" ",e.company.companyName," "),t.xp6(2),t.hij(" ",e.company.companyAddress," "),t.xp6(5),t.hij(" ",e.company.crNumber," "),t.xp6(4),t.Oqu(e.company.ccNumber),t.xp6(4),t.hij("",e.company.vatNumber," "),t.xp6(9),t.hij(" ",e.company.companyNameAr," "),t.xp6(2),t.hij(" ",e.company.companyAddressAr," "),t.xp6(2),t.hij(" ",e.company.crNumber," : \u0631\u0642\u0645 \u0627\u0644\u0633\u062c\u0644 \u0627\u0644\u062a\u062c\u0627\u0631\u064a "),t.xp6(2),t.hij(" ",e.company.ccNumber," : \u0631\u0642\u0645 \u0627\u0644\u0639\u0636\u0648\u064a\u0629 "),t.xp6(2),t.hij(" ",e.company.vatNumber," : \u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064a\u0628\u064a "),t.xp6(11),t.hij(" ",t.xi3(54,40,e.invoice.invoiceDate,"dd-MM-yyyy")," "),t.xp6(9),t.Oqu(t.xi3(63,43,e.invoice.invoiceDueDate,"dd-MM-yyyy")),t.xp6(11),t.hij(" ",e.invoice.creditNumber," "),t.xp6(7),t.hij(" ",e.invoice.serviceDate1," "),t.xp6(9),t.hij(" ",e.customer.vendName," "),t.xp6(4),t.hij(" ",e.customer.vendAddress1," "),t.xp6(5),t.hij(" ",e.customer.vendArbName," "),t.xp6(4),t.hij(" ",e.customer.vendAddress1," "),t.xp6(20),t.hij(" ",e.customer.vatNumber," "),t.xp6(2),t.hij(" ",e.invoice.invoiceRefNumber," "),t.xp6(2),t.hij(" ",e.invoice.paymentTermId," "),t.xp6(44),t.Q6J("ngForOf",e.items),t.xp6(4),t.hij(" \u0627\u0644\u0645\u062c\u0645\u0648\u0639 \u0643\u062a\u0627\u0628\u0629 : ",e.totalAmountAr," "),t.xp6(2),t.hij(" Total In Words: ",e.totalAmountEn," "),t.xp6(7),t.hij(" SAR ",t.lcZ(184,46,e.invoice.subTotal)," "),t.xp6(10),t.hij(" SAR ",t.lcZ(194,48,e.invoice.taxAmount)," "),t.xp6(10),t.hij(" Account Name: ",e.company.companyName,""),t.xp6(2),t.hij("Account Name in Arabic : ",e.company.companyNameAr,""),t.xp6(2),t.hij(" Bank Name in Arabic : ",e.bank.bankNameAr," "),t.xp6(2),t.hij(" Bank Name : ",e.bank.bankName," "),t.xp6(2),t.hij("Branch Name: ",e.bank.branchName,""),t.xp6(2),t.hij(" Account No: ",e.bank.accountNumber,""),t.xp6(2),t.hij("IBAN: ",e.bank.iban,""),t.xp6(9),t.Oqu(t.lcZ(225,50,e.invoice.totalAmount)),t.xp6(9),t.hij(" SAR ",t.lcZ(234,52,e.invoice.paidAmount)," "),t.xp6(9),t.hij(" SAR ",t.lcZ(243,54,e.invoice.totalAmount-e.invoice.paidAmount)," "),t.xp6(17),t.Q6J("ngIf",e.isSavePDF)}}let Ie=(()=>{class i{constructor(){this.items=[],this.totalAmountAr="",this.totalAmountEn="",this.isSavePDF=!1}ngOnChanges(e){this.res&&(this.totalAmountAr=this.res.totalAmountAr,this.totalAmountEn=this.res.totalAmountEn,this.company=this.res.company,this.customer=this.res.customer,this.bank=this.res.bankDetails,this.invoice=this.res.invoice,this.items=this.res.invoiceItems)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-purchaseinvoiceview"]],inputs:{res:"res",isSavePDF:"isSavePDF"},features:[t.TTD],decls:2,vars:1,consts:[[4,"ngIf"],["id","printcontainer",1,"container-fluid","invoice-container","print-container",2,"width","850px","margin","auto","padding-top","150px !important","border","1px solid #ccc","border-radius","10px"],["border","0","cellpadding","0","cellspacing","0","width","100%",1,"ur_tablestyle",2,"width","100%","padding-bottom","5px"],["colspan","5",2,"text-align","center","padding-bottom","30px"],["alt","Logo","style","width:200px;height:150px;",3,"src",4,"ngIf"],["border","0","cellpadding","0","cellspacing","0","width","100%",1,"ur_tablestyle",2,"width","100%"],[1,"table_right",2,"text-align","left","width","35%"],[2,"font-size","0.75rem !important","color","#0c2f54","font-family","'Poppins', sans-serif","font-weight","500","line-height","1.2","margin","0","padding-top","4px"],[2,"font-size","0.75rem !important","color","#0c2f54","font-family","'Poppins', sans-serif","font-weight","500","line-height","1.2","margin","0"],[2,"width","30%","text-align","center","vertical-align","middle"],[2,"font-size","1.75rem !important","color","#0c2f54","font-family","'Poppins', sans-serif","font-weight","500","line-height","1.2","margin","0"],[2,"font-size","1.3rem !important","color","#0c2f54","font-family","'Poppins', sans-serif","font-weight","500","line-height","1.2","margin","0"],[1,"table_left",2,"text-align","right","width","35%"],[2,"padding-top","10px","padding-bottom","5px"],["border","0","cellpadding","0","cellspacing","0","width","100%",2,"width","100%"],[2,"width","40%","text-align","center"],["border","0","cellpadding","0","cellspacing","0","width","100%",1,"custumtable",2,"width","100%"],[2,"border","2px solid #878787","border-left","2px solid #878787","padding","5px","width","33%","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","2px solid #878787","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[1,"two"],[2,"border","2px solid #878787","padding","5px","width","33%","text-align","center","font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"width","20%"],[2,"width","40%"],[2,"padding-bottom","5px"],[2,"border","2px solid #878787","padding","5px","width","20%","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","2px solid #878787","padding","5px","text-align","left","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","2px solid #878787","padding","5px","width","10%","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","2px solid #878787","padding","5px","width","22%","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[1,"ur_left",2,"border","2px solid #878787","padding","5px","width","25%","text-align","right","font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","2px solid #878787","padding","5px","width","15%","text-align","center","font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[1,"ur_left",2,"border","2px solid #878787","padding","5px","text-align","right","font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","2px solid #878787","width","10%","padding","5px","text-align","center","font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"padding","5px","text-align","right","font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","2px solid #878787","width","30%","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"width","30%","border","2px solid #878787","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"width","10%","border","2px solid #878787","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"width","15%","border","2px solid #878787","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[4,"ngFor","ngForOf"],["rowspan","2","colspan","5",2,"border","2px solid #878787","padding","5px","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[1,"ur_right",2,"text-align","left","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[1,"ur_left",2,"text-align","right","font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],["colspan","2",1,"ur_right",2,"border","2px solid #878787","border-right","0","padding","5px","text-align","left","font-size","0.675rem !important","color","#706f6f","font-family","'Poppins', sans-serif","font-weight","500"],[2,"font-size","1rem !important","color","#706f6f","font-family","'Poppins', sans-serif","font-weight","500"],[2,"font-size","0.875rem !important","color","#706f6f","font-family","'Poppins', sans-serif","font-weight","500"],[1,"ur_left",2,"border","2px solid #878787","padding","5px","text-align","right","font-size","0.875rem !important","color","#706f6f","font-family","'Poppins', sans-serif","font-weight","500"],["rowspan","3","colspan","5",1,"ur_right",2,"border","2px solid #878787","padding","5px","font-size","0.675rem !important","color","#706f6f","font-family","'Poppins', sans-serif","font-weight","500","vertical-align","top"],["border","0",2,"width","100%"],["colspan","12",2,"text-align","left","padding","8px","border","none!important"],[2,"line-height","18px"],["colspan","2",1,"ur_right",2,"border","2px solid #878787","border-right","0","padding","5px","text-align","left","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[2,"font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[2,"font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[1,"ur_left",2,"border","2px solid #878787","padding","5px","text-align","right","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],["id","spnTotalInclVat"],[2,"padding-top","5px"],[1,"ur_right",2,"width","33%","height","70px","text-align","left","vertical-align","top","border","2px solid #878787","padding","5px","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[1,"ur_right",2,"text-align","left","vertical-align","top","border","2px solid #878787","padding","5px","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[1,"ur_right",2,"width","33%","text-align","left","vertical-align","top","border","2px solid #878787","padding","5px","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],["style","width:100%;","border","0","cellpadding","0","cellspacing","0","width","100%","class","ur_tablestyle",4,"ngIf"],["alt","Logo",2,"width","200px","height","150px",3,"src"],[2,"width","10%","border","2px solid #878787","padding","5px","text-align","center","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"font-weight","600"],[1,"ur_right",2,"border","2px solid #878787","padding","5px","text-align","left","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"width","15%","border","2px solid #878787","padding","5px","text-align","center","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],["colspan","5"]],template:function(e,o){1&e&&(t._UZ(0,"br"),t.YNc(1,ke,260,56,"ng-container",0)),2&e&&(t.xp6(1),t.Q6J("ngIf",o.items&&o.items.length>0))},directives:[d.O5,d.sg],pipes:[d.uU,E],styles:["@media print {\n    div.print-container[_ngcontent-%COMP%] {\n      padding-top: 50px !important;\n      border: 1px solid red;\n    }\n  }\n\n  .customrow[_ngcontent-%COMP%] {\n    width: 850px;\n    margin: auto\n  }\n\n  .custumtable[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .custumtable[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n    border: 0.3px solid #d1d0d0 !important;\n  }\n\n  .custumtable[_ngcontent-%COMP%] {\n    border: 0.3px solid #d1d0d0 !important;\n  }\n\n  .custumtable_bottom[_ngcontent-%COMP%] {\n    border-top: 0px solid #878787 !important;\n  }\n\n    .custumtable_bottom[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .custumtable_bottom[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n      border-top: 0px solid #20b4e2 !important;\n      border-left: 0.5px solid #20b4e2 !important;\n      border-right: 0.5px solid #20b4e2 !important;\n      border-bottom: 0.5px solid #20b4e2 !important\n    }"]}),i})(),Me=(()=>{class i{constructor(e,o,n,r,l){this.apiService=e,this.authService=o,this.utilService=n,this.dialogRef=r,this.notifyService=l,this.id=0,this.isSavePDF=!0,this.isArabic=!1,this.isLoading=!1}ngOnInit(){this.id>0&&this.loadSalesView()}loadSalesView(){this.isLoading=!0,this.apiService.get("generateApInvoice/generateApInvoiceReportById",this.id).subscribe(e=>{this.isLoading=!1,e&&(this.result=e,this.isArabic=this.authService.isArabic())})}closeModel(){this.dialogRef.close()}printInvoice(){this.isSavePDF=!0,this.openPrint()}openPrint(){const e=document.getElementById("printcontainer"),o=window.open("","","left=0,top=0,width=2000,height=1000,toolbar=0,scrollbars=0,status=0");setTimeout(()=>{o.document.write(e.innerHTML),o.document.close(),o.focus(),o.print(),o.close()},50)}saveAsPDF(){setTimeout(()=>{this.isSavePDF=!1,this.openPrint()},600)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(T.so),t.Y36(f.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-purchaseinvoice"]],decls:16,vars:3,consts:[["href","/assets/style_new.css","rel","stylesheet"],[3,"click"],["type","button","aria-hidden","true",1,"",3,"click"],["type","button","aria-hidden","true",1,"close",3,"click"],[3,"isLoading"],[3,"res","isSavePDF"]],template:function(e,o){1&e&&(t._UZ(0,"link",0),t.TgZ(1,"div"),t.TgZ(2,"button",1),t.NdJ("click",function(){return o.printInvoice()}),t._uU(3,"Print"),t.qZA(),t._uU(4," \xa0 "),t.TgZ(5,"button",1),t.NdJ("click",function(){return o.saveAsPDF()}),t._uU(6,"Save As PDF"),t.qZA(),t._uU(7," \xa0 "),t.TgZ(8,"button",2),t.NdJ("click",function(){return o.closeModel()}),t._uU(9," Close"),t.qZA(),t._UZ(10,"br"),t.TgZ(11,"button",3),t.NdJ("click",function(){return o.closeModel()}),t._uU(12," \xd7"),t.qZA(),t.qZA(),t._UZ(13,"br"),t._UZ(14,"spinner-loader",4),t._UZ(15,"app-purchaseinvoiceview",5)),2&e&&(t.xp6(14),t.Q6J("isLoading",o.isLoading),t.xp6(1),t.Q6J("res",o.result)("isSavePDF",o.isSavePDF))},directives:[b.r,Ie],encapsulation:2}),i})();var $=y(1841),at=y(5620);function Je(i,a){if(1&i&&(t.TgZ(0,"option",60),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function De(i,a){if(1&i&&(t.TgZ(0,"option",60),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function Pe(i,a){1&i&&(t._UZ(0,"textarea",61),t.ALo(1,"translate"),t.ALo(2,"translate")),2&i&&t.hYB("placeholder","",t.lcZ(1,2,"Please_Select")," ",t.lcZ(2,4,"Invoice_Notes"),"")}function Ye(i,a){1&i&&(t._UZ(0,"textarea",62),t.ALo(1,"translate"),t.ALo(2,"translate")),2&i&&t.hYB("placeholder","",t.lcZ(1,2,"Please_Select")," ",t.lcZ(2,4,"Remarks"),"")}function Qe(i,a){if(1&i&&(t.TgZ(0,"option",60),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function je(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td",63),t._uU(16),t.qZA(),t.TgZ(17,"td",63),t._uU(18),t.ALo(19,"decimalpipe"),t.qZA(),t.TgZ(20,"td",48),t.TgZ(21,"i",64),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().editInvoiceItem(r)}),t.qZA(),t._uU(22," \xa0 "),t.TgZ(23,"i",65),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().deleteInvoiceItem(r)}),t.qZA(),t._uU(24," \xa0 "),t.qZA(),t.qZA()}if(2&i){const e=a.$implicit;t.xp6(2),t.Oqu(e.product),t.xp6(2),t.Oqu(e.description),t.xp6(2),t.Oqu(e.quantity),t.xp6(2),t.Oqu(e.unitType),t.xp6(2),t.Oqu(e.unitPrice),t.xp6(2),t.Oqu(e.discount),t.xp6(2),t.Oqu(e.taxTariffPercentage),t.xp6(2),t.Oqu(e.taxAmount),t.xp6(2),t.Oqu(t.lcZ(19,9,e.totalAmount))}}const ot=function(){return{standalone:!0}};let Fe=(()=>{class i{constructor(e,o,n,r,l,c,u,g,C,S){this.fb=e,this.http=o,this.router=n,this.apiService=r,this.authService=l,this.utilService=c,this.dialogRef=u,this.notifyService=g,this.validationService=C,this.commonService=S,this.id=0,this.customerList=[],this.companyList=[],this.paymentTermsList=[],this.branchList=[],this.productList=[],this.vatList=[],this.segmentSetupList=[],this.segmentTwoSetupList=[],this.productId=0,this.quantity=0,this.price=0,this.vat=0,this.vatAmount=0,this.total=0,this.discount=0,this.discountAmount=0,this.unitType="",this.description="",this.product="",this.grandDiscountAmount=0,this.grandTotal=0,this.grandVatTotal=0,this.grandInvoiceTotal=0,this.grandTotalStr="",this.grandVatTotalStr="",this.grandInvoiceTotalStr="",this.sequence=1,this.editsequence=0,this.listOfInvoices=[],this.canShowNotes=!1,this.canShowRemarks=!1,this.isArab=!1}ngOnInit(){this.isArab=this.utilService.isArabic(),this.setForm(),this.loadData()}setForm(){this.form=this.fb.group({customerId:["",s.kI.required],invoiceDate:["",s.kI.required],invoiceDueDate:["",s.kI.required],serviceDate1:["",s.kI.required],companyId:["",s.kI.required],branchCode:["",s.kI.required],invoiceRefNumber:["",s.kI.required],lpoContract:["",s.kI.required],paymentTermId:["",s.kI.required],taxIdNumber:["",s.kI.required],remarks:[""],invoiceNotes:[""],invoiceStatusId:["1"],seg1:[""],seg2:[""]})}loadData(){this.apiService.getall("vat/getSelectVatList").subscribe(e=>{e&&(this.vatList=e)}),this.apiService.getall("product/getSelectProductList").subscribe(e=>{e&&(this.productList=e)}),this.apiService.getall("vendor/getVendorsCustomList").subscribe(e=>{e&&(this.customerList=e,this.customerList.map(n=>(n.text=this.isArab?n.textTwo:n.text,n)))}),this.apiService.getall("company/getSelectCompanyList").subscribe(e=>{e&&(this.companyList=e)}),this.apiService.getall("poTermsCode/getSelectPoTermsCodeList").subscribe(e=>{e&&(this.paymentTermsList=e)}),this.apiService.getall("segmentSetup/getSegmentSetupSelectList").subscribe(e=>{e&&(this.segmentSetupList=e)}),this.apiService.getall("segmentTwoSetup/getSegmentTwoSetupSelectList").subscribe(e=>{e&&(this.segmentTwoSetupList=e)})}customerChange(e){this.apiService.getall(`vendor/getVendorById/${e.value}`).subscribe(n=>{n&&this.form.controls.taxIdNumber.setValue(n.vatNumber)})}loadBranchs(e){e.target.value&&this.apiService.getall("branch/getSelectSysAccountBranchList").subscribe(n=>{n&&(this.branchList=n)})}resetProduct(){this.product="",this.unitType="",this.description="",this.price=0,this.total=0,this.discount=0,this.discountAmount=0,this.quantity=0}loadProductdata(e){let o=e.value;o?this.apiService.getall(`product/productUnitPriceItem/${o}`).subscribe(r=>{r&&(this.product=r.nameEN,this.unitType=r.unitTypeEN,this.description=r.description,this.price=r.unitPrice)}):(this.unitType="",this.description="")}addInvoice(){if(0!=this.total&&this.productId>0){if(this.editsequence>0){var e=this.listOfInvoices.findIndex(n=>n.sequence===this.editsequence);let o=this.listOfInvoices[e];o.sequence=this.editsequence,o.product=this.product,o.productId=this.productId,o.description=this.description,o.quantity=this.quantity,o.unitType=this.unitType,o.unitPrice=this.price,o.taxTariffPercentage=this.vat,o.taxAmount=this.vatAmount,o.totalAmount=this.total,o.discount=this.discount,o.discountAmount=this.discountAmount,this.editsequence=0}else this.listOfInvoices.push({sequence:this.getSequence(),product:this.product,productId:this.productId,description:this.description,quantity:this.quantity,unitType:this.unitType,unitPrice:this.price,taxTariffPercentage:this.vat,taxAmount:this.vatAmount,totalAmount:this.total,discount:this.discount,discountAmount:this.discountAmount});this.setGrandTotal(),this.setToDefault()}}getSequence(){return this.sequence+=this.sequence+1}showCanShowNotes(){this.canShowNotes=!this.canShowNotes}showCanShowRemarks(){this.canShowRemarks=!this.canShowRemarks}deleteInvoiceItem(e){this.removeInvoiceList(e.sequence),this.setGrandTotal()}removeInvoiceList(e){let o=this.listOfInvoices.findIndex(n=>n.sequence===e);this.listOfInvoices.splice(o,1)}editInvoiceItem(e){this.editsequence=e.sequence,this.product=e.product,this.productId=e.productId,this.description=e.description,this.quantity=e.quantity,this.unitType=e.unitType,this.price=e.unitPrice,this.vat=e.taxTariffPercentage,this.vatAmount=e.taxAmount,this.total=e.totalAmount,this.discount=e.discount,this.discountAmount=e.discountAmount}setGrandTotal(){this.grandTotal=0,this.grandVatTotal=0,this.grandInvoiceTotal=0,this.grandDiscountAmount=0,this.listOfInvoices.forEach(e=>{this.grandTotal+=e.totalAmount,this.grandVatTotal+=e.taxAmount,this.grandInvoiceTotal+=e.totalAmount-e.taxAmount,this.grandDiscountAmount+=e.discountAmount}),this.form.value.totalAmount=this.grandTotal,this.form.value.discountAmount=this.grandDiscountAmount,this.form.value.taxAmount=this.grandVatTotal,this.form.value.subTotal=this.grandInvoiceTotal,this.grandTotalStr=this.grandTotal.toString(),this.grandVatTotalStr=this.grandVatTotal.toString(),this.grandInvoiceTotalStr=this.grandInvoiceTotal.toString()}setToDefault(){this.productId=0,this.product=this.description=this.unitType="",this.quantity=this.price=this.vat=this.vatAmount=this.total=this.discount=this.discountAmount=0}calculate(){var e=parseFloat(this.vat.toString());this.discount>100&&(this.discount=0);var o=this.discount,l=parseFloat((this.quantity*this.price).toString()),c=parseFloat((l*o/100).toFixed(2));l=parseFloat((l-c).toString()),this.discountAmount=c,this.vatAmount=parseFloat((l*e/100).toFixed(2)),this.total=parseFloat(this.vatAmount.toString())+parseFloat(l.toString())}submit(){this.form.value.invoiceDate=this.utilService.selectedDateTime(this.form.controls.invoiceDate.value),this.form.value.invoiceDueDate=this.utilService.selectedDateTime(this.form.controls.invoiceDueDate.value),this.form.valid?this.listOfInvoices.length>0?(this.form.value.itemList=this.listOfInvoices,this.apiService.post("generateApInvoice",this.form.value).subscribe(e=>{this.utilService.OkMessage(),this.reset(),this.dialogRef.close(!0)},e=>{console.error(e),this.utilService.ShowApiErrorMessage(e)})):this.notifyService.showError("Items Empty"):this.utilService.FillUpFields()}reset(){this.form.reset()}closeModel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36($.eN),t.Y36(Q.F0),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(T.so),t.Y36(f.g),t.Y36(O.R),t.Y36(at.v))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-addupdatepurchaseinvoice"]],decls:275,vars:234,consts:[["type","button","aria-hidden","true",1,"close",3,"click"],["novalidate","",1,"mt-4",3,"formGroup","ngSubmit"],[1,"row","rowm0"],[1,"col-md-12","col-lg-12"],[1,"row","mt-3"],[1,"p-3",2,"border","1px solid #f4f4f4"],[1,"row","mt-2"],[1,"col-md-4","col-lg-4"],[1,"mr-sm-2"],[1,"form-group"],["formControlName","invoiceStatusId",1,"custom-select","mr-sm-2"],["value","1"],["value","2"],["bindLabel","text","bindValue","value","formControlName","customerId",3,"items","change"],[3,"control"],[1,"input-group","mb-2"],["formControlName","invoiceDate",1,"form-control","datapickerinput",3,"placeholder","matDatepicker"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker1",""],["formControlName","invoiceDueDate",1,"form-control","datapickerinput",3,"placeholder","matDatepicker"],["picker",""],["formControlName","serviceDate1",1,"form-control","datapickerinput",3,"placeholder","matDatepicker"],["serviceDate1",""],["formControlName","companyId",1,"custom-select","mr-sm-2",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["bindLabel","text","bindValue","value","formControlName","branchCode",3,"items"],["type","text","formControlName","invoiceRefNumber",1,"form-control",3,"placeholder"],["type","text","formControlName","lpoContract",1,"form-control",3,"placeholder"],["formControlName","paymentTermId",1,"custom-select","mr-sm-2"],["type","text","formControlName","taxIdNumber",1,"form-control",3,"placeholder","readonly"],[1,"mr-sm-2","text-info","cpointer",3,"click"],["class","form-control","formControlName","invoiceNotes",3,"placeholder",4,"ngIf"],["class","form-control","formControlName","remarks",3,"placeholder",4,"ngIf"],[1,"table-responsive"],["id","zero_config",1,"table","table-bordered","no-wrap"],["width","18%"],["width","8%"],["width","11%"],["bindLabel","text","bindValue","value",3,"items","ngModel","ngModelOptions","clear","change","ngModelChange"],[1,"form-control",3,"placeholder","ngModel","ngModelOptions","ngModelChange"],["type","text",1,"form-control",3,"placeholder","ngModel","ngModelOptions","ngModelChange","keyup"],["type","text","readonly","",1,"form-control",3,"placeholder","ngModel","ngModelOptions","ngModelChange"],[1,"custom-select","mr-sm-2",3,"ngModel","ngModelOptions","ngModelChange","change"],["value","0"],["type","button",1,"btn","waves-effect","waves-light","btn-primary",3,"click"],[1,"icon-plus"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"tfoot"],["colspan","6","rowspan","5"],[1,"text-right","bgcolor"],[1,"bgcolor"],[1,"text-right","bgcolor_bottom"],[1,"bgcolor_bottom"],[1,"row"],[1,"col-lg-12","col-md-12","text-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","waves-effect","waves-light","btn-primary",3,"value"],[3,"value"],["formControlName","invoiceNotes",1,"form-control",3,"placeholder"],["formControlName","remarks",1,"form-control",3,"placeholder"],[1,"text-right"],[1,"icon-note","cpointer",3,"click"],[1,"icon-trash","cpointer",3,"click"]],template:function(e,o){if(1&e&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"button",0),t.NdJ("click",function(){return o.closeModel()}),t._uU(4," \xd7"),t.qZA(),t.qZA(),t.TgZ(5,"form",1),t.NdJ("ngSubmit",function(){return o.submit()}),t.TgZ(6,"div",2),t.TgZ(7,"div",3),t.TgZ(8,"div",4),t.TgZ(9,"div",3),t.TgZ(10,"div",5),t.TgZ(11,"div",6),t.TgZ(12,"div",7),t.TgZ(13,"label",8),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"div",9),t.TgZ(17,"select",10),t.TgZ(18,"option",11),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"option",12),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"div",7),t.TgZ(25,"div",9),t.TgZ(26,"label",8),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"ng-select",13),t.NdJ("change",function(r){return o.customerChange(r)}),t.qZA(),t._UZ(30,"validation-message",14),t.qZA(),t.qZA(),t.TgZ(31,"div",7),t.TgZ(32,"label",8),t._uU(33),t.ALo(34,"translate"),t.qZA(),t.TgZ(35,"div",9),t.TgZ(36,"div",15),t._UZ(37,"input",16),t.ALo(38,"translate"),t.TgZ(39,"div",17),t._UZ(40,"mat-datepicker-toggle",18),t._UZ(41,"mat-datepicker",null,19),t._UZ(43,"br"),t._UZ(44,"br"),t.qZA(),t.qZA(),t._UZ(45,"validation-message",14),t.qZA(),t.qZA(),t.TgZ(46,"div",7),t.TgZ(47,"label",8),t._uU(48),t.ALo(49,"translate"),t.qZA(),t.TgZ(50,"div",9),t.TgZ(51,"div",15),t._UZ(52,"input",20),t.ALo(53,"translate"),t.TgZ(54,"div",17),t._UZ(55,"mat-datepicker-toggle",18),t._UZ(56,"mat-datepicker",null,21),t._UZ(58,"br"),t._UZ(59,"br"),t.qZA(),t.qZA(),t._UZ(60,"validation-message",14),t.qZA(),t.qZA(),t.TgZ(61,"div",7),t.TgZ(62,"label",8),t._uU(63),t.ALo(64,"translate"),t.qZA(),t.TgZ(65,"div",9),t.TgZ(66,"div",15),t._UZ(67,"input",22),t.ALo(68,"translate"),t.TgZ(69,"div",17),t._UZ(70,"mat-datepicker-toggle",18),t._UZ(71,"mat-datepicker",null,23),t._UZ(73,"br"),t._UZ(74,"br"),t.qZA(),t.qZA(),t._UZ(75,"validation-message",14),t.qZA(),t.qZA(),t.TgZ(76,"div",7),t.TgZ(77,"div",9),t.TgZ(78,"label",8),t._uU(79),t.ALo(80,"translate"),t.qZA(),t.TgZ(81,"select",24),t.NdJ("change",function(r){return o.loadBranchs(r)}),t.TgZ(82,"option",25),t._uU(83),t.ALo(84,"translate"),t.qZA(),t.YNc(85,Je,2,2,"option",26),t.qZA(),t._UZ(86,"validation-message",14),t.qZA(),t.qZA(),t.TgZ(87,"div",7),t.TgZ(88,"div",9),t.TgZ(89,"label",8),t._uU(90),t.ALo(91,"translate"),t.qZA(),t._UZ(92,"ng-select",27),t._UZ(93,"validation-message",14),t.qZA(),t.qZA(),t.TgZ(94,"div",7),t.TgZ(95,"div",9),t.TgZ(96,"label",8),t._uU(97),t.ALo(98,"translate"),t.qZA(),t._UZ(99,"input",28),t.ALo(100,"translate"),t.ALo(101,"translate"),t._UZ(102,"validation-message",14),t.qZA(),t.qZA(),t.TgZ(103,"div",7),t.TgZ(104,"div",9),t.TgZ(105,"label",8),t._uU(106),t.ALo(107,"translate"),t.qZA(),t._UZ(108,"input",29),t.ALo(109,"translate"),t.ALo(110,"translate"),t._UZ(111,"validation-message",14),t.qZA(),t.qZA(),t.TgZ(112,"div",7),t.TgZ(113,"div",9),t.TgZ(114,"label",8),t._uU(115),t.ALo(116,"translate"),t.qZA(),t.TgZ(117,"select",30),t.TgZ(118,"option",25),t._uU(119),t.ALo(120,"translate"),t.qZA(),t.YNc(121,De,2,2,"option",26),t.qZA(),t._UZ(122,"validation-message",14),t.qZA(),t.qZA(),t.TgZ(123,"div",7),t.TgZ(124,"div",9),t.TgZ(125,"label",8),t._uU(126),t.ALo(127,"translate"),t.qZA(),t._UZ(128,"input",31),t.ALo(129,"translate"),t._UZ(130,"validation-message",14),t.qZA(),t.qZA(),t.TgZ(131,"div",7),t.TgZ(132,"div",9),t.TgZ(133,"label",32),t.NdJ("click",function(){return o.showCanShowNotes()}),t._uU(134),t.ALo(135,"translate"),t.qZA(),t.YNc(136,Pe,3,6,"textarea",33),t.qZA(),t.qZA(),t.TgZ(137,"div",7),t.TgZ(138,"div",9),t.TgZ(139,"label",32),t.NdJ("click",function(){return o.showCanShowRemarks()}),t._uU(140),t.ALo(141,"translate"),t.qZA(),t.YNc(142,Ye,3,6,"textarea",34),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(143,"div",35),t.TgZ(144,"table",36),t.TgZ(145,"thead"),t.TgZ(146,"tr"),t.TgZ(147,"th",37),t._uU(148),t.ALo(149,"translate"),t.qZA(),t.TgZ(150,"th",37),t._uU(151),t.ALo(152,"translate"),t.qZA(),t.TgZ(153,"th",38),t._uU(154),t.ALo(155,"translate"),t.qZA(),t.TgZ(156,"th"),t._uU(157),t.ALo(158,"translate"),t.qZA(),t.TgZ(159,"th"),t._uU(160),t.ALo(161,"translate"),t.qZA(),t.TgZ(162,"th"),t._uU(163),t.ALo(164,"translate"),t.qZA(),t.TgZ(165,"th",38),t._uU(166),t.ALo(167,"translate"),t.qZA(),t.TgZ(168,"th",39),t._uU(169),t.ALo(170,"translate"),t.qZA(),t.TgZ(171,"th"),t._uU(172),t.ALo(173,"translate"),t.qZA(),t._UZ(174,"th"),t.qZA(),t.qZA(),t.TgZ(175,"tbody"),t.TgZ(176,"tr"),t.TgZ(177,"td"),t.TgZ(178,"ng-select",40),t.NdJ("clear",function(){return o.resetProduct()})("change",function(r){return o.loadProductdata(r)})("ngModelChange",function(r){return o.productId=r}),t.qZA(),t.qZA(),t.TgZ(179,"td"),t.TgZ(180,"textarea",41),t.NdJ("ngModelChange",function(r){return o.description=r}),t.ALo(181,"translate"),t.qZA(),t.qZA(),t.TgZ(182,"td"),t.TgZ(183,"input",42),t.NdJ("ngModelChange",function(r){return o.quantity=r})("keyup",function(){return o.calculate()}),t.ALo(184,"translate"),t.qZA(),t.qZA(),t.TgZ(185,"td"),t.TgZ(186,"input",43),t.NdJ("ngModelChange",function(r){return o.unitType=r}),t.ALo(187,"translate"),t.qZA(),t.qZA(),t.TgZ(188,"td"),t.TgZ(189,"input",42),t.NdJ("ngModelChange",function(r){return o.price=r})("keyup",function(){return o.calculate()}),t.ALo(190,"translate"),t.qZA(),t.qZA(),t.TgZ(191,"td"),t.TgZ(192,"input",42),t.NdJ("ngModelChange",function(r){return o.discount=r})("keyup",function(){return o.calculate()}),t.ALo(193,"translate"),t.qZA(),t.qZA(),t.TgZ(194,"td"),t.TgZ(195,"select",44),t.NdJ("ngModelChange",function(r){return o.vat=r})("change",function(){return o.calculate()}),t.TgZ(196,"option",45),t._uU(197),t.ALo(198,"translate"),t.qZA(),t.YNc(199,Qe,2,2,"option",26),t.qZA(),t.qZA(),t.TgZ(200,"td"),t.TgZ(201,"input",43),t.NdJ("ngModelChange",function(r){return o.vatAmount=r}),t.ALo(202,"translate"),t.qZA(),t.qZA(),t.TgZ(203,"td"),t.TgZ(204,"input",43),t.NdJ("ngModelChange",function(r){return o.total=r}),t.ALo(205,"translate"),t.qZA(),t.qZA(),t.TgZ(206,"td"),t.TgZ(207,"button",46),t.NdJ("click",function(){return o.addInvoice()}),t._UZ(208,"i",47),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(209,"thead"),t.TgZ(210,"tr"),t.TgZ(211,"th"),t._uU(212),t.ALo(213,"translate"),t.qZA(),t.TgZ(214,"th"),t._uU(215),t.ALo(216,"translate"),t.qZA(),t.TgZ(217,"th"),t._uU(218),t.ALo(219,"translate"),t.qZA(),t.TgZ(220,"th"),t._uU(221),t.ALo(222,"translate"),t.qZA(),t.TgZ(223,"th"),t._uU(224),t.ALo(225,"translate"),t.qZA(),t.TgZ(226,"th"),t._uU(227),t.ALo(228,"translate"),t.qZA(),t.TgZ(229,"th"),t._uU(230),t.ALo(231,"translate"),t.qZA(),t.TgZ(232,"th"),t._uU(233),t.ALo(234,"translate"),t.qZA(),t.TgZ(235,"th"),t._uU(236),t.ALo(237,"translate"),t.qZA(),t._UZ(238,"th",48),t.qZA(),t.qZA(),t.TgZ(239,"tbody"),t.YNc(240,je,25,11,"tr",49),t.qZA(),t.TgZ(241,"tfoot"),t.TgZ(242,"tr",50),t._UZ(243,"td",51),t.TgZ(244,"td",52),t._uU(245),t.ALo(246,"translate"),t.qZA(),t.TgZ(247,"td",52),t._uU(248),t.ALo(249,"decimalpipe"),t.qZA(),t._UZ(250,"td",53),t.qZA(),t.TgZ(251,"tr",50),t.TgZ(252,"td",52),t._uU(253),t.ALo(254,"translate"),t.qZA(),t.TgZ(255,"td",52),t._uU(256),t.ALo(257,"decimalpipe"),t.qZA(),t._UZ(258,"td",53),t.qZA(),t.TgZ(259,"tr",50),t.TgZ(260,"td",54),t._uU(261),t.ALo(262,"translate"),t.qZA(),t.TgZ(263,"td",54),t._uU(264),t.ALo(265,"decimalpipe"),t.qZA(),t._UZ(266,"td",55),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(267,"div",56),t.TgZ(268,"div",57),t.TgZ(269,"button",58),t.NdJ("click",function(){return o.closeModel()}),t._uU(270),t.ALo(271,"translate"),t.qZA(),t._uU(272," \xa0\xa0 "),t._UZ(273,"input",59),t.ALo(274,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e){const n=t.MAs(42),r=t.MAs(57),l=t.MAs(72);t.xp6(1),t.hij(" ",t.lcZ(2,105,"Create_New_Purchase_Invoice")," "),t.xp6(4),t.Q6J("formGroup",o.form),t.xp6(9),t.Oqu(t.lcZ(15,107,"Invoice_Type")),t.xp6(5),t.Oqu(t.lcZ(20,109,"Invoice")),t.xp6(3),t.Oqu(t.lcZ(23,111,"Credit")),t.xp6(5),t.Oqu(t.lcZ(28,113,"Vendor")),t.xp6(2),t.Q6J("items",o.customerList),t.xp6(1),t.Q6J("control",o.form.controls.customerId),t.xp6(3),t.Oqu(t.lcZ(34,115,"Invoice_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(38,117,"Select_a_Date")),t.Q6J("matDatepicker",n),t.xp6(3),t.Q6J("for",n),t.xp6(5),t.Q6J("control",o.form.controls.invoiceDate),t.xp6(3),t.Oqu(t.lcZ(49,119,"Delivery_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(53,121,"Select_a_Date")),t.Q6J("matDatepicker",r),t.xp6(3),t.Q6J("for",r),t.xp6(5),t.Q6J("control",o.form.controls.invoiceDueDate),t.xp6(3),t.Oqu(t.lcZ(64,123,"ServiceDate")),t.xp6(4),t.s9C("placeholder",t.lcZ(68,125,"Select_a_Date")),t.Q6J("matDatepicker",l),t.xp6(3),t.Q6J("for",l),t.xp6(5),t.Q6J("control",o.form.controls.serviceDate1),t.xp6(4),t.Oqu(t.lcZ(80,127,"Organization")),t.xp6(4),t.Oqu(t.lcZ(84,129,"Select_Organization")),t.xp6(2),t.Q6J("ngForOf",o.companyList),t.xp6(1),t.Q6J("control",o.form.controls.companyId),t.xp6(4),t.Oqu(t.lcZ(91,131,"Branch")),t.xp6(2),t.Q6J("items",o.branchList),t.xp6(1),t.Q6J("control",o.form.controls.branchCode),t.xp6(4),t.Oqu(t.lcZ(98,133,"Invoice_Reference_Number")),t.xp6(2),t.hYB("placeholder","",t.lcZ(100,135,"Please_Enter")," ",t.lcZ(101,137,"Invoice_Reference_Number"),""),t.xp6(3),t.Q6J("control",o.form.controls.invoiceRefNumber),t.xp6(4),t.hij(" ",t.lcZ(107,139,"LPO_Contract")," "),t.xp6(2),t.hYB("placeholder","",t.lcZ(109,141,"Please_Enter")," ",t.lcZ(110,143,"LPO_Contract"),""),t.xp6(3),t.Q6J("control",o.form.controls.lpoContract),t.xp6(4),t.hij(" ",t.lcZ(116,145,"Payment_Terms")," "),t.xp6(4),t.Oqu(t.lcZ(120,147,"Select_Payment_Terms")),t.xp6(2),t.Q6J("ngForOf",o.paymentTermsList),t.xp6(1),t.Q6J("control",o.form.controls.paymentTermId),t.xp6(4),t.Oqu(t.lcZ(127,149,"TAX_Id_Number")),t.xp6(2),t.s9C("placeholder",t.lcZ(129,151,"TAX_Id_Number")),t.Q6J("readonly",!0),t.xp6(2),t.Q6J("control",o.form.controls.taxIdNumber),t.xp6(4),t.Oqu(t.lcZ(135,153,"Invoice_Notes")),t.xp6(2),t.Q6J("ngIf",o.canShowNotes),t.xp6(4),t.Oqu(t.lcZ(141,155,"Remarks")),t.xp6(2),t.Q6J("ngIf",o.canShowRemarks),t.xp6(6),t.Oqu(t.lcZ(149,157,"Item")),t.xp6(3),t.Oqu(t.lcZ(152,159,"Description")),t.xp6(3),t.Oqu(t.lcZ(155,161,"Quantity")),t.xp6(3),t.Oqu(t.lcZ(158,163,"Unit")),t.xp6(3),t.Oqu(t.lcZ(161,165,"Price")),t.xp6(3),t.Oqu(t.lcZ(164,167,"Discount")),t.xp6(3),t.hij("",t.lcZ(167,169,"VAT"),"%"),t.xp6(3),t.Oqu(t.lcZ(170,171,"VAT_Amount")),t.xp6(3),t.Oqu(t.lcZ(173,173,"Total")),t.xp6(6),t.Q6J("items",o.productList)("ngModel",o.productId)("ngModelOptions",t.DdM(225,ot)),t.xp6(2),t.s9C("placeholder",t.lcZ(181,175,"Description")),t.Q6J("ngModel",o.description)("ngModelOptions",t.DdM(226,ot)),t.xp6(3),t.s9C("placeholder",t.lcZ(184,177,"Quantity")),t.Q6J("ngModel",o.quantity)("ngModelOptions",t.DdM(227,ot)),t.xp6(3),t.s9C("placeholder",t.lcZ(187,179,"Unit")),t.Q6J("ngModel",o.unitType)("ngModelOptions",t.DdM(228,ot)),t.xp6(3),t.s9C("placeholder",t.lcZ(190,181,"Price")),t.Q6J("ngModel",o.price)("ngModelOptions",t.DdM(229,ot)),t.xp6(3),t.s9C("placeholder",t.lcZ(193,183,"Discount")),t.Q6J("ngModel",o.discount)("ngModelOptions",t.DdM(230,ot)),t.xp6(3),t.Q6J("ngModel",o.vat)("ngModelOptions",t.DdM(231,ot)),t.xp6(2),t.Oqu(t.lcZ(198,185,"VAT")),t.xp6(2),t.Q6J("ngForOf",o.vatList),t.xp6(2),t.s9C("placeholder",t.lcZ(202,187,"VAT_Amount")),t.Q6J("ngModel",o.vatAmount)("ngModelOptions",t.DdM(232,ot)),t.xp6(3),t.s9C("placeholder",t.lcZ(205,189,"Total")),t.Q6J("ngModel",o.total)("ngModelOptions",t.DdM(233,ot)),t.xp6(8),t.Oqu(t.lcZ(213,191,"Item")),t.xp6(3),t.Oqu(t.lcZ(216,193,"Description")),t.xp6(3),t.Oqu(t.lcZ(219,195,"Quantity")),t.xp6(3),t.Oqu(t.lcZ(222,197,"Unit")),t.xp6(3),t.Oqu(t.lcZ(225,199,"Price")),t.xp6(3),t.Oqu(t.lcZ(228,201,"Discount")),t.xp6(3),t.hij("",t.lcZ(231,203,"VAT"),"%"),t.xp6(3),t.Oqu(t.lcZ(234,205,"VAT_Amount")),t.xp6(3),t.Oqu(t.lcZ(237,207,"Total")),t.xp6(4),t.Q6J("ngForOf",o.listOfInvoices),t.xp6(5),t.Oqu(t.lcZ(246,209,"Total_Amount")),t.xp6(3),t.Oqu(t.lcZ(249,211,o.grandInvoiceTotalStr)),t.xp6(5),t.Oqu(t.lcZ(254,213,"VAT_Amount")),t.xp6(3),t.Oqu(t.lcZ(257,215,o.grandVatTotalStr)),t.xp6(5),t.Oqu(t.lcZ(262,217,"Invoice_Total")),t.xp6(3),t.Oqu(t.lcZ(265,219,o.grandTotalStr)),t.xp6(6),t.hij(" ",t.lcZ(271,221,"Cancel")," "),t.xp6(3),t.s9C("value",t.lcZ(274,223,"Save"))}},directives:[s._Y,s.JL,s.sg,s.EJ,s.JJ,s.u,s.YN,s.Kr,j.w9,M.s,s.Fj,m.hl,m.nW,U.R9,m.Mq,d.sg,d.O5,s.On],pipes:[Z.X$,I.J],encapsulation:2}),i})();function Be(i,a){if(1&i&&(t.TgZ(0,"option",59),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function Ve(i,a){if(1&i&&(t.TgZ(0,"option",59),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function Re(i,a){if(1&i&&(t.TgZ(0,"option",59),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function Ee(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td",60),t._uU(16),t.qZA(),t.TgZ(17,"td",60),t._uU(18),t.qZA(),t.TgZ(19,"td",47),t.TgZ(20,"i",61),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().editInvoiceItem(r)}),t.qZA(),t._uU(21," \xa0 "),t.TgZ(22,"i",62),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().deleteInvoiceItem(r)}),t.qZA(),t._uU(23," \xa0 "),t.qZA(),t.qZA()}if(2&i){const e=a.$implicit;t.xp6(2),t.Oqu(e.product),t.xp6(2),t.Oqu(e.description),t.xp6(2),t.Oqu(e.quantity),t.xp6(2),t.Oqu(e.unitType),t.xp6(2),t.Oqu(e.unitPrice),t.xp6(2),t.Oqu(e.discount),t.xp6(2),t.Oqu(e.taxTariffPercentage),t.xp6(2),t.Oqu(e.taxAmount),t.xp6(2),t.Oqu(e.totalAmount)}}const it=function(){return{standalone:!0}};let $e=(()=>{class i{constructor(e,o,n,r,l,c,u,g,C,S){this.fb=e,this.http=o,this.router=n,this.apiService=r,this.authService=l,this.utilService=c,this.dialogRef=u,this.notifyService=g,this.validationService=C,this.commonService=S,this.id=0,this.customerList=[],this.companyList=[],this.paymentTermsList=[],this.branchList=[],this.productList=[],this.vatList=[],this.productId="",this.quantity=0,this.price=0,this.vat=0,this.vatAmount=0,this.total=0,this.discount=0,this.discountAmount=0,this.unitType="",this.description="",this.product="",this.grandDiscountAmount=0,this.grandTotal=0,this.grandVatTotal=0,this.grandInvoiceTotal=0,this.grandTotalStr="",this.grandVatTotalStr="",this.grandInvoiceTotalStr="",this.sequence=1,this.editsequence=0,this.listOfInvoices=[],this.canShowNotes=!1,this.canShowRemarks=!1,this.isArab=!1}ngOnInit(){this.isArab=this.utilService.isArabic(),this.setForm(),this.loadData(),this.id>0&&this.seteditform()}setForm(){this.form=this.fb.group({customerId:["",s.kI.required],invoiceDate:["",s.kI.required],invoiceDueDate:["",s.kI.required],serviceDate1:["",s.kI.required],companyId:["",s.kI.required],branchCode:["",s.kI.required],invoiceRefNumber:["",s.kI.required],lpoContract:["",s.kI.required],paymentTermId:["",s.kI.required],taxIdNumber:["3232323",s.kI.required],remarks:[""],invoiceNotes:[""],invoiceStatusId:["1"]})}seteditform(){this.apiService.get("generateApInvoice/getSingleCreditApInvoiceById",this.id).subscribe(e=>{e&&(this.loadBranchsForCompany(e.companyId,e),this.displayProducts(e))})}loadData(){this.apiService.getall("vat/getSelectVatList").subscribe(e=>{e&&(this.vatList=e)}),this.apiService.getall("product/getSelectProductList").subscribe(e=>{e&&(this.productList=e)}),this.apiService.getall("vendor/getVendorsCustomList").subscribe(e=>{e&&(this.customerList=e,this.customerList.map(n=>(n.text=this.isArab?n.textTwo:n.text,n)))}),this.apiService.getall("company/getSelectCompanyList").subscribe(e=>{e&&(this.companyList=e)}),this.apiService.getall("poTermsCode/getSelectPoTermsCodeList").subscribe(e=>{e&&(this.paymentTermsList=e)})}customerChange(e){this.apiService.getall(`vendor/getVendorById/${e.value}`).subscribe(n=>{n&&this.form.controls.taxIdNumber.setValue(n.vatNumber)})}loadBranchsForCompany(e,o){e&&this.apiService.getall("branch/getSelectSysAccountBranchList").subscribe(n=>{n&&(this.branchList=n,this.form.patchValue(o),this.form.patchValue({customerId:`${o.customerId}`}))})}displayProducts(e){e.itemList.forEach(n=>{this.productId=n.productId,this.product=n.productName,this.description=n.description,this.quantity=n.quantity,this.unitType=n.unitType,this.price=n.unitPrice,this.vat=n.taxTariffPercentage,this.vatAmount=n.taxAmount,this.total=n.totalAmount,this.discount=n.discount,this.discountAmount=n.discountAmount,this.addInvoice()})}loadBranchs(e){e.target.value&&this.apiService.getall("branch/getSelectSysAccountBranchList").subscribe(n=>{n&&(this.branchList=n)})}resetProduct(){this.product="",this.unitType="",this.description="",this.price=0,this.total=0,this.discount=0,this.discountAmount=0,this.quantity=0}loadProductdata(e){let o=e.value;o?this.apiService.getall(`product/productUnitPriceItem/${o}`).subscribe(r=>{r&&(this.product=r.nameEN,this.unitType=r.unitTypeEN,this.description=r.description,this.price=r.unitPrice)}):(this.unitType="",this.description="")}addInvoice(){0!=this.total&&parseInt(this.productId)>0&&(this.editsequence>0&&(this.removeInvoiceList(this.editsequence),this.editsequence=0),this.listOfInvoices.push({sequence:this.getSequence(),product:this.product,productId:this.productId,description:this.description,quantity:this.quantity,unitType:this.unitType,unitPrice:this.price,taxTariffPercentage:this.vat,taxAmount:this.vatAmount,totalAmount:this.total,discount:this.discount,discountAmount:this.discountAmount}),this.setGrandTotal(),this.setToDefault())}getSequence(){return this.sequence+=this.sequence+1}showCanShowNotes(){this.canShowNotes=!this.canShowNotes}showCanShowRemarks(){this.canShowRemarks=!this.canShowRemarks}deleteInvoiceItem(e){this.removeInvoiceList(e.sequence),this.setGrandTotal()}removeInvoiceList(e){let o=this.listOfInvoices.findIndex(n=>n.sequence===e);this.listOfInvoices.splice(o,1)}editInvoiceItem(e){console.log(e),this.editsequence=e.sequence,this.product=e.product,this.productId=`${e.productId}`,this.description=e.description,this.quantity=e.quantity,this.unitType=e.unitType,this.price=e.unitPrice,this.vat=e.taxTariffPercentage,this.vatAmount=e.taxAmount,this.total=e.totalAmount,this.discount=e.discount,this.discountAmount=e.discountAmount}setGrandTotal(){this.grandTotal=0,this.grandVatTotal=0,this.grandInvoiceTotal=0,this.grandDiscountAmount=0,this.listOfInvoices.forEach(e=>{this.grandTotal+=e.totalAmount,this.grandVatTotal+=e.taxAmount,this.grandInvoiceTotal+=e.totalAmount-e.taxAmount,this.grandDiscountAmount+=e.discountAmount}),this.form.value.totalAmount=this.grandTotal,this.form.value.discountAmount=this.grandDiscountAmount,this.form.value.taxAmount=this.grandVatTotal,this.form.value.subTotal=this.grandInvoiceTotal,this.grandTotalStr=this.grandTotal.toString(),this.grandVatTotalStr=this.grandVatTotal.toString(),this.grandInvoiceTotalStr=this.grandInvoiceTotal.toString()}setToDefault(){this.productId="",this.product=this.description=this.unitType="",this.quantity=this.price=this.vat=this.vatAmount=this.total=this.discount=this.discountAmount=0}calculate(){var e=parseFloat(this.vat.toString());this.discount>100&&(this.discount=0);var o=this.discount,l=parseFloat((this.quantity*this.price).toString()),c=parseFloat((l*o/100).toFixed(2));l=parseFloat((l-c).toString()),this.discountAmount=c,this.vatAmount=parseFloat((l*e/100).toFixed(2)),this.total=parseFloat(this.vatAmount.toString())+parseFloat(l.toString())}submit(){this.form.valid?(this.id>0&&(this.form.value.id=this.id),this.listOfInvoices.length>0?(this.setGrandTotal(),this.form.value.itemList=this.listOfInvoices,this.form.value.invoiceDate=this.utilService.selectedDateTime(this.form.controls.invoiceDate.value),this.form.value.invoiceDueDate=this.utilService.selectedDateTime(this.form.controls.invoiceDueDate.value),this.apiService.post("generateApInvoice",this.form.value).subscribe(e=>{this.utilService.OkMessage(),this.reset(),this.dialogRef.close(!0)},e=>{console.error(e),this.utilService.ShowApiErrorMessage(e)})):this.notifyService.showError("Items Empty")):this.utilService.FillUpFields()}reset(){this.form.reset()}closeModel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36($.eN),t.Y36(Q.F0),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(T.so),t.Y36(f.g),t.Y36(O.R),t.Y36(at.v))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-editpurchaseinvoice"]],decls:264,vars:231,consts:[["type","button","aria-hidden","true",1,"close",3,"click"],["novalidate","",1,"mt-4",3,"formGroup","ngSubmit"],[1,"row","rowm0"],[1,"col-md-12","col-lg-12"],[1,"row","mt-3"],[1,"p-3",2,"border","1px solid #f4f4f4"],[1,"row","mt-2"],[1,"col-md-4","col-lg-4"],[1,"mr-sm-2"],[1,"form-group"],["formControlName","invoiceStatusId",1,"custom-select","mr-sm-2"],["value","1"],["value","2"],["bindLabel","text","bindValue","value","formControlName","customerId",3,"items","change"],[1,"input-group","mb-2"],["formControlName","invoiceDate",1,"form-control","datapickerinput",3,"placeholder","matDatepicker"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker1",""],["formControlName","invoiceDueDate",1,"form-control","datapickerinput",3,"placeholder","matDatepicker"],["picker",""],["formControlName","serviceDate1",1,"form-control","datapickerinput",3,"placeholder","matDatepicker"],["serviceDate1",""],[3,"control"],["formControlName","companyId",1,"custom-select","mr-sm-2",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["bindLabel","text","bindValue","value","formControlName","branchCode",3,"items"],["type","text","formControlName","invoiceRefNumber",1,"form-control",3,"placeholder"],["type","text","formControlName","lpoContract",1,"form-control",3,"placeholder"],["formControlName","paymentTermId",1,"custom-select","mr-sm-2"],["type","text","readonly","","formControlName","taxIdNumber",1,"form-control",3,"placeholder"],[1,"col-md-5","col-lg-5"],["formControlName","invoiceNotes",1,"form-control",3,"placeholder"],["formControlName","remarks",1,"form-control",3,"placeholder"],[1,"table-responsive"],["id","zero_config",1,"table","table-bordered","no-wrap"],["width","18%"],["width","8%"],["width","11%"],["bindLabel","text","bindValue","value",3,"items","ngModel","ngModelOptions","clear","change","ngModelChange"],[1,"form-control",3,"placeholder","ngModel","ngModelOptions","ngModelChange"],["type","text",1,"form-control",3,"placeholder","ngModel","ngModelOptions","ngModelChange","keyup"],["type","text","readonly","",1,"form-control",3,"placeholder","ngModel","ngModelOptions","ngModelChange"],[1,"custom-select","mr-sm-2",3,"ngModel","ngModelOptions","ngModelChange","change"],["value","0"],["type","button",1,"btn","waves-effect","waves-light","btn-primary",3,"click"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"tfoot"],["colspan","6","rowspan","5"],[1,"text-right","bgcolor"],[1,"bgcolor"],[1,"text-right","bgcolor_bottom"],[1,"bgcolor_bottom"],[1,"row"],[1,"col-lg-12","col-md-12","text-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","waves-effect","waves-light","btn-primary",3,"value"],[3,"value"],[1,"text-right"],[1,"icon-note","cpointer",3,"click"],[1,"icon-trash","cpointer",3,"click"]],template:function(e,o){if(1&e&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"button",0),t.NdJ("click",function(){return o.closeModel()}),t._uU(4," \xd7"),t.qZA(),t.qZA(),t.TgZ(5,"form",1),t.NdJ("ngSubmit",function(){return o.submit()}),t.TgZ(6,"div",2),t.TgZ(7,"div",3),t.TgZ(8,"div",4),t.TgZ(9,"div",3),t.TgZ(10,"div",5),t.TgZ(11,"div",6),t.TgZ(12,"div",7),t.TgZ(13,"label",8),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"div",9),t.TgZ(17,"select",10),t.TgZ(18,"option",11),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"option",12),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"div",7),t.TgZ(25,"div",9),t.TgZ(26,"label",8),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"ng-select",13),t.NdJ("change",function(r){return o.customerChange(r)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(30,"div",7),t.TgZ(31,"label",8),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"div",9),t.TgZ(35,"div",14),t._UZ(36,"input",15),t.ALo(37,"translate"),t.TgZ(38,"div",16),t._UZ(39,"mat-datepicker-toggle",17),t._UZ(40,"mat-datepicker",null,18),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(42,"div",7),t.TgZ(43,"label",8),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.TgZ(46,"div",9),t.TgZ(47,"div",14),t._UZ(48,"input",19),t.ALo(49,"translate"),t.TgZ(50,"div",16),t._UZ(51,"mat-datepicker-toggle",17),t._UZ(52,"mat-datepicker",null,20),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(54,"div",7),t.TgZ(55,"label",8),t._uU(56),t.ALo(57,"translate"),t.qZA(),t.TgZ(58,"div",9),t.TgZ(59,"div",14),t._UZ(60,"input",21),t.ALo(61,"translate"),t.TgZ(62,"div",16),t._UZ(63,"mat-datepicker-toggle",17),t._UZ(64,"mat-datepicker",null,22),t._UZ(66,"br"),t._UZ(67,"br"),t.qZA(),t.qZA(),t._UZ(68,"validation-message",23),t.qZA(),t.qZA(),t.TgZ(69,"div",7),t.TgZ(70,"div",9),t.TgZ(71,"label",8),t._uU(72),t.ALo(73,"translate"),t.qZA(),t.TgZ(74,"select",24),t.NdJ("change",function(r){return o.loadBranchs(r)}),t.TgZ(75,"option",25),t._uU(76),t.ALo(77,"translate"),t.qZA(),t.YNc(78,Be,2,2,"option",26),t.qZA(),t.qZA(),t.qZA(),t.TgZ(79,"div",7),t.TgZ(80,"div",9),t.TgZ(81,"label",8),t._uU(82),t.ALo(83,"translate"),t.qZA(),t._UZ(84,"ng-select",27),t.qZA(),t.qZA(),t.TgZ(85,"div",7),t.TgZ(86,"div",9),t.TgZ(87,"label",8),t._uU(88),t.ALo(89,"translate"),t.qZA(),t._UZ(90,"input",28),t.ALo(91,"translate"),t.ALo(92,"translate"),t.qZA(),t.qZA(),t.TgZ(93,"div",7),t.TgZ(94,"div",9),t.TgZ(95,"label",8),t._uU(96),t.ALo(97,"translate"),t.qZA(),t._UZ(98,"input",29),t.ALo(99,"translate"),t.ALo(100,"translate"),t.qZA(),t.qZA(),t.TgZ(101,"div",7),t.TgZ(102,"div",9),t.TgZ(103,"label",8),t._uU(104),t.ALo(105,"translate"),t.qZA(),t.TgZ(106,"select",30),t.TgZ(107,"option",25),t._uU(108),t.ALo(109,"translate"),t.qZA(),t.YNc(110,Ve,2,2,"option",26),t.qZA(),t.qZA(),t.qZA(),t.TgZ(111,"div",7),t.TgZ(112,"div",9),t.TgZ(113,"label",8),t._uU(114),t.ALo(115,"translate"),t.qZA(),t._UZ(116,"input",31),t.ALo(117,"translate"),t.qZA(),t.qZA(),t.TgZ(118,"div",32),t.TgZ(119,"div",9),t.TgZ(120,"label",8),t._uU(121),t.ALo(122,"translate"),t.qZA(),t._UZ(123,"textarea",33),t.ALo(124,"translate"),t.ALo(125,"translate"),t.qZA(),t.qZA(),t.TgZ(126,"div",32),t.TgZ(127,"div",9),t.TgZ(128,"label",8),t._uU(129),t.ALo(130,"translate"),t.qZA(),t._UZ(131,"textarea",34),t.ALo(132,"translate"),t.ALo(133,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(134,"div",35),t.TgZ(135,"table",36),t.TgZ(136,"thead"),t.TgZ(137,"tr"),t.TgZ(138,"th",37),t._uU(139),t.ALo(140,"translate"),t.qZA(),t.TgZ(141,"th",37),t._uU(142),t.ALo(143,"translate"),t.qZA(),t.TgZ(144,"th"),t._uU(145),t.ALo(146,"translate"),t.qZA(),t.TgZ(147,"th"),t._uU(148),t.ALo(149,"translate"),t.qZA(),t.TgZ(150,"th"),t._uU(151),t.ALo(152,"translate"),t.qZA(),t.TgZ(153,"th"),t._uU(154),t.ALo(155,"translate"),t.qZA(),t.TgZ(156,"th",38),t._uU(157),t.ALo(158,"translate"),t.qZA(),t.TgZ(159,"th",39),t._uU(160),t.ALo(161,"translate"),t.qZA(),t.TgZ(162,"th"),t._uU(163),t.ALo(164,"translate"),t.qZA(),t._UZ(165,"th"),t.qZA(),t.qZA(),t.TgZ(166,"tbody"),t.TgZ(167,"tr"),t.TgZ(168,"td"),t.TgZ(169,"ng-select",40),t.NdJ("clear",function(){return o.resetProduct()})("change",function(r){return o.loadProductdata(r)})("ngModelChange",function(r){return o.productId=r}),t.qZA(),t.qZA(),t.TgZ(170,"td"),t.TgZ(171,"textarea",41),t.NdJ("ngModelChange",function(r){return o.description=r}),t.ALo(172,"translate"),t.qZA(),t.qZA(),t.TgZ(173,"td"),t.TgZ(174,"input",42),t.NdJ("ngModelChange",function(r){return o.quantity=r})("keyup",function(){return o.calculate()}),t.ALo(175,"translate"),t.qZA(),t.qZA(),t.TgZ(176,"td"),t.TgZ(177,"input",43),t.NdJ("ngModelChange",function(r){return o.unitType=r}),t.ALo(178,"translate"),t.qZA(),t.qZA(),t.TgZ(179,"td"),t.TgZ(180,"input",42),t.NdJ("ngModelChange",function(r){return o.price=r})("keyup",function(){return o.calculate()}),t.ALo(181,"translate"),t.qZA(),t.qZA(),t.TgZ(182,"td"),t.TgZ(183,"input",42),t.NdJ("ngModelChange",function(r){return o.discount=r})("keyup",function(){return o.calculate()}),t.ALo(184,"translate"),t.qZA(),t.qZA(),t.TgZ(185,"td"),t.TgZ(186,"select",44),t.NdJ("ngModelChange",function(r){return o.vat=r})("change",function(){return o.calculate()}),t.TgZ(187,"option",45),t._uU(188),t.ALo(189,"translate"),t.qZA(),t.YNc(190,Re,2,2,"option",26),t.qZA(),t.qZA(),t.TgZ(191,"td"),t.TgZ(192,"input",43),t.NdJ("ngModelChange",function(r){return o.vatAmount=r}),t.ALo(193,"translate"),t.qZA(),t.qZA(),t.TgZ(194,"td"),t.TgZ(195,"input",43),t.NdJ("ngModelChange",function(r){return o.total=r}),t.ALo(196,"translate"),t.qZA(),t.qZA(),t.TgZ(197,"td"),t.TgZ(198,"button",46),t.NdJ("click",function(){return o.addInvoice()}),t._uU(199),t.ALo(200,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(201,"thead"),t.TgZ(202,"tr"),t.TgZ(203,"th"),t._uU(204),t.ALo(205,"translate"),t.qZA(),t.TgZ(206,"th"),t._uU(207),t.ALo(208,"translate"),t.qZA(),t.TgZ(209,"th"),t._uU(210),t.ALo(211,"translate"),t.qZA(),t.TgZ(212,"th"),t._uU(213),t.ALo(214,"translate"),t.qZA(),t.TgZ(215,"th"),t._uU(216),t.ALo(217,"translate"),t.qZA(),t.TgZ(218,"th"),t._uU(219),t.ALo(220,"translate"),t.qZA(),t.TgZ(221,"th"),t._uU(222),t.ALo(223,"translate"),t.qZA(),t.TgZ(224,"th"),t._uU(225),t.ALo(226,"translate"),t.qZA(),t.TgZ(227,"th"),t._uU(228),t.ALo(229,"translate"),t.qZA(),t._UZ(230,"th",47),t.qZA(),t.qZA(),t.TgZ(231,"tbody"),t.YNc(232,Ee,24,9,"tr",48),t.qZA(),t.TgZ(233,"tfoot"),t.TgZ(234,"tr",49),t._UZ(235,"td",50),t.TgZ(236,"td",51),t._uU(237),t.ALo(238,"translate"),t.qZA(),t.TgZ(239,"td",51),t._uU(240),t.qZA(),t._UZ(241,"td",52),t.qZA(),t.TgZ(242,"tr",49),t.TgZ(243,"td",51),t._uU(244),t.ALo(245,"translate"),t.qZA(),t.TgZ(246,"td",51),t._uU(247),t.qZA(),t._UZ(248,"td",52),t.qZA(),t.TgZ(249,"tr",49),t.TgZ(250,"td",53),t._uU(251),t.ALo(252,"translate"),t.qZA(),t.TgZ(253,"td",53),t._uU(254),t.qZA(),t._UZ(255,"td",54),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(256,"div",55),t.TgZ(257,"div",56),t.TgZ(258,"button",57),t.NdJ("click",function(){return o.closeModel()}),t._uU(259),t.ALo(260,"translate"),t.qZA(),t._uU(261," \xa0\xa0 "),t._UZ(262,"input",58),t.ALo(263,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e){const n=t.MAs(41),r=t.MAs(53),l=t.MAs(65);t.xp6(1),t.hij(" ",t.lcZ(2,98,"Create_New_Sales_Invoice")," "),t.xp6(4),t.Q6J("formGroup",o.form),t.xp6(9),t.Oqu(t.lcZ(15,100,"Invoice_Type")),t.xp6(5),t.Oqu(t.lcZ(20,102,"Invoice")),t.xp6(3),t.Oqu(t.lcZ(23,104,"Credit")),t.xp6(5),t.Oqu(t.lcZ(28,106,"Customer")),t.xp6(2),t.Q6J("items",o.customerList),t.xp6(3),t.Oqu(t.lcZ(33,108,"Invoice_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(37,110,"Select_a_Date")),t.Q6J("matDatepicker",n),t.xp6(3),t.Q6J("for",n),t.xp6(5),t.Oqu(t.lcZ(45,112,"Delivery_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(49,114,"Select_a_Date")),t.Q6J("matDatepicker",r),t.xp6(3),t.Q6J("for",r),t.xp6(5),t.Oqu(t.lcZ(57,116,"ServiceDate")),t.xp6(4),t.s9C("placeholder",t.lcZ(61,118,"Select_a_Date")),t.Q6J("matDatepicker",l),t.xp6(3),t.Q6J("for",l),t.xp6(5),t.Q6J("control",o.form.controls.serviceDate1),t.xp6(4),t.Oqu(t.lcZ(73,120,"Organization")),t.xp6(4),t.Oqu(t.lcZ(77,122,"Select_Organization")),t.xp6(2),t.Q6J("ngForOf",o.companyList),t.xp6(4),t.Oqu(t.lcZ(83,124,"Branch")),t.xp6(2),t.Q6J("items",o.branchList),t.xp6(4),t.Oqu(t.lcZ(89,126,"Invoice_Reference_Number")),t.xp6(2),t.hYB("placeholder","",t.lcZ(91,128,"Please_Enter")," ",t.lcZ(92,130,"Invoice_Reference_Number"),""),t.xp6(6),t.hij(" ",t.lcZ(97,132,"LPO_Contract")," "),t.xp6(2),t.hYB("placeholder","",t.lcZ(99,134,"Please_Enter")," ",t.lcZ(100,136,"LPO_Contract"),""),t.xp6(6),t.hij(" ",t.lcZ(105,138,"Payment_Terms")," "),t.xp6(4),t.Oqu(t.lcZ(109,140,"Select_Payment_Terms")),t.xp6(2),t.Q6J("ngForOf",o.paymentTermsList),t.xp6(4),t.Oqu(t.lcZ(115,142,"TAX_Id_Number")),t.xp6(2),t.s9C("placeholder",t.lcZ(117,144,"TAX_Id_Number")),t.xp6(5),t.Oqu(t.lcZ(122,146,"Invoice_Notes")),t.xp6(2),t.hYB("placeholder","",t.lcZ(124,148,"Please_Select")," ",t.lcZ(125,150,"Invoice_Notes"),""),t.xp6(6),t.Oqu(t.lcZ(130,152,"Remarks")),t.xp6(2),t.hYB("placeholder","",t.lcZ(132,154,"Please_Select")," ",t.lcZ(133,156,"Remarks"),""),t.xp6(8),t.Oqu(t.lcZ(140,158,"Item")),t.xp6(3),t.Oqu(t.lcZ(143,160,"Description")),t.xp6(3),t.Oqu(t.lcZ(146,162,"Quantity")),t.xp6(3),t.Oqu(t.lcZ(149,164,"Unit")),t.xp6(3),t.Oqu(t.lcZ(152,166,"Price")),t.xp6(3),t.Oqu(t.lcZ(155,168,"Discount")),t.xp6(3),t.hij("",t.lcZ(158,170,"VAT"),"%"),t.xp6(3),t.Oqu(t.lcZ(161,172,"VAT_Amount")),t.xp6(3),t.Oqu(t.lcZ(164,174,"Total")),t.xp6(6),t.Q6J("items",o.productList)("ngModel",o.productId)("ngModelOptions",t.DdM(222,it)),t.xp6(2),t.s9C("placeholder",t.lcZ(172,176,"Description")),t.Q6J("ngModel",o.description)("ngModelOptions",t.DdM(223,it)),t.xp6(3),t.s9C("placeholder",t.lcZ(175,178,"Quantity")),t.Q6J("ngModel",o.quantity)("ngModelOptions",t.DdM(224,it)),t.xp6(3),t.s9C("placeholder",t.lcZ(178,180,"Unit")),t.Q6J("ngModel",o.unitType)("ngModelOptions",t.DdM(225,it)),t.xp6(3),t.s9C("placeholder",t.lcZ(181,182,"Price")),t.Q6J("ngModel",o.price)("ngModelOptions",t.DdM(226,it)),t.xp6(3),t.s9C("placeholder",t.lcZ(184,184,"Discount")),t.Q6J("ngModel",o.discount)("ngModelOptions",t.DdM(227,it)),t.xp6(3),t.Q6J("ngModel",o.vat)("ngModelOptions",t.DdM(228,it)),t.xp6(2),t.Oqu(t.lcZ(189,186,"VAT")),t.xp6(2),t.Q6J("ngForOf",o.vatList),t.xp6(2),t.s9C("placeholder",t.lcZ(193,188,"VAT_Amount")),t.Q6J("ngModel",o.vatAmount)("ngModelOptions",t.DdM(229,it)),t.xp6(3),t.s9C("placeholder",t.lcZ(196,190,"Total")),t.Q6J("ngModel",o.total)("ngModelOptions",t.DdM(230,it)),t.xp6(4),t.Oqu(t.lcZ(200,192,"Add")),t.xp6(5),t.Oqu(t.lcZ(205,194,"Item")),t.xp6(3),t.Oqu(t.lcZ(208,196,"Description")),t.xp6(3),t.Oqu(t.lcZ(211,198,"Quantity")),t.xp6(3),t.Oqu(t.lcZ(214,200,"Unit")),t.xp6(3),t.Oqu(t.lcZ(217,202,"Price")),t.xp6(3),t.Oqu(t.lcZ(220,204,"Discount")),t.xp6(3),t.hij("",t.lcZ(223,206,"VAT"),"%"),t.xp6(3),t.Oqu(t.lcZ(226,208,"VAT_Amount")),t.xp6(3),t.Oqu(t.lcZ(229,210,"Total")),t.xp6(4),t.Q6J("ngForOf",o.listOfInvoices),t.xp6(5),t.Oqu(t.lcZ(238,212,"Total_Amount")),t.xp6(3),t.Oqu(o.grandInvoiceTotalStr),t.xp6(4),t.Oqu(t.lcZ(245,214,"VAT_Amount")),t.xp6(3),t.Oqu(o.grandVatTotalStr),t.xp6(4),t.Oqu(t.lcZ(252,216,"Invoice_Total")),t.xp6(3),t.Oqu(o.grandTotalStr),t.xp6(5),t.hij(" ",t.lcZ(260,218,"Cancel")," "),t.xp6(3),t.s9C("value",t.lcZ(263,220,"Save"))}},directives:[s._Y,s.JL,s.sg,s.EJ,s.JJ,s.u,s.YN,s.Kr,j.w9,s.Fj,m.hl,m.nW,U.R9,m.Mq,M.s,d.sg,s.On],pipes:[Z.X$],encapsulation:2}),i})();var J=y(9761),D=y(4395),P=y(7519),Y=y(3190),B=y(8002),V=y(4727),N=y(1554),R=y(2458);function ze(i,a){if(1&i&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.value," ")}}function He(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"th"),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"th"),t._uU(5),t.qZA(),t.TgZ(6,"th"),t._uU(7),t.qZA(),t.TgZ(8,"th"),t._uU(9),t.qZA(),t.TgZ(10,"th"),t._uU(11),t.qZA(),t.TgZ(12,"th"),t._uU(13),t.qZA(),t.TgZ(14,"th"),t._uU(15),t.qZA(),t.TgZ(16,"th",38),t._uU(17),t.qZA(),t.TgZ(18,"th",38),t._uU(19),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.hij(" ",t.xi3(3,9,e.date,"dd-MM-yyyy")," "),t.xp6(3),t.hij(" ",e.tranNumber,""),t.xp6(2),t.hij(" ",e.source," "),t.xp6(2),t.hij(" ",e.code," "),t.xp6(2),t.hij(" ",e.name," "),t.xp6(2),t.hij(" ",e.amount," "),t.xp6(2),t.hij(" ",e.inputTaxAmount," "),t.xp6(2),t.hij(" ",e.outputTaxAmount," "),t.xp6(2),t.hij(" ",e.totalAmount," ")}}function Ge(i,a){if(1&i&&(t.ynx(0),t.YNc(1,He,20,12,"tr",34),t.TgZ(2,"tr"),t.TgZ(3,"th",37),t._uU(4," Invoice : Total "),t.qZA(),t.TgZ(5,"th"),t._uU(6),t.qZA(),t.TgZ(7,"th"),t._uU(8),t.qZA(),t.TgZ(9,"th",38),t._uU(10),t.qZA(),t.TgZ(11,"th",38),t._uU(12),t.qZA(),t.qZA(),t.BQk()),2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngForOf",e.list),t.xp6(5),t.hij(" ",e.invoicePrice.totalPurchaseAmount," "),t.xp6(2),t.hij(" ",e.invoicePrice.totalInputTaxAomunt," "),t.xp6(2),t.hij(" ",e.invoicePrice.totalOutputTaxAomunt," "),t.xp6(2),t.hij(" ",e.invoicePrice.totalSaleAmount," ")}}function Xe(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"th"),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"th"),t._uU(5),t.qZA(),t.TgZ(6,"th"),t._uU(7),t.qZA(),t.TgZ(8,"th"),t._uU(9),t.qZA(),t.TgZ(10,"th"),t._uU(11),t.qZA(),t.TgZ(12,"th"),t._uU(13),t.qZA(),t.TgZ(14,"th"),t._uU(15),t.qZA(),t.TgZ(16,"th",38),t._uU(17),t.qZA(),t.TgZ(18,"th",38),t._uU(19),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.hij(" ",t.xi3(3,9,e.date,"dd-MM-yyyy")," "),t.xp6(3),t.hij(" ",e.tranNumber,""),t.xp6(2),t.hij(" ",e.source," "),t.xp6(2),t.hij(" ",e.code," "),t.xp6(2),t.hij(" ",e.name," "),t.xp6(2),t.hij(" ",e.amount," "),t.xp6(2),t.hij(" ",e.inputTaxAmount," "),t.xp6(2),t.hij(" ",e.outputTaxAmount," "),t.xp6(2),t.hij(" ",e.totalAmount," ")}}function We(i,a){if(1&i&&(t.ynx(0),t.YNc(1,Xe,20,12,"tr",34),t.TgZ(2,"tr"),t.TgZ(3,"th",37),t._uU(4," Credit : Total "),t.qZA(),t.TgZ(5,"th"),t._uU(6),t.qZA(),t.TgZ(7,"th"),t._uU(8),t.qZA(),t.TgZ(9,"th",38),t._uU(10),t.qZA(),t.TgZ(11,"th",38),t._uU(12),t.qZA(),t.qZA(),t.TgZ(13,"tr"),t.TgZ(14,"td",35),t._uU(15," Summary of A/P Invoices "),t.qZA(),t.qZA(),t.TgZ(16,"tr"),t.TgZ(17,"th",37),t._uU(18," Invoice : Total "),t.qZA(),t.TgZ(19,"th"),t._uU(20),t.qZA(),t.TgZ(21,"th"),t._uU(22),t.qZA(),t.TgZ(23,"th",38),t._uU(24),t.qZA(),t.TgZ(25,"th",38),t._uU(26),t.qZA(),t.qZA(),t.TgZ(27,"tr"),t.TgZ(28,"th",37),t._uU(29," Credit : Total "),t.qZA(),t.TgZ(30,"th"),t._uU(31),t.qZA(),t.TgZ(32,"th"),t._uU(33),t.qZA(),t.TgZ(34,"th",38),t._uU(35),t.qZA(),t.TgZ(36,"th",38),t._uU(37),t.qZA(),t.qZA(),t.BQk()),2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngForOf",e.creditList),t.xp6(5),t.hij(" ",e.creditPrice.totalPurchaseAmount," "),t.xp6(2),t.hij(" ",e.creditPrice.totalInputTaxAomunt," "),t.xp6(2),t.hij(" ",e.creditPrice.totalOutputTaxAomunt," "),t.xp6(2),t.hij(" ",e.creditPrice.totalSaleAmount," "),t.xp6(8),t.hij(" ",e.invoicePrice.totalPurchaseAmount," "),t.xp6(2),t.hij(" ",e.invoicePrice.totalInputTaxAomunt," "),t.xp6(2),t.hij(" ",e.invoicePrice.totalOutputTaxAomunt," "),t.xp6(2),t.hij(" ",e.invoicePrice.totalSaleAmount," "),t.xp6(5),t.hij(" ",e.creditPrice.totalPurchaseAmount," "),t.xp6(2),t.hij(" ",e.creditPrice.totalInputTaxAomunt," "),t.xp6(2),t.hij(" ",e.creditPrice.totalOutputTaxAomunt," "),t.xp6(2),t.hij(" ",e.creditPrice.totalSaleAmount," ")}}function Ke(i,a){if(1&i&&(t.TgZ(0,"tbody"),t.YNc(1,Ge,13,5,"ng-container",34),t.TgZ(2,"tr"),t.TgZ(3,"td",35),t._uU(4," Return / Credit Notes Total "),t.qZA(),t.qZA(),t.YNc(5,We,38,13,"ng-container",34),t.TgZ(6,"tr"),t._UZ(7,"td",36),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngForOf",e.itemList),t.xp6(4),t.Q6J("ngForOf",e.itemList)}}function to(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",22),t.TgZ(1,"button",23),t.NdJ("click",function(){return t.CHM(e),t.oxw().openPrint()}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"br"),t._UZ(5,"br"),t.TgZ(6,"div",24),t.TgZ(7,"table",25),t.TgZ(8,"tr"),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.qZA(),t.TgZ(11,"tr"),t.TgZ(12,"td",26),t._UZ(13,"img",27),t.qZA(),t.qZA(),t.TgZ(14,"tr"),t.TgZ(15,"td"),t.TgZ(16,"div",28),t._UZ(17,"br"),t._uU(18),t._UZ(19,"br"),t._uU(20),t._UZ(21,"br"),t._uU(22),t.ALo(23,"translate"),t._UZ(24,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(25,"table",29),t.TgZ(26,"thead"),t.TgZ(27,"tr"),t.TgZ(28,"td",30),t._uU(29),t.ALo(30,"date"),t.ALo(31,"date"),t.qZA(),t.TgZ(32,"td",31),t._uU(33," Purchase Invoice List "),t.qZA(),t.TgZ(34,"td",32),t._uU(35),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(36,"table",29),t.TgZ(37,"thead",33),t.TgZ(38,"tr"),t.TgZ(39,"th"),t._uU(40," TranDate "),t.qZA(),t.TgZ(41,"th"),t._uU(42," Invoice# "),t.qZA(),t.TgZ(43,"th"),t._uU(44," Source "),t.qZA(),t.TgZ(45,"th"),t._uU(46," Vendor Code "),t.qZA(),t.TgZ(47,"th"),t._uU(48," Vendor Name "),t.qZA(),t.TgZ(49,"th"),t._uU(50," Amount "),t.qZA(),t.TgZ(51,"th"),t._uU(52," Discount "),t.qZA(),t.TgZ(53,"th"),t._uU(54," TaxAmount "),t.qZA(),t.TgZ(55,"th"),t._uU(56," Total Amount "),t.qZA(),t.qZA(),t.qZA(),t.YNc(57,Ke,8,2,"tbody",34),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,11,"Print")," "),t.xp6(8),t.hij(" ",e.company.companyName,""),t.xp6(3),t.s9C("src",e.company.logoURL,t.LSH),t.xp6(5),t.hij(" ",e.company.branchName," "),t.xp6(2),t.hij(" ",e.company.companyAddress," "),t.xp6(2),t.AsE(" ",t.lcZ(23,13,"Tel_Phone")," : ",e.company.phone," "),t.xp6(7),t.AsE(" Date Range: ",t.xi3(30,15,e.dateFrom,"dd/MM/yyyy")," To ",t.xi3(31,18,e.dateTo,"dd/MM/yyyy")," "),t.xp6(6),t.hij(" Branch: ",e.company.branchName," "),t.xp6(22),t.Q6J("ngForOf",e.List)}}let eo=(()=>{class i{constructor(e,o,n,r,l,c,u){this.apiService=e,this.authService=o,this.utilService=n,this.translate=r,this.notifyService=l,this.validationService=c,this.dialogRef=u,this.List=[],this.dateFrom="",this.dateTo="",this.customerId="",this.branchCodeControl=new s.NI,this.customerList=[],this.isBranchLoading=!1,this.isLoading=!1,this.filteredOptions=this.branchCodeControl.valueChanges.pipe((0,J.O)(""),(0,D.b)(n.autoDelay()),(0,P.x)(),(0,Y.w)(g=>(""!==g.trim()&&(this.isBranchLoading=!0),this.filter(g||""))))}ngOnInit(){this.apiService.getall("vendor/getVendorsCustomList").subscribe(e=>{e&&(this.customerList=e)})}filter(e){return this.apiService.getall(`branch/getSelectSysBranchList?search=${e.trim()}`).pipe((0,B.U)(o=>{const n=o;return this.isBranchLoading=!1,n}))}search(){var e,o;this.dateFrom&&this.dateTo?(this.isLoading=!0,this.apiService.getall(`generateApInvoice/getPurchaseInvoicePrintingList?id=${null!==(e=this.customerId)&&void 0!==e?e:0}&branchCode=${null!==(o=this.branchCodeControl.value)&&void 0!==o?o:""}&from=${this.utilService.getCommonDate(this.dateFrom)}&to=${this.utilService.getCommonDate(this.dateTo)}`).subscribe(n=>{this.isLoading=!1,n&&(this.List=n.itemPrintingList,this.company=n.company,console.log(this.List),console.log(this.company))})):this.notifyService.showError("Select Dates")}openPrint(){const e=document.getElementById("printcontainer");this.utilService.printForLocale(e)}closeModel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(Z.sK),t.Y36(f.g),t.Y36(O.R),t.Y36(T.so))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-purchaseinvoiceprinting"]],decls:64,vars:43,consts:[[1,"modal-title"],["type","button","aria-hidden","true",1,"close",3,"click"],[1,"modal-body"],[1,"outer"],[1,"row"],[1,"col-md-4","col-lg-4"],[1,"form-group"],[3,"isLoading"],["type","text","matInput","",1,"form-control",3,"placeholder","formControl","matAutocomplete"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"mr-sm-2"],["bindLabel","text","bindValue","value",3,"items","ngModel","ngModelChange"],[1,"input-group","mb-2"],[1,"form-control","datapickerinput",3,"placeholder","ngModel","matDatepicker","ngModelChange"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker2",""],["picker1",""],["type","button",1,"btn","btn-primary",3,"click"],["class","p-1","id","Format1",4,"ngIf"],[3,"value"],["id","Format1",1,"p-1"],["type","button","data-toggle","modal",1,"btn","waves-effect","waves-light","btn-rounded","btn-primary","btn-midblock",3,"click"],["id","printcontainer",1,"outer"],["cellpadding","0","cellspacing","0","width","100%",1,"ur_tablestyle",2,"width","100%","padding-bottom","5px"],[2,"text-align","center"],[2,"width","200px","height","150px",3,"src"],[1,"font-weight-medium"],["id","zero_config","border","1","cellpadding","0","cellspacing","0","width","100%",1,"table","table-bordered","no-wrap",2,"width","100%"],[2,"width","33%"],[2,"width","34%","text-align","center"],[2,"width","33%","text-align","right"],[1,"alert-dark"],[4,"ngFor","ngForOf"],["colspan","9",1,"alert-dark",2,"text-align","center"],["colspan","9",1,"alert-dark",2,"text-align","center","padding-bottom","5px"],["colspan","5",2,"text-align","right"],[2,"text-align","right"]],template:function(e,o){if(1&e&&(t.TgZ(0,"h3",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"button",1),t.NdJ("click",function(){return o.closeModel()}),t._uU(4," \xd7"),t.qZA(),t.TgZ(5,"div",2),t.TgZ(6,"div",3),t.TgZ(7,"div",4),t.TgZ(8,"div",5),t.TgZ(9,"div",6),t.TgZ(10,"label"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t._UZ(13,"auto-loader",7),t._UZ(14,"input",8),t.ALo(15,"translate"),t.ALo(16,"translate"),t.TgZ(17,"mat-autocomplete",null,9),t.YNc(19,ze,2,2,"mat-option",10),t.ALo(20,"async"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"div",5),t.TgZ(22,"div",6),t.TgZ(23,"label",11),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"ng-select",12),t.NdJ("ngModelChange",function(r){return o.customerId=r}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(27,"div",5),t.TgZ(28,"div",6),t.TgZ(29,"label"),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.TgZ(32,"div",6),t.TgZ(33,"div",13),t.TgZ(34,"input",14),t.NdJ("ngModelChange",function(r){return o.dateFrom=r}),t.ALo(35,"translate"),t.qZA(),t.TgZ(36,"div",15),t._UZ(37,"mat-datepicker-toggle",16),t._UZ(38,"mat-datepicker",null,17),t._UZ(40,"br"),t._UZ(41,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(42,"div",5),t.TgZ(43,"div",6),t.TgZ(44,"label"),t._uU(45),t.ALo(46,"translate"),t.qZA(),t.TgZ(47,"div",6),t.TgZ(48,"div",13),t.TgZ(49,"input",14),t.NdJ("ngModelChange",function(r){return o.dateTo=r}),t.ALo(50,"translate"),t.qZA(),t.TgZ(51,"div",15),t._UZ(52,"mat-datepicker-toggle",16),t._UZ(53,"mat-datepicker",null,18),t._UZ(55,"br"),t._UZ(56,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(57,"div",5),t.TgZ(58,"div",6),t._UZ(59,"br"),t.TgZ(60,"button",19),t.NdJ("click",function(){return o.search()}),t._uU(61,"Search"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(62,"spinner-loader",7),t.YNc(63,to,58,21,"div",20),t.qZA()),2&e){const n=t.MAs(18),r=t.MAs(39),l=t.MAs(54);t.xp6(1),t.Oqu(t.lcZ(2,23,"Purchase_Invoice")),t.xp6(10),t.Oqu(t.lcZ(12,25,"Branch_Code")),t.xp6(2),t.Q6J("isLoading",o.isBranchLoading),t.xp6(1),t.hYB("placeholder","",t.lcZ(15,27,"Please_Enter")," ",t.lcZ(16,29,"Branch_Code"),""),t.Q6J("formControl",o.branchCodeControl)("matAutocomplete",n),t.xp6(5),t.Q6J("ngForOf",t.lcZ(20,31,o.filteredOptions)),t.xp6(5),t.Oqu(t.lcZ(25,33,"Vendor")),t.xp6(2),t.Q6J("items",o.customerList)("ngModel",o.customerId),t.xp6(4),t.Oqu(t.lcZ(31,35,"From_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(35,37,"Select_a_Date")),t.Q6J("ngModel",o.dateFrom)("matDatepicker",r),t.xp6(3),t.Q6J("for",r),t.xp6(8),t.Oqu(t.lcZ(46,39,"To_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(50,41,"Select_a_Date")),t.Q6J("ngModel",o.dateTo)("matDatepicker",l),t.xp6(3),t.Q6J("for",l),t.xp6(10),t.Q6J("isLoading",o.isLoading),t.xp6(1),t.Q6J("ngIf",o.company)}},directives:[V.z,s.Fj,N.ZL,s.JJ,s.oH,N.XC,d.sg,j.w9,s.On,m.hl,m.nW,U.R9,m.Mq,b.r,d.O5,R.ey],pipes:[Z.X$,d.Ov,d.uU],encapsulation:2}),i})();var rt=y(2613);function oo(i,a){if(1&i&&(t.TgZ(0,"option",26),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.text),t.xp6(1),t.Oqu(e.text)}}function io(i,a){if(1&i&&(t.TgZ(0,"div",3),t.TgZ(1,"div",4),t.TgZ(2,"label",5),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"select",23),t.TgZ(6,"option",24),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.YNc(9,oo,2,2,"option",25),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,3,"PayCode")),t.xp6(4),t.Oqu(t.lcZ(8,5,"Select_Payment")),t.xp6(2),t.Q6J("ngForOf",e.payCodeList)}}let no=(()=>{class i{constructor(e,o,n,r,l,c){this.fb=e,this.apiService=o,this.authService=n,this.utilService=r,this.dialogRef=l,this.notifyService=c,this.id=0,this.trantype="Invoice",this.modalBtnTitle="Invoice",this.selectedPayment="",this.paymentTermId="",this.paymentTermsList=[],this.payCodeList=[],this.isCreditSelected=!0}ngOnInit(){this.loadData(),this.setForm()}setForm(){this.form=this.fb.group({paymentType:["",s.kI.required],trantype:"Invoice",tranSource:["AP",s.kI.required],remarks1:"-",remarks2:"-",payCode:"",createdOn:""})}loadData(){this.apiService.getall("paymentcodes/getSelectPaymentCodeList").subscribe(e=>{e&&(this.payCodeList=e)})}paymentSelected(e){this.isCreditSelected="Credit"==e.value}submit(){if(this.form.valid){if(this.id>0){if(!(this.form.value.id=this.id,this.isCreditSelected||this.utilService.hasValue(this.form.value.payCode)))return void this.notifyService.showError("Select PayCode");this.form.controls.createdOn.value&&(this.form.value.createdOn=this.utilService.selectedDateTime(this.form.controls.createdOn.value)),this.apiService.post("generateApInvoice/createApInvoiceSettlement",this.form.value).subscribe(e=>{this.utilService.OkMessage(),this.reset(),this.dialogRef.close(!0)},e=>{console.error(e),this.utilService.ShowApiErrorMessage(e)})}}else this.utilService.FillUpFields()}reset(){this.selectedPayment=this.paymentTermId=""}closeModel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(T.so),t.Y36(f.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-settlementmode"]],decls:58,vars:42,consts:[["type","button","aria-hidden","true",1,"close",3,"click"],["novalidate","",1,"mt-1",3,"formGroup","ngSubmit"],[1,"row","rowm0"],[1,"col-md-4","col-lg-4"],[1,"form-group"],[1,"mr-sm-2"],["aria-label","Select an option","formControlName","paymentType",3,"change"],["value","Credit"],["value","Check"],[3,"control"],["class","col-md-4 col-lg-4",4,"ngIf"],[1,"col-md-12","col-lg-12"],["type","text","formControlName","remarks1",1,"form-control",3,"placeholder"],["type","text","formControlName","remarks2",1,"form-control",3,"placeholder"],[1,"input-group","mb-2"],["formControlName","createdOn",1,"form-control","datapickerinput",3,"placeholder","matDatepicker"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker",""],[1,"row"],[1,"col-lg-12","col-md-12","text-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","waves-effect","waves-light","btn-primary",3,"value"],["formControlName","payCode",1,"custom-select","mr-sm-2"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,o){if(1&e&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"button",0),t.NdJ("click",function(){return o.closeModel()}),t._uU(4," \xd7"),t.qZA(),t.qZA(),t.TgZ(5,"form",1),t.NdJ("ngSubmit",function(){return o.submit()}),t.TgZ(6,"div",2),t.TgZ(7,"div",3),t.TgZ(8,"div",4),t.TgZ(9,"label",5),t._uU(10),t.ALo(11,"translate"),t.qZA(),t._UZ(12,"br"),t.TgZ(13,"mat-radio-group",6),t.NdJ("change",function(r){return o.paymentSelected(r)}),t.TgZ(14,"mat-radio-button",7),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"mat-radio-button",8),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.qZA(),t._UZ(20,"validation-message",9),t.qZA(),t.qZA(),t.YNc(21,io,10,7,"div",10),t.TgZ(22,"div",11),t.TgZ(23,"div",4),t.TgZ(24,"label",5),t._uU(25),t.ALo(26,"translate"),t.qZA(),t._UZ(27,"input",12),t.ALo(28,"translate"),t.qZA(),t.qZA(),t.TgZ(29,"div",11),t.TgZ(30,"div",4),t.TgZ(31,"label",5),t._uU(32),t.ALo(33,"translate"),t.qZA(),t._UZ(34,"input",13),t.ALo(35,"translate"),t.qZA(),t.qZA(),t.TgZ(36,"div",11),t.TgZ(37,"label",5),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"div",4),t.TgZ(41,"div",14),t._UZ(42,"input",15),t.ALo(43,"translate"),t.TgZ(44,"div",16),t._UZ(45,"mat-datepicker-toggle",17),t._UZ(46,"mat-datepicker",null,18),t._UZ(48,"br"),t._UZ(49,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(50,"div",19),t.TgZ(51,"div",20),t.TgZ(52,"button",21),t.NdJ("click",function(){return o.closeModel()}),t._uU(53),t.ALo(54,"translate"),t.qZA(),t._uU(55," \xa0\xa0 "),t._UZ(56,"input",22),t.ALo(57,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e){const n=t.MAs(47);t.xp6(1),t.AsE(" ",t.lcZ(2,18,"Purchase_Invoice")," (",o.modalBtnTitle,") "),t.xp6(4),t.Q6J("formGroup",o.form),t.xp6(5),t.hij(" ",t.lcZ(11,20,"Select_Payment")," "),t.xp6(5),t.hij("",t.lcZ(16,22,"Credit")," \xa0\xa0"),t.xp6(3),t.Oqu(t.lcZ(19,24,"Cash_Bank")),t.xp6(2),t.Q6J("control",o.form.controls.paymentType),t.xp6(1),t.Q6J("ngIf",!o.isCreditSelected),t.xp6(4),t.hij(" ",t.lcZ(26,26,"Remasks1")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(28,28,"Remarks1")),t.xp6(5),t.hij(" ",t.lcZ(33,30,"Remasks2")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(35,32,"Remarks2")),t.xp6(4),t.Oqu(t.lcZ(39,34,"Posting_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(43,36,"Select_a_Date")),t.Q6J("matDatepicker",n),t.xp6(3),t.Q6J("for",n),t.xp6(8),t.hij(" ",t.lcZ(54,38,"Cancel")," "),t.xp6(3),t.s9C("value",t.lcZ(57,40,"Save"))}},directives:[s._Y,s.JL,s.sg,rt.VQ,s.JJ,s.u,rt.U0,M.s,d.O5,s.Fj,m.hl,m.nW,U.R9,m.Mq,s.EJ,s.YN,s.Kr,d.sg],pipes:[Z.X$],encapsulation:2}),i})(),ao=(()=>{class i{constructor(e,o,n,r,l,c){this.fb=e,this.apiService=o,this.authService=n,this.utilService=r,this.dialogRef=l,this.notifyService=c,this.id=0,this.trantype="Invoice"}ngOnInit(){this.setForm()}setForm(){this.form=this.fb.group({appRemarks:["-",s.kI.required],trantype:[this.trantype],tranSource:["AP",s.kI.required]})}submit(){this.form.valid&&this.id>0&&(this.form.value.id=this.id,this.apiService.post("generateApInvoice/createApInvoiceApproval",this.form.value).subscribe(e=>{this.utilService.OkMessage(),this.reset(),this.dialogRef.close(!0)},e=>{this.utilService.ShowApiErrorMessage(e)}))}reset(){this.form.reset()}closeModel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(T.so),t.Y36(f.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-userapproval"]],decls:23,vars:17,consts:[["type","button","aria-hidden","true",1,"close",3,"click"],["novalidate","",1,"mt-1",3,"formGroup","ngSubmit"],[1,"row","rowm0"],[1,"col-md-4","col-lg-4"],[1,"form-group"],[1,"mr-sm-2"],["type","text","formControlName","appRemarks",1,"form-control",3,"placeholder"],[3,"control"],[1,"row"],[1,"col-lg-12","col-md-12","text-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","waves-effect","waves-light","btn-primary",3,"value"]],template:function(e,o){1&e&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"button",0),t.NdJ("click",function(){return o.closeModel()}),t._uU(4," \xd7"),t.qZA(),t.qZA(),t.TgZ(5,"form",1),t.NdJ("ngSubmit",function(){return o.submit()}),t.TgZ(6,"div",2),t.TgZ(7,"div",3),t.TgZ(8,"div",4),t.TgZ(9,"label",5),t._uU(10),t.ALo(11,"translate"),t.qZA(),t._UZ(12,"input",6),t.ALo(13,"translate"),t._UZ(14,"validation-message",7),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"div",8),t.TgZ(16,"div",9),t.TgZ(17,"button",10),t.NdJ("click",function(){return o.closeModel()}),t._uU(18),t.ALo(19,"translate"),t.qZA(),t._uU(20," \xa0\xa0 "),t._UZ(21,"input",11),t.ALo(22,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,7,"User_Approval_Page")," "),t.xp6(4),t.Q6J("formGroup",o.form),t.xp6(5),t.hij(" ",t.lcZ(11,9,"User_Approval")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(13,11,"User_Approval")),t.xp6(2),t.Q6J("control",o.form.controls.appRemarks),t.xp6(4),t.hij(" ",t.lcZ(19,13,"Cancel")," "),t.xp6(3),t.s9C("value",t.lcZ(22,15,"Save")))},directives:[s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,M.s],pipes:[Z.X$],encapsulation:2}),i})();function ro(i,a){1&i&&(t.TgZ(0,"th",60),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Invoice_Number")," "))}function so(i,a){if(1&i&&(t.TgZ(0,"td",61),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.creditNumber)}}function lo(i,a){1&i&&(t.TgZ(0,"th",60),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Invoice_Date")," "))}function co(i,a){if(1&i&&(t.TgZ(0,"td",61),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.invoiceDate,"dd/MM/yyyy"))}}function po(i,a){1&i&&(t.TgZ(0,"th",60),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Organization")," "))}function uo(i,a){if(1&i&&(t.TgZ(0,"td",61),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.companyName)}}function mo(i,a){1&i&&(t.TgZ(0,"th",60),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Invoice_Reference_Number")," "))}function go(i,a){if(1&i&&(t.TgZ(0,"td",61),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.invoiceRefNumber)}}function Zo(i,a){1&i&&(t.TgZ(0,"th",60),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Branch")," "))}function ho(i,a){if(1&i&&(t.TgZ(0,"td",61),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.branchName)}}function _o(i,a){1&i&&(t.TgZ(0,"th",60),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Vendor_Name")," "))}function Ao(i,a){if(1&i&&(t.TgZ(0,"td",61),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.customerName)}}function fo(i,a){1&i&&(t.TgZ(0,"th",60),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Vendor_Code")," "))}function To(i,a){if(1&i&&(t.TgZ(0,"td",61),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.code)}}function vo(i,a){1&i&&(t.TgZ(0,"th",60),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Total_Amount")," (SAR) "))}function qo(i,a){if(1&i&&(t.TgZ(0,"td",61),t._uU(1),t.ALo(2,"leadingZeros"),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.totalAmount))}}function Co(i,a){1&i&&(t.TgZ(0,"th",60),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"LPO_Contract")," "))}function xo(i,a){if(1&i&&(t.TgZ(0,"td",61),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.lpoContract)}}function bo(i,a){1&i&&(t.TgZ(0,"th",60),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Payment_Terms")," "))}function yo(i,a){if(1&i&&(t.TgZ(0,"td",61),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.paymentTermId)}}function Uo(i,a){1&i&&(t.TgZ(0,"th",60),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Tax_Id_Number")," "))}function Lo(i,a){if(1&i&&(t.TgZ(0,"td",61),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.taxIdNumber)}}function So(i,a){1&i&&(t.TgZ(0,"th",60),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Delivery_Date")," "))}function No(i,a){if(1&i&&(t.TgZ(0,"td",61),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.invoiceDueDate,"dd/MM/yyyy"))}}function Oo(i,a){1&i&&(t.TgZ(0,"th",62),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Actions")))}function wo(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"a",67),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit;return t.oxw().edit(n.id)}),t.ALo(1,"translate"),t._UZ(2,"i",68),t.qZA()}if(2&i){const e=t.oxw().$implicit;t.s9C("id","edit_"+e.id),t.s9C("matTooltip",t.lcZ(1,2,"Edit_Item"))}}function ko(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"a",63),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2).$implicit;return t.oxw().approve(n.id,n.invoiceStatus)}),t.ALo(1,"translate"),t._UZ(2,"i",70),t.qZA()}2&i&&t.s9C("matTooltip",t.lcZ(1,1,"Approve_Item"))}function Io(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"a",63),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2).$implicit;return t.oxw().settlePayment(n)}),t.ALo(1,"translate"),t._UZ(2,"i",71),t.qZA()}2&i&&t.s9C("matTooltip",t.lcZ(1,1,"Posting_Item"))}function Mo(i,a){if(1&i&&(t.ynx(0),t.YNc(1,ko,3,3,"a",69),t._uU(2," \xa0 "),t.YNc(3,Io,3,3,"a",69),t._uU(4," \xa0 "),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",!e.approvedUser&&!e.isSettled),t.xp6(2),t.Q6J("ngIf",e.canSettle&&!e.isSettled)}}function Jo(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"td",61),t.TgZ(1,"a",63),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().view(r.id)}),t.ALo(2,"translate"),t._UZ(3,"i",64),t.qZA(),t._uU(4," \xa0 "),t.YNc(5,wo,3,4,"a",65),t._uU(6," \xa0 "),t.YNc(7,Mo,5,2,"ng-container",66),t.qZA()}if(2&i){const e=a.$implicit;t.xp6(1),t.s9C("matTooltip",t.lcZ(2,3,"View_Details")),t.xp6(4),t.Q6J("ngIf",!e.isApproved&&!e.isSettled),t.xp6(2),t.Q6J("ngIf",e.hasAuthority)}}function Do(i,a){1&i&&t._UZ(0,"tr",72)}function Po(i,a){1&i&&t._UZ(0,"tr",73)}const Yo=function(){return{standalone:!0}};let Qo=(()=>{class i extends L.k{constructor(e,o,n,r,l,c,u,g,C,S,w){super(l),this.fb=e,this.http=o,this.router=n,this.apiService=r,this.authService=l,this.utilService=c,this.translate=u,this.notifyService=g,this.validationService=C,this.pageService=S,this.dialog=w,this.displayedColumns=["creditNumber","invoiceDate","companyName","invoiceRefNumber","branchName","customerName","code","totalAmount","lpoContract","paymentTerms","taxIdNumber","invoiceDueDate","Actions"],this.searchValue="",this.sortingOrder="id desc",this.isLoading=!1,this.IsSettlentOpened=!1,this.IsApproved=!1,this.statusId="",this.approvalStatus="",this.productList=[],this.productId=0}ngOnInit(){this.initialLoading(),this.loadProducts()}refresh(){this.searchValue="",this.productId=0,this.sortingOrder="id desc",this.initialLoading()}loadProducts(){this.apiService.getall("product/getSelectProductList").subscribe(e=>{e&&(this.productList=e)})}initialLoading(){this.loadList(0,this.pageService.pageCount,"",this.sortingOrder)}onSortOrder(e){this.sortingOrder=e.active+" "+e.direction,this.totalItemsCount=0,this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder)}onPageSwitch(e){this.pageService.change(e),this.loadList(e.pageIndex,e.pageSize,this.searchValue,this.sortingOrder)}loadList(e,o,n,r,l=""){var c;this.isLoading=!0,this.apiService.getPagination("generateApInvoice",this.utilService.getQueryString(e,o,n,r,this.approvalStatus,this.statusId,null!==(c=this.productId)&&void 0!==c?c:0)).subscribe(u=>{this.totalItemsCount=0,this.data=new p.by(u.items),this.totalItemsCount=u.totalCount,setTimeout(()=>{this.paginator.pageIndex=e,this.paginator.length=this.totalItemsCount}),this.data.sort=this.sort,this.isLoading=!1},u=>this.utilService.ShowApiErrorMessage(u))}applyFilter(e,o){(e||o)&&(this.searchValue=e,this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder))}loadApprovals(e){this.approvalStatus=e.target.value,this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder,this.approvalStatus)}loadInvoices(e){document.getElementById("approvalList").value="",this.setStatus(e.target.value),this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder,"")}setStatus(e){this.statusId=`${e}`}openDialogManage(e=0,o,n="",r="",l,c={module:"00",action:"00act"},u=100){let g=this.utilService.openDialogCongif(this.dialog,l,u);g.componentInstance.dbops=o,g.componentInstance.modalTitle=n,g.componentInstance.id=e,g.componentInstance.moduleFile=c,g.afterClosed().subscribe(C=>{C&&!0===C&&this.initialLoading()})}openNormalDialogConfig(e=0,o,n="",r="",l,c={module:"00",action:"00act"},u=100){let g=this.utilService.openNormalDialogConfig(this.dialog,l,u);g.componentInstance.dbops=o,g.componentInstance.modalTitle=n,g.componentInstance.id=e,g.componentInstance.moduleFile=c,g.afterClosed().subscribe(C=>{C&&!0===C&&this.initialLoading()})}openDialogManageApproval(e=0,o,n="",r="",l,c={module:"00",action:"00act"},u=100){let g=this.utilService.openDialogCongif(this.dialog,l,u);g.componentInstance.dbops=o,g.componentInstance.trantype=n,g.componentInstance.id=e,g.componentInstance.modalBtnTitle=r,g.componentInstance.moduleFile=c,g.afterClosed().subscribe(C=>{C&&!0===C&&this.initialLoading()})}create(){this.openDialogManage(0,v.Oi.create,this.translate.instant("Create_New_Sales_Invoice"),"",Fe)}edit(e){this.openDialogManage(e,v.Oi.update,this.translate.instant("Create_New_Sales_Invoice"),"",$e)}view(e){this.openNormalDialogConfig(e,v.Oi.create,"","",Me,{action:"",module:""},100)}approve(e,o){this.openDialogManageApproval(e,v.Oi.create,o,"",ao,{action:"",module:""},50)}settlePayment(e){this.openDialogManageApproval(e.id,v.Oi.create,e.trantype,e.creditNumber,no,{action:"",module:""},50)}printInvoice(){this.openDialogManage(0,v.Oi.create,"","",eo)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36($.eN),t.Y36(Q.F0),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(Z.sK),t.Y36(f.g),t.Y36(O.R),t.Y36(k.N),t.Y36(T.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-appurchaseinvoice"]],viewQuery:function(e,o){if(1&e&&(t.Gf(q.NW,7),t.Gf(x.YE,7)),2&e){let n;t.iGM(n=t.CRH())&&(o.paginator=n.first),t.iGM(n=t.CRH())&&(o.sort=n.first)}},features:[t.qOj],decls:130,vars:58,consts:[[1,"page-breadcrumb"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],[1,"container-fluid"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"row","pb-3"],[1,"col-md-3"],[1,"form-control",3,"placeholder","ngModel","ngModelChange"],["bindLabel","text","bindValue","value",3,"items","ngModel","ngModelOptions","ngModelChange"],[1,"col-md-4","arabicright"],[1,"btn","btn-primary",3,"click"],[1,"",3,"matTooltip","click"],[1,"btn","btn-primary","icon-refresh"],[1,"mr-sm-2"],["id","approvalList",1,"custom-select","mr-sm-2",3,"change"],["value",""],["value","approval"],["value","unapproval"],["value","settled"],["value","unsettled"],[1,"custom-select","mr-sm-2",3,"change"],["value","1"],["value","2"],[1,"col-md-7","col-lg-9"],[1,"card-title","pt6"],[1,"col-md-3","col-lg-3","text-right"],[1,"nav-item","dropdown"],["data-toggle","modal","data-target","#scrollable-modal","href","#",1,"btn","waves-effect","waves-light","btn-rounded","btn-outline-primary",3,"click"],[1,"icon-plus"],[1,"cardtitle-divider"],[1,"example-table-container","table-responsive","pt-3"],[3,"isLoading"],["mat-table","","matSort","","matSortActive","Id","matSortDisableClear","","matSortDirection","desc",1,"table","table-bordered","no-wrap",3,"dataSource","matSortChange"],["matColumnDef","creditNumber"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","invoiceDate"],["matColumnDef","companyName"],["matColumnDef","invoiceRefNumber"],["matColumnDef","branchName"],["matColumnDef","customerName"],["matColumnDef","code"],["matColumnDef","totalAmount"],["matColumnDef","lpoContract"],["matColumnDef","paymentTerms"],["matColumnDef","taxIdNumber"],["matColumnDef","invoiceDueDate"],["matColumnDef","Actions","stickyEnd",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions","page"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[1,"tableicons","pcursor",3,"matTooltip","click"],[1,"icon-list"],["class","tableicons pcursor",3,"id","matTooltip","click",4,"ngIf"],[4,"ngIf"],[1,"tableicons","pcursor",3,"id","matTooltip","click"],[1,"icon-note"],["class","tableicons pcursor",3,"matTooltip","click",4,"ngIf"],[1,"icon-arrow-up-circle"],[1,"icon-action-undo"],["mat-header-row",""],["mat-row",""]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"nav",5),t.TgZ(8,"ol",6),t.TgZ(9,"li",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"li",7),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"li",8),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",9),t.TgZ(19,"div",1),t.TgZ(20,"div",10),t.TgZ(21,"div",11),t.TgZ(22,"div",12),t.TgZ(23,"div",13),t._UZ(24,"div",10),t.TgZ(25,"div",14),t.TgZ(26,"input",15),t.NdJ("ngModelChange",function(r){return o.searchValue=r}),t.ALo(27,"translate"),t.qZA(),t.qZA(),t.TgZ(28,"div",14),t.TgZ(29,"ng-select",16),t.NdJ("ngModelChange",function(r){return o.productId=r}),t.qZA(),t.qZA(),t.TgZ(30,"div",17),t.TgZ(31,"button",18),t.NdJ("click",function(){return o.applyFilter(o.searchValue,o.productId)}),t._uU(32),t.ALo(33,"translate"),t.qZA(),t._uU(34," \xa0 "),t.TgZ(35,"a",19),t.NdJ("click",function(){return o.refresh()}),t.ALo(36,"translate"),t._UZ(37,"i",20),t.qZA(),t._uU(38,"\xa0 "),t.TgZ(39,"button",18),t.NdJ("click",function(){return o.printInvoice()}),t._uU(40),t.ALo(41,"translate"),t.qZA(),t._uU(42," \xa0 "),t.qZA(),t.qZA(),t.TgZ(43,"div",13),t.TgZ(44,"div",14),t.TgZ(45,"label",21),t._uU(46),t.ALo(47,"translate"),t.qZA(),t.TgZ(48,"select",22),t.NdJ("change",function(r){return o.loadApprovals(r)}),t.TgZ(49,"option",23),t._uU(50),t.ALo(51,"translate"),t.qZA(),t.TgZ(52,"option",24),t._uU(53,"Approval"),t.qZA(),t.TgZ(54,"option",25),t._uU(55,"UnApproval"),t.qZA(),t.TgZ(56,"option",26),t._uU(57,"Settled"),t.qZA(),t.TgZ(58,"option",27),t._uU(59,"UnSettled"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(60,"div",14),t.TgZ(61,"label",21),t._uU(62),t.ALo(63,"translate"),t.qZA(),t.TgZ(64,"select",28),t.NdJ("change",function(r){return o.loadInvoices(r)}),t.TgZ(65,"option",29),t._uU(66),t.ALo(67,"translate"),t.qZA(),t.TgZ(68,"option",30),t._uU(69),t.ALo(70,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(71,"div",1),t.TgZ(72,"div",31),t.TgZ(73,"h4",32),t._uU(74),t.ALo(75,"translate"),t.qZA(),t.qZA(),t.TgZ(76,"div",33),t.TgZ(77,"div",34),t.TgZ(78,"a",35),t.NdJ("click",function(){return o.create()}),t._UZ(79,"i",36),t._uU(80),t.ALo(81,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(82,"div",37),t.TgZ(83,"div",38),t._UZ(84,"spinner-loader",39),t.ynx(85),t.TgZ(86,"table",40),t.NdJ("matSortChange",function(r){return o.onSortOrder(r)}),t.ynx(87,41),t.YNc(88,ro,3,3,"th",42),t.YNc(89,so,2,1,"td",43),t.BQk(),t.ynx(90,44),t.YNc(91,lo,3,3,"th",42),t.YNc(92,co,3,4,"td",43),t.BQk(),t.ynx(93,45),t.YNc(94,po,3,3,"th",42),t.YNc(95,uo,2,1,"td",43),t.BQk(),t.ynx(96,46),t.YNc(97,mo,3,3,"th",42),t.YNc(98,go,2,1,"td",43),t.BQk(),t.ynx(99,47),t.YNc(100,Zo,3,3,"th",42),t.YNc(101,ho,2,1,"td",43),t.BQk(),t.ynx(102,48),t.YNc(103,_o,3,3,"th",42),t.YNc(104,Ao,2,1,"td",43),t.BQk(),t.ynx(105,49),t.YNc(106,fo,3,3,"th",42),t.YNc(107,To,2,1,"td",43),t.BQk(),t.ynx(108,50),t.YNc(109,vo,3,3,"th",42),t.YNc(110,qo,3,3,"td",43),t.BQk(),t.ynx(111,51),t.YNc(112,Co,3,3,"th",42),t.YNc(113,xo,2,1,"td",43),t.BQk(),t.ynx(114,52),t.YNc(115,bo,3,3,"th",42),t.YNc(116,yo,2,1,"td",43),t.BQk(),t.ynx(117,53),t.YNc(118,Uo,3,3,"th",42),t.YNc(119,Lo,2,1,"td",43),t.BQk(),t.ynx(120,54),t.YNc(121,So,3,3,"th",42),t.YNc(122,No,3,4,"td",43),t.BQk(),t.ynx(123,55),t.YNc(124,Oo,3,3,"th",56),t.YNc(125,Jo,8,5,"td",43),t.BQk(),t.YNc(126,Do,1,0,"tr",57),t.YNc(127,Po,1,0,"tr",58),t.qZA(),t.ynx(128),t.TgZ(129,"mat-paginator",59),t.NdJ("page",function(r){return o.onPageSwitch(r)}),t.qZA(),t.BQk(),t.BQk(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.hij(" ",t.lcZ(5,27,"Purchase_Invoice")," "),t.xp6(6),t.hij("",t.lcZ(11,29,"Finance")," "),t.xp6(3),t.Oqu(t.lcZ(14,31,"Account_Payable")),t.xp6(3),t.hij("",t.lcZ(17,33,"Purchase_Invoice")," "),t.xp6(10),t.MGl("placeholder","",t.lcZ(27,35,"Search"),"..."),t.Q6J("ngModel",o.searchValue),t.xp6(3),t.Q6J("items",o.productList)("ngModel",o.productId)("ngModelOptions",t.DdM(57,Yo)),t.xp6(3),t.Oqu(t.lcZ(33,37,"Search")),t.xp6(3),t.s9C("matTooltip",t.lcZ(36,39,"Refresh")),t.xp6(5),t.Oqu(t.lcZ(41,41,"Print")),t.xp6(6),t.Oqu(t.lcZ(47,43,"Sales_Invoice_List")),t.xp6(4),t.Oqu(t.lcZ(51,45,"Sales_Invoice_List")),t.xp6(12),t.Oqu(t.lcZ(63,47,"Invoice_Type")),t.xp6(4),t.Oqu(t.lcZ(67,49,"Invoice")),t.xp6(3),t.Oqu(t.lcZ(70,51,"Credit")),t.xp6(5),t.Oqu(t.lcZ(75,53,"Purchase_Invoice_List")),t.xp6(6),t.hij("",t.lcZ(81,55,"Add_New_Purchase_Invoice")," "),t.xp6(4),t.Q6J("isLoading",o.isLoading),t.xp6(2),t.Q6J("dataSource",o.data),t.xp6(40),t.Q6J("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(2),t.Q6J("length",o.totalItemsCount)("pageSize",o.pageService.pageCount)("pageSizeOptions",o.pageService.selectItemsPerPage))},directives:[s.Fj,s.JJ,s.On,j.w9,z.gM,s.YN,s.Kr,b.r,p.BZ,x.YE,p.w1,p.fO,p.Dz,p.as,p.nj,q.NW,p.ge,x.nU,p.ev,d.O5,p.XQ,p.Gk],pipes:[Z.X$,d.uU,E],encapsulation:2}),i})();function jo(i,a){if(1&i&&(t.TgZ(0,"mat-option",18),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("value",e.value),t.xp6(1),t.AsE(" (",e.value,") ",e.textTwo," ")}}function Fo(i,a){if(1&i&&t._UZ(0,"img",19),2&i){const e=t.oxw();t.s9C("src",e.logoURL,t.LSH)}}function Bo(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",27),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",26),t._uU(6),t.ALo(7,"decimalpipe"),t.qZA(),t.TgZ(8,"td",26),t._uU(9),t.ALo(10,"decimalpipe"),t.qZA(),t.TgZ(11,"td",26),t._uU(12),t.ALo(13,"decimalpipe"),t.qZA(),t.TgZ(14,"td",26),t._uU(15),t.ALo(16,"decimalpipe"),t.qZA(),t.TgZ(17,"td",26),t._uU(18),t.ALo(19,"decimalpipe"),t.qZA(),t.TgZ(20,"td",26),t._uU(21),t.ALo(22,"decimalpipe"),t.qZA(),t.TgZ(23,"td",26),t._uU(24),t.ALo(25,"decimalpipe"),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.Oqu(e.vendCode),t.xp6(2),t.Oqu(e.vendName),t.xp6(2),t.Oqu(t.lcZ(7,9,e.gpr1)),t.xp6(3),t.Oqu(t.lcZ(10,11,e.gpr2)),t.xp6(3),t.Oqu(t.lcZ(13,13,e.gpr3)),t.xp6(3),t.Oqu(t.lcZ(16,15,e.gpr4)),t.xp6(3),t.Oqu(t.lcZ(19,17,e.gpr5)),t.xp6(3),t.Oqu(t.lcZ(22,19,e.gpr6)),t.xp6(3),t.Oqu(t.lcZ(25,21,e.balance))}}function Vo(i,a){if(1&i&&(t.TgZ(0,"table",20),t.TgZ(1,"thead"),t.TgZ(2,"tr"),t.TgZ(3,"th",21),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"th",22),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"th",23),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"th",23),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"th",23),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"th",23),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"th",23),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"th",23),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.TgZ(27,"th",23),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.TgZ(30,"th",23),t._uU(31),t.ALo(32,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(33,"tbody"),t.YNc(34,Bo,26,23,"tr",24),t.TgZ(35,"tr"),t.TgZ(36,"td",25),t._uU(37," \u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0627\u0631\u0635\u062f\u0629 Total Amount \xa0\xa0"),t.qZA(),t.TgZ(38,"td",26),t._uU(39),t.ALo(40,"decimalpipe"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(4),t.Oqu(t.lcZ(5,12,"Vendor_Code")),t.xp6(3),t.Oqu(t.lcZ(8,14,"Vendor_Name")),t.xp6(3),t.hij("",t.lcZ(11,16,"<= 30")," "),t.xp6(3),t.hij("",t.lcZ(14,18,"31-60")," "),t.xp6(3),t.hij("",t.lcZ(17,20,"61-90")," "),t.xp6(3),t.hij("",t.lcZ(20,22,"91-120")," "),t.xp6(3),t.hij("",t.lcZ(23,24,"121-150")," "),t.xp6(3),t.hij("",t.lcZ(26,26,"151-365")," "),t.xp6(3),t.hij("",t.lcZ(29,28,"> 365")," "),t.xp6(3),t.Oqu(t.lcZ(32,30,"Balance")),t.xp6(3),t.Q6J("ngForOf",e.vendorList),t.xp6(5),t.Oqu(t.lcZ(40,32,e.totalBalance))}}let Ro=(()=>{class i extends L.k{constructor(e,o,n,r){super(n),this.apiService=e,this.pageService=o,this.authService=n,this.utilService=r,this.totalItemsCount=0,this.vendorList=[],this.companyName="",this.companyAddress="",this.branchName="",this.isLoading=!1,this.isCodeLoading=!1,this.codeControl=new s.NI(""),this.filteredOptions=this.codeControl.valueChanges.pipe((0,J.O)(""),(0,D.b)(400),(0,P.x)(),(0,Y.w)(l=>(""!==l.trim()&&(this.isCodeLoading=!0),this.filter(l||""))))}ngOnInit(){this.search()}filter(e){return this.apiService.getall(`vendor/getVendorSelectItemList?search=${e.trim()}`).pipe((0,B.U)(o=>{const n=o;return this.isCodeLoading=!1,n}))}onPageSwitch(e){this.search(e.pageIndex,e.pageSize)}search(e=this.pageService.page,o=this.pageService.pageCount){this.isLoading=!0,this.apiService.getall(`report/getCustomerVendorAgeingAnalysisList?page=${e}&pageCount=${o}&type=Vendor&custCode=${this.codeControl.value}`).subscribe(n=>{if(this.isLoading=!1,null!=n){const r=n.list;this.vendorList=r.list,this.totalItemsCount=r.reportCount,this.companyName=n.comapnyName,this.companyAddress=n.address,this.branchName=n.branchName,this.logoURL=n.logoURL,this.totalBalance=n.totalBalance}})}openPrint(){const e=document.getElementById("printcontainer");this.utilService.printForLocale(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(h.s),t.Y36(k.u),t.Y36(_._),t.Y36(A.t))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-apaginganalysis"]],viewQuery:function(e,o){if(1&e&&t.Gf(q.NW,7),2&e){let n;t.iGM(n=t.CRH())&&(o.paginator=n.first)}},features:[t.qOj],decls:40,vars:30,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-4","col-lg-4"],[1,"form-group"],[3,"isLoading"],["type","text","matInput","",1,"form-control",3,"placeholder","formControl","matAutocomplete"],["auto1","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"row","mb-4"],[1,"col-md-12","col-lg-12","text-center"],["type","button","data-toggle","modal",1,"btn","waves-effect","waves-light","btn-rounded","btn-primary","btn-midblock",3,"click"],[1,"table-responsive"],["id","printcontainer",1,"outer"],[1,"text-center","font-weight-medium"],["style","width:200px;height:150px;float:right;",3,"src",4,"ngIf"],["style","width: 1350px; padding-bottom: 5px;","border","1","cellpadding","0","cellspacing","0","width","100%","class","ur_tablestyle",4,"ngIf"],[1,"example-table-container","table-responsive","pt-3"],[3,"length","pageSize","pageSizeOptions","page"],[3,"value"],[2,"width","200px","height","150px","float","right",3,"src"],["border","1","cellpadding","0","cellspacing","0","width","100%",1,"ur_tablestyle",2,"width","1350px","padding-bottom","5px"],[1,"w10per",2,"padding","10px","text-align","center"],[2,"text-align","center","width","25%"],[1,"w10per",2,"text-align","center","width","200px"],[4,"ngFor","ngForOf"],["colspan","8",1,"text-right"],[1,"text-right"],[2,"padding","8px","text-align","center"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"label"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._UZ(7,"auto-loader",4),t._UZ(8,"input",5),t.ALo(9,"translate"),t.ALo(10,"translate"),t.TgZ(11,"mat-autocomplete",null,6),t.YNc(13,jo,2,3,"mat-option",7),t.ALo(14,"async"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"div",8),t.TgZ(16,"div",9),t._UZ(17,"br"),t._uU(18," \xa0\xa0\xa0 "),t.TgZ(19,"button",10),t.NdJ("click",function(){return o.search()}),t._uU(20),t.ALo(21,"translate"),t.qZA(),t._uU(22," \xa0\xa0\xa0 "),t.TgZ(23,"button",10),t.NdJ("click",function(){return o.openPrint()}),t._uU(24),t.ALo(25,"translate"),t.qZA(),t._UZ(26,"br"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(27,"div",11),t.TgZ(28,"div",12),t.TgZ(29,"div",13),t._uU(30),t.YNc(31,Fo,1,1,"img",14),t._UZ(32,"br"),t._uU(33),t._UZ(34,"br"),t._uU(35),t.qZA(),t._UZ(36,"spinner-loader",4),t.YNc(37,Vo,41,34,"table",15),t.qZA(),t.qZA(),t.TgZ(38,"div",16),t.TgZ(39,"mat-paginator",17),t.NdJ("page",function(r){return o.onPageSwitch(r)}),t.qZA(),t.qZA(),t.qZA()),2&e){const n=t.MAs(12);t.xp6(5),t.Oqu(t.lcZ(6,18,"Vendor_Code")),t.xp6(2),t.Q6J("isLoading",o.isCodeLoading),t.xp6(1),t.hYB("placeholder","",t.lcZ(9,20,"Please_Enter")," ",t.lcZ(10,22,"Vendor_Code"),""),t.Q6J("formControl",o.codeControl)("matAutocomplete",n),t.xp6(5),t.Q6J("ngForOf",t.lcZ(14,24,o.filteredOptions)),t.xp6(7),t.hij(" ",t.lcZ(21,26,"Search")," "),t.xp6(4),t.hij(" ",t.lcZ(25,28,"Print")," "),t.xp6(6),t.hij(" ",o.companyName," "),t.xp6(1),t.Q6J("ngIf",o.companyName),t.xp6(2),t.hij(" ",o.branchName," "),t.xp6(2),t.hij(" ",o.companyAddress," "),t.xp6(1),t.Q6J("isLoading",o.isLoading),t.xp6(1),t.Q6J("ngIf",o.vendorList&&o.vendorList.length>0),t.xp6(2),t.Q6J("length",o.totalItemsCount)("pageSize",o.pageService.pageCount)("pageSizeOptions",o.pageService.selectItemsPerPage)}},directives:[V.z,s.Fj,N.ZL,s.JJ,s.oH,N.XC,d.sg,d.O5,b.r,q.NW,R.ey],pipes:[Z.X$,d.Ov,I.J],encapsulation:2}),i})();function Eo(i,a){if(1&i&&(t.TgZ(0,"mat-option",38),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("value",e.value),t.xp6(1),t.AsE(" (",e.value,") ",e.textTwo," ")}}function $o(i,a){if(1&i&&t._UZ(0,"img",50),2&i){const e=t.oxw(2);t.s9C("src",e.logoURL,t.LSH)}}function zo(i,a){if(1&i&&(t.TgZ(0,"div",42),t.TgZ(1,"p"),t._uU(2),t.ALo(3,"date"),t.ALo(4,"date"),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(2),t.AsE(' The Statement of " Payments Summary" for ',t.xi3(3,2,e.dateFrom,"dd/MM/yyyy")," to ",t.xi3(4,5,e.dateTo,"dd/MM/yyyy")," ")}}function Ho(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.ALo(17,"date"),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.qZA(),t.TgZ(20,"td",53),t._uU(21),t.ALo(22,"decimalpipe"),t.qZA(),t.TgZ(23,"td",53),t._uU(24),t.ALo(25,"decimalpipe"),t.qZA(),t.TgZ(26,"td",53),t._uU(27),t.ALo(28,"decimalpipe"),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.Oqu(e.branchName),t.xp6(2),t.Oqu(e.payCode),t.xp6(2),t.Oqu(e.payAcCode),t.xp6(2),t.Oqu(e.trantype),t.xp6(2),t.Oqu(e.invoiceNumber),t.xp6(2),t.Oqu(e.remarks),t.xp6(2),t.Oqu(e.docNum),t.xp6(2),t.Oqu(t.xi3(17,12,e.checkDate,"dd-MM-yyyy")),t.xp6(3),t.Oqu(e.checkNumber),t.xp6(2),t.Oqu(t.lcZ(22,15,e.drAmount)),t.xp6(3),t.Oqu(t.lcZ(25,17,e.crAmount)),t.xp6(3),t.Oqu(t.lcZ(28,19,e.balance))}}function Go(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",51),t.TgZ(2,"table",46),t.TgZ(3,"tr"),t.TgZ(4,"th"),t._uU(5),t.ALo(6,"translate"),t.ALo(7,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"table",46),t.TgZ(9,"tr"),t.TgZ(10,"th"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"th"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"th"),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"th",52),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"th",52),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"th",52),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"th"),t._uU(29),t.ALo(30,"translate"),t.qZA(),t.TgZ(31,"th"),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"th"),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.TgZ(37,"th",52),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"th",52),t._uU(41),t.ALo(42,"translate"),t.qZA(),t.TgZ(43,"th",52),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.qZA(),t.YNc(46,Ho,29,21,"tr",47),t.qZA(),t._UZ(47,"br"),t._UZ(48,"br"),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(5),t.HOy(" ",t.lcZ(6,17,"Vendor_Code")," : ",e[0].vendCode,", \xa0 \xa0 ",t.lcZ(7,19,"Vendor_Name")," : ",e[0].vendName," "),t.xp6(6),t.Oqu(t.lcZ(12,21,"BranchName")),t.xp6(3),t.Oqu(t.lcZ(15,23,"PayCode")),t.xp6(3),t.Oqu(t.lcZ(18,25,"PayAcCode")),t.xp6(3),t.hij("",t.lcZ(21,27,"Trantype")," "),t.xp6(3),t.hij("",t.lcZ(24,29,"Invoice_InvoiceGrid_InvoiceNumber")," "),t.xp6(3),t.hij("",t.lcZ(27,31,"Remarks")," "),t.xp6(3),t.Oqu(t.lcZ(30,33,"DocNum")),t.xp6(3),t.Oqu(t.lcZ(33,35,"CheckDate")),t.xp6(3),t.Oqu(t.lcZ(36,37,"CheckNumber")),t.xp6(3),t.hij("",t.lcZ(39,39,"Total_Amount")," "),t.xp6(3),t.Oqu(t.lcZ(42,41,"Paid_Amount")),t.xp6(3),t.Oqu(t.lcZ(45,43,"Balance_Amount")),t.xp6(2),t.Q6J("ngForOf",e)}}function Xo(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",39),t.TgZ(1,"div",40),t.TgZ(2,"button",35),t.NdJ("click",function(){return t.CHM(e),t.oxw().openPrint()}),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"div",41),t.TgZ(7,"div",42),t._uU(8),t.YNc(9,$o,1,1,"img",43),t._UZ(10,"br"),t._uU(11),t._UZ(12,"br"),t._uU(13),t.qZA(),t._UZ(14,"br"),t.YNc(15,zo,5,8,"div",44),t.TgZ(16,"div",45),t._UZ(17,"spinner-loader",17),t.TgZ(18,"table",46),t.TgZ(19,"tbody"),t.YNc(20,Go,49,45,"tr",47),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"div",48),t.TgZ(22,"mat-paginator",49),t.NdJ("page",function(n){return t.CHM(e),t.oxw().onPageSwitch(n)}),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,11,"Print")," "),t.xp6(5),t.hij(" ",e.companyName," "),t.xp6(1),t.Q6J("ngIf",e.companyName),t.xp6(2),t.hij(" ",e.branchName," "),t.xp6(2),t.hij(" ",e.companyAddress," "),t.xp6(2),t.Q6J("ngIf",e.dateFrom&&e.dateTo),t.xp6(2),t.Q6J("isLoading",e.isLoading),t.xp6(3),t.Q6J("ngForOf",e.vendorList),t.xp6(2),t.Q6J("length",e.totalItemsCount)("pageSize",e.pageService.pageCount)("pageSizeOptions",e.pageService.selectItemsPerPage)}}function Wo(i,a){1&i&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"No_Records")))}let Ko=(()=>{class i extends L.k{constructor(e,o,n,r,l,c){super(n),this.fb=e,this.apiService=o,this.authService=n,this.utilService=r,this.pageService=l,this.notifyService=c,this.totalItemsCount=0,this.vendCode="",this.isAllCustomers=!1,this.dateFrom="",this.dateTo="",this.type="All",this.vendorList=[],this.codeControl=new s.NI(""),this.totalBalance=0,this.companyName="",this.companyAddress="",this.branchName="",this.isLoading=!1,this.isCodeLoading=!1,this.filteredOptions=this.codeControl.valueChanges.pipe((0,J.O)(""),(0,D.b)(400),(0,P.x)(),(0,Y.w)(u=>(""!==u.trim()&&(this.isCodeLoading=!0),this.filter(u||""))))}ngOnInit(){this.setForm()}setForm(){this.form=this.fb.group({dateFrom:[""],dateTo:[""],isAllBranches:[!1]})}filter(e){return this.apiService.getall(`vendor/getVendorSelectItemList?search=${e.trim()}`).pipe((0,B.U)(o=>{const n=o;return this.isCodeLoading=!1,n}))}onPageSwitch(e){this.search(e.pageIndex,e.pageSize)}search(e=this.pageService.page,o=this.pageService.pageCount){this.isLoading=!0,this.apiService.getall(`report/getOpmVendorSummaryList?page=${e}&pageCount=${o}&isAllCustomers=${this.isAllCustomers}&type=${this.type}&custCode=${this.codeControl.value}&from=${this.utilService.getCommonDate(this.dateFrom)}&to=${this.utilService.getCommonDate(this.dateTo)}`).subscribe(n=>{if(this.isLoading=!1,n){const r=n.list;this.vendorList=r.list,this.totalItemsCount=r.reportCount,this.companyName=n.comapnyName,this.companyAddress=n.address,this.branchName=n.branchName,this.logoURL=n.logoURL,this.totalBalance=n.totalBalance}})}openPrint(){const e=document.getElementById("printcontainer");this.utilService.printForLocale(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(k.u),t.Y36(f.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-opmvendorsummary"]],viewQuery:function(e,o){if(1&e&&t.Gf(q.NW,7),2&e){let n;t.iGM(n=t.CRH())&&(o.paginator=n.first)}},features:[t.qOj],decls:98,vars:67,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"col-md-7","col-lg-9"],[1,"card-title","pt6"],[1,"cardtitle-divider"],[1,"col-md-4","col-lg-4"],[1,"form-group"],[3,"isLoading"],["type","text","matInput","",1,"form-control",3,"placeholder","formControl","matAutocomplete"],["auto1","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["id","Price Decimal",1,"custom-select","mr-sm-2",3,"ngModel","ngModelChange"],["value","All"],["value","Paid"],["value","UnPaid"],[1,"input-group","mb-2"],[1,"form-control","datapickerinput",3,"placeholder","ngModel","matDatepicker","ngModelChange"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker1",""],["picker2",""],[1,"form-group","pt",2,"padding-top","35px","padding-left","20px"],["color","primary",3,"ngModel","ngModelChange"],[1,"row","mb-4"],[1,"col-md-12","col-lg-12","text-center"],["type","button","data-toggle","modal",1,"btn","waves-effect","waves-light","btn-rounded","btn-primary","btn-midblock",3,"click"],["class","modal-content",4,"ngIf"],[4,"ngIf"],[3,"value"],[1,"modal-content"],[1,"modal-body"],["id","printcontainer",1,"outer"],[1,"text-center","font-weight-medium"],["style","width:200px;height:150px;float:right;",3,"src",4,"ngIf"],["class","text-center font-weight-medium",4,"ngIf"],[1,"table-responsive"],["border","1","cellpadding","0","cellspacing","0","width","100%",1,"ur_tablestyle",2,"width","100%","padding-bottom","5px"],[4,"ngFor","ngForOf"],[1,"example-table-container","table-responsive","pt-3"],[3,"length","pageSize","pageSizeOptions","page"],[2,"width","200px","height","150px","float","right",3,"src"],["colspan","7"],[1,"w10per"],[1,"text-right"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"nav",5),t.TgZ(8,"ol",6),t.TgZ(9,"li",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"li",7),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"li",8),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",1),t.TgZ(19,"div",9),t.TgZ(20,"div",10),t.TgZ(21,"div",11),t.TgZ(22,"div",1),t.TgZ(23,"div",12),t.TgZ(24,"h4",13),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.qZA(),t.qZA(),t._UZ(27,"div",14),t.TgZ(28,"div",1),t.TgZ(29,"div",15),t.TgZ(30,"div",16),t.TgZ(31,"label"),t._uU(32),t.ALo(33,"translate"),t.qZA(),t._UZ(34,"auto-loader",17),t._UZ(35,"input",18),t.ALo(36,"translate"),t.ALo(37,"translate"),t.TgZ(38,"mat-autocomplete",null,19),t.YNc(40,Eo,2,3,"mat-option",20),t.ALo(41,"async"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(42,"div",15),t.TgZ(43,"div",16),t.TgZ(44,"label"),t._uU(45),t.ALo(46,"translate"),t.qZA(),t.TgZ(47,"select",21),t.NdJ("ngModelChange",function(r){return o.type=r}),t.TgZ(48,"option",22),t._uU(49,"All"),t.qZA(),t.TgZ(50,"option",23),t._uU(51),t.ALo(52,"translate"),t.qZA(),t.TgZ(53,"option",24),t._uU(54),t.ALo(55,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(56,"div",15),t.TgZ(57,"div",16),t.TgZ(58,"label"),t._uU(59),t.ALo(60,"translate"),t.qZA(),t.TgZ(61,"div",16),t.TgZ(62,"div",25),t.TgZ(63,"input",26),t.NdJ("ngModelChange",function(r){return o.dateFrom=r}),t.ALo(64,"translate"),t.qZA(),t.TgZ(65,"div",27),t._UZ(66,"mat-datepicker-toggle",28),t._UZ(67,"mat-datepicker",null,29),t._UZ(69,"br"),t._UZ(70,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(71,"div",15),t.TgZ(72,"div",16),t.TgZ(73,"label"),t._uU(74),t.ALo(75,"translate"),t.qZA(),t.TgZ(76,"div",16),t.TgZ(77,"div",25),t.TgZ(78,"input",26),t.NdJ("ngModelChange",function(r){return o.dateTo=r}),t.ALo(79,"translate"),t.qZA(),t.TgZ(80,"div",27),t._UZ(81,"mat-datepicker-toggle",28),t._UZ(82,"mat-datepicker",null,30),t._UZ(84,"br"),t._UZ(85,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(86,"div",9),t.TgZ(87,"div",31),t.TgZ(88,"mat-slide-toggle",32),t.NdJ("ngModelChange",function(r){return o.isAllCustomers=r}),t.qZA(),t._uU(89),t.ALo(90,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(91,"div",33),t.TgZ(92,"div",34),t.TgZ(93,"button",35),t.NdJ("click",function(){return o.search()}),t._uU(94),t.ALo(95,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(96,Xo,23,13,"div",36),t.YNc(97,Wo,3,3,"h3",37),t.qZA()),2&e){const n=t.MAs(39),r=t.MAs(68),l=t.MAs(83);t.xp6(4),t.hij(" ",t.lcZ(5,31,"Vendor_Statement")," "),t.xp6(6),t.hij(" ",t.lcZ(11,33,"Administration")," "),t.xp6(3),t.Oqu(t.lcZ(14,35,"Purchase_Management")),t.xp6(3),t.Oqu(t.lcZ(17,37,"Vendor_Statement")),t.xp6(9),t.hij("",t.lcZ(26,39,"Vendor_Statement")," "),t.xp6(7),t.Oqu(t.lcZ(33,41,"Vendor_Code")),t.xp6(2),t.Q6J("isLoading",o.isCodeLoading),t.xp6(1),t.hYB("placeholder","",t.lcZ(36,43,"Please_Enter")," ",t.lcZ(37,45,"Vendor_Code"),""),t.Q6J("formControl",o.codeControl)("matAutocomplete",n),t.xp6(5),t.Q6J("ngForOf",t.lcZ(41,47,o.filteredOptions)),t.xp6(5),t.Oqu(t.lcZ(46,49,"Choose")),t.xp6(2),t.Q6J("ngModel",o.type),t.xp6(4),t.Oqu(t.lcZ(52,51,"Posted")),t.xp6(3),t.Oqu(t.lcZ(55,53,"UnPosted")),t.xp6(5),t.Oqu(t.lcZ(60,55,"From_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(64,57,"Select_a_Date")),t.Q6J("ngModel",o.dateFrom)("matDatepicker",r),t.xp6(3),t.Q6J("for",r),t.xp6(8),t.Oqu(t.lcZ(75,59,"To_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(79,61,"Select_a_Date")),t.Q6J("ngModel",o.dateTo)("matDatepicker",l),t.xp6(3),t.Q6J("for",l),t.xp6(7),t.Q6J("ngModel",o.isAllCustomers),t.xp6(1),t.hij(" ",t.lcZ(90,63,"Vend_Statement_Balance")," "),t.xp6(5),t.hij(" ",t.lcZ(95,65,"Search")," "),t.xp6(2),t.Q6J("ngIf",o.vendorList&&o.vendorList.length>0),t.xp6(1),t.Q6J("ngIf",o.vendorList&&0===o.vendorList.length)}},directives:[V.z,s.Fj,N.ZL,s.JJ,s.oH,N.XC,d.sg,s.EJ,s.On,s.YN,s.Kr,m.hl,m.nW,U.R9,m.Mq,F.Rr,d.O5,R.ey,b.r,q.NW],pipes:[Z.X$,d.Ov,d.uU,I.J],encapsulation:2}),i})();function ti(i,a){if(1&i&&(t.TgZ(0,"mat-option",34),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("value",e.value),t.xp6(1),t.AsE(" (",e.value,") ",e.textTwo," ")}}function ei(i,a){if(1&i&&t._UZ(0,"img",46),2&i){const e=t.oxw(2);t.s9C("src",e.logoURL,t.LSH)}}function oi(i,a){if(1&i&&(t.TgZ(0,"div",38),t.TgZ(1,"p"),t._uU(2),t.ALo(3,"date"),t.ALo(4,"date"),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(2),t.AsE(' The Statement of " Balance Summary" for ',t.xi3(3,2,e.dateFrom,"dd/MM/yyyy")," to ",t.xi3(4,5,e.dateTo,"dd/MM/yyyy")," ")}}function ii(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",55),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td",54),t._uU(12),t.ALo(13,"decimalpipe"),t.qZA(),t.TgZ(14,"td",54),t._uU(15),t.ALo(16,"decimalpipe"),t.qZA(),t.TgZ(17,"td",54),t._uU(18),t.ALo(19,"decimalpipe"),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.Oqu(e.vendCode),t.xp6(2),t.Oqu(e.vendName),t.xp6(2),t.Oqu(e.trantype),t.xp6(2),t.Oqu(e.invoiceNumber),t.xp6(2),t.Oqu(e.remarks),t.xp6(2),t.Oqu(t.lcZ(13,8,e.crAmount)),t.xp6(3),t.Oqu(t.lcZ(16,10,e.drAmount)),t.xp6(3),t.Oqu(t.lcZ(19,12,e.balance))}}function ni(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"table",47),t.TgZ(2,"thead"),t.TgZ(3,"tr"),t.TgZ(4,"th",48),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"th",49),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"th",49),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"th",49),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"th",49),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"th",49),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"th",49),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(28,"tbody"),t.YNc(29,ii,20,14,"tr",50),t.qZA(),t.TgZ(30,"tfoot"),t.TgZ(31,"tr",51),t._UZ(32,"td",52),t.TgZ(33,"td",53),t._uU(34),t.ALo(35,"translate"),t.qZA(),t.TgZ(36,"td",54),t._uU(37),t.ALo(38,"decimalpipe"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&i){const e=t.oxw(2);t.xp6(5),t.Oqu(t.lcZ(6,11,"Vendor_Code")),t.xp6(3),t.Oqu(t.lcZ(9,13,"Vendor_Name")),t.xp6(3),t.hij("",t.lcZ(12,15,"Trantype")," "),t.xp6(3),t.hij("",t.lcZ(15,17,"Invoice_InvoiceGrid_InvoiceNumber")," "),t.xp6(3),t.hij("",t.lcZ(18,19,"Remarks")," "),t.xp6(3),t.hij("",t.lcZ(21,21,"Dr_Amount")," "),t.xp6(3),t.Oqu(t.lcZ(24,23,"Cr_Amount")),t.xp6(3),t.Oqu(t.lcZ(27,25,"Balance")),t.xp6(3),t.Q6J("ngForOf",e.vendorSummaryList),t.xp6(5),t.hij("",t.lcZ(35,27,"Total_Balance")," "),t.xp6(3),t.Oqu(t.lcZ(38,29,e.totalBalance))}}function ai(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td",54),t._uU(8),t.ALo(9,"decimalpipe"),t.qZA(),t.TgZ(10,"td",54),t._uU(11),t.ALo(12,"decimalpipe"),t.qZA(),t.TgZ(13,"td",54),t._uU(14),t.ALo(15,"decimalpipe"),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.Oqu(e.trantype),t.xp6(2),t.Oqu(e.invoiceNumber),t.xp6(2),t.Oqu(e.remarks),t.xp6(2),t.Oqu(t.lcZ(9,6,e.crAmount)),t.xp6(3),t.Oqu(t.lcZ(12,8,e.drAmount)),t.xp6(3),t.Oqu(t.lcZ(15,10,e.balance))}}function ri(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",56),t.TgZ(2,"table",47),t.TgZ(3,"tr"),t.TgZ(4,"th"),t._uU(5),t.ALo(6,"translate"),t.ALo(7,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"table",47),t.TgZ(9,"tr"),t.TgZ(10,"th",49),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"th",49),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"th",49),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"th",49),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"th",49),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"th",49),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.qZA(),t.YNc(28,ai,16,12,"tr",50),t.qZA(),t._UZ(29,"br"),t._UZ(30,"br"),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(5),t.HOy(" ",t.lcZ(6,11,"Vendor_Code")," : ",e[0].vendCode,", \xa0 \xa0 ",t.lcZ(7,13,"Vendor_Name")," : ",e[0].vendName," "),t.xp6(6),t.hij("",t.lcZ(12,15,"Trantype")," "),t.xp6(3),t.hij("",t.lcZ(15,17,"Invoice_InvoiceGrid_InvoiceNumber")," "),t.xp6(3),t.hij("",t.lcZ(18,19,"Remarks")," "),t.xp6(3),t.hij("",t.lcZ(21,21,"Dr_Amount")," "),t.xp6(3),t.Oqu(t.lcZ(24,23,"Cr_Amount")),t.xp6(3),t.Oqu(t.lcZ(27,25,"Balance")),t.xp6(2),t.Q6J("ngForOf",e)}}function si(i,a){if(1&i&&(t.TgZ(0,"table",47),t.TgZ(1,"tbody"),t.YNc(2,ri,31,27,"tr",50),t.qZA(),t.TgZ(3,"tfoot"),t.TgZ(4,"tr",51),t._UZ(5,"td",52),t.TgZ(6,"td",53),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"td",54),t._uU(10),t.ALo(11,"decimalpipe"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",e.vendorList),t.xp6(5),t.hij("",t.lcZ(8,3,"Total_Balance")," "),t.xp6(3),t.Oqu(t.lcZ(11,5,e.totalBalance))}}function li(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",35),t.TgZ(1,"div",36),t.TgZ(2,"button",31),t.NdJ("click",function(){return t.CHM(e),t.oxw().openPrint()}),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"div",37),t.TgZ(7,"div",38),t._uU(8),t.YNc(9,ei,1,1,"img",39),t._UZ(10,"br"),t._uU(11),t._UZ(12,"br"),t._uU(13),t.qZA(),t._UZ(14,"br"),t.YNc(15,oi,5,8,"div",40),t.TgZ(16,"div",41),t._UZ(17,"spinner-loader",17),t.YNc(18,ni,39,31,"ng-container",42),t.YNc(19,si,12,7,"ng-template",null,43,t.W1O),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"div",44),t.TgZ(22,"mat-paginator",45),t.NdJ("page",function(n){return t.CHM(e),t.oxw().onPageSwitch(n)}),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.MAs(20),o=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,12,"Print")," "),t.xp6(5),t.hij(" ",o.companyName," "),t.xp6(1),t.Q6J("ngIf",o.companyName),t.xp6(2),t.hij(" ",o.branchName," "),t.xp6(2),t.hij(" ",o.companyAddress," "),t.xp6(2),t.Q6J("ngIf",o.dateFrom&&o.dateTo),t.xp6(2),t.Q6J("isLoading",o.isLoading),t.xp6(1),t.Q6J("ngIf",o.isSummary)("ngIfElse",e),t.xp6(4),t.Q6J("length",o.totalItemsCount)("pageSize",o.pageService.pageCount)("pageSizeOptions",o.pageService.selectItemsPerPage)}}function ci(i,a){1&i&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"No_Records")))}let pi=(()=>{class i extends L.k{constructor(e,o,n,r,l,c){super(n),this.fb=e,this.apiService=o,this.authService=n,this.utilService=r,this.pageService=l,this.notifyService=c,this.totalItemsCount=0,this.vendCode="",this.isSummary=!1,this.dateFrom="",this.dateTo="",this.vendorSummaryList=[],this.vendorList=[],this.codeControl=new s.NI(""),this.totalBalance=0,this.companyName="",this.companyAddress="",this.branchName="",this.type="All",this.isLoading=!1,this.isCodeLoading=!1,this.filteredOptions=this.codeControl.valueChanges.pipe((0,J.O)(""),(0,D.b)(400),(0,P.x)(),(0,Y.w)(u=>(""!==u.trim()&&(this.isCodeLoading=!0),this.filter(u||""))))}ngOnInit(){this.setForm()}setForm(){this.form=this.fb.group({dateFrom:[""],dateTo:[""],isSummary:[!1]})}filter(e){return this.apiService.getall(`vendor/getVendorSelectItemList?search=${e.trim()}`).pipe((0,B.U)(o=>{const n=o;return this.isCodeLoading=!1,n}))}onPageSwitch(e){this.search(e.pageIndex,e.pageSize)}search(e=this.pageService.page,o=this.pageService.pageCount){this.isLoading=!0,this.apiService.getall(`report/${this.isSummary?"getVendorBalanceSummaryList":"getVendorBalanceDetailsList"}?page=${e}&pageCount=${o}&isSummary=${this.isSummary}&custCode=${this.codeControl.value}&from=${this.utilService.getCommonDate(this.dateFrom)}&to=${this.utilService.getCommonDate(this.dateTo)}`).subscribe(n=>{if(this.isLoading=!1,n){if(this.isSummary)this.vendorSummaryList=n.list;else{const r=n.listItems;this.vendorList=r.list,this.totalItemsCount=r.reportCount}this.companyName=n.comapnyName,this.companyAddress=n.address,this.branchName=n.branchName,this.logoURL=n.logoURL,this.totalBalance=n.totalBalance}})}openPrint(){const e=document.getElementById("printcontainer");this.utilService.printForLocale(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(k.u),t.Y36(f.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-vendorbalancesummary"]],viewQuery:function(e,o){if(1&e&&t.Gf(q.NW,7),2&e){let n;t.iGM(n=t.CRH())&&(o.paginator=n.first)}},features:[t.qOj],decls:84,vars:57,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"col-md-7","col-lg-9"],[1,"card-title","pt6"],[1,"cardtitle-divider"],[1,"col-md-4","col-lg-4"],[1,"form-group"],[3,"isLoading"],["type","text","matInput","",1,"form-control",3,"placeholder","formControl","matAutocomplete"],["auto1","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"input-group","mb-2"],[1,"form-control","datapickerinput",3,"placeholder","ngModel","matDatepicker","ngModelChange"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker1",""],["picker2",""],[1,"form-group","pt",2,"padding-top","35px","padding-left","20px"],["color","primary",3,"ngModel","ngModelChange"],[1,"row","mb-4"],[1,"col-md-12","col-lg-12","text-center"],["type","button","data-toggle","modal",1,"btn","waves-effect","waves-light","btn-rounded","btn-primary","btn-midblock",3,"click"],["class","modal-content",4,"ngIf"],[4,"ngIf"],[3,"value"],[1,"modal-content"],[1,"modal-body"],["id","printcontainer",1,"outer"],[1,"text-center","font-weight-medium"],["style","width:200px;height:150px;float:right;",3,"src",4,"ngIf"],["class","text-center font-weight-medium",4,"ngIf"],[1,"table-responsive"],[4,"ngIf","ngIfElse"],["detilsList",""],[1,"example-table-container","table-responsive","pt-3"],[3,"length","pageSize","pageSizeOptions","page"],[2,"width","200px","height","150px","float","right",3,"src"],["border","1","cellpadding","0","cellspacing","0","width","100%",1,"ur_tablestyle",2,"width","100%","padding-bottom","5px"],[1,"w10per",2,"padding","10px"],[1,"w10per"],[4,"ngFor","ngForOf"],[1,"tfoot"],["colspan","3",1,"text-right"],[1,"text-center"],[1,"text-right"],[2,"padding","8px"],["colspan","5"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"nav",5),t.TgZ(8,"ol",6),t.TgZ(9,"li",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"li",7),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"li",8),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",1),t.TgZ(19,"div",9),t.TgZ(20,"div",10),t.TgZ(21,"div",11),t.TgZ(22,"div",1),t.TgZ(23,"div",12),t.TgZ(24,"h4",13),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.qZA(),t.qZA(),t._UZ(27,"div",14),t.TgZ(28,"div",1),t.TgZ(29,"div",15),t.TgZ(30,"div",16),t.TgZ(31,"label"),t._uU(32),t.ALo(33,"translate"),t.qZA(),t._UZ(34,"auto-loader",17),t._UZ(35,"input",18),t.ALo(36,"translate"),t.ALo(37,"translate"),t.TgZ(38,"mat-autocomplete",null,19),t.YNc(40,ti,2,3,"mat-option",20),t.ALo(41,"async"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(42,"div",15),t.TgZ(43,"div",16),t.TgZ(44,"label"),t._uU(45),t.ALo(46,"translate"),t.qZA(),t.TgZ(47,"div",16),t.TgZ(48,"div",21),t.TgZ(49,"input",22),t.NdJ("ngModelChange",function(r){return o.dateFrom=r}),t.ALo(50,"translate"),t.qZA(),t.TgZ(51,"div",23),t._UZ(52,"mat-datepicker-toggle",24),t._UZ(53,"mat-datepicker",null,25),t._UZ(55,"br"),t._UZ(56,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(57,"div",15),t.TgZ(58,"div",16),t.TgZ(59,"label"),t._uU(60),t.ALo(61,"translate"),t.qZA(),t.TgZ(62,"div",16),t.TgZ(63,"div",21),t.TgZ(64,"input",22),t.NdJ("ngModelChange",function(r){return o.dateTo=r}),t.ALo(65,"translate"),t.qZA(),t.TgZ(66,"div",23),t._UZ(67,"mat-datepicker-toggle",24),t._UZ(68,"mat-datepicker",null,26),t._UZ(70,"br"),t._UZ(71,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(72,"div",9),t.TgZ(73,"div",27),t.TgZ(74,"mat-slide-toggle",28),t.NdJ("ngModelChange",function(r){return o.isSummary=r}),t.qZA(),t._uU(75),t.ALo(76,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(77,"div",29),t.TgZ(78,"div",30),t.TgZ(79,"button",31),t.NdJ("click",function(){return o.search()}),t._uU(80),t.ALo(81,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(82,li,23,14,"div",32),t.YNc(83,ci,3,3,"h3",33),t.qZA()),2&e){const n=t.MAs(39),r=t.MAs(54),l=t.MAs(69);t.xp6(4),t.hij(" ",t.lcZ(5,27,"Vendor_Statement")," "),t.xp6(6),t.hij(" ",t.lcZ(11,29,"Administration")," "),t.xp6(3),t.Oqu(t.lcZ(14,31,"Purchase_Management")),t.xp6(3),t.Oqu(t.lcZ(17,33,"Vendor_Statement")),t.xp6(9),t.hij("",t.lcZ(26,35,"Vendor_Statement")," "),t.xp6(7),t.Oqu(t.lcZ(33,37,"Vendor_Code")),t.xp6(2),t.Q6J("isLoading",o.isCodeLoading),t.xp6(1),t.hYB("placeholder","",t.lcZ(36,39,"Please_Enter")," ",t.lcZ(37,41,"Vendor_Code"),""),t.Q6J("formControl",o.codeControl)("matAutocomplete",n),t.xp6(5),t.Q6J("ngForOf",t.lcZ(41,43,o.filteredOptions)),t.xp6(5),t.Oqu(t.lcZ(46,45,"From_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(50,47,"Select_a_Date")),t.Q6J("ngModel",o.dateFrom)("matDatepicker",r),t.xp6(3),t.Q6J("for",r),t.xp6(8),t.Oqu(t.lcZ(61,49,"To_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(65,51,"Select_a_Date")),t.Q6J("ngModel",o.dateTo)("matDatepicker",l),t.xp6(3),t.Q6J("for",l),t.xp6(7),t.Q6J("ngModel",o.isSummary),t.xp6(1),t.hij(" ",t.lcZ(76,53,"Vend_Statement_Balance")," "),t.xp6(5),t.hij(" ",t.lcZ(81,55,"Search")," "),t.xp6(2),t.Q6J("ngIf",o.vendorList&&o.vendorList.length>0||o.vendorSummaryList&&o.vendorSummaryList.length>0),t.xp6(1),t.Q6J("ngIf",o.vendorList&&0===o.vendorList.length)}},directives:[V.z,s.Fj,N.ZL,s.JJ,s.oH,N.XC,d.sg,m.hl,s.On,m.nW,U.R9,m.Mq,F.Rr,d.O5,R.ey,b.r,q.NW],pipes:[Z.X$,d.Ov,d.uU,I.J],encapsulation:2}),i})();function di(i,a){if(1&i&&(t.TgZ(0,"mat-option",38),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("value",e.value),t.xp6(1),t.AsE(" (",e.value,") ",e.textTwo," ")}}function ui(i,a){if(1&i&&t._UZ(0,"img",50),2&i){const e=t.oxw(2);t.s9C("src",e.logoURL,t.LSH)}}function mi(i,a){if(1&i&&(t.TgZ(0,"div",42),t.TgZ(1,"p"),t._uU(2),t.ALo(3,"date"),t.ALo(4,"date"),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(2),t.AsE(' The Statement of " Invoice Summary" for ',t.xi3(3,2,e.dateFrom,"dd/MM/yyyy")," to ",t.xi3(4,5,e.dateTo,"dd/MM/yyyy")," ")}}function gi(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",55),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.ALo(13,"date"),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td",56),t._uU(19),t.ALo(20,"decimalpipe"),t.qZA(),t.TgZ(21,"td",56),t._uU(22),t.ALo(23,"decimalpipe"),t.qZA(),t.TgZ(24,"td",56),t._uU(25),t.ALo(26,"decimalpipe"),t.qZA(),t.TgZ(27,"td",56),t._uU(28),t.ALo(29,"decimalpipe"),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.Oqu(e.vendCode),t.xp6(2),t.Oqu(e.vendName),t.xp6(2),t.Oqu(e.branchName),t.xp6(2),t.Oqu(e.docNum),t.xp6(2),t.Oqu(e.invoiceNumber),t.xp6(2),t.Oqu(t.xi3(13,12,e.invoiceDate,"dd-MM-yyyy")),t.xp6(3),t.Oqu(e.referenceNumber),t.xp6(2),t.Oqu(e.trantype),t.xp6(2),t.Oqu(t.lcZ(20,15,e.drAmount)),t.xp6(3),t.Oqu(t.lcZ(23,17,e.crAmount)),t.xp6(3),t.Oqu(t.lcZ(26,19,e.appliedAmount)),t.xp6(3),t.Oqu(t.lcZ(29,21,e.balance))}}function Zi(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"table",51),t.TgZ(2,"tbody"),t.TgZ(3,"tr"),t.TgZ(4,"th",52),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"th"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"th"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"th"),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"th"),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"th"),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"th"),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"th",53),t._uU(29),t.ALo(30,"translate"),t.qZA(),t.TgZ(31,"th",53),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"th",53),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.TgZ(37,"th",53),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.qZA(),t.YNc(40,gi,30,23,"tr",54),t.qZA(),t.qZA(),t.BQk()),2&i){const e=t.oxw(2);t.xp6(5),t.Oqu(t.lcZ(6,13,"Vendor_Code")),t.xp6(3),t.Oqu(t.lcZ(9,15,"Vendor_Name")),t.xp6(3),t.Oqu(t.lcZ(12,17,"BranchName")),t.xp6(3),t.Oqu(t.lcZ(15,19,"DocNum")),t.xp6(3),t.Oqu(t.lcZ(18,21,"Invoice_InvoiceGrid_InvoiceNumber")),t.xp6(3),t.Oqu(t.lcZ(21,23,"InvoiceDate")),t.xp6(3),t.Oqu(t.lcZ(24,25,"ReferenceNumber")),t.xp6(3),t.Oqu(t.lcZ(27,27,"Trantype")),t.xp6(3),t.hij("",t.lcZ(30,29,"NetAmount")," "),t.xp6(3),t.hij("",t.lcZ(33,31,"PaidAmount")," "),t.xp6(3),t.hij("",t.lcZ(36,33,"AppliedAmount")," "),t.xp6(3),t.hij("",t.lcZ(39,35,"Balance")," "),t.xp6(2),t.Q6J("ngForOf",e.vendorSummaryList)}}function hi(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"date"),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td",56),t._uU(15),t.ALo(16,"decimalpipe"),t.qZA(),t.TgZ(17,"td",56),t._uU(18),t.ALo(19,"decimalpipe"),t.qZA(),t.TgZ(20,"td",56),t._uU(21),t.ALo(22,"decimalpipe"),t.qZA(),t.TgZ(23,"td",56),t._uU(24),t.ALo(25,"decimalpipe"),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.Oqu(e.branchName),t.xp6(2),t.Oqu(e.docNum),t.xp6(2),t.Oqu(e.invoiceNumber),t.xp6(2),t.Oqu(t.xi3(9,10,e.invoiceDate,"dd-MM-yyyy")),t.xp6(3),t.Oqu(e.referenceNumber),t.xp6(2),t.Oqu(e.trantype),t.xp6(2),t.Oqu(t.lcZ(16,13,e.drAmount)),t.xp6(3),t.Oqu(t.lcZ(19,15,e.crAmount)),t.xp6(3),t.Oqu(t.lcZ(22,17,e.appliedAmount)),t.xp6(3),t.Oqu(t.lcZ(25,19,e.balance))}}function _i(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",61),t.TgZ(2,"table",51),t.TgZ(3,"tr"),t.TgZ(4,"th"),t._uU(5),t.ALo(6,"translate"),t.ALo(7,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"table",51),t.TgZ(9,"tr"),t.TgZ(10,"th"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"th"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"th"),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"th"),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"th"),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"th"),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"th",53),t._uU(29),t.ALo(30,"translate"),t.qZA(),t.TgZ(31,"th",53),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"th",53),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.TgZ(37,"th",53),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.qZA(),t.YNc(40,hi,26,21,"tr",54),t.qZA(),t._UZ(41,"br"),t._UZ(42,"br"),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(5),t.HOy(" ",t.lcZ(6,15,"Vendor_Code")," : ",e[0].vendCode,", \xa0 \xa0 ",t.lcZ(7,17,"Vendor_Name")," : ",e[0].vendName," "),t.xp6(6),t.Oqu(t.lcZ(12,19,"BranchName")),t.xp6(3),t.Oqu(t.lcZ(15,21,"DocNum")),t.xp6(3),t.Oqu(t.lcZ(18,23,"Invoice_InvoiceGrid_InvoiceNumber")),t.xp6(3),t.Oqu(t.lcZ(21,25,"InvoiceDate")),t.xp6(3),t.Oqu(t.lcZ(24,27,"ReferenceNumber")),t.xp6(3),t.Oqu(t.lcZ(27,29,"Trantype")),t.xp6(3),t.hij("",t.lcZ(30,31,"NetAmount")," "),t.xp6(3),t.hij("",t.lcZ(33,33,"PaidAmount")," "),t.xp6(3),t.hij("",t.lcZ(36,35,"AppliedAmount")," "),t.xp6(3),t.hij("",t.lcZ(39,37,"Balance")," "),t.xp6(2),t.Q6J("ngForOf",e)}}function Ai(i,a){if(1&i&&(t.TgZ(0,"table",51),t.TgZ(1,"tbody"),t.YNc(2,_i,43,39,"tr",54),t.qZA(),t.TgZ(3,"tbody"),t.TgZ(4,"tr"),t.TgZ(5,"td",57),t.TgZ(6,"span",58),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.qZA(),t.TgZ(9,"td",59),t._uU(10),t.ALo(11,"decimalpipe"),t.qZA(),t.TgZ(12,"td",59),t._uU(13),t.ALo(14,"decimalpipe"),t.qZA(),t.TgZ(15,"td",59),t._uU(16),t.ALo(17,"decimalpipe"),t.qZA(),t.TgZ(18,"td",60),t._uU(19),t.ALo(20,"decimalpipe"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",e.vendorList),t.xp6(5),t.hij("",t.lcZ(8,6,"Total_Balance")," "),t.xp6(3),t.hij(" ",t.lcZ(11,8,e.totalDrAmount),""),t.xp6(3),t.hij(" ",t.lcZ(14,10,e.totalCrAmount),""),t.xp6(3),t.hij(" ",t.lcZ(17,12,e.totalAppliedAmount),""),t.xp6(3),t.hij(" ",t.lcZ(20,14,e.totalBalance),"")}}function fi(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",39),t.TgZ(1,"div",40),t.TgZ(2,"button",35),t.NdJ("click",function(){return t.CHM(e),t.oxw().openPrint()}),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"div",41),t.TgZ(7,"div",42),t._uU(8),t.YNc(9,ui,1,1,"img",43),t._UZ(10,"br"),t._uU(11),t._UZ(12,"br"),t._uU(13),t.qZA(),t._UZ(14,"br"),t.YNc(15,mi,5,8,"div",44),t.TgZ(16,"div",45),t._UZ(17,"spinner-loader",21),t.YNc(18,Zi,41,37,"ng-container",46),t.YNc(19,Ai,21,16,"ng-template",null,47,t.W1O),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"div",48),t.TgZ(22,"mat-paginator",49),t.NdJ("page",function(n){return t.CHM(e),t.oxw().onPageSwitch(n)}),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.MAs(20),o=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,12,"Print")," "),t.xp6(5),t.hij(" ",o.companyName," "),t.xp6(1),t.Q6J("ngIf",o.companyName),t.xp6(2),t.hij(" ",o.branchName," "),t.xp6(2),t.hij(" ",o.companyAddress," "),t.xp6(2),t.Q6J("ngIf",o.dateFrom&&o.dateTo),t.xp6(2),t.Q6J("isLoading",o.isLoading),t.xp6(1),t.Q6J("ngIf",o.isSummary&&o.vendorSummaryList.length>0)("ngIfElse",e),t.xp6(4),t.Q6J("length",o.totalItemsCount)("pageSize",o.pageService.pageCount)("pageSizeOptions",o.pageService.selectItemsPerPage)}}function Ti(i,a){1&i&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"No_Records")))}let vi=(()=>{class i extends L.k{constructor(e,o,n,r,l,c){super(n),this.fb=e,this.apiService=o,this.authService=n,this.utilService=r,this.pageService=l,this.notifyService=c,this.totalItemsCount=0,this.vendCode="",this.isSummary=!1,this.dateFrom="",this.dateTo="",this.vendorList=[],this.vendorSummaryList=[],this.codeControl=new s.NI(""),this.type="All",this.totalDrAmount=0,this.totalCrAmount=0,this.totalAppliedAmount=0,this.totalNetBalance=0,this.totalBalance=0,this.companyName="",this.companyAddress="",this.branchName="",this.isLoading=!1,this.isCodeLoading=!1,this.filteredOptions=this.codeControl.valueChanges.pipe((0,J.O)(""),(0,D.b)(400),(0,P.x)(),(0,Y.w)(u=>(""!==u.trim()&&(this.isCodeLoading=!0),this.filter(u||""))))}ngOnInit(){this.setForm()}setForm(){this.form=this.fb.group({dateFrom:[""],dateTo:[""],isAllBranches:[!1]})}filter(e){return this.apiService.getall(`vendor/getVendorSelectItemList?search=${e.trim()}`).pipe((0,B.U)(o=>{const n=o;return this.isCodeLoading=!1,n}))}onPageSwitch(e){this.search(e.pageIndex,e.pageSize)}search(e=this.pageService.page,o=this.pageService.pageCount){this.isLoading=!0,this.vendorSummaryList=[],this.vendorList=[],this.apiService.getall(`report/${this.isSummary?"getVendorInvoiceSummaryList":"getVendorInvoiceDetailList"}?page=${e}&pageCount=${o}&isAllVendors=${this.isSummary}&type=${this.type}&custCode=${this.codeControl.value}&from=${this.utilService.getCommonDate(this.dateFrom)}&to=${this.utilService.getCommonDate(this.dateTo)}`).subscribe(n=>{if(this.isLoading=!1,n){if(this.isSummary)this.vendorSummaryList=n.invoices;else{const r=n.list;this.vendorList=r.list,this.totalItemsCount=r.reportCount}this.companyName=n.comapnyName,this.companyAddress=n.address,this.branchName=n.branchName,this.logoURL=n.logoURL,this.totalCrAmount=n.totalCrAmount,this.totalDrAmount=n.totalDrAmount,this.totalAppliedAmount=n.totalAppliedAmount,this.totalBalance=n.totalBalance}})}openPrint(){const e=document.getElementById("printcontainer");this.utilService.printForLocale(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(k.u),t.Y36(f.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-vendorinvoicesummary"]],viewQuery:function(e,o){if(1&e&&t.Gf(q.NW,7),2&e){let n;t.iGM(n=t.CRH())&&(o.paginator=n.first)}},features:[t.qOj],decls:98,vars:67,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"col-md-7","col-lg-9"],[1,"card-title","pt6"],[1,"cardtitle-divider"],[1,"col-md-4","col-lg-4"],[1,"form-group"],["id","Price Decimal",1,"custom-select","mr-sm-2",3,"ngModel","ngModelChange"],["value","All"],["value","Paid"],["value","UnPaid"],[3,"isLoading"],["type","text","matInput","",1,"form-control",3,"placeholder","formControl","matAutocomplete"],["auto1","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"input-group","mb-2"],[1,"form-control","datapickerinput",3,"placeholder","ngModel","matDatepicker","ngModelChange"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker1",""],["picker2",""],[1,"form-group","pt",2,"padding-top","35px","padding-left","20px"],["color","primary",3,"ngModel","ngModelChange"],[1,"row","mb-4"],[1,"col-md-12","col-lg-12","text-center"],["type","button","data-toggle","modal",1,"btn","waves-effect","waves-light","btn-rounded","btn-primary","btn-midblock",3,"click"],["class","modal-content",4,"ngIf"],[4,"ngIf"],[3,"value"],[1,"modal-content"],[1,"modal-body"],["id","printcontainer",1,"outer"],[1,"text-center","font-weight-medium"],["style","width:200px;height:150px;float:right;",3,"src",4,"ngIf"],["class","text-center font-weight-medium",4,"ngIf"],[1,"table-responsive"],[4,"ngIf","ngIfElse"],["detailList",""],[1,"example-table-container","table-responsive","pt-3"],[3,"length","pageSize","pageSizeOptions","page"],[2,"width","200px","height","150px","float","right",3,"src"],["border","1","cellpadding","0","cellspacing","0","width","100%",1,"ur_tablestyle",2,"width","100%","padding-bottom","5px"],[1,"w10per",2,"padding","10px"],[1,"w10per"],[4,"ngFor","ngForOf"],[2,"padding","8px"],[1,"text-right"],["colspan","7",2,"padding","10px"],[2,"float","right"],[2,"padding","10px","width","9%"],[2,"padding","10px","width","0%"],["colspan","11"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"nav",5),t.TgZ(8,"ol",6),t.TgZ(9,"li",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"li",7),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"li",8),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",1),t.TgZ(19,"div",9),t.TgZ(20,"div",10),t.TgZ(21,"div",11),t.TgZ(22,"div",1),t.TgZ(23,"div",12),t.TgZ(24,"h4",13),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.qZA(),t.qZA(),t._UZ(27,"div",14),t.TgZ(28,"div",1),t.TgZ(29,"div",15),t.TgZ(30,"div",16),t.TgZ(31,"label"),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"select",17),t.NdJ("ngModelChange",function(r){return o.type=r}),t.TgZ(35,"option",18),t._uU(36,"All"),t.qZA(),t.TgZ(37,"option",19),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"option",20),t._uU(41),t.ALo(42,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(43,"div",15),t.TgZ(44,"div",16),t.TgZ(45,"label"),t._uU(46),t.ALo(47,"translate"),t.qZA(),t._UZ(48,"auto-loader",21),t._UZ(49,"input",22),t.ALo(50,"translate"),t.ALo(51,"translate"),t.TgZ(52,"mat-autocomplete",null,23),t.YNc(54,di,2,3,"mat-option",24),t.ALo(55,"async"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(56,"div",15),t.TgZ(57,"div",16),t.TgZ(58,"label"),t._uU(59),t.ALo(60,"translate"),t.qZA(),t.TgZ(61,"div",16),t.TgZ(62,"div",25),t.TgZ(63,"input",26),t.NdJ("ngModelChange",function(r){return o.dateFrom=r}),t.ALo(64,"translate"),t.qZA(),t.TgZ(65,"div",27),t._UZ(66,"mat-datepicker-toggle",28),t._UZ(67,"mat-datepicker",null,29),t._UZ(69,"br"),t._UZ(70,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(71,"div",15),t.TgZ(72,"div",16),t.TgZ(73,"label"),t._uU(74),t.ALo(75,"translate"),t.qZA(),t.TgZ(76,"div",16),t.TgZ(77,"div",25),t.TgZ(78,"input",26),t.NdJ("ngModelChange",function(r){return o.dateTo=r}),t.ALo(79,"translate"),t.qZA(),t.TgZ(80,"div",27),t._UZ(81,"mat-datepicker-toggle",28),t._UZ(82,"mat-datepicker",null,30),t._UZ(84,"br"),t._UZ(85,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(86,"div",9),t.TgZ(87,"div",31),t.TgZ(88,"mat-slide-toggle",32),t.NdJ("ngModelChange",function(r){return o.isSummary=r}),t.qZA(),t._uU(89),t.ALo(90,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(91,"div",33),t.TgZ(92,"div",34),t.TgZ(93,"button",35),t.NdJ("click",function(){return o.search()}),t._uU(94),t.ALo(95,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(96,fi,23,14,"div",36),t.YNc(97,Ti,3,3,"h3",37),t.qZA()),2&e){const n=t.MAs(53),r=t.MAs(68),l=t.MAs(83);t.xp6(4),t.hij(" ",t.lcZ(5,31,"Vendor_Statement")," "),t.xp6(6),t.hij(" ",t.lcZ(11,33,"Administration")," "),t.xp6(3),t.Oqu(t.lcZ(14,35,"Sales_Management")),t.xp6(3),t.Oqu(t.lcZ(17,37,"Vendor_Statement")),t.xp6(9),t.hij("",t.lcZ(26,39,"Vendor_Statement")," "),t.xp6(7),t.Oqu(t.lcZ(33,41,"Choose")),t.xp6(2),t.Q6J("ngModel",o.type),t.xp6(4),t.Oqu(t.lcZ(39,43,"Paid")),t.xp6(3),t.Oqu(t.lcZ(42,45,"UnPaid")),t.xp6(5),t.Oqu(t.lcZ(47,47,"Vendor_Code")),t.xp6(2),t.Q6J("isLoading",o.isCodeLoading),t.xp6(1),t.hYB("placeholder","",t.lcZ(50,49,"Please_Enter")," ",t.lcZ(51,51,"Customer_Code"),""),t.Q6J("formControl",o.codeControl)("matAutocomplete",n),t.xp6(5),t.Q6J("ngForOf",t.lcZ(55,53,o.filteredOptions)),t.xp6(5),t.Oqu(t.lcZ(60,55,"From_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(64,57,"Select_a_Date")),t.Q6J("ngModel",o.dateFrom)("matDatepicker",r),t.xp6(3),t.Q6J("for",r),t.xp6(8),t.Oqu(t.lcZ(75,59,"To_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(79,61,"Select_a_Date")),t.Q6J("ngModel",o.dateTo)("matDatepicker",l),t.xp6(3),t.Q6J("for",l),t.xp6(7),t.Q6J("ngModel",o.isSummary),t.xp6(1),t.hij(" ",t.lcZ(90,63,"Vend_Statement_Balance")," "),t.xp6(5),t.hij(" ",t.lcZ(95,65,"Search")," "),t.xp6(2),t.Q6J("ngIf",o.vendorList&&o.vendorList.length>0||o.vendorSummaryList&&o.vendorSummaryList.length>0),t.xp6(1),t.Q6J("ngIf",o.vendorList&&0===o.vendorList.length)}},directives:[s.EJ,s.JJ,s.On,s.YN,s.Kr,V.z,s.Fj,N.ZL,s.oH,N.XC,d.sg,m.hl,m.nW,U.R9,m.Mq,F.Rr,d.O5,R.ey,b.r,q.NW],pipes:[Z.X$,d.Ov,d.uU,I.J],encapsulation:2}),i})();function qi(i,a){if(1&i&&(t.TgZ(0,"mat-option",34),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("value",e.value),t.xp6(1),t.AsE(" (",e.value,") ",e.textTwo," ")}}function Ci(i,a){if(1&i&&t._UZ(0,"img",50),2&i){const e=t.oxw(2);t.s9C("src",e.logoURL,t.LSH)}}function xi(i,a){if(1&i&&(t.TgZ(0,"div",38),t.TgZ(1,"p"),t._uU(2),t.ALo(3,"date"),t.ALo(4,"date"),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(2),t.AsE(' The Statement of " Payment Summary" for ',t.xi3(3,2,e.dateFrom,"dd/MM/yyyy")," to ",t.xi3(4,5,e.dateTo,"dd/MM/yyyy")," ")}}function bi(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",51),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",49),t._uU(6),t.ALo(7,"decimalpipe"),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.Oqu(e.vendCode),t.xp6(2),t.Oqu(e.vendName),t.xp6(2),t.Oqu(t.lcZ(7,3,e.drAmount))}}function yi(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",35),t.TgZ(1,"div",36),t.TgZ(2,"button",31),t.NdJ("click",function(){return t.CHM(e),t.oxw().openPrint()}),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"div",37),t.TgZ(7,"div",38),t._uU(8),t.YNc(9,Ci,1,1,"img",39),t._UZ(10,"br"),t._uU(11),t._UZ(12,"br"),t._uU(13),t.qZA(),t._UZ(14,"br"),t.YNc(15,xi,5,8,"div",40),t.TgZ(16,"div",41),t._UZ(17,"spinner-loader",17),t.TgZ(18,"table",42),t.TgZ(19,"thead"),t.TgZ(20,"tr"),t.TgZ(21,"th",43),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"th"),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.TgZ(27,"th",44),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(30,"tbody"),t.YNc(31,bi,8,5,"tr",45),t.qZA(),t.TgZ(32,"tfoot"),t.TgZ(33,"tr",46),t._UZ(34,"td",47),t.TgZ(35,"td",48),t._uU(36),t.ALo(37,"translate"),t.qZA(),t.TgZ(38,"td",49),t._uU(39),t.ALo(40,"decimalpipe"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,13,"Print")," "),t.xp6(5),t.hij(" ",e.companyName," "),t.xp6(1),t.Q6J("ngIf",e.companyName),t.xp6(2),t.hij(" ",e.branchName," "),t.xp6(2),t.hij(" ",e.companyAddress," "),t.xp6(2),t.Q6J("ngIf",e.dateFrom&&e.dateTo),t.xp6(2),t.Q6J("isLoading",e.isLoading),t.xp6(5),t.Oqu(t.lcZ(23,15,"Vendor_Code")),t.xp6(3),t.Oqu(t.lcZ(26,17,"Vendor_Name")),t.xp6(3),t.hij("",t.lcZ(29,19,"Amount")," "),t.xp6(3),t.Q6J("ngForOf",e.vendorList),t.xp6(5),t.hij("",t.lcZ(37,21,"Total_Balance")," "),t.xp6(3),t.Oqu(t.lcZ(40,23,e.totalBalance))}}function Ui(i,a){1&i&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"No_Records")))}let Li=(()=>{class i extends L.k{constructor(e,o,n,r,l,c){super(r),this.fb=e,this.router=o,this.apiService=n,this.authService=r,this.utilService=l,this.notifyService=c,this.vendCode="",this.isAllVendors=!1,this.dateFrom="",this.dateTo="",this.vendorList=[],this.codeControl=new s.NI(""),this.totalBalance=0,this.companyName="",this.companyAddress="",this.branchName="",this.isLoading=!1,this.isCodeLoading=!1,this.filteredOptions=this.codeControl.valueChanges.pipe((0,J.O)(""),(0,D.b)(400),(0,P.x)(),(0,Y.w)(u=>(""!==u.trim()&&(this.isCodeLoading=!0),this.filter(u||""))))}ngOnInit(){this.utilService.hasPaymenRoute()?this.router.navigateByUrl("dashboard/fin/opmapvendvouchersummary"):this.apiService.getall("customerPayment/checkOpenItemMenthod").subscribe(e=>{e?(localStorage.setItem("hasPaymenRoute","hasPayment"),this.router.navigateByUrl("dashboard/fin/opmapvendvouchersummary")):this.setForm()})}setForm(){this.form=this.fb.group({dateFrom:[""],dateTo:[""],isAllVendors:[!1]})}filter(e){return this.apiService.getall(`vendor/getVendorSelectItemList?search=${e.trim()}`).pipe((0,B.U)(o=>{const n=o;return this.isCodeLoading=!1,n}))}search(){this.isLoading=!0,this.apiService.getall(`report/getVendorPaymentSummaryList?isAllVendors=${this.isAllVendors}&custCode=${this.codeControl.value}&from=${this.utilService.getCommonDate(this.dateFrom)}&to=${this.utilService.getCommonDate(this.dateTo)}`).subscribe(e=>{this.isLoading=!1,e&&(this.vendorList=e.list,this.companyName=e.comapnyName,this.companyAddress=e.address,this.branchName=e.branchName,this.logoURL=e.logoURL,this.totalBalance=e.totalBalance)})}openPrint(){const e=document.getElementById("printcontainer");this.utilService.printForLocale(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(Q.F0),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(f.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-vendorpaymentsummary"]],features:[t.qOj],decls:84,vars:57,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"col-md-7","col-lg-9"],[1,"card-title","pt6"],[1,"cardtitle-divider"],[1,"col-md-4","col-lg-4"],[1,"form-group"],[3,"isLoading"],["type","text","matInput","",1,"form-control",3,"placeholder","formControl","matAutocomplete"],["auto1","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"input-group","mb-2"],[1,"form-control","datapickerinput",3,"placeholder","ngModel","matDatepicker","ngModelChange"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker1",""],["picker2",""],[1,"form-group","pt",2,"padding-top","35px","padding-left","20px"],["color","primary",3,"ngModel","ngModelChange"],[1,"row","mb-4"],[1,"col-md-12","col-lg-12","text-center"],["type","button","data-toggle","modal",1,"btn","waves-effect","waves-light","btn-rounded","btn-primary","btn-midblock",3,"click"],["class","modal-content",4,"ngIf"],[4,"ngIf"],[3,"value"],[1,"modal-content"],[1,"modal-body"],["id","printcontainer",1,"outer"],[1,"text-center","font-weight-medium"],["style","width:200px;height:150px;float:right;",3,"src",4,"ngIf"],["class","text-center font-weight-medium",4,"ngIf"],[1,"table-responsive"],["border","1","cellpadding","0","cellspacing","0","width","100%",1,"ur_tablestyle",2,"width","100%","padding-bottom","5px"],[1,"w10per",2,"padding","10px"],[1,"w10per"],[4,"ngFor","ngForOf"],[1,"tfoot"],["colspan","1",1,"text-right"],[1,"text-center"],[1,"text-right"],[2,"width","200px","height","150px","float","right",3,"src"],[2,"padding","8px"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"nav",5),t.TgZ(8,"ol",6),t.TgZ(9,"li",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"li",7),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"li",8),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",1),t.TgZ(19,"div",9),t.TgZ(20,"div",10),t.TgZ(21,"div",11),t.TgZ(22,"div",1),t.TgZ(23,"div",12),t.TgZ(24,"h4",13),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.qZA(),t.qZA(),t._UZ(27,"div",14),t.TgZ(28,"div",1),t.TgZ(29,"div",15),t.TgZ(30,"div",16),t.TgZ(31,"label"),t._uU(32),t.ALo(33,"translate"),t.qZA(),t._UZ(34,"auto-loader",17),t._UZ(35,"input",18),t.ALo(36,"translate"),t.ALo(37,"translate"),t.TgZ(38,"mat-autocomplete",null,19),t.YNc(40,qi,2,3,"mat-option",20),t.ALo(41,"async"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(42,"div",15),t.TgZ(43,"div",16),t.TgZ(44,"label"),t._uU(45),t.ALo(46,"translate"),t.qZA(),t.TgZ(47,"div",16),t.TgZ(48,"div",21),t.TgZ(49,"input",22),t.NdJ("ngModelChange",function(r){return o.dateFrom=r}),t.ALo(50,"translate"),t.qZA(),t.TgZ(51,"div",23),t._UZ(52,"mat-datepicker-toggle",24),t._UZ(53,"mat-datepicker",null,25),t._UZ(55,"br"),t._UZ(56,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(57,"div",15),t.TgZ(58,"div",16),t.TgZ(59,"label"),t._uU(60),t.ALo(61,"translate"),t.qZA(),t.TgZ(62,"div",16),t.TgZ(63,"div",21),t.TgZ(64,"input",22),t.NdJ("ngModelChange",function(r){return o.dateTo=r}),t.ALo(65,"translate"),t.qZA(),t.TgZ(66,"div",23),t._UZ(67,"mat-datepicker-toggle",24),t._UZ(68,"mat-datepicker",null,26),t._UZ(70,"br"),t._UZ(71,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(72,"div",9),t.TgZ(73,"div",27),t.TgZ(74,"mat-slide-toggle",28),t.NdJ("ngModelChange",function(r){return o.isAllVendors=r}),t.qZA(),t._uU(75),t.ALo(76,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(77,"div",29),t.TgZ(78,"div",30),t.TgZ(79,"button",31),t.NdJ("click",function(){return o.search()}),t._uU(80),t.ALo(81,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(82,yi,41,25,"div",32),t.YNc(83,Ui,3,3,"h3",33),t.qZA()),2&e){const n=t.MAs(39),r=t.MAs(54),l=t.MAs(69);t.xp6(4),t.hij(" ",t.lcZ(5,27,"Vendor_Payment")," "),t.xp6(6),t.hij(" ",t.lcZ(11,29,"Administration")," "),t.xp6(3),t.Oqu(t.lcZ(14,31,"Sales_Management")),t.xp6(3),t.Oqu(t.lcZ(17,33,"Vendor_Payment")),t.xp6(9),t.hij("",t.lcZ(26,35,"Vendor_Payment")," "),t.xp6(7),t.Oqu(t.lcZ(33,37,"Vendor_Code")),t.xp6(2),t.Q6J("isLoading",o.isCodeLoading),t.xp6(1),t.hYB("placeholder","",t.lcZ(36,39,"Please_Enter")," ",t.lcZ(37,41,"Vendor_Code"),""),t.Q6J("formControl",o.codeControl)("matAutocomplete",n),t.xp6(5),t.Q6J("ngForOf",t.lcZ(41,43,o.filteredOptions)),t.xp6(5),t.Oqu(t.lcZ(46,45,"From_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(50,47,"Select_a_Date")),t.Q6J("ngModel",o.dateFrom)("matDatepicker",r),t.xp6(3),t.Q6J("for",r),t.xp6(8),t.Oqu(t.lcZ(61,49,"To_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(65,51,"Select_a_Date")),t.Q6J("ngModel",o.dateTo)("matDatepicker",l),t.xp6(3),t.Q6J("for",l),t.xp6(7),t.Q6J("ngModel",o.isAllVendors),t.xp6(1),t.hij(" ",t.lcZ(76,53,"Vend_Statement_Balance")," "),t.xp6(5),t.hij(" ",t.lcZ(81,55,"Search")," "),t.xp6(2),t.Q6J("ngIf",o.vendorList&&o.vendorList.length>0),t.xp6(1),t.Q6J("ngIf",o.vendorList&&0===o.vendorList.length)}},directives:[V.z,s.Fj,N.ZL,s.JJ,s.oH,N.XC,d.sg,m.hl,s.On,m.nW,U.R9,m.Mq,F.Rr,d.O5,R.ey,b.r],pipes:[Z.X$,d.Ov,I.J,d.uU],encapsulation:2}),i})();function Si(i,a){if(1&i&&(t.TgZ(0,"mat-option",34),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("value",e.value),t.xp6(1),t.AsE(" (",e.value,") ",e.textTwo," ")}}function Ni(i,a){if(1&i&&t._UZ(0,"img",46),2&i){const e=t.oxw(2);t.s9C("src",e.logoURL,t.LSH)}}function Oi(i,a){if(1&i&&(t.TgZ(0,"div",38),t.TgZ(1,"p"),t._uU(2),t.ALo(3,"date"),t.ALo(4,"date"),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(2),t.AsE(' The Statement of " Payment Vouchers List" for ',t.xi3(3,2,e.dateFrom,"dd/MM/yyyy")," to ",t.xi3(4,5,e.dateTo,"dd/MM/yyyy")," ")}}function wi(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",51),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"date"),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td",52),t._uU(11),t.ALo(12,"decimalpipe"),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.Oqu(e.custCode),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(t.xi3(7,5,e.tranDate,"dd-MM-yyyy")),t.xp6(3),t.Oqu(e.docNum),t.xp6(2),t.Oqu(t.lcZ(12,8,e.amount))}}function ki(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"table",47),t.TgZ(2,"tr"),t.TgZ(3,"th",48),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"th"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"th"),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"th"),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"th",49),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.YNc(18,wi,13,10,"tr",50),t.qZA(),t.BQk()),2&i){const e=t.oxw(2);t.xp6(4),t.Oqu(t.lcZ(5,6,"Vendor_Code")),t.xp6(3),t.Oqu(t.lcZ(8,8,"Vendor_Name")),t.xp6(3),t.Oqu(t.lcZ(11,10,"invoiceDate")),t.xp6(3),t.Oqu(t.lcZ(14,12,"DocNum")),t.xp6(3),t.Oqu(t.lcZ(17,14,"Paid_Amount")),t.xp6(2),t.Q6J("ngForOf",e.vendorSummaryList)}}function Ii(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td",52),t._uU(7),t.ALo(8,"decimalpipe"),t.qZA(),t.TgZ(9,"td",52),t._uU(10),t.ALo(11,"decimalpipe"),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.Oqu(t.xi3(3,4,e.invoiceDate,"dd-MM-yyyy")),t.xp6(3),t.Oqu(e.docNum),t.xp6(2),t.Oqu(t.lcZ(8,7,e.amount)),t.xp6(3),t.Oqu(t.lcZ(11,9,e.crAmount))}}function Mi(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",53),t.TgZ(2,"table",47),t.TgZ(3,"tr"),t.TgZ(4,"th"),t._uU(5),t.ALo(6,"translate"),t.ALo(7,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"table",47),t.TgZ(9,"tr"),t.TgZ(10,"th"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"th"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"th",49),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"th",49),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.qZA(),t.YNc(22,Ii,12,11,"tr",50),t.qZA(),t._UZ(23,"br"),t._UZ(24,"br"),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(5),t.HOy(" ",t.lcZ(6,9,"Vendor_Code")," : ",e[0].vendCode,", \xa0 \xa0 ",t.lcZ(7,11,"Vendor_Name")," : ",e[0].vendName," "),t.xp6(6),t.Oqu(t.lcZ(12,13,"invoiceDate")),t.xp6(3),t.Oqu(t.lcZ(15,15,"DocNum")),t.xp6(3),t.hij("",t.lcZ(18,17,"Total_Amount")," "),t.xp6(3),t.Oqu(t.lcZ(21,19,"Paid_Amount")),t.xp6(2),t.Q6J("ngForOf",e)}}function Ji(i,a){if(1&i&&(t.TgZ(0,"table",47),t.TgZ(1,"tbody"),t.YNc(2,Mi,25,21,"tr",50),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",e.vendorList)}}function Di(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",35),t.TgZ(1,"div",36),t.TgZ(2,"button",31),t.NdJ("click",function(){return t.CHM(e),t.oxw().openPrint()}),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"div",37),t.TgZ(7,"div",38),t._uU(8),t.YNc(9,Ni,1,1,"img",39),t._UZ(10,"br"),t._uU(11),t._UZ(12,"br"),t._uU(13),t.qZA(),t._UZ(14,"br"),t.YNc(15,Oi,5,8,"div",40),t.TgZ(16,"div",41),t._UZ(17,"spinner-loader",17),t.YNc(18,ki,19,16,"ng-container",42),t.YNc(19,Ji,3,1,"ng-template",null,43,t.W1O),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"div",44),t.TgZ(22,"mat-paginator",45),t.NdJ("page",function(n){return t.CHM(e),t.oxw().onPageSwitch(n)}),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.MAs(20),o=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,12,"Print")," "),t.xp6(5),t.hij(" ",o.companyName," "),t.xp6(1),t.Q6J("ngIf",o.companyName),t.xp6(2),t.hij(" ",o.branchName," "),t.xp6(2),t.hij(" ",o.companyAddress," "),t.xp6(2),t.Q6J("ngIf",o.dateFrom&&o.dateTo),t.xp6(2),t.Q6J("isLoading",o.isLoading),t.xp6(1),t.Q6J("ngIf",o.isSummary&&o.vendorSummaryList.length>0)("ngIfElse",e),t.xp6(4),t.Q6J("length",o.totalItemsCount)("pageSize",o.pageService.pageCount)("pageSizeOptions",o.pageService.selectItemsPerPage)}}function Pi(i,a){1&i&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"No_Records")))}let Yi=(()=>{class i extends L.k{constructor(e,o,n,r,l,c){super(n),this.fb=e,this.apiService=o,this.authService=n,this.utilService=r,this.pageService=l,this.notifyService=c,this.totalItemsCount=0,this.vendCode="",this.isSummary=!1,this.dateFrom="",this.dateTo="",this.type="All",this.vendorList=[],this.vendorSummaryList=[],this.codeControl=new s.NI(""),this.totalBalance=0,this.companyName="",this.companyAddress="",this.branchName="",this.isLoading=!1,this.isCodeLoading=!1,this.filteredOptions=this.codeControl.valueChanges.pipe((0,J.O)(""),(0,D.b)(400),(0,P.x)(),(0,Y.w)(u=>(""!==u.trim()&&(this.isCodeLoading=!0),this.filter(u||""))))}ngOnInit(){this.setForm()}setForm(){this.form=this.fb.group({dateFrom:[""],dateTo:[""],isAllBranches:[!1]})}filter(e){return this.apiService.getall(`vendor/getVendorSelectItemList?search=${e.trim()}`).pipe((0,B.U)(o=>{const n=o;return this.isCodeLoading=!1,n}))}onPageSwitch(e){this.search(e.pageIndex,e.pageSize)}search(e=this.pageService.page,o=this.pageService.pageCount){this.isLoading=!0,this.vendorSummaryList=[],this.vendorList=[],this.apiService.getall(`report/${this.isSummary?"getVendorVoucherPaymentSummaryList":"getVendorVoucherPaymentDetailsList"}?page=${e}&pageCount=${o}&isAllVendors = ${this.isSummary}&custCode=${this.codeControl.value}&from=${this.utilService.getCommonDate(this.dateFrom)}&to=${this.utilService.getCommonDate(this.dateTo)}`).subscribe(n=>{if(this.isLoading=!1,n){if(this.isSummary)this.vendorSummaryList=n.listItems;else{const r=n.listItems;this.vendorList=r.list,this.totalItemsCount=r.reportCount}this.companyName=n.comapnyName,this.companyAddress=n.address,this.branchName=n.branchName,this.logoURL=n.logoURL}})}openPrint(){const e=document.getElementById("printcontainer");this.utilService.printForLocale(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(k.u),t.Y36(f.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-vendorpaymentvouchersummary"]],viewQuery:function(e,o){if(1&e&&t.Gf(q.NW,7),2&e){let n;t.iGM(n=t.CRH())&&(o.paginator=n.first)}},features:[t.qOj],decls:84,vars:57,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"col-md-7","col-lg-9"],[1,"card-title","pt6"],[1,"cardtitle-divider"],[1,"col-md-4","col-lg-4"],[1,"form-group"],[3,"isLoading"],["type","text","matInput","",1,"form-control",3,"placeholder","formControl","matAutocomplete"],["auto1","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"input-group","mb-2"],[1,"form-control","datapickerinput",3,"placeholder","ngModel","matDatepicker","ngModelChange"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker1",""],["picker2",""],[1,"form-group","pt",2,"padding-top","35px","padding-left","20px"],["color","primary",3,"ngModel","ngModelChange"],[1,"row","mb-4"],[1,"col-md-12","col-lg-12","text-center"],["type","button","data-toggle","modal",1,"btn","waves-effect","waves-light","btn-rounded","btn-primary","btn-midblock",3,"click"],["class","modal-content",4,"ngIf"],[4,"ngIf"],[3,"value"],[1,"modal-content"],[1,"modal-body"],["id","printcontainer",1,"outer"],[1,"text-center","font-weight-medium"],["style","width:200px;height:150px;float:right;",3,"src",4,"ngIf"],["class","text-center font-weight-medium",4,"ngIf"],[1,"table-responsive"],[4,"ngIf","ngIfElse"],["detailList",""],[1,"example-table-container","table-responsive","pt-3"],[3,"length","pageSize","pageSizeOptions","page"],[2,"width","200px","height","150px","float","right",3,"src"],["border","1","cellpadding","0","cellspacing","0","width","100%",1,"ur_tablestyle",2,"width","100%","padding-bottom","5px"],[1,"w10per",2,"padding","10px"],[1,"w10per"],[4,"ngFor","ngForOf"],[2,"padding","8px"],[1,"text-right"],["colspan","7"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"nav",5),t.TgZ(8,"ol",6),t.TgZ(9,"li",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"li",7),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"li",8),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",1),t.TgZ(19,"div",9),t.TgZ(20,"div",10),t.TgZ(21,"div",11),t.TgZ(22,"div",1),t.TgZ(23,"div",12),t.TgZ(24,"h4",13),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.qZA(),t.qZA(),t._UZ(27,"div",14),t.TgZ(28,"div",1),t.TgZ(29,"div",15),t.TgZ(30,"div",16),t.TgZ(31,"label"),t._uU(32),t.ALo(33,"translate"),t.qZA(),t._UZ(34,"auto-loader",17),t._UZ(35,"input",18),t.ALo(36,"translate"),t.ALo(37,"translate"),t.TgZ(38,"mat-autocomplete",null,19),t.YNc(40,Si,2,3,"mat-option",20),t.ALo(41,"async"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(42,"div",15),t.TgZ(43,"div",16),t.TgZ(44,"label"),t._uU(45),t.ALo(46,"translate"),t.qZA(),t.TgZ(47,"div",16),t.TgZ(48,"div",21),t.TgZ(49,"input",22),t.NdJ("ngModelChange",function(r){return o.dateFrom=r}),t.ALo(50,"translate"),t.qZA(),t.TgZ(51,"div",23),t._UZ(52,"mat-datepicker-toggle",24),t._UZ(53,"mat-datepicker",null,25),t._UZ(55,"br"),t._UZ(56,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(57,"div",15),t.TgZ(58,"div",16),t.TgZ(59,"label"),t._uU(60),t.ALo(61,"translate"),t.qZA(),t.TgZ(62,"div",16),t.TgZ(63,"div",21),t.TgZ(64,"input",22),t.NdJ("ngModelChange",function(r){return o.dateTo=r}),t.ALo(65,"translate"),t.qZA(),t.TgZ(66,"div",23),t._UZ(67,"mat-datepicker-toggle",24),t._UZ(68,"mat-datepicker",null,26),t._UZ(70,"br"),t._UZ(71,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(72,"div",9),t.TgZ(73,"div",27),t.TgZ(74,"mat-slide-toggle",28),t.NdJ("ngModelChange",function(r){return o.isSummary=r}),t.qZA(),t._uU(75),t.ALo(76,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(77,"div",29),t.TgZ(78,"div",30),t.TgZ(79,"button",31),t.NdJ("click",function(){return o.search()}),t._uU(80),t.ALo(81,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(82,Di,23,14,"div",32),t.YNc(83,Pi,3,3,"h3",33),t.qZA()),2&e){const n=t.MAs(39),r=t.MAs(54),l=t.MAs(69);t.xp6(4),t.hij(" ",t.lcZ(5,27,"Vendor_Statement")," "),t.xp6(6),t.hij(" ",t.lcZ(11,29,"Administration")," "),t.xp6(3),t.Oqu(t.lcZ(14,31,"Purchase_Management")),t.xp6(3),t.Oqu(t.lcZ(17,33,"Vendor_Statement")),t.xp6(9),t.hij("",t.lcZ(26,35,"Vendor_Statement")," "),t.xp6(7),t.Oqu(t.lcZ(33,37,"Vendor_Code")),t.xp6(2),t.Q6J("isLoading",o.isCodeLoading),t.xp6(1),t.hYB("placeholder","",t.lcZ(36,39,"Please_Enter")," ",t.lcZ(37,41,"Vendor_Code"),""),t.Q6J("formControl",o.codeControl)("matAutocomplete",n),t.xp6(5),t.Q6J("ngForOf",t.lcZ(41,43,o.filteredOptions)),t.xp6(5),t.Oqu(t.lcZ(46,45,"From_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(50,47,"Select_a_Date")),t.Q6J("ngModel",o.dateFrom)("matDatepicker",r),t.xp6(3),t.Q6J("for",r),t.xp6(8),t.Oqu(t.lcZ(61,49,"To_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(65,51,"Select_a_Date")),t.Q6J("ngModel",o.dateTo)("matDatepicker",l),t.xp6(3),t.Q6J("for",l),t.xp6(7),t.Q6J("ngModel",o.isSummary),t.xp6(1),t.hij(" ",t.lcZ(76,53,"Vend_Statement_Balance")," "),t.xp6(5),t.hij(" ",t.lcZ(81,55,"Search")," "),t.xp6(2),t.Q6J("ngIf",o.vendorList&&o.vendorList.length>0||o.vendorSummaryList&&o.vendorSummaryList.length>0),t.xp6(1),t.Q6J("ngIf",o.vendorList&&0===o.vendorList.length)}},directives:[V.z,s.Fj,N.ZL,s.JJ,s.oH,N.XC,d.sg,m.hl,s.On,m.nW,U.R9,m.Mq,F.Rr,d.O5,R.ey,b.r,q.NW],pipes:[Z.X$,d.Ov,d.uU,I.J],encapsulation:2}),i})();function Qi(i,a){if(1&i&&(t.TgZ(0,"mat-option",38),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("value",e.value),t.xp6(1),t.AsE(" (",e.value,") ",e.textTwo," ")}}function ji(i,a){if(1&i&&t._UZ(0,"img",53),2&i){const e=t.oxw(2);t.s9C("src",e.logoURL,t.LSH)}}function Fi(i,a){if(1&i&&(t.TgZ(0,"div",42),t.TgZ(1,"p"),t._uU(2),t.ALo(3,"date"),t.ALo(4,"date"),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(2),t.AsE(' The Statement of " Vouchers Summary" for ',t.xi3(3,2,e.dateFrom,"dd/MM/yyyy")," to ",t.xi3(4,5,e.dateTo,"dd/MM/yyyy")," ")}}function Bi(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",55),t._uU(6),t.ALo(7,"decimalpipe"),t.qZA(),t.TgZ(8,"td",55),t._uU(9),t.ALo(10,"decimalpipe"),t.qZA(),t.TgZ(11,"td",55),t._uU(12),t.ALo(13,"decimalpipe"),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.Oqu(e.branchName),t.xp6(2),t.Oqu(e.docNum),t.xp6(2),t.Oqu(t.lcZ(7,5,e.drAmount)),t.xp6(3),t.Oqu(t.lcZ(10,7,e.crAmount)),t.xp6(3),t.Oqu(t.lcZ(13,9,e.balance))}}function Vi(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",49),t.TgZ(2,"table",46),t.TgZ(3,"tr"),t.TgZ(4,"th"),t._uU(5),t.ALo(6,"translate"),t.ALo(7,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"table",46),t.TgZ(9,"tr"),t.TgZ(10,"th"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"th"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"th",54),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"th",54),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"th",54),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.qZA(),t.YNc(25,Bi,14,11,"tr",47),t.qZA(),t._UZ(26,"br"),t._UZ(27,"br"),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(5),t.HOy(" ",t.lcZ(6,10,"Vendor_Code")," : ",e[0].vendCode,", \xa0 \xa0 ",t.lcZ(7,12,"Vendor_Name")," : ",e[0].vendName," "),t.xp6(6),t.Oqu(t.lcZ(12,14,"BranchName")),t.xp6(3),t.Oqu(t.lcZ(15,16,"DocNum")),t.xp6(3),t.hij("",t.lcZ(18,18,"NetAmount")," "),t.xp6(3),t.hij("",t.lcZ(21,20,"PaidAmount")," "),t.xp6(3),t.hij("",t.lcZ(24,22,"Balance")," "),t.xp6(2),t.Q6J("ngForOf",e)}}function Ri(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",39),t.TgZ(1,"div",40),t.TgZ(2,"button",35),t.NdJ("click",function(){return t.CHM(e),t.oxw().openPrint()}),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"div",41),t.TgZ(7,"div",42),t._uU(8),t.YNc(9,ji,1,1,"img",43),t._UZ(10,"br"),t._uU(11),t._UZ(12,"br"),t._uU(13),t.qZA(),t._UZ(14,"br"),t.YNc(15,Fi,5,8,"div",44),t.TgZ(16,"div",45),t._UZ(17,"spinner-loader",21),t.TgZ(18,"table",46),t.TgZ(19,"tbody"),t.YNc(20,Vi,28,24,"tr",47),t.qZA(),t.TgZ(21,"tfoot"),t.TgZ(22,"tr",48),t.TgZ(23,"td",49),t.TgZ(24,"span",50),t._uU(25),t.ALo(26,"translate"),t.ALo(27,"decimalpipe"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(28,"div",51),t.TgZ(29,"mat-paginator",52),t.NdJ("page",function(n){return t.CHM(e),t.oxw().onPageSwitch(n)}),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,13,"Print")," "),t.xp6(5),t.hij(" ",e.companyName," "),t.xp6(1),t.Q6J("ngIf",e.companyName),t.xp6(2),t.hij(" ",e.branchName," "),t.xp6(2),t.hij(" ",e.companyAddress," "),t.xp6(2),t.Q6J("ngIf",e.dateFrom&&e.dateTo),t.xp6(2),t.Q6J("isLoading",e.isLoading),t.xp6(3),t.Q6J("ngForOf",e.vendorList),t.xp6(5),t.AsE("",t.lcZ(26,15,"Total_Balance")," \xa0\xa0 : ",t.lcZ(27,17,e.totalBalance),""),t.xp6(4),t.Q6J("length",e.totalItemsCount)("pageSize",e.pageService.pageCount)("pageSizeOptions",e.pageService.selectItemsPerPage)}}function Ei(i,a){1&i&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"No_Records")))}let $i=(()=>{class i extends L.k{constructor(e,o,n,r,l,c){super(n),this.fb=e,this.apiService=o,this.authService=n,this.utilService=r,this.pageService=l,this.notifyService=c,this.totalItemsCount=0,this.vendCode="",this.isAllBranches=!1,this.dateFrom="",this.dateTo="",this.vendorList=[],this.codeControl=new s.NI(""),this.type="All",this.totalBalance=0,this.companyName="",this.companyAddress="",this.branchName="",this.isLoading=!1,this.isCodeLoading=!1,this.filteredOptions=this.codeControl.valueChanges.pipe((0,J.O)(""),(0,D.b)(400),(0,P.x)(),(0,Y.w)(u=>(""!==u.trim()&&(this.isCodeLoading=!0),this.filter(u||""))))}ngOnInit(){this.setForm()}setForm(){this.form=this.fb.group({dateFrom:[""],dateTo:[""],isAllBranches:[!1]})}filter(e){return this.apiService.getall(`vendor/getVendorSelectItemList?search=${e.trim()}`).pipe((0,B.U)(o=>{const n=o;return this.isCodeLoading=!1,n}))}onPageSwitch(e){this.search(e.pageIndex,e.pageSize)}search(e=this.pageService.page,o=this.pageService.pageCount){this.isLoading=!0,this.apiService.getall(`report/getVendorVoucherSummaryList?page=${e}&pageCount=${o}&isAllBranches=${this.isAllBranches}&type=${this.type}&custCode=${this.codeControl.value}&from=${this.utilService.getCommonDate(this.dateFrom)}&to=${this.utilService.getCommonDate(this.dateTo)}`).subscribe(n=>{if(this.isLoading=!1,n){const r=n.list;this.vendorList=r.list,this.totalItemsCount=r.reportCount,this.companyName=n.comapnyName,this.companyAddress=n.address,this.branchName=n.branchName,this.logoURL=n.logoURL,this.totalBalance=n.totalBalance}})}openPrint(){const e=document.getElementById("printcontainer");this.utilService.printForLocale(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(k.u),t.Y36(f.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-vendorvouchersummary"]],viewQuery:function(e,o){if(1&e&&t.Gf(q.NW,7),2&e){let n;t.iGM(n=t.CRH())&&(o.paginator=n.first)}},features:[t.qOj],decls:98,vars:67,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"col-md-7","col-lg-9"],[1,"card-title","pt6"],[1,"cardtitle-divider"],[1,"col-md-4","col-lg-4"],[1,"form-group"],["id","Price Decimal",1,"custom-select","mr-sm-2",3,"ngModel","ngModelChange"],["value","All"],["value","Paid"],["value","UnPaid"],[3,"isLoading"],["type","text","matInput","",1,"form-control",3,"placeholder","formControl","matAutocomplete"],["auto1","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"input-group","mb-2"],[1,"form-control","datapickerinput",3,"placeholder","ngModel","matDatepicker","ngModelChange"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker1",""],["picker2",""],[1,"form-group","pt",2,"padding-top","35px","padding-left","20px"],["color","primary",3,"ngModel","ngModelChange"],[1,"row","mb-4"],[1,"col-md-12","col-lg-12","text-center"],["type","button","data-toggle","modal",1,"btn","waves-effect","waves-light","btn-rounded","btn-primary","btn-midblock",3,"click"],["class","modal-content",4,"ngIf"],[4,"ngIf"],[3,"value"],[1,"modal-content"],[1,"modal-body"],["id","printcontainer",1,"outer"],[1,"text-center","font-weight-medium"],["style","width:200px;height:150px;float:right;",3,"src",4,"ngIf"],["class","text-center font-weight-medium",4,"ngIf"],[1,"table-responsive"],["border","1","cellpadding","0","cellspacing","0","width","100%",1,"ur_tablestyle",2,"width","100%","padding-bottom","5px"],[4,"ngFor","ngForOf"],[1,"tfoot"],["colspan","7"],[2,"float","right"],[1,"example-table-container","table-responsive","pt-3"],[3,"length","pageSize","pageSizeOptions","page"],[2,"width","200px","height","150px","float","right",3,"src"],[1,"w10per"],[1,"text-right"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"nav",5),t.TgZ(8,"ol",6),t.TgZ(9,"li",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"li",7),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"li",8),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",1),t.TgZ(19,"div",9),t.TgZ(20,"div",10),t.TgZ(21,"div",11),t.TgZ(22,"div",1),t.TgZ(23,"div",12),t.TgZ(24,"h4",13),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.qZA(),t.qZA(),t._UZ(27,"div",14),t.TgZ(28,"div",1),t.TgZ(29,"div",15),t.TgZ(30,"div",16),t.TgZ(31,"label"),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"select",17),t.NdJ("ngModelChange",function(r){return o.type=r}),t.TgZ(35,"option",18),t._uU(36,"All"),t.qZA(),t.TgZ(37,"option",19),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"option",20),t._uU(41),t.ALo(42,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(43,"div",15),t.TgZ(44,"div",16),t.TgZ(45,"label"),t._uU(46),t.ALo(47,"translate"),t.qZA(),t._UZ(48,"auto-loader",21),t._UZ(49,"input",22),t.ALo(50,"translate"),t.ALo(51,"translate"),t.TgZ(52,"mat-autocomplete",null,23),t.YNc(54,Qi,2,3,"mat-option",24),t.ALo(55,"async"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(56,"div",15),t.TgZ(57,"div",16),t.TgZ(58,"label"),t._uU(59),t.ALo(60,"translate"),t.qZA(),t.TgZ(61,"div",16),t.TgZ(62,"div",25),t.TgZ(63,"input",26),t.NdJ("ngModelChange",function(r){return o.dateFrom=r}),t.ALo(64,"translate"),t.qZA(),t.TgZ(65,"div",27),t._UZ(66,"mat-datepicker-toggle",28),t._UZ(67,"mat-datepicker",null,29),t._UZ(69,"br"),t._UZ(70,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(71,"div",15),t.TgZ(72,"div",16),t.TgZ(73,"label"),t._uU(74),t.ALo(75,"translate"),t.qZA(),t.TgZ(76,"div",16),t.TgZ(77,"div",25),t.TgZ(78,"input",26),t.NdJ("ngModelChange",function(r){return o.dateTo=r}),t.ALo(79,"translate"),t.qZA(),t.TgZ(80,"div",27),t._UZ(81,"mat-datepicker-toggle",28),t._UZ(82,"mat-datepicker",null,30),t._UZ(84,"br"),t._UZ(85,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(86,"div",9),t.TgZ(87,"div",31),t.TgZ(88,"mat-slide-toggle",32),t.NdJ("ngModelChange",function(r){return o.isAllBranches=r}),t.qZA(),t._uU(89),t.ALo(90,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(91,"div",33),t.TgZ(92,"div",34),t.TgZ(93,"button",35),t.NdJ("click",function(){return o.search()}),t._uU(94),t.ALo(95,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(96,Ri,30,19,"div",36),t.YNc(97,Ei,3,3,"h3",37),t.qZA()),2&e){const n=t.MAs(53),r=t.MAs(68),l=t.MAs(83);t.xp6(4),t.hij(" ",t.lcZ(5,31,"Vendor_Statement")," "),t.xp6(6),t.hij(" ",t.lcZ(11,33,"Administration")," "),t.xp6(3),t.Oqu(t.lcZ(14,35,"Purchase_Management")),t.xp6(3),t.Oqu(t.lcZ(17,37,"Vendor_Statement")),t.xp6(9),t.hij("",t.lcZ(26,39,"Vendor_Statement")," "),t.xp6(7),t.Oqu(t.lcZ(33,41,"Choose")),t.xp6(2),t.Q6J("ngModel",o.type),t.xp6(4),t.Oqu(t.lcZ(39,43,"Paid")),t.xp6(3),t.Oqu(t.lcZ(42,45,"UnPaid")),t.xp6(5),t.Oqu(t.lcZ(47,47,"Vendor_Code")),t.xp6(2),t.Q6J("isLoading",o.isCodeLoading),t.xp6(1),t.hYB("placeholder","",t.lcZ(50,49,"Please_Enter")," ",t.lcZ(51,51,"Vendor_Code"),""),t.Q6J("formControl",o.codeControl)("matAutocomplete",n),t.xp6(5),t.Q6J("ngForOf",t.lcZ(55,53,o.filteredOptions)),t.xp6(5),t.Oqu(t.lcZ(60,55,"From_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(64,57,"Select_a_Date")),t.Q6J("ngModel",o.dateFrom)("matDatepicker",r),t.xp6(3),t.Q6J("for",r),t.xp6(8),t.Oqu(t.lcZ(75,59,"To_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(79,61,"Select_a_Date")),t.Q6J("ngModel",o.dateTo)("matDatepicker",l),t.xp6(3),t.Q6J("for",l),t.xp6(7),t.Q6J("ngModel",o.isAllBranches),t.xp6(1),t.hij(" ",t.lcZ(90,63,"Vend_Statement_Balance")," "),t.xp6(5),t.hij(" ",t.lcZ(95,65,"Search")," "),t.xp6(2),t.Q6J("ngIf",o.vendorList&&o.vendorList.length>0),t.xp6(1),t.Q6J("ngIf",o.vendorList&&0===o.vendorList.length)}},directives:[s.EJ,s.JJ,s.On,s.YN,s.Kr,V.z,s.Fj,N.ZL,s.oH,N.XC,d.sg,m.hl,m.nW,U.R9,m.Mq,F.Rr,d.O5,R.ey,b.r,q.NW],pipes:[Z.X$,d.Ov,I.J,d.uU],encapsulation:2}),i})();var mt=y(5939);function zi(i,a){if(1&i&&(t.TgZ(0,"option",85),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function Hi(i,a){if(1&i&&(t.TgZ(0,"mat-option",85),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("value",e.text),t.xp6(1),t.hij(" ",e.text," ")}}function Gi(i,a){if(1&i&&(t.TgZ(0,"option",85),t._uU(1),t.qZA()),2&i){const e=a.$implicit,o=t.oxw();t.s9C("value",e.value),t.xp6(1),t.Oqu(o.isArab?e.textTwo:e.text)}}function Xi(i,a){if(1&i&&(t.TgZ(0,"mat-option",85),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("value",e.text),t.xp6(1),t.hij(" ",e.text," ")}}function Wi(i,a){if(1&i&&(t.TgZ(0,"mat-option",85),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("value",e.text),t.xp6(1),t.hij(" ",e.text," ")}}function Ki(i,a){if(1&i&&(t.TgZ(0,"option",85),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function tn(i,a){if(1&i&&(t.TgZ(0,"option",85),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function en(i,a){if(1&i&&(t.TgZ(0,"mat-option",85),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("value",e.text),t.xp6(1),t.hij(" ",e.text," ")}}function on(i,a){if(1&i&&(t.TgZ(0,"mat-option",85),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("value",e.text),t.xp6(1),t.hij(" ",e.text," ")}}function nn(i,a){if(1&i&&(t.TgZ(0,"mat-option",85),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("value",e.text),t.xp6(1),t.hij(" ",e.text," ")}}function an(i,a){if(1&i&&(t.TgZ(0,"mat-option",85),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("value",e.text),t.xp6(1),t.hij(" ",e.text," ")}}let rn=(()=>{class i{constructor(e,o,n,r,l,c,u,g,C,S){this.fb=e,this.http=o,this.router=n,this.apiService=r,this.authService=l,this.utilService=c,this.translate=u,this.notifyService=g,this.validationService=C,this.dialogRef=S,this.id=0,this.companyLogo="",this.cityList1=[],this.cityList2=[],this.userTypes=[],this.ratingList=[],this.categoryCodeControl=new s.NI("",s.kI.required),this.salesTermsCodeControl=new s.NI("",s.kI.required),this.custARAcControl=new s.NI("",s.kI.required),this.custArAcCodeControl=new s.NI("",s.kI.required),this.custDefExpAcCodeControl=new s.NI("",s.kI.required),this.custARAdjAcCodeControl=new s.NI("",s.kI.required),this.custARDiscAcCodeControl=new s.NI("",s.kI.required),this.readonly="",this.canAutoGenCustCode=!1,this.isDataLoading=!1,this.isArab=!1,this.filteredCategoryCodes=this.categoryCodeControl.valueChanges.pipe((0,J.O)(""),(0,D.b)(c.autoDelay()),(0,P.x)(),(0,Y.w)(w=>(""!==w.trim()&&(this.isDataLoading=!0),this.filterCategoryCodes(w||"")))),this.filteredSalesTermsCodes=this.salesTermsCodeControl.valueChanges.pipe((0,J.O)(""),(0,D.b)(c.autoDelay()),(0,P.x)(),(0,Y.w)(w=>(""!==w.trim()&&(this.isDataLoading=!0),this.filterSalesTermsCodes(w||"")))),this.filteredcustARAc=this.custARAcControl.valueChanges.pipe((0,J.O)(""),(0,D.b)(c.autoDelay()),(0,P.x)(),(0,Y.w)(w=>(""!==w.trim()&&(this.isDataLoading=!0),this.filterAccountCodes(w||"")))),this.filteredcustArAcCode=this.custArAcCodeControl.valueChanges.pipe((0,J.O)(""),(0,D.b)(c.autoDelay()),(0,P.x)(),(0,Y.w)(w=>(""!==w.trim()&&(this.isDataLoading=!0),this.filterAccountCodes(w||"")))),this.filteredcustDefExpAcCode=this.custDefExpAcCodeControl.valueChanges.pipe((0,J.O)(""),(0,D.b)(c.autoDelay()),(0,P.x)(),(0,Y.w)(w=>(""!==w.trim()&&(this.isDataLoading=!0),this.filterAccountCodes(w||"")))),this.filteredcustARAdjAcCode=this.custARAdjAcCodeControl.valueChanges.pipe((0,J.O)(""),(0,D.b)(c.autoDelay()),(0,P.x)(),(0,Y.w)(w=>(""!==w.trim()&&(this.isDataLoading=!0),this.filterAccountCodes(w||"")))),this.filteredcustARDiscAcCode=this.custARDiscAcCodeControl.valueChanges.pipe((0,J.O)(""),(0,D.b)(c.autoDelay()),(0,P.x)(),(0,Y.w)(w=>(""!==w.trim()&&(this.isDataLoading=!0),this.filterAccountCodes(w||""))))}ngOnInit(){this.isArab=this.utilService.isArabic(),this.companyLogo=this.utilService.logoUrl(),this.setForm(),this.canAutoGenerateVendCode(),this.loadCities(),this.id>0&&(this.readonly="readonly",this.setEditForm())}closeModel(){this.dialogRef.close()}setForm(){this.form=this.fb.group({vendCode:[""],vendName:["",s.kI.required],vendArbName:["",s.kI.required],vendAlias:["",s.kI.required],vatNumber:["",s.kI.required],vendRating:["0",s.kI.required],vendDiscount:["0"],vendCrLimit:["0"],vendPoRep:[""],vendPoArea:[""],vendARAc:[""],vendLastPaidDate:["",s.kI.required],vendLastPoDate:["",s.kI.required],vendLastPayAmt:["0",s.kI.required],vendAddress1:["",s.kI.required],crNumber:[""],iban:[""],vendMobile1:["",s.kI.compose([s.kI.required,this.validationService.mobileValidator])],vendPhone1:["",s.kI.compose([s.kI.required,this.validationService.mobileValidator])],vendEmail1:["",s.kI.compose([s.kI.required,s.kI.email])],vendContact1:["",s.kI.compose([s.kI.required])],vendAddress2:[""],vendMobile2:["",s.kI.compose([this.validationService.mobileOptionalValidator])],vendPhone2:["",s.kI.compose([this.validationService.mobileOptionalValidator])],vendEmail2:["",s.kI.compose([s.kI.email])],vendContact2:[""],isActive:[!0],stateone:[""],countryone:[""],statetwo:[""],countrytwo:[""],vendType:["",s.kI.required],vendCatCode:[""],poTermsCode:[""],vendCityCode1:["",s.kI.required],vendCityCode2:[""],vendUDF1:[""],vendUDF2:[""],vendUDF3:[""],vendAllowCrsale:[!1],vendAlloCrOverride:[!1],vendOnHold:[!1],vendAlloChkPay:[!1],vendSetPriceLevel:[!1],vendIsVendor:[!1],vendArAcBranch:[!1],vendArAcCode:[""],vendDefExpAcCode:[""],vendARAdjAcCode:[""],vendARDiscAcCode:[""],vendOutStandBal:[0],vendAvailCrLimit:["0"]})}submit(){this.id>0&&(this.form.value.id=this.id);let e=this.categoryCodeControl.value,o=this.salesTermsCodeControl.value,n=this.custARAcControl.value,r=this.custARDiscAcCodeControl.value,l=this.custDefExpAcCodeControl.value,c=this.custARAdjAcCodeControl.value,u=this.custArAcCodeControl.value;if(this.utilService.hasValue(e)?(this.form.value.vendCatCode=this.utilService.removeSqueres(e),this.categoryCodeControl.setValue(e)):console.log("vendCatCode-"),this.utilService.hasValue(o)?(this.form.value.poTermsCode=this.utilService.removeSqueres(o),this.salesTermsCodeControl.setValue(o)):console.log("poTermsCode-"),this.utilService.hasValue(n)?(this.form.value.vendARAc=this.utilService.removeSqueres(n),this.custARAcControl.setValue(n)):console.log("vendARAc-"),this.utilService.hasValue(u)?(this.form.value.vendArAcCode=this.utilService.removeSqueres(u),this.custArAcCodeControl.setValue(u)):console.log("vendArAcCode-"),this.utilService.hasValue(l)?(this.form.value.vendDefExpAcCode=this.utilService.removeSqueres(l),this.custDefExpAcCodeControl.setValue(l)):console.log("custDefExpAcCode-"),this.utilService.hasValue(c)?(this.form.value.vendARAdjAcCode=this.utilService.removeSqueres(c),this.custARAdjAcCodeControl.setValue(c)):console.log("custARAdjAcCode-"),this.utilService.hasValue(r)?(this.form.value.vendARDiscAcCode=this.utilService.removeSqueres(r),this.custARDiscAcCodeControl.setValue(r)):console.log("custARDiscAcCode-"),this.form.valid){if(!(this.utilService.hasValue(r)||this.utilService.hasValue(l)||this.utilService.hasValue(c)||this.utilService.hasValue(u)))return void this.notifyService.showError("Select Account Mapping");this.apiService.post("vendorMaster",this.form.value).subscribe(g=>{this.utilService.OkMessage(),this.dialogRef.close(!0)},g=>{console.error(g),this.utilService.ShowApiErrorMessage(g)})}else this.utilService.FillUpFields()}setEditForm(){this.apiService.get("vendorMaster",this.id).subscribe(e=>{e&&(this.categoryCodeControl.setValue(e.vendCatCode),this.salesTermsCodeControl.setValue(e.poTermsCode),this.custARAcControl.setValue(e.vendARAc),this.custDefExpAcCodeControl.setValue(e.vendDefExpAcCode),this.custARAdjAcCodeControl.setValue(e.vendARAdjAcCode),this.custArAcCodeControl.setValue(e.vendArAcCode),this.custARDiscAcCodeControl.setValue(e.vendARDiscAcCode),this.form.patchValue(e),this.apiService.getall("City/getStateCountrybyCityCode/"+e.vendCityCode1).subscribe(o=>{this.form.patchValue({stateone:o.stateName,countryone:o.countryName})}),this.apiService.getall("City/getStateCountrybyCityCode/"+e.vendCityCode2).subscribe(o=>{this.form.patchValue({statetwo:o.stateName,countrytwo:o.countryName})}),this.form.patchValue({id:0}))})}loadCities(){this.apiService.getall("City/getCitiesSelectList").subscribe(e=>{this.cityList1=e,this.cityList2=e}),this.apiService.getall("userType/getUserTypeSelectList").subscribe(e=>{this.userTypes=e}),this.apiService.getall("vat/getSelectRatingList").subscribe(e=>{this.ratingList=e})}canAutoGenerateVendCode(){this.apiService.getall("purchaseConfig/canAutoGenerateVendCode").subscribe(e=>{this.canAutoGenCustCode=e})}getStateCountrybyCityCode1(e){this.apiService.getall("City/getStateCountrybyCityCode/"+e.target.value).subscribe(n=>{this.form.patchValue({vendCityCode1:n.cityCode,stateone:n.stateName,countryone:n.countryName})})}getStateCountrybyCityCode2(e){this.apiService.getall("City/getStateCountrybyCityCode/"+e.target.value).subscribe(n=>{this.form.patchValue({vendCityCode2:n.cityCode,statetwo:n.stateName,countrytwo:n.countryName})})}reset(){this.form.controls.vendName.setValue("")}filterCategoryCodes(e){return this.apiService.getall(`vendorCategory/getSelectVendorCategoryCodeList?search=${e}`).pipe((0,B.U)(o=>{const n=o;return this.isDataLoading=!1,n}))}filterSalesTermsCodes(e){return this.apiService.getall(`poTermsCode/getSelectPoTermsCodeList?search=${e}`).pipe((0,B.U)(o=>{const n=o;return this.isDataLoading=!1,n}))}filterAccountCodes(e){return this.apiService.getall(`mainAccounts/getSelectMainAccountList?search=${e}`).pipe((0,B.U)(o=>{const n=o;return this.isDataLoading=!1,n}))}validate(e,o,n){let r="";switch("change"==n&&(r=this.utilService.removeSqueres(e.option.value)),o){case"categoryCodeControl":this.apiService.getall("vendorCategory/getCustCatByVenCatCode/"+r).subscribe(l=>{null!=l?this.form.value.vendCatCode=l.vendCatCode:(this.form.value.vendCatCode="",this.categoryCodeControl.setValue(""))});break;case"salesTermsCodeControl":this.apiService.getall("poTermsCode/getPoTermsByTermsCode/"+r).subscribe(l=>{null!=l?this.form.value.poTermsCode=l.poTermsCode:(this.form.value.poTermsCode="",this.salesTermsCodeControl.setValue(""))});break;case"ARAcControl":this.apiService.getall("MainAccounts/getAccountByAccountCode/"+r).subscribe(l=>{null!=l?this.form.value.vendARAc=l.finAcCode:(this.form.value.vendARAc="",this.custARAcControl.setValue(""))});break;case"custDefExpAcCodeControl":this.apiService.getall("MainAccounts/getAccountByAccountCode/"+r).subscribe(l=>{null!=l?this.form.value.vendDefExpAcCode=l.finAcCode:(this.form.value.vendDefExpAcCode="",this.custDefExpAcCodeControl.setValue(""))});break;case"custARAdjAcCodeControl":this.apiService.getall("MainAccounts/getAccountByAccountCode/"+r).subscribe(l=>{null!=l?this.form.value.vendARAdjAcCode=l.finAcCode:(this.form.value.vendARAdjAcCode="",this.custARAdjAcCodeControl.setValue(""))});break;case"custArAcCodeControl":this.apiService.getall("MainAccounts/getAccountByAccountCode/"+r).subscribe(l=>{null!=l?this.form.value.vendArAcCode=l.finAcCode:(this.form.value.vendArAcCode="",this.custArAcCodeControl.setValue(""))});break;case"custARDiscAcCodeControl":this.apiService.getall("MainAccounts/getAccountByAccountCode/"+r).subscribe(l=>{null!=l?this.form.value.vendARDiscAcCode=l.finAcCode:(this.form.value.vendARDiscAcCode="",this.custARDiscAcCodeControl.setValue(""))})}}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36($.eN),t.Y36(Q.F0),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(Z.sK),t.Y36(f.g),t.Y36(O.R),t.Y36(T.so))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-addupdatevendor"]],decls:510,vars:500,consts:[[1,"modal-title"],["type","button","aria-hidden","true",1,"close",3,"click"],["novalidate","",1,"mt-4",3,"formGroup","ngSubmit"],[1,"outer"],[1,"row","rowm0"],[1,"col-md-12","col-lg-12"],["animationDuration","0ms"],[1,"tabs_custom",3,"label"],[1,"mt-4"],[1,"cardtitle-divider"],[1,"row","rowm0","rowp15"],[1,"col-md-6","col-lg-6"],[1,"form-group"],["data-type","image-add",1,"col-4","pl-2","pr-2","pt-2",2,"max-width","130px"],["data-type","image-ratio-box",1,"ratio-box","text-center"],["data-type","noimage",1,"btn","btn-light","ratio-img","img-fluid","p-2","image","border","dashed","rounded",2,"cursor","pointer",3,"src"],["type","number","formControlName","vendOutStandBal",1,"form-control",3,"placeholder","readonly"],["type","number","formControlName","vendAvailCrLimit",1,"form-control",3,"placeholder"],[1,"mr-sm-2"],["type","text","formControlName","vendCode",1,"form-control",3,"placeholder","readonly"],[3,"control"],["type","text","formControlName","vatNumber",1,"form-control",3,"placeholder"],["type","text","formControlName","vendAlias",1,"form-control",3,"placeholder"],["type","text","formControlName","vendName",1,"form-control",3,"placeholder"],["type","text","formControlName","vendArbName",1,"form-control",3,"placeholder"],["formControlName","vendType",1,"custom-select","mr-sm-2"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"isLoading"],["type","text","matInput","",1,"form-control",3,"placeholder","formControl","matAutocomplete","change"],["auto1","matAutocomplete"],["formControlName","vendRating",1,"custom-select","mr-sm-2"],["auto2","matAutocomplete"],["type","number","formControlName","vendDiscount",1,"form-control",3,"placeholder"],["type","number","formControlName","vendCrLimit",1,"form-control",3,"placeholder"],["type","text","formControlName","vendPoRep",1,"form-control",3,"placeholder"],["type","text","formControlName","vendPoArea",1,"form-control",3,"placeholder"],["type","text","matInput","",1,"form-control",3,"placeholder","formControl","matAutocomplete"],[3,"optionSelected"],["auto3","matAutocomplete"],["type","number","formControlName","vendLastPayAmt",1,"form-control",3,"placeholder"],[1,"input-group"],["formControlName","vendLastPoDate",1,"form-control","datapickerinput",3,"placeholder","matDatepicker"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker",""],["formControlName","vendLastPaidDate",1,"form-control","datapickerinput",3,"placeholder","matDatepicker"],["picker2",""],["type","text","formControlName","crNumber",1,"form-control",3,"placeholder"],["type","text","formControlName","iban",1,"form-control",3,"placeholder"],[1,"row","mt-3"],["formControlName","vendAddress1",1,"form-control",3,"placeholder"],["formControlName","vendCityCode1",1,"custom-select","mr-sm-2",3,"change"],["type","text","formControlName","stateone","readonly","",1,"form-control",3,"placeholder"],["type","text","formControlName","countryone","readonly","",1,"form-control",3,"placeholder"],["type","text","formControlName","vendMobile1","maxlength","10",1,"form-control",3,"placeholder"],["type","text","formControlName","vendPhone1","maxlength","10",1,"form-control",3,"placeholder"],["type","email","formControlName","vendContact1",1,"form-control",3,"placeholder"],["type","email","formControlName","vendEmail1",1,"form-control",3,"placeholder"],["formControlName","vendAddress2",1,"form-control",3,"placeholder"],["formControlName","vendCityCode2",1,"custom-select","mr-sm-2",3,"change"],["type","text","formControlName","statetwo","readonly","",1,"form-control",3,"placeholder"],["type","text","formControlName","countrytwo","readonly","",1,"form-control",3,"placeholder"],["type","text","formControlName","vendMobile2","maxlength","10",1,"form-control",3,"placeholder"],["type","text","formControlName","vendPhone2","maxlength","10",1,"form-control",3,"placeholder"],["type","email","formControlName","vendContact2",1,"form-control",3,"placeholder"],["type","email","formControlName","vendEmail2",1,"form-control",3,"placeholder"],[3,"label"],[1,"col-md-4","col-lg-4"],["color","primary","formControlName","isActive"],["color","primary","formControlName","vendAllowCrsale"],["color","primary","formControlName","vendAlloCrOverride"],["color","primary","formControlName","vendOnHold"],["color","primary","formControlName","vendAlloChkPay"],["color","primary","formControlName","vendSetPriceLevel"],["color","primary","formControlName","vendIsVendor"],["color","primary","formControlName","vendArAcBranch"],["auto4","matAutocomplete"],["auto5","matAutocomplete"],["auto6","matAutocomplete"],["auto7","matAutocomplete"],[1,"row","customrow"],[1,"col-lg-12","col-md-12","text-center"],["type","button",1,"btn","btn-secondary",3,"value","click"],["type","submit",1,"btn","waves-effect","waves-light","btn-primary",3,"value"],[3,"value"]],template:function(e,o){if(1&e&&(t.TgZ(0,"h3",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"button",1),t.NdJ("click",function(){return o.closeModel()}),t._uU(4," \xd7"),t.qZA(),t.TgZ(5,"form",2),t.NdJ("ngSubmit",function(){return o.submit()}),t.TgZ(6,"div",3),t.TgZ(7,"div",4),t.TgZ(8,"div",5),t.TgZ(9,"mat-tab-group",6),t.TgZ(10,"mat-tab",7),t.ALo(11,"translate"),t.TgZ(12,"h4",8),t._uU(13),t.ALo(14,"translate"),t.qZA(),t._UZ(15,"div",9),t.TgZ(16,"div",10),t.TgZ(17,"div",11),t.TgZ(18,"div",12),t.TgZ(19,"div",13),t.TgZ(20,"div",14),t._UZ(21,"img",15),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"div",11),t.TgZ(23,"div",12),t.TgZ(24,"label"),t._uU(25),t.ALo(26,"translate"),t.qZA(),t._UZ(27,"input",16),t.ALo(28,"translate"),t.ALo(29,"translate"),t.qZA(),t.TgZ(30,"div",12),t.TgZ(31,"label"),t._uU(32),t.ALo(33,"translate"),t.qZA(),t._UZ(34,"input",17),t.ALo(35,"translate"),t.ALo(36,"translate"),t.qZA(),t.qZA(),t.TgZ(37,"div",11),t.TgZ(38,"div",12),t.TgZ(39,"label",18),t._uU(40),t.ALo(41,"translate"),t.qZA(),t._UZ(42,"input",19),t.ALo(43,"translate"),t.ALo(44,"translate"),t._UZ(45,"validation-message",20),t.qZA(),t.qZA(),t.TgZ(46,"div",11),t.TgZ(47,"div",12),t.TgZ(48,"label",18),t._uU(49),t.ALo(50,"translate"),t.qZA(),t._UZ(51,"input",21),t.ALo(52,"translate"),t.ALo(53,"translate"),t._UZ(54,"validation-message",20),t.qZA(),t.qZA(),t.TgZ(55,"div",11),t.TgZ(56,"div",12),t.TgZ(57,"label",18),t._uU(58),t.ALo(59,"translate"),t.qZA(),t._UZ(60,"input",22),t.ALo(61,"translate"),t.ALo(62,"translate"),t._UZ(63,"validation-message",20),t.qZA(),t.qZA(),t.TgZ(64,"div",11),t.TgZ(65,"div",12),t.TgZ(66,"label",18),t._uU(67),t.ALo(68,"translate"),t.qZA(),t._UZ(69,"input",23),t.ALo(70,"translate"),t.ALo(71,"translate"),t._UZ(72,"validation-message",20),t.qZA(),t.qZA(),t.TgZ(73,"div",11),t.TgZ(74,"div",12),t.TgZ(75,"label",18),t._uU(76),t.ALo(77,"translate"),t.qZA(),t._UZ(78,"input",24),t.ALo(79,"translate"),t.ALo(80,"translate"),t._UZ(81,"validation-message",20),t.qZA(),t.qZA(),t.TgZ(82,"div",11),t.TgZ(83,"div",12),t.TgZ(84,"label",18),t._uU(85),t.ALo(86,"translate"),t.qZA(),t.TgZ(87,"select",25),t.TgZ(88,"option",26),t._uU(89),t.ALo(90,"translate"),t.ALo(91,"translate"),t.qZA(),t.YNc(92,zi,2,2,"option",27),t.qZA(),t._UZ(93,"validation-message",20),t.qZA(),t.qZA(),t.TgZ(94,"div",11),t.TgZ(95,"div",12),t.TgZ(96,"label",18),t._uU(97),t.ALo(98,"translate"),t.qZA(),t._UZ(99,"auto-loader",28),t.TgZ(100,"input",29),t.NdJ("change",function(r){return o.validate(r,"categoryCodeControl","change")}),t.ALo(101,"translate"),t.ALo(102,"translate"),t.qZA(),t.TgZ(103,"mat-autocomplete",null,30),t.YNc(105,Hi,2,2,"mat-option",27),t.ALo(106,"async"),t.qZA(),t._UZ(107,"validation-message",20),t.qZA(),t.qZA(),t.TgZ(108,"div",11),t.TgZ(109,"div",12),t.TgZ(110,"label",18),t._uU(111),t.ALo(112,"translate"),t.qZA(),t.TgZ(113,"select",31),t.TgZ(114,"option",26),t._uU(115),t.ALo(116,"translate"),t.ALo(117,"translate"),t.qZA(),t.YNc(118,Gi,2,2,"option",27),t.qZA(),t._UZ(119,"validation-message",20),t.qZA(),t.qZA(),t.TgZ(120,"div",11),t.TgZ(121,"div",12),t.TgZ(122,"label",18),t._uU(123),t.ALo(124,"translate"),t.qZA(),t._UZ(125,"auto-loader",28),t.TgZ(126,"input",29),t.NdJ("change",function(r){return o.validate(r,"salesTermsCodeControl","change")}),t.ALo(127,"translate"),t.ALo(128,"translate"),t.qZA(),t.TgZ(129,"mat-autocomplete",null,32),t.YNc(131,Xi,2,2,"mat-option",27),t.ALo(132,"async"),t.qZA(),t._UZ(133,"validation-message",20),t.qZA(),t.qZA(),t.TgZ(134,"div",11),t.TgZ(135,"div",12),t.TgZ(136,"label",18),t._uU(137),t.ALo(138,"translate"),t.qZA(),t._UZ(139,"input",33),t.ALo(140,"translate"),t.ALo(141,"translate"),t.qZA(),t.qZA(),t.TgZ(142,"div",11),t.TgZ(143,"div",12),t.TgZ(144,"label",18),t._uU(145),t.ALo(146,"translate"),t.qZA(),t._UZ(147,"input",34),t.ALo(148,"translate"),t.ALo(149,"translate"),t.qZA(),t.qZA(),t.TgZ(150,"div",11),t.TgZ(151,"div",12),t.TgZ(152,"label",18),t._uU(153),t.ALo(154,"translate"),t.qZA(),t._UZ(155,"input",35),t.ALo(156,"translate"),t.ALo(157,"translate"),t.qZA(),t.qZA(),t.TgZ(158,"div",11),t.TgZ(159,"div",12),t.TgZ(160,"label",18),t._uU(161),t.ALo(162,"translate"),t.qZA(),t._UZ(163,"input",36),t.ALo(164,"translate"),t.ALo(165,"translate"),t.qZA(),t.qZA(),t.TgZ(166,"div",11),t.TgZ(167,"div",12),t.TgZ(168,"label",18),t._uU(169),t.ALo(170,"translate"),t.qZA(),t._UZ(171,"auto-loader",28),t._UZ(172,"input",37),t.ALo(173,"translate"),t.ALo(174,"translate"),t.TgZ(175,"mat-autocomplete",38,39),t.NdJ("optionSelected",function(r){return o.validate(r,"custARAcControl","change")}),t.YNc(177,Wi,2,2,"mat-option",27),t.ALo(178,"async"),t.qZA(),t._UZ(179,"validation-message",20),t.qZA(),t.qZA(),t.TgZ(180,"div",11),t.TgZ(181,"div",12),t.TgZ(182,"label",18),t._uU(183),t.ALo(184,"translate"),t.qZA(),t._UZ(185,"input",40),t.ALo(186,"translate"),t.ALo(187,"translate"),t._UZ(188,"validation-message",20),t.qZA(),t.qZA(),t.TgZ(189,"div",11),t.TgZ(190,"div",12),t.TgZ(191,"label",18),t._uU(192),t.ALo(193,"translate"),t.qZA(),t.TgZ(194,"div",12),t.TgZ(195,"div",41),t._UZ(196,"input",42),t.ALo(197,"translate"),t.ALo(198,"translate"),t._UZ(199,"validation-message",20),t.TgZ(200,"div",43),t._UZ(201,"mat-datepicker-toggle",44),t._UZ(202,"mat-datepicker",null,45),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(204,"div",11),t.TgZ(205,"div",12),t.TgZ(206,"label",18),t._uU(207),t.ALo(208,"translate"),t.qZA(),t.TgZ(209,"div",12),t.TgZ(210,"div",41),t._UZ(211,"input",46),t.ALo(212,"translate"),t.ALo(213,"translate"),t._UZ(214,"validation-message",20),t.TgZ(215,"div",43),t._UZ(216,"mat-datepicker-toggle",44),t._UZ(217,"mat-datepicker",null,47),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(219,"div",11),t.TgZ(220,"label",18),t._uU(221),t.ALo(222,"translate"),t.qZA(),t._UZ(223,"input",48),t.ALo(224,"translate"),t.ALo(225,"translate"),t.qZA(),t.TgZ(226,"div",11),t.TgZ(227,"label",18),t._uU(228),t.ALo(229,"translate"),t.qZA(),t._UZ(230,"input",49),t.ALo(231,"translate"),t.ALo(232,"translate"),t.qZA(),t._UZ(233,"div",11),t.TgZ(234,"div",11),t.TgZ(235,"h4",8),t._uU(236),t.ALo(237,"translate"),t.qZA(),t._UZ(238,"div",9),t.TgZ(239,"div",50),t.TgZ(240,"div",5),t.TgZ(241,"div",12),t.TgZ(242,"textarea",51),t.ALo(243,"translate"),t.ALo(244,"translate"),t._uU(245,"                    \n"),t.qZA(),t._UZ(246,"validation-message",20),t.qZA(),t.qZA(),t.TgZ(247,"div",11),t.TgZ(248,"div",12),t.TgZ(249,"label"),t._uU(250),t.ALo(251,"translate"),t.qZA(),t.TgZ(252,"select",52),t.NdJ("change",function(r){return o.getStateCountrybyCityCode1(r)}),t.TgZ(253,"option",26),t._uU(254),t.ALo(255,"translate"),t.ALo(256,"translate"),t.qZA(),t.YNc(257,Ki,2,2,"option",27),t.qZA(),t._UZ(258,"validation-message",20),t.qZA(),t.qZA(),t.TgZ(259,"div",11),t.TgZ(260,"div",12),t.TgZ(261,"label"),t._uU(262),t.ALo(263,"translate"),t.qZA(),t._UZ(264,"input",53),t.ALo(265,"translate"),t.ALo(266,"translate"),t.qZA(),t.qZA(),t.TgZ(267,"div",11),t.TgZ(268,"div",12),t.TgZ(269,"label"),t._uU(270),t.ALo(271,"translate"),t.qZA(),t._UZ(272,"input",54),t.ALo(273,"translate"),t.ALo(274,"translate"),t.qZA(),t.qZA(),t.TgZ(275,"div",11),t.TgZ(276,"div",12),t.TgZ(277,"label"),t._uU(278),t.ALo(279,"translate"),t.qZA(),t._UZ(280,"input",55),t.ALo(281,"translate"),t.ALo(282,"translate"),t._UZ(283,"validation-message",20),t.qZA(),t.qZA(),t.TgZ(284,"div",11),t.TgZ(285,"div",12),t.TgZ(286,"label"),t._uU(287),t.ALo(288,"translate"),t.qZA(),t._UZ(289,"input",56),t.ALo(290,"translate"),t.ALo(291,"translate"),t._UZ(292,"validation-message",20),t.qZA(),t.qZA(),t.TgZ(293,"div",11),t.TgZ(294,"div",12),t.TgZ(295,"label"),t._uU(296),t.ALo(297,"translate"),t.qZA(),t._UZ(298,"input",57),t.ALo(299,"translate"),t.ALo(300,"translate"),t._UZ(301,"validation-message",20),t.qZA(),t.qZA(),t.TgZ(302,"div",5),t.TgZ(303,"div",12),t.TgZ(304,"label"),t._uU(305),t.ALo(306,"translate"),t.qZA(),t._UZ(307,"input",58),t.ALo(308,"translate"),t.ALo(309,"translate"),t._UZ(310,"validation-message",20),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(311,"div",11),t.TgZ(312,"h4",8),t._uU(313),t.ALo(314,"translate"),t.qZA(),t._UZ(315,"div",9),t.TgZ(316,"div",50),t.TgZ(317,"div",5),t.TgZ(318,"div",12),t.TgZ(319,"textarea",59),t.ALo(320,"translate"),t.ALo(321,"translate"),t._uU(322,"                    \n"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(323,"div",11),t.TgZ(324,"div",12),t.TgZ(325,"label"),t._uU(326),t.ALo(327,"translate"),t.qZA(),t.TgZ(328,"select",60),t.NdJ("change",function(r){return o.getStateCountrybyCityCode2(r)}),t.TgZ(329,"option",26),t._uU(330),t.ALo(331,"translate"),t.ALo(332,"translate"),t.qZA(),t.YNc(333,tn,2,2,"option",27),t.qZA(),t.qZA(),t.qZA(),t.TgZ(334,"div",11),t.TgZ(335,"div",12),t.TgZ(336,"label"),t._uU(337),t.ALo(338,"translate"),t.qZA(),t._UZ(339,"input",61),t.ALo(340,"translate"),t.ALo(341,"translate"),t.qZA(),t.qZA(),t.TgZ(342,"div",11),t.TgZ(343,"div",12),t.TgZ(344,"label"),t._uU(345),t.ALo(346,"translate"),t.qZA(),t._UZ(347,"input",62),t.ALo(348,"translate"),t.ALo(349,"translate"),t.qZA(),t.qZA(),t.TgZ(350,"div",11),t.TgZ(351,"div",12),t.TgZ(352,"label"),t._uU(353),t.ALo(354,"translate"),t.qZA(),t._UZ(355,"input",63),t.ALo(356,"translate"),t.ALo(357,"translate"),t._UZ(358,"validation-message",20),t.qZA(),t.qZA(),t.TgZ(359,"div",11),t.TgZ(360,"div",12),t.TgZ(361,"label"),t._uU(362),t.ALo(363,"translate"),t.qZA(),t._UZ(364,"input",64),t.ALo(365,"translate"),t.ALo(366,"translate"),t._UZ(367,"validation-message",20),t.qZA(),t.qZA(),t.TgZ(368,"div",11),t.TgZ(369,"div",12),t.TgZ(370,"label"),t._uU(371),t.ALo(372,"translate"),t.qZA(),t._UZ(373,"input",65),t.ALo(374,"translate"),t.ALo(375,"translate"),t.qZA(),t.qZA(),t.TgZ(376,"div",5),t.TgZ(377,"div",12),t.TgZ(378,"label"),t._uU(379),t.ALo(380,"translate"),t.qZA(),t._UZ(381,"input",66),t.ALo(382,"translate"),t.ALo(383,"translate"),t._UZ(384,"validation-message",20),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(385,"mat-tab",67),t.ALo(386,"translate"),t.TgZ(387,"h4",8),t._uU(388),t.ALo(389,"translate"),t.qZA(),t._UZ(390,"div",9),t.TgZ(391,"div",10),t.TgZ(392,"div",68),t.TgZ(393,"label",18),t._uU(394),t.ALo(395,"translate"),t.qZA(),t.TgZ(396,"div",12),t._UZ(397,"mat-slide-toggle",69),t.qZA(),t.qZA(),t.TgZ(398,"div",68),t.TgZ(399,"label",18),t._uU(400),t.ALo(401,"translate"),t.qZA(),t.TgZ(402,"div",12),t._UZ(403,"mat-slide-toggle",70),t.qZA(),t.qZA(),t.TgZ(404,"div",68),t.TgZ(405,"label",18),t._uU(406),t.ALo(407,"translate"),t.qZA(),t.TgZ(408,"div",12),t._UZ(409,"mat-slide-toggle",71),t.qZA(),t.qZA(),t.TgZ(410,"div",68),t.TgZ(411,"label",18),t._uU(412),t.ALo(413,"translate"),t.qZA(),t.TgZ(414,"div",12),t._UZ(415,"mat-slide-toggle",72),t.qZA(),t.qZA(),t.TgZ(416,"div",68),t.TgZ(417,"label",18),t._uU(418),t.ALo(419,"translate"),t.qZA(),t.TgZ(420,"div",12),t._UZ(421,"mat-slide-toggle",73),t.qZA(),t.qZA(),t.TgZ(422,"div",68),t.TgZ(423,"label",18),t._uU(424),t.ALo(425,"translate"),t.qZA(),t.TgZ(426,"div",12),t._UZ(427,"mat-slide-toggle",74),t.qZA(),t.qZA(),t.TgZ(428,"div",68),t.TgZ(429,"label",18),t._uU(430),t.ALo(431,"translate"),t.qZA(),t.TgZ(432,"div",12),t._UZ(433,"mat-slide-toggle",75),t.qZA(),t.qZA(),t.TgZ(434,"div",68),t.TgZ(435,"label",18),t._uU(436),t.ALo(437,"translate"),t.qZA(),t.TgZ(438,"div",12),t._UZ(439,"mat-slide-toggle",76),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(440,"mat-tab",67),t.ALo(441,"translate"),t.TgZ(442,"h4",8),t._uU(443),t.ALo(444,"translate"),t.qZA(),t._UZ(445,"div",9),t.TgZ(446,"div",10),t.TgZ(447,"div",11),t.TgZ(448,"div",12),t.TgZ(449,"label",18),t._uU(450),t.ALo(451,"translate"),t.qZA(),t._UZ(452,"auto-loader",28),t._UZ(453,"input",37),t.ALo(454,"translate"),t.ALo(455,"translate"),t.TgZ(456,"mat-autocomplete",38,77),t.NdJ("optionSelected",function(r){return o.validate(r,"custArAcCodeControl","change")}),t.YNc(458,en,2,2,"mat-option",27),t.ALo(459,"async"),t.qZA(),t._UZ(460,"validation-message",20),t.qZA(),t.qZA(),t.TgZ(461,"div",11),t.TgZ(462,"div",12),t.TgZ(463,"label",18),t._uU(464),t.ALo(465,"translate"),t.qZA(),t._UZ(466,"auto-loader",28),t._UZ(467,"input",37),t.ALo(468,"translate"),t.ALo(469,"translate"),t.TgZ(470,"mat-autocomplete",38,78),t.NdJ("optionSelected",function(r){return o.validate(r,"custDefExpAcCodeControl","change")}),t.YNc(472,on,2,2,"mat-option",27),t.ALo(473,"async"),t.qZA(),t._UZ(474,"validation-message",20),t.qZA(),t.qZA(),t.TgZ(475,"div",11),t.TgZ(476,"div",12),t.TgZ(477,"label",18),t._uU(478),t.ALo(479,"translate"),t.qZA(),t._UZ(480,"auto-loader",28),t._UZ(481,"input",37),t.ALo(482,"translate"),t.ALo(483,"translate"),t.TgZ(484,"mat-autocomplete",38,79),t.NdJ("optionSelected",function(r){return o.validate(r,"custARAdjAcCodeControl","change")}),t.YNc(486,nn,2,2,"mat-option",27),t.ALo(487,"async"),t.qZA(),t._UZ(488,"validation-message",20),t.qZA(),t.qZA(),t.TgZ(489,"div",11),t.TgZ(490,"div",12),t.TgZ(491,"label",18),t._uU(492),t.ALo(493,"translate"),t.qZA(),t._UZ(494,"auto-loader",28),t._UZ(495,"input",37),t.ALo(496,"translate"),t.ALo(497,"translate"),t.TgZ(498,"mat-autocomplete",38,80),t.NdJ("optionSelected",function(r){return o.validate(r,"custARDiscAcCodeControl","change")}),t.YNc(500,an,2,2,"mat-option",27),t.ALo(501,"async"),t.qZA(),t._UZ(502,"validation-message",20),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(503,"div",81),t.TgZ(504,"div",82),t.TgZ(505,"input",83),t.NdJ("click",function(){return o.closeModel()}),t.ALo(506,"translate"),t.qZA(),t._uU(507," \xa0\xa0 "),t._UZ(508,"input",84),t.ALo(509,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e){const n=t.MAs(104),r=t.MAs(130),l=t.MAs(176),c=t.MAs(203),u=t.MAs(218),g=t.MAs(457),C=t.MAs(471),S=t.MAs(485),w=t.MAs(499);t.xp6(1),t.Oqu(t.lcZ(2,206,"Adding_New_Vendor")),t.xp6(4),t.Q6J("formGroup",o.form),t.xp6(5),t.s9C("label",t.lcZ(11,208,"Primary_Details")),t.xp6(3),t.Oqu(t.lcZ(14,210,"Primary_Details")),t.xp6(8),t.s9C("src",o.companyLogo,t.LSH),t.xp6(4),t.Oqu(t.lcZ(26,212,"Outstanding_Balance")),t.xp6(2),t.hYB("placeholder","",t.lcZ(28,214,"Please_Enter")," ",t.lcZ(29,216,"Outstanding_Balance"),""),t.Q6J("readonly",!0),t.xp6(5),t.hij("",t.lcZ(33,218,"Available_Credit_Limit")," "),t.xp6(2),t.hYB("placeholder","",t.lcZ(35,220,"Please_Enter")," ",t.lcZ(36,222,"Available_Credit_Limit"),""),t.xp6(6),t.Oqu(t.lcZ(41,224,"Vendor_Code")),t.xp6(2),t.hYB("placeholder","",t.lcZ(43,226,"Please_Enter")," ",t.lcZ(44,228,"Vendor_Code"),""),t.Q6J("readonly",o.canAutoGenCustCode),t.xp6(3),t.Q6J("control",o.form.controls.vendCode),t.xp6(4),t.Oqu(t.lcZ(50,230,"GST_VAT_Number")),t.xp6(2),t.hYB("placeholder","",t.lcZ(52,232,"Please_Enter")," ",t.lcZ(53,234,"Vendor_Code"),""),t.xp6(3),t.Q6J("control",o.form.controls.vatNumber),t.xp6(4),t.Oqu(t.lcZ(59,236,"Alias")),t.xp6(2),t.hYB("placeholder","",t.lcZ(61,238,"Please_Enter")," ",t.lcZ(62,240,"User_Email"),""),t.xp6(3),t.Q6J("control",o.form.controls.vendAlias),t.xp6(4),t.Oqu(t.lcZ(68,242,"Vendor_Name")),t.xp6(2),t.hYB("placeholder","",t.lcZ(70,244,"Please_Enter")," ",t.lcZ(71,246,"Vendor_Name"),""),t.xp6(3),t.Q6J("control",o.form.controls.vendName),t.xp6(4),t.hij(" ",t.lcZ(77,248,"Vendor_Name_Arabic")," "),t.xp6(2),t.hYB("placeholder","",t.lcZ(79,250,"Please_Enter")," ",t.lcZ(80,252,"Vendor_Name_Arabic"),""),t.xp6(3),t.Q6J("control",o.form.controls.vendArbName),t.xp6(4),t.hij(" ",t.lcZ(86,254,"Type")," "),t.xp6(4),t.AsE("",t.lcZ(90,256,"Select")," ",t.lcZ(91,258,"Type")," "),t.xp6(3),t.Q6J("ngForOf",o.userTypes),t.xp6(1),t.Q6J("control",o.form.controls.vendType),t.xp6(4),t.hij(" ",t.lcZ(98,260,"Category")," "),t.xp6(2),t.Q6J("isLoading",o.isDataLoading),t.xp6(1),t.hYB("placeholder","",t.lcZ(101,262,"Please_Select")," ",t.lcZ(102,264,"Category"),""),t.Q6J("formControl",o.categoryCodeControl)("matAutocomplete",n),t.xp6(5),t.Q6J("ngForOf",t.lcZ(106,266,o.filteredCategoryCodes)),t.xp6(2),t.Q6J("control",o.categoryCodeControl),t.xp6(4),t.hij(" ",t.lcZ(112,268,"Vendor_Rating")," "),t.xp6(4),t.AsE("",t.lcZ(116,270,"Select")," ",t.lcZ(117,272,"Vendor_Rating")," "),t.xp6(3),t.Q6J("ngForOf",o.ratingList),t.xp6(1),t.Q6J("control",o.form.controls.vendRating),t.xp6(4),t.hij(" ",t.lcZ(124,274,"Terms_Code")," "),t.xp6(2),t.Q6J("isLoading",o.isDataLoading),t.xp6(1),t.hYB("placeholder","",t.lcZ(127,276,"Please_Select")," ",t.lcZ(128,278,"Terms_Code"),""),t.Q6J("formControl",o.salesTermsCodeControl)("matAutocomplete",r),t.xp6(5),t.Q6J("ngForOf",t.lcZ(132,280,o.filteredSalesTermsCodes)),t.xp6(2),t.Q6J("control",o.salesTermsCodeControl),t.xp6(4),t.hij(" ",t.lcZ(138,282,"Vendor_Discount")," "),t.xp6(2),t.hYB("placeholder"," ",t.lcZ(140,284,"Please_Enter"),"  ",t.lcZ(141,286,"Vendor_Discount"),""),t.xp6(6),t.hij(" ",t.lcZ(146,288,"Credit_Limit")," "),t.xp6(2),t.hYB("placeholder"," ",t.lcZ(148,290,"Please_Enter"),"  ",t.lcZ(149,292,"Credit_Limit"),""),t.xp6(6),t.hij(" ",t.lcZ(154,294,"Account_Manager_Sales_Rep")," "),t.xp6(2),t.hYB("placeholder"," ",t.lcZ(156,296,"Please_Enter"),"  ",t.lcZ(157,298,"Account_Manager_Sales_Rep"),""),t.xp6(6),t.hij(" ",t.lcZ(162,300,"Sales_Area")," "),t.xp6(2),t.hYB("placeholder"," ",t.lcZ(164,302,"Please_Enter"),"  ",t.lcZ(165,304,"Sales_Area"),""),t.xp6(6),t.hij(" ",t.lcZ(170,306,"Discount_AP_Account")," "),t.xp6(2),t.Q6J("isLoading",o.isDataLoading),t.xp6(1),t.hYB("placeholder","",t.lcZ(173,308,"Please_Enter")," ",t.lcZ(174,310,"Discount_AR_Account"),""),t.Q6J("formControl",o.custARAcControl)("matAutocomplete",l),t.xp6(5),t.Q6J("ngForOf",t.lcZ(178,312,o.filteredcustARAc)),t.xp6(2),t.Q6J("control",o.custARAcControl),t.xp6(4),t.hij(" ",t.lcZ(184,314,"Last_Paid_Amount")," "),t.xp6(2),t.hYB("placeholder"," ",t.lcZ(186,316,"Please_Enter"),"  ",t.lcZ(187,318,"Last_Paid_Amount"),""),t.xp6(3),t.Q6J("control",o.form.controls.vendLastPayAmt),t.xp6(4),t.hij(" ",t.lcZ(193,320,"Last_Sales_Date")," "),t.xp6(4),t.hYB("placeholder"," ",t.lcZ(197,322,"Please_Enter")," ",t.lcZ(198,324,"Last_Sales_Date"),""),t.Q6J("matDatepicker",c),t.xp6(3),t.Q6J("control",o.form.controls.vendLastPoDate),t.xp6(2),t.Q6J("for",c),t.xp6(6),t.hij(" ",t.lcZ(208,326,"Last_Payment_Date")," "),t.xp6(4),t.hYB("placeholder"," ",t.lcZ(212,328,"Please_Enter")," ",t.lcZ(213,330,"Last_Payment_Date"),""),t.Q6J("matDatepicker",u),t.xp6(3),t.Q6J("control",o.form.controls.vendLastPaidDate),t.xp6(2),t.Q6J("for",u),t.xp6(5),t.Oqu(t.lcZ(222,332,"CrNumber")),t.xp6(2),t.hYB("placeholder","",t.lcZ(224,334,"Please_Enter")," ",t.lcZ(225,336,"CrNumber"),""),t.xp6(5),t.Oqu(t.lcZ(229,338,"IBANNumber")),t.xp6(2),t.hYB("placeholder","",t.lcZ(231,340,"Please_Enter")," ",t.lcZ(232,342,"IBANNumber"),""),t.xp6(6),t.Oqu(t.lcZ(237,344,"Primary_Address")),t.xp6(6),t.hYB("placeholder","",t.lcZ(243,346,"Please_Select")," ",t.lcZ(244,348,"Primary_Address"),""),t.xp6(4),t.Q6J("control",o.form.controls.vendAddress1),t.xp6(4),t.Oqu(t.lcZ(251,350,"City")),t.xp6(4),t.AsE("",t.lcZ(255,352,"Select")," ",t.lcZ(256,354,"City")," "),t.xp6(3),t.Q6J("ngForOf",o.cityList1),t.xp6(1),t.Q6J("control",o.form.controls.vendCityCode1),t.xp6(4),t.Oqu(t.lcZ(263,356,"State")),t.xp6(2),t.hYB("placeholder"," ",t.lcZ(265,358,"Please_Enter"),"  ",t.lcZ(266,360,"State"),""),t.xp6(6),t.Oqu(t.lcZ(271,362,"Country")),t.xp6(2),t.hYB("placeholder"," ",t.lcZ(273,364,"Please_Enter"),"  ",t.lcZ(274,366,"Country"),""),t.xp6(6),t.Oqu(t.lcZ(279,368,"Mobile")),t.xp6(2),t.hYB("placeholder"," ",t.lcZ(281,370,"Please_Enter"),"  ",t.lcZ(282,372,"Mobile"),""),t.xp6(3),t.Q6J("control",o.form.controls.vendMobile1),t.xp6(4),t.Oqu(t.lcZ(288,374,"Phone")),t.xp6(2),t.hYB("placeholder"," ",t.lcZ(290,376,"Please_Enter"),"  ",t.lcZ(291,378,"Phone"),""),t.xp6(3),t.Q6J("control",o.form.controls.vendPhone1),t.xp6(4),t.Oqu(t.lcZ(297,380,"Contact_Person")),t.xp6(2),t.hYB("placeholder"," ",t.lcZ(299,382,"Please_Enter"),"  ",t.lcZ(300,384,"Contact_Person"),""),t.xp6(3),t.Q6J("control",o.form.controls.vendContact1),t.xp6(4),t.Oqu(t.lcZ(306,386,"Email")),t.xp6(2),t.hYB("placeholder"," ",t.lcZ(308,388,"Please_Enter"),"  ",t.lcZ(309,390,"Email"),""),t.xp6(3),t.Q6J("control",o.form.controls.vendEmail1),t.xp6(3),t.Oqu(t.lcZ(314,392,"Secondary_Address")),t.xp6(6),t.hYB("placeholder","",t.lcZ(320,394,"Please_Enter")," ",t.lcZ(321,396,"Secondary_Address"),""),t.xp6(7),t.Oqu(t.lcZ(327,398,"City")),t.xp6(4),t.AsE("",t.lcZ(331,400,"Select")," ",t.lcZ(332,402,"City")," "),t.xp6(3),t.Q6J("ngForOf",o.cityList2),t.xp6(4),t.Oqu(t.lcZ(338,404,"State")),t.xp6(2),t.hYB("placeholder"," ",t.lcZ(340,406,"Please_Enter"),"  ",t.lcZ(341,408,"State"),""),t.xp6(6),t.Oqu(t.lcZ(346,410,"Country")),t.xp6(2),t.hYB("placeholder"," ",t.lcZ(348,412,"Please_Enter"),"  ",t.lcZ(349,414,"Country"),""),t.xp6(6),t.Oqu(t.lcZ(354,416,"Mobile")),t.xp6(2),t.hYB("placeholder"," ",t.lcZ(356,418,"Please_Enter"),"  ",t.lcZ(357,420,"Mobile"),""),t.xp6(3),t.Q6J("control",o.form.controls.vendMobile2),t.xp6(4),t.Oqu(t.lcZ(363,422,"Phone")),t.xp6(2),t.hYB("placeholder"," ",t.lcZ(365,424,"Please_Enter"),"  ",t.lcZ(366,426,"Phone"),""),t.xp6(3),t.Q6J("control",o.form.controls.vendPhone2),t.xp6(4),t.Oqu(t.lcZ(372,428,"Contact_Person")),t.xp6(2),t.hYB("placeholder"," ",t.lcZ(374,430,"Please_Enter"),"  ",t.lcZ(375,432,"Contact_Person"),""),t.xp6(6),t.Oqu(t.lcZ(380,434,"Email")),t.xp6(2),t.hYB("placeholder"," ",t.lcZ(382,436,"Please_Enter"),"  ",t.lcZ(383,438,"Email"),""),t.xp6(3),t.Q6J("control",o.form.controls.vendEmail2),t.xp6(1),t.s9C("label",t.lcZ(386,440,"Control")),t.xp6(3),t.Oqu(t.lcZ(389,442,"Control")),t.xp6(6),t.Oqu(t.lcZ(395,444,"Is_Active_Vendor")),t.xp6(6),t.Oqu(t.lcZ(401,446,"Allow_Credit_Sales")),t.xp6(6),t.Oqu(t.lcZ(407,448,"Allow_Credit_Limit_Override")),t.xp6(6),t.Oqu(t.lcZ(413,450,"Hold_Vendor_Sales")),t.xp6(6),t.hij("",t.lcZ(419,452,"Allow_Check_Payments")," "),t.xp6(6),t.hij("",t.lcZ(425,454,"Set_Price_Level")," "),t.xp6(6),t.hij("",t.lcZ(431,456,"Vendor_is_Vendor_too")," "),t.xp6(6),t.hij("",t.lcZ(437,458,"User_AR_account_branchwise")," "),t.xp6(4),t.s9C("label",t.lcZ(441,460,"Account_Mapping")),t.xp6(3),t.Oqu(t.lcZ(444,462,"Account_Mapping")),t.xp6(7),t.Oqu(t.lcZ(451,464,"AP_Account")),t.xp6(2),t.Q6J("isLoading",o.isDataLoading),t.xp6(1),t.hYB("placeholder","",t.lcZ(454,466,"Please_Enter")," ",t.lcZ(455,468,"AP_Account"),""),t.Q6J("formControl",o.custArAcCodeControl)("matAutocomplete",g),t.xp6(5),t.Q6J("ngForOf",t.lcZ(459,470,o.filteredcustArAcCode)),t.xp6(2),t.Q6J("control",o.custArAcCodeControl),t.xp6(4),t.Oqu(t.lcZ(465,472,"Default_Expense_Account")),t.xp6(2),t.Q6J("isLoading",o.isDataLoading),t.xp6(1),t.hYB("placeholder","",t.lcZ(468,474,"Please_Enter")," ",t.lcZ(469,476,"Default_Expense_Account"),""),t.Q6J("formControl",o.custDefExpAcCodeControl)("matAutocomplete",C),t.xp6(5),t.Q6J("ngForOf",t.lcZ(473,478,o.filteredcustDefExpAcCode)),t.xp6(2),t.Q6J("control",o.custDefExpAcCodeControl),t.xp6(4),t.hij("",t.lcZ(479,480,"AP_Adjustment_Account")," "),t.xp6(2),t.Q6J("isLoading",o.isDataLoading),t.xp6(1),t.hYB("placeholder","",t.lcZ(482,482,"Please_Enter")," ",t.lcZ(483,484,"AP_Adjustment_Account"),""),t.Q6J("formControl",o.custARAdjAcCodeControl)("matAutocomplete",S),t.xp6(5),t.Q6J("ngForOf",t.lcZ(487,486,o.filteredcustARAdjAcCode)),t.xp6(2),t.Q6J("control",o.custARAdjAcCodeControl),t.xp6(4),t.Oqu(t.lcZ(493,488,"Discount_Account")),t.xp6(2),t.Q6J("isLoading",o.isDataLoading),t.xp6(1),t.hYB("placeholder","",t.lcZ(496,490,"Please_Enter")," ",t.lcZ(497,492,"Discount_Account"),""),t.Q6J("formControl",o.custARDiscAcCodeControl)("matAutocomplete",w),t.xp6(5),t.Q6J("ngForOf",t.lcZ(501,494,o.filteredcustARDiscAcCode)),t.xp6(2),t.Q6J("control",o.custARDiscAcCodeControl),t.xp6(3),t.s9C("value",t.lcZ(506,496,"Cancel")),t.xp6(3),t.s9C("value",t.lcZ(509,498,"Save"))}},directives:[s._Y,s.JL,s.sg,mt.SP,mt.uX,s.wV,s.Fj,s.JJ,s.u,M.s,s.EJ,s.YN,s.Kr,d.sg,V.z,N.ZL,s.oH,N.XC,m.hl,m.nW,U.R9,m.Mq,s.nD,F.Rr,R.ey],pipes:[Z.X$,d.Ov],encapsulation:2}),i})();var sn=y(5766),gt=y(137);function ln(i,a){1&i&&(t.TgZ(0,"th",43),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Vendor_Code")," "))}function cn(i,a){if(1&i&&(t.TgZ(0,"td",44),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.vendCode)}}function pn(i,a){1&i&&(t.TgZ(0,"th",43),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Vendor_Name")," "))}function dn(i,a){if(1&i&&(t.TgZ(0,"td",44),t._uU(1),t.qZA()),2&i){const e=a.$implicit,o=t.oxw();t.xp6(1),t.Oqu(o.isArab?e.vendArbName:e.vendName)}}function un(i,a){1&i&&(t.TgZ(0,"th",43),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Alias_Name")," "))}function mn(i,a){if(1&i&&(t.TgZ(0,"td",44),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.vendAlias)}}function gn(i,a){1&i&&(t.TgZ(0,"th",43),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Vendor_Address")," "))}function Zn(i,a){if(1&i&&(t.TgZ(0,"td",44),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.vendAddress1)}}function hn(i,a){1&i&&(t.TgZ(0,"th",43),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Category")," "))}function _n(i,a){if(1&i&&(t.TgZ(0,"td",44),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.vendCatCode)}}function An(i,a){1&i&&(t.TgZ(0,"th",43),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Is_Vendor_Active")," "))}function fn(i,a){1&i&&(t.TgZ(0,"span",47),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Active"),""))}function Tn(i,a){1&i&&(t.TgZ(0,"span",48),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"InActive"),""))}function vn(i,a){if(1&i&&(t.TgZ(0,"td",44),t.YNc(1,fn,3,3,"span",45),t.YNc(2,Tn,3,3,"ng-template",null,46,t.W1O),t.qZA()),2&i){const e=a.$implicit,o=t.MAs(3);t.xp6(1),t.Q6J("ngIf",e.isActive)("ngIfElse",o)}}function qn(i,a){1&i&&(t.TgZ(0,"th",49),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Actions"),""))}function Cn(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"td",44),t.TgZ(1,"a",50),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().edit(r.id)}),t.ALo(2,"translate"),t._UZ(3,"i",51),t.qZA(),t.TgZ(4,"a",50),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().delete(r.id)}),t.ALo(5,"translate"),t._UZ(6,"i",52),t.qZA(),t.TgZ(7,"a",50),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().print(r.vendCode)}),t.ALo(8,"translate"),t._UZ(9,"i",53),t.qZA(),t._uU(10,"\xa0 "),t.TgZ(11,"a",50),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().printCustInvoices(r.vendCode)}),t.ALo(12,"translate"),t._UZ(13,"i",54),t.qZA(),t._uU(14,"\xa0 "),t.TgZ(15,"a",55),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().uploadFile(r.vendCode)}),t.ALo(16,"translate"),t._UZ(17,"i",56),t.qZA(),t._uU(18," \xa0 "),t.qZA()}2&i&&(t.xp6(1),t.s9C("matTooltip",t.lcZ(2,5,"Edit_Item")),t.xp6(3),t.s9C("matTooltip",t.lcZ(5,7,"Delete_Item")),t.xp6(3),t.s9C("matTooltip",t.lcZ(8,9,"Vendor_Statement_Report")),t.xp6(4),t.s9C("matTooltip",t.lcZ(12,11,"Vendor_Payment")),t.xp6(4),t.s9C("matTooltip",t.lcZ(16,13,"Document_Upload")))}function xn(i,a){1&i&&t._UZ(0,"tr",57)}function bn(i,a){1&i&&t._UZ(0,"tr",58)}let yn=(()=>{class i extends L.k{constructor(e,o,n,r,l,c,u,g,C,S,w){super(l),this.fb=e,this.http=o,this.router=n,this.apiService=r,this.authService=l,this.translate=c,this.notifyService=u,this.utilService=g,this.validationService=C,this.dialog=S,this.pageService=w,this.displayedColumns=["vendCode","vendName","vendAlias","vendAddress1","vendCatCode","isActive","Actions"],this.searchValue="",this.sortingOrder="id desc",this.isLoading=!1,this.id=0,this.isArab=!1}ngOnInit(){this.isArab=this.utilService.isArabic(),this.initialLoading()}refresh(){this.searchValue="",this.sortingOrder="id desc",this.initialLoading()}initialLoading(){this.loadList(0,this.pageService.pageCount,"",this.sortingOrder)}onSortOrder(e){this.totalItemsCount=0,this.sortingOrder=e.active+" "+e.direction,this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder)}onPageSwitch(e){this.pageService.change(e),this.loadList(e.pageIndex,e.pageSize,this.searchValue,this.sortingOrder)}loadList(e,o,n,r){this.isLoading=!0,this.apiService.getPagination("vendorMaster",this.utilService.getQueryString(e,o,n,r)).subscribe(l=>{this.totalItemsCount=0,this.data=new p.by(l.items),this.totalItemsCount=l.totalCount,setTimeout(()=>{this.paginator.pageIndex=e,this.paginator.length=this.totalItemsCount}),this.data.sort=this.sort,this.isLoading=!1},l=>this.utilService.ShowApiErrorMessage(l))}applyFilter(e){e&&(this.searchValue=e,this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder))}openDialogManage(e=0,o,n,r){let l=this.utilService.openCrudDialog(this.dialog,rn);l.componentInstance.dbops=o,l.componentInstance.modalTitle=n,l.componentInstance.modalBtnTitle=r,l.componentInstance.id=e,l.afterClosed().subscribe(c=>{c&&!0===c&&this.initialLoading()})}openDialogManageOne(e="",o,n="",r){let l=this.utilService.openDialogCongif(this.dialog,r);l.componentInstance.dbops=o,l.componentInstance.modalTitle=n,l.componentInstance.customerCode=e}create(){this.openDialogManage(0,v.Oi.create,"Adding_New_Customer","Add")}edit(e){this.openDialogManage(e,v.Oi.update,"Updating_Customer","Update")}print(e){this.openDialogManageOne(e,v.Oi.update,this.translate.instant("Create_New_Sales_Invoice"),lt.G)}printCustInvoices(e){this.openDialogManageOne(e,v.Oi.update,this.translate.instant("Create_New_Sales_Invoice"),sn.S)}openFileUploadDialogManage(e="",o,n,r=80){let l=this.utilService.openDialogCongif(this.dialog,o,r);l.componentInstance.modalTitle=e,l.componentInstance.moduleFile=n,l.afterClosed().subscribe(c=>{})}uploadFile(e){this.openFileUploadDialogManage(this.translate.instant("Document_Upload"),gt.Y,{module:"FINANCE",action:"VEND",id:e,sourceId:e})}delete(e){this.utilService.openDeleteConfirmDialog(this.dialog,H.a).afterClosed().subscribe(n=>{n&&e>0&&this.apiService.delete("CustomerMaster",e).subscribe(r=>{this.utilService.OkMessage(),this.ngOnInit()})},n=>this.utilService.ShowApiErrorMessage(n))}submit(){}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36($.eN),t.Y36(Q.F0),t.Y36(h.s),t.Y36(_._),t.Y36(Z.sK),t.Y36(f.g),t.Y36(A.t),t.Y36(O.R),t.Y36(T.uw),t.Y36(k.N))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-apvendor"]],viewQuery:function(e,o){if(1&e&&(t.Gf(q.NW,7),t.Gf(x.YE,7)),2&e){let n;t.iGM(n=t.CRH())&&(o.paginator=n.first),t.iGM(n=t.CRH())&&(o.sort=n.first)}},features:[t.qOj],decls:77,vars:36,consts:[[1,"page-breadcrumb"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],[1,"container-fluid"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"row","pb-3"],[1,"col-md-3"],[1,"form-control",3,"placeholder","ngModel","ngModelChange"],[1,"col-md-4","arabicright"],[1,"btn","btn-primary",3,"click"],[1,"",3,"matTooltip","click"],[1,"btn","btn-primary","icon-refresh"],[1,"col-md-4","col-lg-4"],[1,"card-title","pt6"],[1,"col-md-8","col-lg-8","text-right"],["data-toggle","modal","data-target","#addupdateUnit","href","#",1,"btn","waves-effect","waves-light","btn-rounded","btn-outline-primary",3,"click"],[1,"icon-plus"],[1,"cardtitle-divider"],[1,"table-responsive"],[3,"isLoading"],[1,"mat-elevation-z8"],["mat-table","","matSort","","matSortActive","id","matSortDisableClear","","matSortDirection","desc",1,"table","table-bordered","no-wrap",3,"dataSource","matSortChange"],["matColumnDef","vendCode"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","vendName"],["matColumnDef","vendAlias"],["matColumnDef","vendAddress1"],["matColumnDef","vendCatCode"],["matColumnDef","isActive"],["matColumnDef","Actions","stickyEnd",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions","page"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["class","badge badge-pill badge-success",4,"ngIf","ngIfElse"],["inActive",""],[1,"badge","badge-pill","badge-success"],[1,"badge","badge-pill","badge-light"],["mat-header-cell",""],[1,"tableicons",3,"matTooltip","click"],[1,"icon-note"],[1,"icon-trash"],[1,"icon-printer"],[1,"icon-list"],["data-toggle","modal","data-target","#scrollable-modal",1,"tableicons","pcursor",3,"matTooltip","click"],[1,"icon-cloud-upload"],["mat-header-row",""],["mat-row",""]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"nav",5),t.TgZ(8,"ol",6),t.TgZ(9,"li",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"li",7),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"li",8),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",9),t.TgZ(19,"div",1),t.TgZ(20,"div",10),t.TgZ(21,"div",11),t.TgZ(22,"div",12),t.TgZ(23,"div",13),t._UZ(24,"div",10),t.TgZ(25,"div",14),t.TgZ(26,"input",15),t.NdJ("ngModelChange",function(r){return o.searchValue=r}),t.ALo(27,"translate"),t.qZA(),t.qZA(),t.TgZ(28,"div",16),t.TgZ(29,"button",17),t.NdJ("click",function(){return o.applyFilter(o.searchValue)}),t._uU(30),t.ALo(31,"translate"),t.qZA(),t._uU(32," \xa0 "),t.TgZ(33,"a",18),t.NdJ("click",function(){return o.refresh()}),t.ALo(34,"translate"),t._UZ(35,"i",19),t.qZA(),t.qZA(),t.qZA(),t.TgZ(36,"div",1),t.TgZ(37,"div",20),t.TgZ(38,"h4",21),t._uU(39),t.ALo(40,"translate"),t.qZA(),t.qZA(),t.TgZ(41,"div",22),t.TgZ(42,"a",23),t.NdJ("click",function(){return o.create()}),t._UZ(43,"i",24),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.qZA(),t.qZA(),t._UZ(46,"div",25),t.TgZ(47,"div",26),t._UZ(48,"spinner-loader",27),t.TgZ(49,"div",28),t.ynx(50),t.TgZ(51,"table",29),t.NdJ("matSortChange",function(r){return o.onSortOrder(r)}),t.ynx(52,30),t.YNc(53,ln,3,3,"th",31),t.YNc(54,cn,2,1,"td",32),t.BQk(),t.ynx(55,33),t.YNc(56,pn,3,3,"th",31),t.YNc(57,dn,2,1,"td",32),t.BQk(),t.ynx(58,34),t.YNc(59,un,3,3,"th",31),t.YNc(60,mn,2,1,"td",32),t.BQk(),t.ynx(61,35),t.YNc(62,gn,3,3,"th",31),t.YNc(63,Zn,2,1,"td",32),t.BQk(),t.ynx(64,36),t.YNc(65,hn,3,3,"th",31),t.YNc(66,_n,2,1,"td",32),t.BQk(),t.ynx(67,37),t.YNc(68,An,3,3,"th",31),t.YNc(69,vn,4,2,"td",32),t.BQk(),t.ynx(70,38),t.YNc(71,qn,3,3,"th",39),t.YNc(72,Cn,19,15,"td",32),t.BQk(),t.YNc(73,xn,1,0,"tr",40),t.YNc(74,bn,1,0,"tr",41),t.qZA(),t.ynx(75),t.TgZ(76,"mat-paginator",42),t.NdJ("page",function(r){return o.onPageSwitch(r)}),t.qZA(),t.BQk(),t.BQk(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.hij(" ",t.lcZ(5,18,"Vendor_Master")," "),t.xp6(6),t.hij("",t.lcZ(11,20,"Finance")," "),t.xp6(3),t.Oqu(t.lcZ(14,22,"Account_Payable")),t.xp6(3),t.hij("",t.lcZ(17,24,"Vendor_Master")," "),t.xp6(10),t.MGl("placeholder","",t.lcZ(27,26,"Search"),"..."),t.Q6J("ngModel",o.searchValue),t.xp6(4),t.Oqu(t.lcZ(31,28,"Search")),t.xp6(3),t.s9C("matTooltip",t.lcZ(34,30,"Refresh")),t.xp6(6),t.Oqu(t.lcZ(40,32,"Vendor_Master_List")),t.xp6(5),t.Oqu(t.lcZ(45,34,"Add_New_Vendor")),t.xp6(4),t.Q6J("isLoading",o.isLoading),t.xp6(3),t.Q6J("dataSource",o.data),t.xp6(22),t.Q6J("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(2),t.Q6J("length",o.totalItemsCount)("pageSize",o.pageService.pageCount)("pageSizeOptions",o.pageService.selectItemsPerPage))},directives:[s.Fj,s.JJ,s.On,z.gM,b.r,p.BZ,x.YE,p.w1,p.fO,p.Dz,p.as,p.nj,q.NW,p.ge,x.nU,p.ev,d.O5,p.XQ,p.Gk],pipes:[Z.X$],encapsulation:2}),i})();function Un(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.Oqu(e.invoiceNumber),t.xp6(2),t.Oqu(e.invoiceDate),t.xp6(2),t.Oqu(e.invoiceDueDate),t.xp6(2),t.Oqu(e.totalAmount),t.xp6(2),t.Oqu(e.isCreditConverted?"Credit":"Invoice")}}let Zt=(()=>{class i{constructor(e,o,n,r,l,c){this.fb=e,this.apiService=o,this.authService=n,this.utilService=r,this.dialogRef=l,this.notifyService=c,this.id=0,this.paidInvoices=[],this.unPaidInvoices=[],this.isLoading=!1}ngOnInit(){this.id>0&&this.loadVoucher()}loadVoucher(){this.isLoading=!0,this.apiService.getall(`opmApPayment/getOpmVendorpaymentvoucher?id=${this.id}`).subscribe(e=>{this.isLoading=!1,this.voucher=e,this.paidInvoices=e.paidList,this.unPaidInvoices=e.unPaidList})}printVoucher(){const e=document.getElementById("printcontainer"),o=window.open("","","left=0,top=0,width=2000,height=1000,toolbar=0,scrollbars=0,status=0");setTimeout(()=>{o.document.write(e.innerHTML),o.document.close(),o.focus(),o.print(),o.close()},50)}closeModel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(T.so),t.Y36(f.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-opmvendorpaymentvoucher"]],decls:140,vars:41,consts:[[3,"isLoading"],[3,"click"],["type","button","aria-hidden","true",1,"",3,"click"],["type","button","aria-hidden","true",1,"close",3,"click"],["id","printcontainer",1,"container-fluid","invoice-container","print-container",2,"width","850px","margin","auto"],["rel","stylesheet","href","https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,500,600,700,800,900","type","text/css"],["border","0","cellpadding","0","cellspacing","0","width","100%",2,"width","100%"],[2,"font-size","1.5rem !important","color","#0c2f54","font-family","'Poppins', sans-serif","font-weight","500","line-height","1.2","margin","0","padding-top","15px","text-align","center"],[2,"padding-top","10px","padding-bottom","5px"],[2,"width","100%","text-align","center"],[2,"border","2px solid #878787","border-radius","5px","padding","10PX"],[2,"padding","5px","width","50%","text-align","left","vertical-align","top"],[2,"font-family","'Poppins', sans-serif","font-weight","500","font-size","0.875rem !important","color","#878787"],[2,"font-family","'Poppins', sans-serif","font-weight","600","font-size","0.875rem !important","color","#000000"],[2,"font-family","'Poppins', sans-serif","font-weight","600","font-size","0.875rem !important","color","#000000","width","130px"],[2,"width","50%","text-align","left"],[2,"padding","5px","text-align","left"],[2,"font-family","'Poppins', sans-serif","font-weight","500","font-size","0.875rem !important","color","#878787","float","right"],[2,"text-align","center"],[2,"float","right"],[2,"width","200px","height","150px",3,"src"],[2,"font-family","'Poppins', sans-serif","font-weight","500","font-size","0.875rem !important","color","#000000"],[2,"padding","5px","width","50%","text-align","left"],[2,"padding","2px 5px 2px 5px","width","50%","text-align","left"],["border","1","cellpadding","0","cellspacing","0","width","100%",2,"width","100%"],[4,"ngFor","ngForOf"],[2,"width","40%","padding-top","30px"],[2,"margin","0"],[2,"font-family","'Poppins', sans-serif","font-weight","500","font-size","0.825rem !important","color","#000000"]],template:function(e,o){1&e&&(t._UZ(0,"spinner-loader",0),t.TgZ(1,"div"),t.TgZ(2,"button",1),t.NdJ("click",function(){return o.printVoucher()}),t._uU(3,"Print"),t.qZA(),t._uU(4," \xa0 "),t._uU(5," \xa0 "),t.TgZ(6,"button",2),t.NdJ("click",function(){return o.closeModel()}),t._uU(7," Close"),t.qZA(),t._UZ(8,"br"),t.TgZ(9,"button",3),t.NdJ("click",function(){return o.closeModel()}),t._uU(10," \xd7"),t.qZA(),t.qZA(),t._UZ(11,"br"),t.TgZ(12,"div",4),t._UZ(13,"link",5),t.TgZ(14,"table",6),t.TgZ(15,"tr"),t.TgZ(16,"td",7),t._uU(17," Vendor Payment Voucher "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",8),t.TgZ(19,"table",6),t.TgZ(20,"tr"),t.TgZ(21,"td",9),t.TgZ(22,"div",10),t.TgZ(23,"table",6),t.TgZ(24,"tr"),t.TgZ(25,"td",11),t.TgZ(26,"table",6),t.TgZ(27,"tr"),t.TgZ(28,"td",12),t.TgZ(29,"span",13),t._uU(30,"Voucher#:"),t.qZA(),t._uU(31),t.qZA(),t.qZA(),t.TgZ(32,"tr"),t.TgZ(33,"td"),t.TgZ(34,"table",6),t.TgZ(35,"tr"),t.TgZ(36,"td",14),t._uU(37," Voucher Details: "),t.qZA(),t.TgZ(38,"td",12),t._uU(39),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(40,"tr"),t.TgZ(41,"td",15),t.TgZ(42,"div",12),t.TgZ(43,"span",13),t._uU(44,"Document Num:"),t.qZA(),t._uU(45),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(46,"td",16),t.TgZ(47,"div",17),t.TgZ(48,"table"),t.TgZ(49,"tr"),t.TgZ(50,"td"),t.TgZ(51,"span",13),t._uU(52," Date:"),t.qZA(),t._uU(53),t.ALo(54,"date"),t.qZA(),t.qZA(),t.TgZ(55,"tr"),t.TgZ(56,"td",18),t.TgZ(57,"div",19),t._UZ(58,"img",20),t._UZ(59,"br"),t._UZ(60,"div",21),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(61,"div",8),t.TgZ(62,"table",6),t.TgZ(63,"tr"),t.TgZ(64,"td",9),t.TgZ(65,"div",10),t.TgZ(66,"table",6),t.TgZ(67,"tr"),t.TgZ(68,"td",22),t.TgZ(69,"div",12),t.TgZ(70,"span",13),t._uU(71,"Received From:"),t.qZA(),t._uU(72),t.qZA(),t.qZA(),t.TgZ(73,"td",16),t.TgZ(74,"div",17),t.TgZ(75,"span",13),t._uU(76,"Voucher Date:"),t.qZA(),t._uU(77),t.ALo(78,"date"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(79,"tr"),t.TgZ(80,"td",23),t.TgZ(81,"div",12),t.TgZ(82,"span",13),t._uU(83,"Branch:"),t.qZA(),t._uU(84),t.qZA(),t.qZA(),t.TgZ(85,"td",23),t.TgZ(86,"div",17),t.TgZ(87,"span",13),t._uU(88,"Payment Mode:"),t.qZA(),t._uU(89),t.qZA(),t.qZA(),t.qZA(),t.TgZ(90,"tr"),t.TgZ(91,"td",23),t.TgZ(92,"div",12),t.TgZ(93,"span",13),t._uU(94,"Bank:"),t.qZA(),t._uU(95),t.qZA(),t.qZA(),t.TgZ(96,"td",23),t.TgZ(97,"div",17),t.TgZ(98,"span",13),t._uU(99,"Amount:"),t.qZA(),t._uU(100),t.qZA(),t.qZA(),t.qZA(),t.TgZ(101,"tr"),t.TgZ(102,"td",23),t.TgZ(103,"div",12),t.TgZ(104,"span",13),t._uU(105,"Cheque:"),t.qZA(),t._uU(106),t.qZA(),t.qZA(),t.TgZ(107,"td",23),t.TgZ(108,"div",17),t.TgZ(109,"span",13),t._uU(110,"Check Date:"),t.qZA(),t._uU(111),t.ALo(112,"date"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(113,"div",8),t.TgZ(114,"table",6),t.TgZ(115,"tr"),t.TgZ(116,"td",7),t._uU(117," Paid Invoices "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(118,"table",24),t.TgZ(119,"tr"),t.TgZ(120,"th"),t._uU(121),t.ALo(122,"translate"),t.qZA(),t.TgZ(123,"th"),t._uU(124),t.ALo(125,"translate"),t.qZA(),t.TgZ(126,"th"),t._uU(127),t.ALo(128,"translate"),t.qZA(),t.TgZ(129,"th"),t._uU(130),t.ALo(131,"translate"),t.qZA(),t.TgZ(132,"th"),t._uU(133),t.ALo(134,"translate"),t.qZA(),t.qZA(),t.YNc(135,Un,11,5,"tr",25),t.qZA(),t.qZA(),t.TgZ(136,"div",26),t._UZ(137,"hr",27),t.TgZ(138,"div",28),t._uU(139," Prepared by "),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.Q6J("isLoading",o.isLoading),t.xp6(31),t.hij(" ",o.voucher.voucherNumber," "),t.xp6(8),t.lnq(" ",o.voucher.company,", ",o.voucher.customerName,", ",o.voucher.address," "),t.xp6(6),t.hij(" ",o.voucher.docNum," "),t.xp6(8),t.hij(" ",t.xi3(54,22,o.voucher.date,"dd/MM/yyyy")," "),t.xp6(5),t.s9C("src",o.voucher.logo,t.LSH),t.xp6(14),t.hij(" ",o.voucher.receivedFrom," "),t.xp6(5),t.hij(" ",t.xi3(78,25,o.voucher.voucherDate,"dd/MM/yyyy")," "),t.xp6(7),t.hij(" ",o.voucher.branchName," "),t.xp6(5),t.hij(" ",o.voucher.payType," "),t.xp6(6),t.hij(" ",o.voucher.branchName," "),t.xp6(5),t.hij(" ",o.voucher.amount," "),t.xp6(6),t.hij(" ",o.voucher.checkNumber," "),t.xp6(5),t.hij(" ",t.xi3(112,28,o.voucher.checkdate,"dd/MM/yyyy")," "),t.xp6(10),t.Oqu(t.lcZ(122,31,"Invoice_InvoiceGrid_InvoiceNumber")),t.xp6(3),t.Oqu(t.lcZ(125,33,"Invoice_Date")),t.xp6(3),t.Oqu(t.lcZ(128,35,"Delivery_Date")),t.xp6(3),t.Oqu(t.lcZ(131,37,"Total_Amount")),t.xp6(3),t.Oqu(t.lcZ(134,39,"Type")),t.xp6(2),t.Q6J("ngForOf",o.paidInvoices))},directives:[b.r,d.sg],pipes:[d.uU,Z.X$],encapsulation:2}),i})();function Ln(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",2),t.TgZ(1,"div",3),t.TgZ(2,"label",4),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"input",14),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().remainingAdvAmount=n})("keyup",function(){return t.CHM(e),t.oxw().totalArAmtCal()}),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,2,"Remaining_Advance_Amount_Payable")," "),t.xp6(2),t.Q6J("ngModel",e.remainingAdvAmount)}}let ht=(()=>{class i{constructor(e,o){this.notifyService=e,this.dialogRef=o,this.arVoucherAmt=0,this.discountAmt=0,this.netAmt=0,this.writeOffAmt=0,this.paidAmt=0,this.minCutOffShortAmt=0,this.maxCutOffOverAmr=0,this.advAmount=0,this.remainingAdvAmount=0,this.hasDiscount=!1,this.paidAmtReadOnly=!1}ngOnInit(){this.data?(this.arVoucherAmt=this.data.arAmount,this.netAmt=this.arVoucherAmt,console.log(this.data),this.minCutOffShortAmt=this.data.fin.minCutOffShortAmt,this.maxCutOffOverAmr=this.data.fin.maxCutOffOverAmr,this.advAmount=this.data.fin.advAmount,this.advAmount>0&&(this.paidAmtReadOnly=!0,this.writeOffAmt=0,this.paidAmt=this.advAmount>=this.arVoucherAmt?this.arVoucherAmt:parseFloat((this.arVoucherAmt-this.advAmount).toFixed(2)),this.remainingAdvAmount=parseFloat((this.advAmount-this.arVoucherAmt).toFixed(2)))):this.dialogRef.close({hasData:0})}calculateDis(){this.netAmt=parseFloat((this.data.arAmount-this.discountAmt).toFixed(2)),this.writeOffAmt=0,this.hasDiscount=0!=this.discountAmt}totalArAmtCal(){this.paidAmt>0&&!this.hasDiscount&&!this.paidAmtReadOnly&&(this.writeOffAmt=parseFloat((this.paidAmt-this.netAmt).toFixed(2)))}postAdvanceAmt(){this.totalArAmtCal();let e={hasData:1,paidAmount:this.paidAmt,source:"ar",advanceAmount:0,remainingAdvAmount:this.remainingAdvAmount};0==this.writeOffAmt||this.hasDiscount?(e.writeOffAmount=0,this.paidAmt>=this.netAmt?this.paidAmt>this.netAmt?(e.amountType="advance",this.notifyService.showError(`writeOff Amount range should be min : ${this.minCutOffShortAmt} and max : ${this.maxCutOffOverAmr} `)):(e.amountType="equal",this.dialogRef.close(e)):this.paidAmtReadOnly?this.dialogRef.close(e):this.notifyService.showError("amount should be >= "+this.netAmt)):this.writeOffAmt>this.maxCutOffOverAmr?(e.amountType="advance",this.notifyService.showError(`writeOff Amount range should be min : ${this.minCutOffShortAmt} and max : ${this.maxCutOffOverAmr} `)):this.writeOffAmt>=this.minCutOffShortAmt&&this.writeOffAmt<=this.maxCutOffOverAmr?(e.writeOffAmount=this.writeOffAmt,this.writeOffAmt<0?(e.amountType="short",e.writeOffAmount=-1*this.writeOffAmt):e.amountType="over",this.dialogRef.close(e)):this.notifyService.showError(`writeOff Amount range should be min : ${this.minCutOffShortAmt} and max : ${this.maxCutOffOverAmr} `)}closeModel(){this.dialogRef.close({hasData:-1})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(f.g),t.Y36(T.so))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-postingadvancepayment"]],decls:52,vars:35,consts:[["type","button","aria-hidden","true",1,"close",3,"click"],[1,"row","rowm0"],[1,"col-md-12","col-lg-12"],[1,"form-group"],[1,"mr-sm-2"],["type","number","readonly","readonly",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-12","col-lg-12","d-none"],["type","number",1,"form-control",3,"ngModel","ngModelChange","keyup"],["type","number",1,"form-control",3,"ngModel","readonly","ngModelChange","keyup"],["class","col-md-12 col-lg-12",4,"ngIf"],[1,"row"],[1,"col-lg-12","col-md-12","text-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","waves-effect","waves-light","btn-primary",3,"click"],["type","number","readonly","readonly",1,"form-control",3,"ngModel","ngModelChange","keyup"]],template:function(e,o){1&e&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"button",0),t.NdJ("click",function(){return o.closeModel()}),t._uU(4," \xd7"),t.qZA(),t.qZA(),t.TgZ(5,"div",1),t.TgZ(6,"div",2),t.TgZ(7,"div",3),t.TgZ(8,"label",4),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"input",5),t.NdJ("ngModelChange",function(r){return o.arVoucherAmt=r}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"div",6),t.TgZ(13,"div",3),t.TgZ(14,"label",4),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"input",7),t.NdJ("ngModelChange",function(r){return o.discountAmt=r})("keyup",function(){return o.calculateDis()}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",2),t.TgZ(19,"div",3),t.TgZ(20,"label",4),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"input",5),t.NdJ("ngModelChange",function(r){return o.advAmount=r}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"div",2),t.TgZ(25,"div",3),t.TgZ(26,"label",4),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"input",5),t.NdJ("ngModelChange",function(r){return o.netAmt=r}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(30,"div",2),t.TgZ(31,"div",3),t.TgZ(32,"label",4),t._uU(33),t.ALo(34,"translate"),t.qZA(),t.TgZ(35,"input",5),t.NdJ("ngModelChange",function(r){return o.writeOffAmt=r}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(36,"div",2),t.TgZ(37,"div",3),t.TgZ(38,"label",4),t._uU(39),t.ALo(40,"translate"),t.qZA(),t.TgZ(41,"input",8),t.NdJ("ngModelChange",function(r){return o.paidAmt=r})("keyup",function(){return o.totalArAmtCal()}),t.qZA(),t.qZA(),t.qZA(),t.YNc(42,Ln,6,4,"div",9),t.qZA(),t.TgZ(43,"div",10),t.TgZ(44,"div",11),t.TgZ(45,"button",12),t.NdJ("click",function(){return o.closeModel()}),t._uU(46),t.ALo(47,"translate"),t.qZA(),t._uU(48," \xa0\xa0 "),t.TgZ(49,"button",13),t.NdJ("click",function(){return o.postAdvanceAmt()}),t._uU(50),t.ALo(51,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,17,"Posting_Advance_Payment")," "),t.xp6(8),t.hij(" ",t.lcZ(10,19,"Total_Ar_Voucher_Amount")," "),t.xp6(2),t.Q6J("ngModel",o.arVoucherAmt),t.xp6(4),t.hij(" ",t.lcZ(16,21,"Appy_DiscountAmount_Payment")," "),t.xp6(2),t.Q6J("ngModel",o.discountAmt),t.xp6(4),t.hij(" ",t.lcZ(22,23,"Advance_Amount_Payable")," "),t.xp6(2),t.Q6J("ngModel",o.advAmount),t.xp6(4),t.hij(" ",t.lcZ(28,25,"Net_Amount_Payable")," "),t.xp6(2),t.Q6J("ngModel",o.netAmt),t.xp6(4),t.hij(" ",t.lcZ(34,27,"Write_Off_Amount")," "),t.xp6(2),t.Q6J("ngModel",o.writeOffAmt),t.xp6(4),t.hij(" ",t.lcZ(40,29,"Amount_paid")," "),t.xp6(2),t.Q6J("ngModel",o.paidAmt)("readonly",o.paidAmtReadOnly),t.xp6(1),t.Q6J("ngIf",o.remainingAdvAmount>=0),t.xp6(4),t.hij(" ",t.lcZ(47,31,"Cancel")," "),t.xp6(4),t.Oqu(t.lcZ(51,33,"Save")))},directives:[s.wV,s.Fj,s.JJ,s.On,d.O5],pipes:[Z.X$],encapsulation:2}),i})();function Sn(i,a){if(1&i&&(t.TgZ(0,"option",39),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function Nn(i,a){if(1&i&&(t.TgZ(0,"option",39),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function On(i,a){if(1&i&&(t.TgZ(0,"option",39),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.text),t.xp6(1),t.Oqu(e.text)}}function wn(i,a){if(1&i&&(t.TgZ(0,"option",39),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function kn(i,a){if(1&i&&(t.TgZ(0,"div",8),t.TgZ(1,"div",9),t.TgZ(2,"label",10),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"input",40),t.ALo(6,"translate"),t.ALo(7,"translate"),t._UZ(8,"validation-message",12),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(3),t.hij("",t.lcZ(4,4,"checkNumber")," "),t.xp6(2),t.hYB("placeholder","",t.lcZ(6,6,"Please_Enter"),"  ",t.lcZ(7,8,"TAX_Id_Number")," "),t.xp6(3),t.Q6J("control",e.form.controls.checkNumber)}}function In(i,a){if(1&i&&(t.TgZ(0,"div",8),t.TgZ(1,"label",10),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",9),t.TgZ(5,"div",17),t._UZ(6,"input",41),t.ALo(7,"translate"),t._UZ(8,"validation-message",12),t.TgZ(9,"div",19),t._UZ(10,"mat-datepicker-toggle",20),t._UZ(11,"mat-datepicker",null,42),t._UZ(13,"br"),t._UZ(14,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.MAs(12),o=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,5,"checkdate")),t.xp6(4),t.s9C("placeholder",t.lcZ(7,7,"Select_a_Date")),t.Q6J("matDatepicker",e),t.xp6(2),t.Q6J("control",o.form.controls.checkDate),t.xp6(2),t.Q6J("for",e)}}function Mn(i,a){1&i&&(t.TgZ(0,"div",8),t.TgZ(1,"div",9),t.TgZ(2,"label",10),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"mat-slide-toggle",43),t.qZA(),t.qZA()),2&i&&(t.xp6(3),t.hij("",t.lcZ(4,2,"HasPdc")," "),t.xp6(2),t.Q6J("disabled",!0))}function Jn(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"date"),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td"),t._UZ(17,"input",45),t.TgZ(18,"input",46),t.NdJ("keyup",function(n){t.CHM(e);const r=t.oxw().$implicit;return t.oxw().checkAmount(n,r.totalAmount,r.appliedAmount,r.id)})("blur",function(){return t.CHM(e),t.oxw(2).calculateTotal()}),t.qZA(),t.qZA(),t.TgZ(19,"td",47),t.TgZ(20,"a",48),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit;return t.oxw().deleteItem(n)}),t._UZ(21,"i",49),t.qZA(),t.qZA(),t.BQk()}if(2&i){const e=t.oxw().$implicit,o=t.oxw();t.xp6(2),t.Oqu(e.invoiceNumber),t.xp6(2),t.Oqu(o.customerCode),t.xp6(2),t.Oqu(e.customerName),t.xp6(2),t.Oqu(t.xi3(9,12,e.invoiceDate,"dd-MM-yyyy")),t.xp6(3),t.Oqu(e.discountAmount),t.xp6(2),t.Oqu(e.totalAmount),t.xp6(2),t.Oqu(e.appliedAmount),t.xp6(2),t.s9C("id","already_"+e.id),t.Q6J("value",e.appliedAmount),t.xp6(1),t.s9C("id","appliendAmount_"+e.id),t.Q6J("disabled",e.isCreditConverted)("value",(e.totalAmount-e.appliedAmount).toFixed(2))}}function Dn(i,a){if(1&i&&(t.TgZ(0,"tr"),t.YNc(1,Jn,22,15,"ng-container",44),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",e.isApproved)}}function Pn(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"td"),t.TgZ(2,"input",50),t.NdJ("change",function(){t.CHM(e);const n=t.oxw().$implicit;return t.oxw().selectedItem(n)}),t.qZA(),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.ALo(15,"date"),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.qZA(),t.TgZ(20,"td"),t._uU(21),t.qZA(),t.BQk()}if(2&i){const e=t.oxw().$implicit,o=t.oxw();t.xp6(4),t.Oqu(e.invoiceStatus),t.xp6(2),t.Oqu(e.invoiceNumber),t.xp6(2),t.Oqu(e.invoiceRefNumber),t.xp6(2),t.Oqu(o.customerCode),t.xp6(2),t.Oqu(e.customerName),t.xp6(2),t.Oqu(t.xi3(15,9,e.invoiceDate,"dd-MM-yyyy")),t.xp6(3),t.Oqu(e.discountAmount),t.xp6(2),t.Oqu(e.totalAmount),t.xp6(2),t.Oqu(e.appliedAmount)}}function Yn(i,a){if(1&i&&(t.TgZ(0,"tr"),t.YNc(1,Pn,22,12,"ng-container",44),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",!e.isApproved)}}let _t=(()=>{class i{constructor(e,o,n,r,l,c,u,g){this.fb=e,this.apiService=o,this.authService=n,this.utilService=r,this.dialog=l,this.dialogRef=c,this.notifyService=u,this.validationService=g,this.id=0,this.toBePaidAmount="",this.customerList=[],this.companyList=[],this.payCodeList=[],this.branchList=[],this.payCodeTypeList=[],this.invoiceItems=[],this.selectedInvoiceItems=[],this.selectedInvoiceIDs=[],this.selectedInvoiceIdList=[],this.IsCheckSelected=!1,this.payType="",this.customerCode="",this.totalAmount=0,this.totalAmountStr="",this.isArab=!1,this.finsetup={minCutOffShortAmt:0,maxCutOffOverAmr:0,advAmount:0}}ngOnInit(){this.isArab=this.utilService.isArabic(),this.loadFinSetupData(),this.setForm(),this.loadData(),this.id>0&&this.setEditForm()}setForm(){this.form=this.fb.group({custCode:["",s.kI.required],companyId:["",s.kI.required],branchCode:["",s.kI.required],tranDate:["",s.kI.required],payCode:["",s.kI.required],payType:["",s.kI.required],amount:[""],preparedby:this.authService.getUserName(),remarks:[""],checkNumber:[""],checkDate:[null],isPdcCleared:!0})}setEditForm(){this.apiService.get("opmApPayment/getOpmVendorSingleItem",this.id).subscribe(e=>{if(e){const o=e.header,n=e.list,r=e.invoiceList;this.invoiceItems=[],this.selectedInvoiceItems=[],this.selectedInvoiceIDs=[],this.selectedInvoiceIDs=[],this.setEditTotalAmount(),r.forEach(l=>{this.invoiceItems.push(l)}),n.forEach(l=>{this.selectedInvoiceItems.push(l),this.selectedInvoiceIDs.push(l.id),this.invoiceItems.push(l)}),this.loadBranchsForCompany(o.companyId,o)}})}loadBranchsForCompany(e,o){e&&this.apiService.getall(`branch/getSelectSysBranchListByComId/${e}`).subscribe(n=>{n&&(this.branchList=n,"1"===o.payType&&(this.IsCheckSelected=!0),this.form.patchValue(o))})}loadFinSetupData(){this.apiService.getall("financialsetup/getFinSetup").subscribe(e=>{e&&(this.finsetup={minCutOffShortAmt:e.minCutOffShortAmt,maxCutOffOverAmr:e.maxCutOffOverAmr,advAmount:0})})}loadData(){this.apiService.getall("paymentcodes/getSelectPaymentCodeList").subscribe(e=>{e&&(this.payCodeList=e)}),this.apiService.getall("vendor/getLanVendorsCustomList?isPayment=true").subscribe(e=>{e&&(this.customerList=e,this.customerList.map(n=>(n.text=this.isArab?n.textAr:n.text,n)))}),this.apiService.getall("company/getSelectCompanyList").subscribe(e=>{e&&(this.companyList=e)}),this.apiService.getall("paymentcodes/getSelectPaymentTypeList").subscribe(e=>{e&&(this.payCodeTypeList=e)})}setCheckNumber(e){let o=e.target.value;""!==o?this.apiService.getall(`paymentcodes?payCode=${o}`).subscribe(n=>{n&&(this.payType=n.finPayType,this.setCheckNumberInput(this.payType))}):this.setCheckNumberInput("")}setCheckNumberInput(e){""!==e?(this.form.controls.payType.setValue(e),"1"===e?(this.payType=e,this.IsCheckSelected=!0,this.form.controls.checkNumber.setValidators([s.kI.required]),this.form.controls.checkDate.setValidators([s.kI.required])):this.setCheckNumberInputDefault(),this.form.controls.checkNumber.updateValueAndValidity(),this.form.controls.checkDate.updateValueAndValidity()):(this.form.controls.payType.setValue(""),this.setCheckNumberInputDefault())}setCheckNumberInputDefault(){this.form.controls.checkNumber.setValue(""),this.form.controls.checkDate.setValue(null),this.form.controls.checkNumber.clearValidators(),this.form.controls.checkDate.clearValidators(),this.IsCheckSelected=!1}loadProductdata(e){let o=e.textTwo;o?(this.customerCode=o,this.selectedInvoiceIDs=[],this.selectedInvoiceItems=[],this.totalAmount=0,this.setTotalAmount(),this.loadCustomerInvoices(o),this.loadCustomerWalletPayment(o)):this.toBePaidAmount="Amount to be Paid : 0"}loadCustomerInvoices(e){this.apiService.getall(`opmApPayment/getOpmApInvoiceList?customerCode=${e}`).subscribe(o=>{o&&(this.invoiceItems=o)})}loadCustomerWalletPayment(e,o=""){this.apiService.getall(`opmApPayment/getOpmVendorwallet?customerCode=${e}&siteCode=${o}`).subscribe(n=>{n&&(this.finsetup.advAmount=parseFloat(n.advAmount))})}calculateTotal(){this.setTotalAmount()}checkAmount(e,o,n,r){parseFloat(e.target.value)>o-n?(document.getElementById("appliendAmount_"+r).value="",this.setTotalAmount()):this.setTotalAmount()}selectedItem(e){e.isApproved=!0,this.selectedInvoiceItems.push(e),this.selectedInvoiceIDs.push(e.id),setTimeout(()=>{this.setTotalAmount()},200)}deleteItem(e){e.isApproved=!1,-1===this.invoiceItems.findIndex(o=>o.id==e.id)&&this.invoiceItems.push(e),this.selectedInvoiceIDs.splice(this.selectedInvoiceIDs.findIndex(o=>o==e.id),1),this.selectedInvoiceItems.splice(this.selectedInvoiceItems.findIndex(o=>o.id==e.id),1),this.setTotalAmount()}setTotalAmount(){this.totalAmount=0,this.selectedInvoiceIDs.forEach(e=>{const o=document.getElementById("appliendAmount_"+e),n=isNaN(parseFloat(o.value.trim()))?0:parseFloat(o.value.trim());this.totalAmount+=n}),this.totalAmountStr=this.totalAmount.toFixed(2),this.form.controls.amount.setValue(parseFloat(this.totalAmount.toFixed(2)))}setEditTotalAmount(){this.totalAmount=0,this.selectedInvoiceItems.forEach(e=>{this.totalAmount+=e.appliedAmount}),this.totalAmountStr=this.totalAmount.toFixed(2),this.form.controls.amount.setValue(parseFloat(this.totalAmount.toFixed(2)))}loadBranchs(e){let o=e.target.value;o&&this.apiService.getall(`branch/getSelectSysBranchListByComId/${o}`).subscribe(n=>{n&&(this.branchList=n)})}calculateamountforinvoices(){if(this.selectedInvoiceIdList=[],this.form.valid){if(this.selectedInvoiceIDs.length<=0)return this.notifyService.showError("Select Invoices"),!1;this.form.value.tranDate=this.utilService.selectedDate(this.form.controls.tranDate.value),this.form.controls.checkDate.value&&(this.form.value.checkDate=this.utilService.selectedDate(this.form.controls.checkDate.value)),this.selectedInvoiceIDs.forEach(o=>{const n=document.getElementById("appliendAmount_"+o),r=document.getElementById("already_"+o);this.selectedInvoiceIdList.push({id:o,amount:n.value,appliedAmount:r.value})});const e=parseFloat(this.form.controls.amount.value);return e<=0?(this.notifyService.showError("Amount should be > 0"),!1):e>this.totalAmount?(this.notifyService.showError("Amount not more than InvoiceAmount"),!1):(this.id>0&&(this.form.value.id=this.id),"1"!==this.payType&&delete this.form.value.checkdate,this.form.value.inviceIds=this.selectedInvoiceIdList,!0)}return this.utilService.FillUpFields(),!1}submitCalculateamountforinvoices(){this.apiService.post("opmApPayment",this.form.value).subscribe(e=>{this.utilService.OkMessage(),this.reset(),this.dialogRef.close(!0)},e=>{console.error(e),this.utilService.ShowApiErrorMessage(e)})}submit(){this.calculateamountforinvoices()&&this.submitCalculateamountforinvoices()}reset(){this.form.controls.custCode.setValue(""),this.form.controls.branchCode.setValue(""),this.form.controls.companyId.setValue("")}openDialogManageApproval(e=100){let o=this.utilService.openDialogCongif(this.dialog,ht,e);const n=parseFloat(this.totalAmount.toFixed(2));o.componentInstance.data={arAmount:n,fin:this.finsetup},o.afterClosed().subscribe(r=>{0==r.hasData?this.notifyService.showError("there is no Amount"):1==r.hasData&&("advance"!=r.amountType?(this.form.value.advancePayment=r,this.submitCalculateamountforinvoices()):this.notifyService.showError("No Advance Payment"))})}postAdvancePay(){this.calculateamountforinvoices()&&this.openDialogManageApproval(50)}closeModel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(T.uw),t.Y36(T.so),t.Y36(f.g),t.Y36(O.R))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-addupdateopmvendorpayment"]],decls:195,vars:156,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-hidden","true",1,"close",3,"click"],["novalidate","",1,"mt-1",3,"formGroup","ngSubmit"],[1,"outer"],[1,"row","rowm0"],[1,"col-md-12","col-lg-12"],[1,"row"],[1,"col-md-3","col-lg-3"],[1,"form-group"],[1,"mr-sm-2"],["bindLabel","text","bindValue","textTwo","formControlName","custCode",3,"items","change"],[3,"control"],["formControlName","companyId",1,"custom-select","mr-sm-2",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","branchCode",1,"custom-select","mr-sm-2"],[1,"input-group","mb-2"],["formControlName","tranDate",1,"form-control","datapickerinput",3,"placeholder","matDatepicker"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["tranDate",""],["formControlName","payCode",1,"custom-select","mr-sm-2",3,"change"],["formControlName","payType","disabled","",1,"custom-select","mr-sm-2"],["type","number","formControlName","amount","readonly","",1,"form-control",3,"placeholder"],["type","text","formControlName","preparedby",1,"form-control",3,"placeholder"],["class","col-md-3 col-lg-3",4,"ngIf"],[1,"col-md-6","col-lg-6"],["formControlName","remarks",1,"form-control",3,"placeholder"],[1,"col-md-2","col-lg-2"],[1,"table-responsive"],["id","zero_config",1,"table","table-bordered","no-wrap"],[4,"ngFor","ngForOf"],[1,"cardtitle-divider","pt-3"],[1,"col-lg-12","col-md-12","text-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","waves-effect","waves-light","btn-primary",3,"value"],["type","button",1,"btn","waves-effect","waves-light","btn-primary",3,"click"],[1,"table-responsive","pt-3"],[3,"value"],["type","text","formControlName","checkNumber","maxlength","10",1,"form-control",3,"placeholder"],["type","text","formControlName","checkDate",1,"form-control","datapickerinput",3,"placeholder","matDatepicker"],["checkdate",""],["color","primary","formControlName","isPdcCleared",3,"disabled"],[4,"ngIf"],["type","hidden",3,"value","id"],["type","number",2,"width","135px",3,"id","disabled","value","keyup","blur"],[1,"text-center"],["data-toggle","modal","data-target","#scrollable-modal","href","#",1,"tableicons",3,"click"],[1,"icon-trash"],["type","checkbox",3,"change"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"h2",1),t._uU(2),t.ALo(3,"translate"),t.TgZ(4,"button",2),t.NdJ("click",function(){return o.closeModel()}),t._uU(5," \xd7"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"form",3),t.NdJ("ngSubmit",function(){return o.submit()}),t.TgZ(7,"div",4),t.TgZ(8,"div",5),t.TgZ(9,"div",6),t.TgZ(10,"div",7),t.TgZ(11,"div",8),t.TgZ(12,"div",9),t.TgZ(13,"label",10),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"ng-select",11),t.NdJ("change",function(r){return o.loadProductdata(r)}),t.qZA(),t._UZ(17,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(18,"div",8),t.TgZ(19,"div",9),t.TgZ(20,"label",10),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"select",13),t.NdJ("change",function(r){return o.loadBranchs(r)}),t.TgZ(24,"option",14),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.YNc(27,Sn,2,2,"option",15),t.qZA(),t._UZ(28,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(29,"div",8),t.TgZ(30,"div",9),t.TgZ(31,"label",10),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"select",16),t.TgZ(35,"option",14),t._uU(36),t.ALo(37,"translate"),t.qZA(),t.YNc(38,Nn,2,2,"option",15),t.qZA(),t._UZ(39,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(40,"div",8),t.TgZ(41,"label",10),t._uU(42),t.ALo(43,"translate"),t.qZA(),t.TgZ(44,"div",9),t.TgZ(45,"div",17),t._UZ(46,"input",18),t.ALo(47,"translate"),t.TgZ(48,"div",19),t._UZ(49,"mat-datepicker-toggle",20),t._UZ(50,"mat-datepicker",null,21),t.qZA(),t.qZA(),t._UZ(52,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(53,"div",8),t.TgZ(54,"div",9),t.TgZ(55,"label",10),t._uU(56),t.ALo(57,"translate"),t.qZA(),t.TgZ(58,"select",22),t.NdJ("change",function(r){return o.setCheckNumber(r)}),t.TgZ(59,"option",14),t._uU(60),t.ALo(61,"translate"),t.qZA(),t.YNc(62,On,2,2,"option",15),t.qZA(),t._UZ(63,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(64,"div",8),t.TgZ(65,"div",9),t.TgZ(66,"label",10),t._uU(67),t.ALo(68,"translate"),t.qZA(),t.TgZ(69,"select",23),t.TgZ(70,"option",14),t._uU(71),t.ALo(72,"translate"),t.qZA(),t.YNc(73,wn,2,2,"option",15),t.qZA(),t._UZ(74,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(75,"div",8),t.TgZ(76,"div",9),t.TgZ(77,"label",10),t._uU(78),t.ALo(79,"translate"),t.qZA(),t._UZ(80,"input",24),t.ALo(81,"translate"),t.ALo(82,"translate"),t.qZA(),t.qZA(),t.TgZ(83,"div",8),t.TgZ(84,"div",9),t.TgZ(85,"label",10),t._uU(86),t.ALo(87,"translate"),t.qZA(),t._UZ(88,"input",25),t.ALo(89,"translate"),t.ALo(90,"translate"),t._UZ(91,"validation-message",12),t.qZA(),t.qZA(),t.YNc(92,kn,9,10,"div",26),t.YNc(93,In,15,9,"div",26),t.YNc(94,Mn,6,4,"div",26),t.TgZ(95,"div",27),t.TgZ(96,"div",9),t.TgZ(97,"label",10),t._uU(98),t.ALo(99,"translate"),t.qZA(),t._UZ(100,"textarea",28),t.ALo(101,"translate"),t.ALo(102,"translate"),t.qZA(),t.qZA(),t.TgZ(103,"div",29),t.TgZ(104,"div",9),t.TgZ(105,"label",10),t._uU(106),t.ALo(107,"translate"),t.qZA(),t.TgZ(108,"span"),t._uU(109),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(110,"div",4),t.TgZ(111,"div",30),t.TgZ(112,"h2",1),t._uU(113),t.ALo(114,"translate"),t.qZA(),t.TgZ(115,"table",31),t.TgZ(116,"thead"),t.TgZ(117,"tr"),t.TgZ(118,"th"),t._uU(119),t.ALo(120,"translate"),t.qZA(),t.TgZ(121,"th"),t._uU(122),t.ALo(123,"translate"),t.qZA(),t.TgZ(124,"th"),t._uU(125),t.ALo(126,"translate"),t.qZA(),t.TgZ(127,"th"),t._uU(128),t.ALo(129,"translate"),t.qZA(),t.TgZ(130,"th"),t._uU(131),t.ALo(132,"translate"),t.qZA(),t.TgZ(133,"th"),t._uU(134),t.ALo(135,"translate"),t.qZA(),t.TgZ(136,"th"),t._uU(137),t.ALo(138,"translate"),t.qZA(),t.TgZ(139,"th"),t._uU(140),t.ALo(141,"translate"),t.qZA(),t.TgZ(142,"th"),t._uU(143),t.ALo(144,"translate"),t.qZA(),t.qZA(),t.qZA(),t.YNc(145,Dn,2,1,"tr",32),t.qZA(),t.qZA(),t._UZ(146,"div",33),t.TgZ(147,"div",7),t.TgZ(148,"div",34),t.TgZ(149,"button",35),t.NdJ("click",function(){return o.closeModel()}),t._uU(150),t.ALo(151,"translate"),t.qZA(),t._uU(152," \xa0\xa0 "),t._UZ(153,"input",36),t.ALo(154,"translate"),t._uU(155," \xa0\xa0 "),t.TgZ(156,"button",37),t.NdJ("click",function(){return o.postAdvancePay()}),t._uU(157),t.ALo(158,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(159,"div",38),t.TgZ(160,"h2",1),t._uU(161),t.ALo(162,"translate"),t.qZA(),t.TgZ(163,"table",31),t.TgZ(164,"thead"),t.TgZ(165,"tr"),t._UZ(166,"th"),t.TgZ(167,"th"),t._uU(168),t.ALo(169,"translate"),t.qZA(),t.TgZ(170,"th"),t._uU(171),t.ALo(172,"translate"),t.qZA(),t.TgZ(173,"th"),t._uU(174),t.ALo(175,"translate"),t.qZA(),t.TgZ(176,"th"),t._uU(177),t.ALo(178,"translate"),t.qZA(),t.TgZ(179,"th"),t._uU(180),t.ALo(181,"translate"),t.qZA(),t.TgZ(182,"th"),t._uU(183),t.ALo(184,"translate"),t.qZA(),t.TgZ(185,"th"),t._uU(186),t.ALo(187,"translate"),t.qZA(),t.TgZ(188,"th"),t._uU(189),t.ALo(190,"translate"),t.qZA(),t.TgZ(191,"th"),t._uU(192),t.ALo(193,"translate"),t.qZA(),t.qZA(),t.qZA(),t.YNc(194,Yn,2,1,"tr",32),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e){const n=t.MAs(51);t.xp6(2),t.hij(" ",t.lcZ(3,66,"Create_New_Vendor_Payment")," "),t.xp6(4),t.Q6J("formGroup",o.form),t.xp6(8),t.Oqu(t.lcZ(15,68,"Vendor")),t.xp6(2),t.Q6J("items",o.customerList),t.xp6(1),t.Q6J("control",o.form.controls.custCode),t.xp6(4),t.Oqu(t.lcZ(22,70,"Organization")),t.xp6(4),t.Oqu(t.lcZ(26,72,"Select_Organization")),t.xp6(2),t.Q6J("ngForOf",o.companyList),t.xp6(1),t.Q6J("control",o.form.controls.companyId),t.xp6(4),t.Oqu(t.lcZ(33,74,"Branch")),t.xp6(4),t.Oqu(t.lcZ(37,76,"Select_Branch")),t.xp6(2),t.Q6J("ngForOf",o.branchList),t.xp6(1),t.Q6J("control",o.form.controls.branchCode),t.xp6(3),t.Oqu(t.lcZ(43,78,"tranDate")),t.xp6(4),t.s9C("placeholder",t.lcZ(47,80,"Select_a_Date")),t.Q6J("matDatepicker",n),t.xp6(3),t.Q6J("for",n),t.xp6(3),t.Q6J("control",o.form.controls.tranDate),t.xp6(4),t.Oqu(t.lcZ(57,82,"PayCode")),t.xp6(4),t.Oqu(t.lcZ(61,84,"Select_Organization")),t.xp6(2),t.Q6J("ngForOf",o.payCodeList),t.xp6(1),t.Q6J("control",o.form.controls.payCode),t.xp6(4),t.Oqu(t.lcZ(68,86,"PayType")),t.xp6(4),t.Oqu(t.lcZ(72,88,"Select_Organization")),t.xp6(2),t.Q6J("ngForOf",o.payCodeTypeList),t.xp6(1),t.Q6J("control",o.form.controls.payType),t.xp6(4),t.Oqu(t.lcZ(79,90,"amount")),t.xp6(2),t.hYB("placeholder","",t.lcZ(81,92,"Please_Enter")," ",t.lcZ(82,94,"Invoice_Reference_Number"),""),t.xp6(6),t.hij(" ",t.lcZ(87,96,"preparedby")," "),t.xp6(2),t.hYB("placeholder"," ",t.lcZ(89,98,"Please_Enter"),"  ",t.lcZ(90,100,"LPO_Contract"),""),t.xp6(3),t.Q6J("control",o.form.controls.preparedby),t.xp6(1),t.Q6J("ngIf",o.IsCheckSelected),t.xp6(1),t.Q6J("ngIf",o.IsCheckSelected),t.xp6(1),t.Q6J("ngIf",o.IsCheckSelected),t.xp6(4),t.Oqu(t.lcZ(99,102,"Remarks")),t.xp6(2),t.hYB("placeholder","",t.lcZ(101,104,"PLease_Enter")," ",t.lcZ(102,106,"Remarks"),""),t.xp6(6),t.Oqu(t.lcZ(107,108,"Total_Invoice_Amount")),t.xp6(3),t.Oqu(o.totalAmountStr),t.xp6(4),t.hij(" ",t.lcZ(114,110,"Selected_Invoice_List")," "),t.xp6(6),t.Oqu(t.lcZ(120,112,"Invoice_Number")),t.xp6(3),t.Oqu(t.lcZ(123,114,"Vendor_C")),t.xp6(3),t.Oqu(t.lcZ(126,116,"Vendor_Name")),t.xp6(3),t.Oqu(t.lcZ(129,118,"Invoice_Date")),t.xp6(3),t.Oqu(t.lcZ(132,120,"Discount_Amount")),t.xp6(3),t.Oqu(t.lcZ(135,122,"Amount")),t.xp6(3),t.Oqu(t.lcZ(138,124,"Applied_Amount")),t.xp6(3),t.Oqu(t.lcZ(141,126,"Add_Amount")),t.xp6(3),t.Oqu(t.lcZ(144,128,"Actions")),t.xp6(2),t.Q6J("ngForOf",o.selectedInvoiceItems),t.xp6(5),t.hij(" ",t.lcZ(151,130,"Cancel")," "),t.xp6(3),t.s9C("value",t.lcZ(154,132,"Save")),t.xp6(4),t.Oqu(t.lcZ(158,134,"Save_Post_Advance")),t.xp6(4),t.hij(" ",t.lcZ(162,136,"Vendor_Invoice_List")," "),t.xp6(7),t.Oqu(t.lcZ(169,138,"Invoice_Type")),t.xp6(3),t.Oqu(t.lcZ(172,140,"Invoice_Number")),t.xp6(3),t.Oqu(t.lcZ(175,142,"Doc_Number")),t.xp6(3),t.Oqu(t.lcZ(178,144,"Vendor_C")),t.xp6(3),t.Oqu(t.lcZ(181,146,"Vendor_Name")),t.xp6(3),t.Oqu(t.lcZ(184,148,"Invoice_Date")),t.xp6(3),t.Oqu(t.lcZ(187,150,"Discount_Amount")),t.xp6(3),t.Oqu(t.lcZ(190,152,"Amount")),t.xp6(3),t.Oqu(t.lcZ(193,154,"Applied_Amount")),t.xp6(2),t.Q6J("ngForOf",o.invoiceItems)}},directives:[s._Y,s.JL,s.sg,j.w9,s.JJ,s.u,M.s,s.EJ,s.YN,s.Kr,d.sg,s.Fj,m.hl,m.nW,U.R9,m.Mq,s.wV,d.O5,s.nD,F.Rr],pipes:[Z.X$,d.uU],encapsulation:2}),i})();function Qn(i,a){1&i&&(t.TgZ(0,"th",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Voucher")," "))}function jn(i,a){if(1&i&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.voucherNumber)}}function Fn(i,a){1&i&&(t.TgZ(0,"th",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Vendor_Name")," "))}function Bn(i,a){if(1&i&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.custName)}}function Vn(i,a){1&i&&(t.TgZ(0,"th",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Branch")," "))}function Rn(i,a){if(1&i&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.branchName)}}function En(i,a){1&i&&(t.TgZ(0,"th",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Trans_Date")," "))}function $n(i,a){if(1&i&&(t.TgZ(0,"td",46),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.tranDate,"dd/MM/yyyy"))}}function zn(i,a){1&i&&(t.TgZ(0,"th",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Document")," "))}function Hn(i,a){if(1&i&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.docNum)}}function Gn(i,a){1&i&&(t.TgZ(0,"th",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Check_Number")," "))}function Xn(i,a){if(1&i&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.checkNumber)}}function Wn(i,a){1&i&&(t.TgZ(0,"th",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Check_Date")," "))}function Kn(i,a){if(1&i&&(t.TgZ(0,"td",46),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.checkDate,"dd/MM/yyyy"))}}function ta(i,a){1&i&&(t.TgZ(0,"th",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Amount")," "))}function ea(i,a){if(1&i&&(t.TgZ(0,"td",46),t._uU(1),t.ALo(2,"decimalpipe"),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.hij("",t.lcZ(2,1,e.amount)," ")}}function oa(i,a){1&i&&(t.TgZ(0,"th",47),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Actions")))}function ia(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"a",49),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit;return t.oxw().post(n)}),t.ALo(1,"translate"),t._UZ(2,"i",51),t.qZA()}2&i&&t.s9C("matTooltip",t.lcZ(1,1,"Posting_Item"))}function na(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"td",46),t.YNc(1,ia,3,3,"a",48),t.TgZ(2,"a",49),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().vendorReceipt(r.id)}),t.ALo(3,"translate"),t._UZ(4,"i",50),t.qZA(),t._uU(5,"\xa0 "),t.qZA()}if(2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",!e.isPaid),t.xp6(1),t.s9C("matTooltip",t.lcZ(3,2,"Print"))}}function aa(i,a){1&i&&t._UZ(0,"tr",52)}function ra(i,a){1&i&&t._UZ(0,"tr",53)}let sa=(()=>{class i extends L.k{constructor(e,o,n,r,l,c,u,g,C,S){super(r),this.fb=e,this.router=o,this.apiService=n,this.authService=r,this.utilService=l,this.translate=c,this.notifyService=u,this.validationService=g,this.pageService=C,this.dialog=S,this.displayedColumns=["voucherNumber","custName","branchName","tranDate","docNum","checkNumber","checkdate","amount","Actions"],this.searchValue="",this.sortingOrder="id desc",this.isLoading=!1}ngOnInit(){this.initialLoading()}refresh(){this.searchValue="",this.initialLoading()}initialLoading(){this.loadList(0,this.pageService.pageCount,"",this.sortingOrder)}onSortOrder(e){this.sortingOrder=e.active+" "+e.direction,this.totalItemsCount=0,this.loadList(0,this.pageService.pageCount,"",this.sortingOrder)}onPageSwitch(e){this.pageService.change(e),this.loadList(e.pageIndex,e.pageSize,"",this.sortingOrder)}loadList(e,o,n,r){this.isLoading=!0,this.apiService.getPagination("OpmApPayment",this.utilService.getQueryString(e,o,n,r)).subscribe(l=>{this.totalItemsCount=0,this.data=new p.by(l.items),this.totalItemsCount=l.totalCount,setTimeout(()=>{this.paginator.pageIndex=e,this.paginator.length=this.totalItemsCount}),this.data.sort=this.sort,this.isLoading=!1},l=>this.utilService.ShowApiErrorMessage(l))}applyFilter(e){e&&(this.searchValue=e,this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder))}openDialogManage(e=0,o,n="",r="",l,c={module:"00",action:"00act"}){let u=this.utilService.openCrudDialog(this.dialog,l);u.componentInstance.dbops=o,u.componentInstance.modalTitle=n,u.componentInstance.id=e,u.componentInstance.moduleFile=c,u.afterClosed().subscribe(g=>{g&&!0===g&&this.initialLoading()})}openDialogManageOne(e="",o,n="",r){let l=this.utilService.openDialogCongif(this.dialog,r);l.componentInstance.dbops=o,l.componentInstance.modalTitle=n,l.componentInstance.customerCode=e}create(){this.openDialogManage(0,v.Oi.create,this.translate.instant("Create_New_Sales_Invoice"),"",_t)}edit(e){this.openDialogManage(e,v.Oi.update,this.translate.instant("Create_New_Sales_Invoice"),"",_t)}print(e){this.openDialogManageOne(e,v.Oi.update,this.translate.instant("Create_New_Sales_Invoice"),lt.G)}vendorReceipt(e){this.openDialogManage(e,v.Oi.update,this.translate.instant("Create_New_Sales_Invoice"),"",Zt)}post(e){const o=this.utilService.openDeleteConfirmDialog(this.dialog,H.a);o.componentInstance.modalTitle=`Are you sure to confirm payment (${e.voucherNumber})?`,o.afterClosed().subscribe(n=>{n&&e.id>0&&this.apiService.post("OpmApPayment/opmVendorPaymentApproval",{customerCode:e.custCode,Id:e.id}).subscribe(r=>{this.initialLoading(),this.utilService.OkMessage()},r=>{console.error(r),this.utilService.ShowApiErrorMessage(r)})})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(Q.F0),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(Z.sK),t.Y36(f.g),t.Y36(O.R),t.Y36(k.N),t.Y36(T.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-opmappayment"]],viewQuery:function(e,o){if(1&e&&(t.Gf(q.NW,7),t.Gf(x.YE,7)),2&e){let n;t.iGM(n=t.CRH())&&(o.paginator=n.first),t.iGM(n=t.CRH())&&(o.sort=n.first)}},features:[t.qOj],decls:83,vars:36,consts:[[1,"page-breadcrumb"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],[1,"container-fluid"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"row","pb-3"],[1,"col-md-3"],[1,"form-control",3,"placeholder","ngModel","ngModelChange"],[1,"col-md-4","arabicright"],[1,"btn","btn-primary",3,"click"],[1,"",3,"matTooltip","click"],[1,"btn","btn-primary","icon-refresh"],[1,"col-md-7","col-lg-9"],[1,"card-title","pt6"],[1,"col-md-3","col-lg-3","text-right"],[1,"nav-item","dropdown"],["data-toggle","modal","data-target","#scrollable-modal","href","#",1,"btn","waves-effect","waves-light","btn-rounded","btn-outline-primary",3,"click"],[1,"icon-plus"],[1,"cardtitle-divider"],[1,"example-table-container","table-responsive","pt-3"],[3,"isLoading"],["mat-table","","matSort","","matSortActive","Id","matSortDisableClear","","matSortDirection","desc",1,"table","table-bordered","no-wrap",3,"dataSource","matSortChange"],["matColumnDef","voucherNumber"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","custName"],["matColumnDef","branchName"],["matColumnDef","tranDate"],["matColumnDef","docNum"],["matColumnDef","checkNumber"],["matColumnDef","checkdate"],["matColumnDef","amount"],["matColumnDef","Actions","stickyEnd",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions","page"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["class","tableicons",3,"matTooltip","click",4,"ngIf"],[1,"tableicons",3,"matTooltip","click"],[1,"icon-settings"],[1,"icon-action-redo"],["mat-header-row",""],["mat-row",""]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"nav",5),t.TgZ(8,"ol",6),t.TgZ(9,"li",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"li",7),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"li",8),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",9),t.TgZ(19,"div",1),t.TgZ(20,"div",10),t.TgZ(21,"div",11),t.TgZ(22,"div",12),t.TgZ(23,"div",13),t._UZ(24,"div",10),t.TgZ(25,"div",14),t.TgZ(26,"input",15),t.NdJ("ngModelChange",function(r){return o.searchValue=r}),t.ALo(27,"translate"),t.qZA(),t.qZA(),t.TgZ(28,"div",16),t.TgZ(29,"button",17),t.NdJ("click",function(){return o.applyFilter(o.searchValue)}),t._uU(30),t.ALo(31,"translate"),t.qZA(),t._uU(32," \xa0 "),t.TgZ(33,"a",18),t.NdJ("click",function(){return o.refresh()}),t.ALo(34,"translate"),t._UZ(35,"i",19),t.qZA(),t.qZA(),t.qZA(),t.TgZ(36,"div",1),t.TgZ(37,"div",20),t.TgZ(38,"h4",21),t._uU(39),t.ALo(40,"translate"),t.qZA(),t.qZA(),t.TgZ(41,"div",22),t.TgZ(42,"div",23),t.TgZ(43,"a",24),t.NdJ("click",function(){return o.create()}),t._UZ(44,"i",25),t._uU(45),t.ALo(46,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(47,"div",26),t.TgZ(48,"div",27),t._UZ(49,"spinner-loader",28),t.ynx(50),t.TgZ(51,"table",29),t.NdJ("matSortChange",function(r){return o.onSortOrder(r)}),t.ynx(52,30),t.YNc(53,Qn,3,3,"th",31),t.YNc(54,jn,2,1,"td",32),t.BQk(),t.ynx(55,33),t.YNc(56,Fn,3,3,"th",31),t.YNc(57,Bn,2,1,"td",32),t.BQk(),t.ynx(58,34),t.YNc(59,Vn,3,3,"th",31),t.YNc(60,Rn,2,1,"td",32),t.BQk(),t.ynx(61,35),t.YNc(62,En,3,3,"th",31),t.YNc(63,$n,3,4,"td",32),t.BQk(),t.ynx(64,36),t.YNc(65,zn,3,3,"th",31),t.YNc(66,Hn,2,1,"td",32),t.BQk(),t.ynx(67,37),t.YNc(68,Gn,3,3,"th",31),t.YNc(69,Xn,2,1,"td",32),t.BQk(),t.ynx(70,38),t.YNc(71,Wn,3,3,"th",31),t.YNc(72,Kn,3,4,"td",32),t.BQk(),t.ynx(73,39),t.YNc(74,ta,3,3,"th",31),t.YNc(75,ea,3,3,"td",32),t.BQk(),t.ynx(76,40),t.YNc(77,oa,3,3,"th",41),t.YNc(78,na,6,4,"td",32),t.BQk(),t.YNc(79,aa,1,0,"tr",42),t.YNc(80,ra,1,0,"tr",43),t.qZA(),t.ynx(81),t.TgZ(82,"mat-paginator",44),t.NdJ("page",function(r){return o.onPageSwitch(r)}),t.qZA(),t.BQk(),t.BQk(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.hij(" ",t.lcZ(5,18,"Vendor_Payment")," "),t.xp6(6),t.hij("",t.lcZ(11,20,"Finance")," "),t.xp6(3),t.Oqu(t.lcZ(14,22,"Account_Payable")),t.xp6(3),t.hij("",t.lcZ(17,24,"Vendor_Payment")," "),t.xp6(10),t.MGl("placeholder","",t.lcZ(27,26,"Search"),"..."),t.Q6J("ngModel",o.searchValue),t.xp6(4),t.Oqu(t.lcZ(31,28,"Search")),t.xp6(3),t.s9C("matTooltip",t.lcZ(34,30,"Refresh")),t.xp6(6),t.hij(" ",t.lcZ(40,32,"Vendor_Payment_List")," "),t.xp6(6),t.hij("",t.lcZ(46,34,"AddNewPayment")," "),t.xp6(4),t.Q6J("isLoading",o.isLoading),t.xp6(2),t.Q6J("dataSource",o.data),t.xp6(28),t.Q6J("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(2),t.Q6J("length",o.totalItemsCount)("pageSize",o.pageService.pageCount)("pageSizeOptions",o.pageService.selectItemsPerPage))},directives:[s.Fj,s.JJ,s.On,z.gM,b.r,p.BZ,x.YE,p.w1,p.fO,p.Dz,p.as,p.nj,q.NW,p.ge,x.nU,p.ev,d.O5,p.XQ,p.Gk],pipes:[Z.X$,d.uU,I.J],encapsulation:2}),i})();function la(i,a){if(1&i&&(t.TgZ(0,"table",26),t.TgZ(1,"tbody"),t.TgZ(2,"tr"),t.TgZ(3,"td"),t.TgZ(4,"label",7),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._uU(7),t.qZA(),t.TgZ(8,"td"),t.TgZ(9,"label"),t._uU(10),t.ALo(11,"translate"),t.qZA(),t._uU(12),t.qZA(),t.qZA(),t.TgZ(13,"tr"),t.TgZ(14,"td"),t.TgZ(15,"label",7),t._uU(16),t.ALo(17,"translate"),t.qZA(),t._uU(18),t.ALo(19,"date"),t.qZA(),t.TgZ(20,"td"),t.TgZ(21,"label",7),t._uU(22),t.ALo(23,"translate"),t.qZA(),t._uU(24),t.qZA(),t.qZA(),t.TgZ(25,"tr"),t.TgZ(26,"td",27),t.TgZ(27,"label"),t._uU(28),t.ALo(29,"translate"),t.qZA(),t._uU(30),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(5),t.Oqu(t.lcZ(6,10,"PayCode")),t.xp6(2),t.hij(" : ",e.checkData.payCode,""),t.xp6(3),t.Oqu(t.lcZ(11,12,"Branch")),t.xp6(2),t.hij(" : ",e.checkData.branchCode,""),t.xp6(4),t.hij("",t.lcZ(17,14,"checkdate")," "),t.xp6(2),t.hij(" : ",t.xi3(19,16,e.checkData.checkDate,"dd/MM/yyyy"),""),t.xp6(4),t.Oqu(t.lcZ(23,19,"checkNumber")),t.xp6(2),t.hij(" : ",e.checkData.checkNumber,""),t.xp6(4),t.hij(" ",t.lcZ(29,21,"Remarks"),""),t.xp6(2),t.hij(" : ",e.checkData.remarks,"")}}function ca(i,a){if(1&i&&(t.TgZ(0,"option",28),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.text),t.xp6(1),t.Oqu(e.text)}}let pa=(()=>{class i{constructor(e,o,n,r,l,c){this.fb=e,this.apiService=o,this.authService=n,this.utilService=r,this.dialogRef=l,this.notifyService=c,this.id=0,this.trantype="Invoice",this.payCodeList=[]}ngOnInit(){this.setForm(),this.loadData()}setForm(){this.form=this.fb.group({branchCode:["",s.kI.required],payCode:["",s.kI.required],remarks:["-",s.kI.required],checkNumber:["",s.kI.required],checkDate:[null,s.kI.required]})}loadData(){this.apiService.getall("paymentcodes/getSelectPaymentBankCodeList").subscribe(e=>{e&&(this.payCodeList=e)}),this.apiService.getall(`brsVoucher/getPDCCustVendPaymentItem/${this.id}`).subscribe(e=>{e&&(this.checkData=e,this.form.patchValue(e))})}setCheckNumber(e){let o=e.target.value;""!==o&&this.apiService.getall(`paymentcodes?payCode=${o}`).subscribe(n=>{n&&this.form.controls.branchCode.setValue(n.finBranchCode)})}submit(){this.form.valid&&this.id>0&&(this.form.value.id=this.id,this.apiService.post("brsVoucher/changeCheckDate",this.form.value).subscribe(e=>{this.utilService.OkMessage(),this.reset(),this.dialogRef.close(!0)},e=>{this.utilService.ShowApiErrorMessage(e)}))}reset(){this.form.reset()}closeModel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(T.so),t.Y36(f.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-editcheckdate"]],decls:68,vars:53,consts:[["type","button","aria-hidden","true",1,"close",3,"click"],[3,"isLoading"],["novalidate","",1,"mt-1",3,"formGroup","ngSubmit"],["class","table table-bordered",4,"ngIf"],[1,"row","rowm0","pt-2"],[1,"col-md-3","col-lg-3"],[1,"form-group"],[1,"mr-sm-2"],["formControlName","payCode",1,"custom-select","mr-sm-2",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"control"],[1,"col-md-6","col-lg-6"],["type","text","formControlName","branchCode","readonly","",1,"form-control",3,"placeholder"],["type","text","formControlName","checkNumber","maxlength","10",1,"form-control",3,"placeholder"],[1,"input-group","mb-2"],["type","text","formControlName","checkDate",1,"form-control","datapickerinput",3,"placeholder","matDatepicker"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["checkdate",""],[1,"col-md-4","col-lg-4"],["type","text","formControlName","remarks",1,"form-control",3,"placeholder"],[1,"row"],[1,"col-lg-12","col-md-12","text-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","waves-effect","waves-light","btn-primary",3,"value"],[1,"table","table-bordered"],["colspan","2"],[3,"value"]],template:function(e,o){if(1&e&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"button",0),t.NdJ("click",function(){return o.closeModel()}),t._uU(4," \xd7"),t.qZA(),t.qZA(),t._UZ(5,"spinner-loader",1),t.TgZ(6,"form",2),t.NdJ("ngSubmit",function(){return o.submit()}),t.YNc(7,la,31,23,"table",3),t.TgZ(8,"div",4),t.TgZ(9,"div",5),t.TgZ(10,"div",6),t.TgZ(11,"label",7),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"select",8),t.NdJ("change",function(r){return o.setCheckNumber(r)}),t.TgZ(15,"option",9),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.YNc(18,ca,2,2,"option",10),t.qZA(),t._UZ(19,"validation-message",11),t.qZA(),t.qZA(),t.TgZ(20,"div",12),t.TgZ(21,"div",6),t.TgZ(22,"label"),t._uU(23),t.ALo(24,"translate"),t.qZA(),t._UZ(25,"input",13),t.ALo(26,"translate"),t._UZ(27,"validation-message",11),t.qZA(),t.qZA(),t.TgZ(28,"div",5),t.TgZ(29,"div",6),t.TgZ(30,"label",7),t._uU(31),t.ALo(32,"translate"),t.qZA(),t._UZ(33,"input",14),t.ALo(34,"translate"),t.ALo(35,"translate"),t._UZ(36,"validation-message",11),t.qZA(),t.qZA(),t.TgZ(37,"div",5),t.TgZ(38,"label",7),t._uU(39),t.ALo(40,"translate"),t.qZA(),t.TgZ(41,"div",6),t.TgZ(42,"div",15),t._UZ(43,"input",16),t.ALo(44,"translate"),t._UZ(45,"validation-message",11),t.TgZ(46,"div",17),t._UZ(47,"mat-datepicker-toggle",18),t._UZ(48,"mat-datepicker",null,19),t._UZ(50,"br"),t._UZ(51,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(52,"div",20),t.TgZ(53,"div",6),t.TgZ(54,"label",7),t._uU(55),t.ALo(56,"translate"),t.qZA(),t._UZ(57,"input",21),t.ALo(58,"translate"),t._UZ(59,"validation-message",11),t.qZA(),t.qZA(),t.qZA(),t.TgZ(60,"div",22),t.TgZ(61,"div",23),t.TgZ(62,"button",24),t.NdJ("click",function(){return o.closeModel()}),t._uU(63),t.ALo(64,"translate"),t.qZA(),t._uU(65," \xa0\xa0 "),t._UZ(66,"input",25),t.ALo(67,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e){const n=t.MAs(49);t.xp6(1),t.hij(" ",t.lcZ(2,25,"Edit_Check_Date")," "),t.xp6(4),t.Q6J("isLoading",!o.checkData),t.xp6(1),t.Q6J("formGroup",o.form),t.xp6(1),t.Q6J("ngIf",o.checkData),t.xp6(5),t.Oqu(t.lcZ(13,27,"PayCode")),t.xp6(4),t.Oqu(t.lcZ(17,29,"select")),t.xp6(2),t.Q6J("ngForOf",o.payCodeList),t.xp6(1),t.Q6J("control",o.form.controls.payCode),t.xp6(4),t.Oqu(t.lcZ(24,31,"Branch")),t.xp6(2),t.s9C("placeholder",t.lcZ(26,33,"PleaseEnter")),t.xp6(2),t.Q6J("control",o.form.controls.branchCode),t.xp6(4),t.hij("",t.lcZ(32,35,"checkNumber")," "),t.xp6(2),t.hYB("placeholder","",t.lcZ(34,37,"Please_Enter"),"  ",t.lcZ(35,39,"TAX_Id_Number")," "),t.xp6(3),t.Q6J("control",o.form.controls.checkNumber),t.xp6(3),t.Oqu(t.lcZ(40,41,"checkdate")),t.xp6(4),t.s9C("placeholder",t.lcZ(44,43,"Select_a_Date")),t.Q6J("matDatepicker",n),t.xp6(2),t.Q6J("control",o.form.controls.checkDate),t.xp6(2),t.Q6J("for",n),t.xp6(8),t.hij(" ",t.lcZ(56,45,"Remarks")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(58,47,"Remarks")),t.xp6(2),t.Q6J("control",o.form.controls.remarks),t.xp6(4),t.hij(" ",t.lcZ(64,49,"Cancel")," "),t.xp6(3),t.s9C("value",t.lcZ(67,51,"Save"))}},directives:[b.r,s._Y,s.JL,s.sg,d.O5,s.EJ,s.JJ,s.u,s.YN,s.Kr,d.sg,M.s,s.Fj,s.nD,m.hl,m.nW,U.R9,m.Mq],pipes:[Z.X$,d.uU],encapsulation:2}),i})();function da(i,a){1&i&&(t.TgZ(0,"th",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Voucher")," "))}function ua(i,a){if(1&i&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.voucherNumber)}}function ma(i,a){1&i&&(t.TgZ(0,"th",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Vendor_Name")," "))}function ga(i,a){if(1&i&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.custName)}}function Za(i,a){1&i&&(t.TgZ(0,"th",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Branch")," "))}function ha(i,a){if(1&i&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.branchName)}}function _a(i,a){1&i&&(t.TgZ(0,"th",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Trans_Date")," "))}function Aa(i,a){if(1&i&&(t.TgZ(0,"td",46),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.tranDate,"dd/MM/yyyy"))}}function fa(i,a){1&i&&(t.TgZ(0,"th",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Document")," "))}function Ta(i,a){if(1&i&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.docNum)}}function va(i,a){1&i&&(t.TgZ(0,"th",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Check_Number")," "))}function qa(i,a){if(1&i&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.checkNumber)}}function Ca(i,a){1&i&&(t.TgZ(0,"th",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Check_Date")," "))}function xa(i,a){if(1&i&&(t.TgZ(0,"td",46),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.checkDate,"dd/MM/yyyy"))}}function ba(i,a){1&i&&(t.TgZ(0,"th",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Amount")," "))}function ya(i,a){if(1&i&&(t.TgZ(0,"td",46),t._uU(1),t.ALo(2,"decimalpipe"),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.hij("",t.lcZ(2,1,e.amount)," ")}}function Ua(i,a){1&i&&(t.TgZ(0,"th",47),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Actions")))}function La(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"a",53),t._uU(2,"."),t.qZA(),t.TgZ(3,"a",52),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit;return t.oxw().edit(n.id)}),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"a",52),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit;return t.oxw().post(n)}),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.BQk()}2&i&&(t.xp6(4),t.Oqu(t.lcZ(5,2,"Edit")),t.xp6(3),t.Oqu(t.lcZ(8,4,"Post")))}function Sa(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"td",46),t.TgZ(1,"div",23),t.TgZ(2,"a",48),t._UZ(3,"i",49),t.qZA(),t.TgZ(4,"div",50),t.YNc(5,La,9,6,"ng-container",51),t.TgZ(6,"a",52),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().print(r.id)}),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(5),t.Q6J("ngIf",!e.approval),t.xp6(2),t.Oqu(t.lcZ(8,2,"Print"))}}function Na(i,a){1&i&&t._UZ(0,"tr",54)}function Oa(i,a){1&i&&t._UZ(0,"tr",55)}let wa=(()=>{class i extends L.k{constructor(e,o,n,r,l,c,u,g,C,S){super(r),this.fb=e,this.router=o,this.apiService=n,this.authService=r,this.utilService=l,this.translate=c,this.notifyService=u,this.validationService=g,this.pageService=C,this.dialog=S,this.displayedColumns=["voucherNumber","custName","branchName","tranDate","docNum","checkNumber","checkdate","amount","Actions"],this.searchValue="",this.sortingOrder="id desc",this.isLoading=!1,this.approval=""}ngOnInit(){this.initialLoading()}refresh(){this.searchValue="",this.approval="",this.initialLoading()}initialLoading(){this.loadList(0,this.pageService.pageCount,"",this.sortingOrder)}pdcinitialLoading(e){this.approval=e,this.searchValue="",this.initialLoading()}onSortOrder(e){this.sortingOrder=e.active+" "+e.direction,this.totalItemsCount=0,this.loadList(0,this.pageService.pageCount,"",this.sortingOrder)}onPageSwitch(e){this.pageService.change(e),this.loadList(e.pageIndex,e.pageSize,"",this.sortingOrder)}loadList(e,o,n,r){this.isLoading=!0,this.apiService.getPagination("brsVoucher/getPdcCustVendPaymentList",this.utilService.getQueryString(e,o,n,r,this.approval)).subscribe(l=>{this.totalItemsCount=0,this.data=new p.by(l.items),this.totalItemsCount=l.totalCount,setTimeout(()=>{this.paginator.pageIndex=e,this.paginator.length=this.totalItemsCount}),this.data.sort=this.sort,this.isLoading=!1},l=>this.utilService.ShowApiErrorMessage(l))}applyFilter(e){e&&(this.searchValue=e,this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder))}openDialogManage(e=0,o,n="",r="",l,c={module:"00",action:"00act"}){let u=this.utilService.openCrudDialog(this.dialog,l);u.componentInstance.dbops=o,u.componentInstance.modalTitle=n,u.componentInstance.id=e,u.componentInstance.moduleFile=c,u.afterClosed().subscribe(g=>{g&&!0===g&&this.initialLoading()})}openDialogManageOne(e="",o,n="",r){let l=this.utilService.openDialogCongif(this.dialog,r);l.componentInstance.dbops=o,l.componentInstance.modalTitle=n,l.componentInstance.customerCode=e}edit(e){this.openDialogManage(e,v.Oi.update,this.translate.instant("Create_New_Sales_Invoice"),"",pa)}print(e){this.openDialogManage(e,v.Oi.update,this.translate.instant("Create_New_Sales_Invoice"),"",Zt)}post(e){this.settingStatus(e,"posting")}voidStatus(e){this.settingStatus(e,"voiding")}settingStatus(e,o){const n=this.utilService.openDeleteConfirmDialog(this.dialog,H.a);n.componentInstance.modalTitle=`Are you sure ${o} (${e.voucherNumber})?`,n.afterClosed().subscribe(r=>{r&&e.id>0&&this.apiService.post("brsVoucher/postingPdc",{id:e.id,isPdcCleared:"posting"==o,pdcClearedBy:this.authService.getUserName()}).subscribe(l=>{this.initialLoading(),this.utilService.OkMessage()},l=>{console.error(l),this.utilService.ShowApiErrorMessage(l)})})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(Q.F0),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(Z.sK),t.Y36(f.g),t.Y36(O.R),t.Y36(k.N),t.Y36(T.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-pdclist"]],viewQuery:function(e,o){if(1&e&&(t.Gf(q.NW,7),t.Gf(x.YE,7)),2&e){let n;t.iGM(n=t.CRH())&&(o.paginator=n.first),t.iGM(n=t.CRH())&&(o.sort=n.first)}},features:[t.qOj],decls:88,vars:39,consts:[[1,"page-breadcrumb"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],[1,"container-fluid"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"row","pb-3"],[1,"col-md-3"],[1,"form-control",3,"placeholder","ngModel","ngModelChange"],[1,"col-md-4","arabicright"],[1,"btn","btn-primary",3,"click"],[1,"",3,"matTooltip","click"],[1,"btn","btn-primary","icon-refresh"],[1,"col-md-6","col-lg-6"],[1,"card-title","pt6"],[1,"col-md-6","col-lg-6","text-right"],[1,"nav-item","dropdown"],["data-toggle","modal","data-target","#scrollable-modal","href","#",1,"btn","waves-effect","waves-light","btn-rounded","btn-outline-primary",3,"click"],[1,"icon-plus"],[1,"cardtitle-divider"],[1,"example-table-container","table-responsive","pt-3"],[3,"isLoading"],["mat-table","","matSort","","matSortActive","Id","matSortDisableClear","","matSortDirection","desc",1,"table","table-bordered","no-wrap",3,"dataSource","matSortChange"],["matColumnDef","voucherNumber"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","custName"],["matColumnDef","branchName"],["matColumnDef","tranDate"],["matColumnDef","docNum"],["matColumnDef","checkNumber"],["matColumnDef","checkdate"],["matColumnDef","amount"],["matColumnDef","Actions","stickyEnd",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions","page"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["href","#","id","navbarDropdown","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false"],[1,"icon-options-vertical"],["aria-labelledby","navbarDropdown",1,"dropdown-menu","dropdown-menu-custom",2,"transform","translate3d(0px, -61px, 0px)!important"],[4,"ngIf"],["data-toggle","modal","href","#",1,"dropdown-item",3,"click"],["data-toggle","modal","href","#",1,"dropdown-item"],["mat-header-row",""],["mat-row",""]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"nav",5),t.TgZ(8,"ol",6),t.TgZ(9,"li",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"li",7),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"li",8),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",9),t.TgZ(19,"div",1),t.TgZ(20,"div",10),t.TgZ(21,"div",11),t.TgZ(22,"div",12),t.TgZ(23,"div",13),t._UZ(24,"div",10),t.TgZ(25,"div",14),t.TgZ(26,"input",15),t.NdJ("ngModelChange",function(r){return o.searchValue=r}),t.ALo(27,"translate"),t.qZA(),t.qZA(),t.TgZ(28,"div",16),t.TgZ(29,"button",17),t.NdJ("click",function(){return o.applyFilter(o.searchValue)}),t._uU(30),t.ALo(31,"translate"),t.qZA(),t._uU(32," \xa0 "),t.TgZ(33,"a",18),t.NdJ("click",function(){return o.refresh()}),t.ALo(34,"translate"),t._UZ(35,"i",19),t.qZA(),t.qZA(),t.qZA(),t.TgZ(36,"div",1),t.TgZ(37,"div",20),t.TgZ(38,"h4",21),t._uU(39),t.ALo(40,"translate"),t.qZA(),t.qZA(),t.TgZ(41,"div",22),t.TgZ(42,"div",23),t.TgZ(43,"a",24),t.NdJ("click",function(){return o.pdcinitialLoading("pdc")}),t._UZ(44,"i",25),t._uU(45),t.ALo(46,"translate"),t.qZA(),t._uU(47," \xa0\xa0 "),t.TgZ(48,"a",24),t.NdJ("click",function(){return o.pdcinitialLoading("")}),t._UZ(49,"i",25),t._uU(50),t.ALo(51,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(52,"div",26),t.TgZ(53,"div",27),t._UZ(54,"spinner-loader",28),t.ynx(55),t.TgZ(56,"table",29),t.NdJ("matSortChange",function(r){return o.onSortOrder(r)}),t.ynx(57,30),t.YNc(58,da,3,3,"th",31),t.YNc(59,ua,2,1,"td",32),t.BQk(),t.ynx(60,33),t.YNc(61,ma,3,3,"th",31),t.YNc(62,ga,2,1,"td",32),t.BQk(),t.ynx(63,34),t.YNc(64,Za,3,3,"th",31),t.YNc(65,ha,2,1,"td",32),t.BQk(),t.ynx(66,35),t.YNc(67,_a,3,3,"th",31),t.YNc(68,Aa,3,4,"td",32),t.BQk(),t.ynx(69,36),t.YNc(70,fa,3,3,"th",31),t.YNc(71,Ta,2,1,"td",32),t.BQk(),t.ynx(72,37),t.YNc(73,va,3,3,"th",31),t.YNc(74,qa,2,1,"td",32),t.BQk(),t.ynx(75,38),t.YNc(76,Ca,3,3,"th",31),t.YNc(77,xa,3,4,"td",32),t.BQk(),t.ynx(78,39),t.YNc(79,ba,3,3,"th",31),t.YNc(80,ya,3,3,"td",32),t.BQk(),t.ynx(81,40),t.YNc(82,Ua,3,3,"th",41),t.YNc(83,Sa,9,4,"td",32),t.BQk(),t.YNc(84,Na,1,0,"tr",42),t.YNc(85,Oa,1,0,"tr",43),t.qZA(),t.ynx(86),t.TgZ(87,"mat-paginator",44),t.NdJ("page",function(r){return o.onPageSwitch(r)}),t.qZA(),t.BQk(),t.BQk(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.hij(" ",t.lcZ(5,19,"PDC_List")," "),t.xp6(6),t.hij("",t.lcZ(11,21,"Finance")," "),t.xp6(3),t.Oqu(t.lcZ(14,23,"Account_Payable")),t.xp6(3),t.hij("",t.lcZ(17,25,"PDC_List")," "),t.xp6(10),t.MGl("placeholder","",t.lcZ(27,27,"Search"),"..."),t.Q6J("ngModel",o.searchValue),t.xp6(4),t.Oqu(t.lcZ(31,29,"Search")),t.xp6(3),t.s9C("matTooltip",t.lcZ(34,31,"Refresh")),t.xp6(6),t.hij(" ",t.lcZ(40,33,"PDC_List")," "),t.xp6(6),t.hij("",t.lcZ(46,35,"PDC_Clear_List")," "),t.xp6(5),t.hij("",t.lcZ(51,37,"Non_PDC_Clear_List")," "),t.xp6(4),t.Q6J("isLoading",o.isLoading),t.xp6(2),t.Q6J("dataSource",o.data),t.xp6(28),t.Q6J("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(2),t.Q6J("length",o.totalItemsCount)("pageSize",o.pageService.pageCount)("pageSizeOptions",o.pageService.selectItemsPerPage))},directives:[s.Fj,s.JJ,s.On,z.gM,b.r,p.BZ,x.YE,p.w1,p.fO,p.Dz,p.as,p.nj,q.NW,p.ge,x.nU,p.ev,d.O5,p.XQ,p.Gk],pipes:[Z.X$,d.uU,I.J],encapsulation:2}),i})();function ka(i,a){if(1&i&&(t.TgZ(0,"option",39),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function Ia(i,a){if(1&i&&(t.TgZ(0,"option",39),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function Ma(i,a){if(1&i&&(t.TgZ(0,"option",39),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.text),t.xp6(1),t.Oqu(e.text)}}function Ja(i,a){if(1&i&&(t.TgZ(0,"div",8),t.TgZ(1,"div",9),t.TgZ(2,"label",10),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"input",40),t.ALo(6,"translate"),t.ALo(7,"translate"),t._UZ(8,"validation-message",12),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(3),t.hij("",t.lcZ(4,4,"checkNumber")," "),t.xp6(2),t.hYB("placeholder","",t.lcZ(6,6,"Please_Enter"),"  ",t.lcZ(7,8,"checkNumber")," "),t.xp6(3),t.Q6J("control",e.form.controls.checkNumber)}}function Da(i,a){if(1&i&&(t.TgZ(0,"div",8),t.TgZ(1,"label",10),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",9),t.TgZ(5,"div",19),t._UZ(6,"input",41),t.ALo(7,"translate"),t.TgZ(8,"div",21),t._UZ(9,"mat-datepicker-toggle",22),t._UZ(10,"mat-datepicker",null,42),t._UZ(12,"br"),t._UZ(13,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.MAs(11);t.xp6(2),t.Oqu(t.lcZ(3,4,"checkdate")),t.xp6(4),t.s9C("placeholder",t.lcZ(7,6,"Select_a_Date")),t.Q6J("matDatepicker",e),t.xp6(3),t.Q6J("for",e)}}function Pa(i,a){if(1&i&&(t.TgZ(0,"div",13),t.TgZ(1,"div",9),t.TgZ(2,"label",10),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"ng-select",43),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,2,"Invoice_Number")),t.xp6(2),t.Q6J("items",e.invoiceNumberList)}}let Ya=(()=>{class i{constructor(e,o,n,r,l,c,u,g){this.fb=e,this.apiService=o,this.authService=n,this.utilService=r,this.dialogRef=l,this.dialog=c,this.notifyService=u,this.validationService=g,this.id=0,this.IsEnableInvoice=!1,this.toBePaidAmount="",this.invoiceNumberList=[],this.customerSiteList=[],this.customerList=[],this.companyList=[],this.payCodeList=[],this.branchList=[],this.payCodeTypeList=[],this.invoiceItems=[],this.selectedInvoiceItems=[],this.selectedInvoiceIDs=[],this.selectedInvoiceIdList=[],this.IsCheckSelected=!1,this.payType="",this.customerCode="",this.totalAmount=0,this.totalAmountStr="",this.isArab=!1,this.isSiteSelected=!1,this.finsetup={minCutOffShortAmt:0,maxCutOffOverAmr:0}}ngOnInit(){this.isArab=this.utilService.isArabic(),this.setForm(),this.loadData(),this.loadFinSetupData()}setForm(){this.form=this.fb.group({custCode:["",s.kI.required],siteCode:[null],companyId:["",s.kI.required],branchCode:["",s.kI.required],tranDate:["",s.kI.required],payCode:["",s.kI.required],advAmount:["0",s.kI.required],invoiceNumber:[],preparedby:this.authService.getUserName(),remarks:[""],notes:[""],docNum:[""],checkNumber:[""],checkDate:[null]})}enableInvoice(e){this.IsEnableInvoice=e.checked,this.form.controls.invoiceNumber.setValue(null)}loadBranchsForCompany(e,o){e&&this.apiService.getall(`branch/getSelectSysBranchListByComId/${e}`).subscribe(n=>{n&&(this.branchList=n,"1"===o.payType&&(this.IsCheckSelected=!0),this.form.patchValue(o))})}loadFinSetupData(){this.apiService.getall("financialsetup/getFinSetup").subscribe(e=>{e&&(this.finsetup={minCutOffShortAmt:e.minCutOffShortAmt,maxCutOffOverAmr:e.maxCutOffOverAmr})})}loadData(){this.apiService.getall("paymentcodes/getSelectPaymentCodeList").subscribe(e=>{e&&(this.payCodeList=e)}),this.apiService.getall("customer/getSelectLanCustomerList?isPayment=true").subscribe(e=>{e&&(this.customerList=e,this.customerList.map(n=>(n.text=this.isArab?n.textAr:n.text,n)))}),this.apiService.getall("company/getSelectCompanyList").subscribe(e=>{e&&(this.companyList=e)}),this.apiService.getall("paymentcodes/getSelectPaymentTypeList").subscribe(e=>{e&&(this.payCodeTypeList=e)})}setCheckNumber(e){let o=e.target.value;""!==o?this.apiService.getall(`paymentcodes?payCode=${o}`).subscribe(n=>{n&&(this.payType=n.finPayType,this.setCheckNumberInput(this.payType))}):this.setCheckNumberInput("")}setCheckNumberInput(e){""!==e?(this.form.controls.payType.setValue(e),"1"===e?(this.payType=e,this.IsCheckSelected=!0,this.form.controls.checkNumber.setValidators([s.kI.required]),this.form.controls.checkDate.setValidators([s.kI.required])):this.setCheckNumberInputDefault(),this.form.controls.checkNumber.updateValueAndValidity(),this.form.controls.checkDate.updateValueAndValidity()):(this.form.controls.payType.setValue(""),this.setCheckNumberInputDefault())}setCheckNumberInputDefault(){this.form.controls.checkNumber.setValue(""),this.form.controls.checkDate.setValue(null),this.form.controls.checkNumber.clearValidators(),this.form.controls.checkDate.clearValidators(),this.IsCheckSelected=!1}resetSiteInfo(){this.isSiteSelected=!1,this.loadCustomerInvoices(this.customerCode)}selectSiteInfo(e){let o=e.value;o?(this.isSiteSelected=!0,this.loadCustomerInvoices(this.customerCode,o)):(this.isSiteSelected=!1,this.loadCustomerInvoices(this.customerCode))}loadProductdata(e){let o=e.textTwo,n=e.value;this.form.controls.siteCode.setValue(null),this.form.controls.invoiceNumber.setValue(null),o?(this.customerCode=o,this.selectedInvoiceIDs=[],this.selectedInvoiceItems=[],this.totalAmount=0,this.apiService.getall(`generateInvoice/getCustomerInvoiceNumberList/${n}`).subscribe(r=>{r&&(this.invoiceNumberList=r)}),this.apiService.getall(`customer/getCustomerSitesSelectList/${n}`).subscribe(r=>{r&&(this.customerSiteList=r,this.customerSiteList.map(l=>(l.text=this.isArab?l.textTwo:l.text,l)))})):this.toBePaidAmount="Amount to be Paid : 0"}loadCustomerInvoices(e,o=""){this.apiService.getall(`opmArPayment/getOpmArInvoiceList?customerCode=${e}&siteCode=${o}`).subscribe(n=>{n&&(this.invoiceItems=n)})}loadBranchs(e){let o=e.target.value;o&&this.apiService.getall(`branch/getSelectSysBranchListByComId/${o}`).subscribe(n=>{n&&(this.branchList=n)})}submit(){this.form.valid?(this.form.value.tranDate=this.utilService.selectedDateTime(this.form.controls.tranDate.value),this.apiService.post("opmArPayment/createOpmCustomerAdvancePayment",this.form.value).subscribe(e=>{this.utilService.OkMessage(),this.reset(),this.dialogRef.close(!0)},e=>{this.utilService.ShowApiErrorMessage(e)})):this.utilService.FillUpFields()}reset(){this.form.controls.custCode.setValue(""),this.form.controls.branchCode.setValue(""),this.form.controls.companyId.setValue("")}closeModel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(T.so),t.Y36(T.uw),t.Y36(f.g),t.Y36(O.R))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-addupdateadvancepayment-component"]],decls:130,vars:105,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-hidden","true",1,"close",3,"click"],["novalidate","",1,"mt-1",3,"formGroup","ngSubmit"],[1,"outer"],[1,"row","rowm0"],[1,"col-md-12","col-lg-12"],[1,"row"],[1,"col-md-3","col-lg-3"],[1,"form-group"],[1,"mr-sm-2"],["bindLabel","text","bindValue","textTwo","formControlName","custCode",3,"items","change"],[3,"control"],[1,"col-md-4","col-lg-4"],["bindLabel","text","bindValue","value","formControlName","siteCode",3,"items","clear","change"],["formControlName","companyId",1,"custom-select","mr-sm-2",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","branchCode",1,"custom-select","mr-sm-2"],[1,"input-group","mb-2"],["formControlName","tranDate",1,"form-control","datapickerinput",3,"placeholder","matDatepicker"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["tranDate",""],["formControlName","payCode",1,"custom-select","mr-sm-2"],["type","number","formControlName","advAmount",1,"form-control",3,"placeholder"],["type","text","formControlName","preparedby",1,"form-control",3,"placeholder"],["type","text","formControlName","docNum",1,"form-control",3,"placeholder"],["class","col-md-3 col-lg-3",4,"ngIf"],[1,"col-md-6","col-lg-6"],["formControlName","remarks",1,"form-control",3,"placeholder"],["formControlName","notes",1,"form-control",3,"placeholder"],[1,"col-md-2","col-lg-2"],[1,"mtop6"],["color","primary",3,"change"],["class","col-md-4 col-lg-4",4,"ngIf"],[1,"col-lg-12","col-md-12","text-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","waves-effect","waves-light","btn-primary",3,"value"],[3,"value"],["type","text","formControlName","checkNumber","maxlength","10",1,"form-control",3,"placeholder"],["type","text","formControlName","checkDate",1,"form-control","datapickerinput",3,"placeholder","matDatepicker"],["checkdate",""],["bindLabel","text","bindValue","value","formControlName","invoiceNumber",3,"items"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"h2",1),t._uU(2),t.ALo(3,"translate"),t.TgZ(4,"button",2),t.NdJ("click",function(){return o.closeModel()}),t._uU(5," \xd7"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"form",3),t.NdJ("ngSubmit",function(){return o.submit()}),t.TgZ(7,"div",4),t.TgZ(8,"div",5),t.TgZ(9,"div",6),t.TgZ(10,"div",7),t.TgZ(11,"div",8),t.TgZ(12,"div",9),t.TgZ(13,"label",10),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"ng-select",11),t.NdJ("change",function(r){return o.loadProductdata(r)}),t.qZA(),t._UZ(17,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(18,"div",13),t.TgZ(19,"div",9),t.TgZ(20,"label",10),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"ng-select",14),t.NdJ("clear",function(){return o.resetSiteInfo()})("change",function(r){return o.selectSiteInfo(r)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"div",8),t.TgZ(25,"div",9),t.TgZ(26,"label",10),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"select",15),t.NdJ("change",function(r){return o.loadBranchs(r)}),t.TgZ(30,"option",16),t._uU(31),t.ALo(32,"translate"),t.qZA(),t.YNc(33,ka,2,2,"option",17),t.qZA(),t._UZ(34,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(35,"div",8),t.TgZ(36,"div",9),t.TgZ(37,"label",10),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"select",18),t.TgZ(41,"option",16),t._uU(42),t.ALo(43,"translate"),t.qZA(),t.YNc(44,Ia,2,2,"option",17),t.qZA(),t._UZ(45,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(46,"div",8),t.TgZ(47,"label",10),t._uU(48),t.ALo(49,"translate"),t.qZA(),t.TgZ(50,"div",9),t.TgZ(51,"div",19),t._UZ(52,"input",20),t.ALo(53,"translate"),t.TgZ(54,"div",21),t._UZ(55,"mat-datepicker-toggle",22),t._UZ(56,"mat-datepicker",null,23),t.qZA(),t.qZA(),t._UZ(58,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(59,"div",8),t.TgZ(60,"div",9),t.TgZ(61,"label",10),t._uU(62),t.ALo(63,"translate"),t.qZA(),t.TgZ(64,"select",24),t.TgZ(65,"option",16),t._uU(66),t.ALo(67,"translate"),t.qZA(),t.YNc(68,Ma,2,2,"option",17),t.qZA(),t._UZ(69,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(70,"div",8),t.TgZ(71,"div",9),t.TgZ(72,"label",10),t._uU(73),t.ALo(74,"translate"),t.qZA(),t._UZ(75,"input",25),t.ALo(76,"translate"),t.ALo(77,"translate"),t._UZ(78,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(79,"div",8),t.TgZ(80,"div",9),t.TgZ(81,"label",10),t._uU(82),t.ALo(83,"translate"),t.qZA(),t._UZ(84,"input",26),t.ALo(85,"translate"),t.ALo(86,"translate"),t._UZ(87,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(88,"div",8),t.TgZ(89,"div",9),t.TgZ(90,"label",10),t._uU(91),t.ALo(92,"translate"),t.qZA(),t._UZ(93,"input",27),t.ALo(94,"translate"),t.ALo(95,"translate"),t.qZA(),t.qZA(),t.YNc(96,Ja,9,10,"div",28),t.YNc(97,Da,14,8,"div",28),t.TgZ(98,"div",29),t.TgZ(99,"div",9),t.TgZ(100,"label",10),t._uU(101),t.ALo(102,"translate"),t.qZA(),t._UZ(103,"textarea",30),t.ALo(104,"translate"),t.ALo(105,"translate"),t.qZA(),t.qZA(),t.TgZ(106,"div",29),t.TgZ(107,"div",9),t.TgZ(108,"label",10),t._uU(109),t.ALo(110,"translate"),t.qZA(),t._UZ(111,"textarea",31),t.ALo(112,"translate"),t.ALo(113,"translate"),t.qZA(),t.qZA(),t.TgZ(114,"div",32),t.TgZ(115,"label",33),t._uU(116),t.ALo(117,"translate"),t.qZA(),t._UZ(118,"br"),t.TgZ(119,"mat-slide-toggle",34),t.NdJ("change",function(r){return o.enableInvoice(r)}),t.qZA(),t.qZA(),t.YNc(120,Pa,6,4,"div",35),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(121,"div",4),t.TgZ(122,"div",7),t.TgZ(123,"div",36),t.TgZ(124,"button",37),t.NdJ("click",function(){return o.closeModel()}),t._uU(125),t.ALo(126,"translate"),t.qZA(),t._uU(127," \xa0\xa0 "),t._UZ(128,"input",38),t.ALo(129,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e){const n=t.MAs(57);t.xp6(2),t.hij(" ",t.lcZ(3,47,"Create_New_Customer_Advance_Payment")," "),t.xp6(4),t.Q6J("formGroup",o.form),t.xp6(8),t.Oqu(t.lcZ(15,49,"Customer")),t.xp6(2),t.Q6J("items",o.customerList),t.xp6(1),t.Q6J("control",o.form.controls.custCode),t.xp6(4),t.Oqu(t.lcZ(22,51,"Customer_Sites")),t.xp6(2),t.Q6J("items",o.customerSiteList),t.xp6(4),t.Oqu(t.lcZ(28,53,"Organization")),t.xp6(4),t.Oqu(t.lcZ(32,55,"Select_Organization")),t.xp6(2),t.Q6J("ngForOf",o.companyList),t.xp6(1),t.Q6J("control",o.form.controls.companyId),t.xp6(4),t.Oqu(t.lcZ(39,57,"Branch")),t.xp6(4),t.Oqu(t.lcZ(43,59,"Select_Branch")),t.xp6(2),t.Q6J("ngForOf",o.branchList),t.xp6(1),t.Q6J("control",o.form.controls.branchCode),t.xp6(3),t.Oqu(t.lcZ(49,61,"Receipt_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(53,63,"Select_a_Date")),t.Q6J("matDatepicker",n),t.xp6(3),t.Q6J("for",n),t.xp6(3),t.Q6J("control",o.form.controls.tranDate),t.xp6(4),t.Oqu(t.lcZ(63,65,"PayCode")),t.xp6(4),t.Oqu(t.lcZ(67,67,"Select_Organization")),t.xp6(2),t.Q6J("ngForOf",o.payCodeList),t.xp6(1),t.Q6J("control",o.form.controls.payCode),t.xp6(4),t.Oqu(t.lcZ(74,69,"amount")),t.xp6(2),t.hYB("placeholder","",t.lcZ(76,71,"Please_Enter")," ",t.lcZ(77,73,"Invoice_Reference_Number"),""),t.xp6(3),t.Q6J("control",o.form.controls.advAmount),t.xp6(4),t.hij(" ",t.lcZ(83,75,"preparedby")," "),t.xp6(2),t.hYB("placeholder"," ",t.lcZ(85,77,"Please_Enter"),"  ",t.lcZ(86,79,"LPO_Contract"),""),t.xp6(3),t.Q6J("control",o.form.controls.preparedby),t.xp6(4),t.hij(" ",t.lcZ(92,81,"Doc_Number")," "),t.xp6(2),t.hYB("placeholder"," ",t.lcZ(94,83,"Please_Enter"),"  ",t.lcZ(95,85,"Doc_Number"),""),t.xp6(3),t.Q6J("ngIf",o.IsCheckSelected),t.xp6(1),t.Q6J("ngIf",o.IsCheckSelected),t.xp6(4),t.Oqu(t.lcZ(102,87,"Remarks")),t.xp6(2),t.hYB("placeholder","",t.lcZ(104,89,"PLease_Enter")," ",t.lcZ(105,91,"Remarks"),""),t.xp6(6),t.Oqu(t.lcZ(110,93,"Invoice_Notes")),t.xp6(2),t.hYB("placeholder","",t.lcZ(112,95,"PLease_Enter")," ",t.lcZ(113,97,"Invoice_Notes"),""),t.xp6(5),t.hij(" ",t.lcZ(117,99,"Payment_Against_Invoice")," "),t.xp6(4),t.Q6J("ngIf",o.IsEnableInvoice),t.xp6(5),t.hij(" ",t.lcZ(126,101,"Cancel")," "),t.xp6(3),t.s9C("value",t.lcZ(129,103,"Save"))}},directives:[s._Y,s.JL,s.sg,j.w9,s.JJ,s.u,M.s,s.EJ,s.YN,s.Kr,d.sg,s.Fj,m.hl,m.nW,U.R9,m.Mq,s.wV,d.O5,F.Rr,s.nD],pipes:[Z.X$],encapsulation:2}),i})();function Qa(i,a){1&i&&(t.TgZ(0,"th",31),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Customer_Code")," "))}function ja(i,a){if(1&i&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.custCode)}}function Fa(i,a){1&i&&(t.TgZ(0,"th",31),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Customer_Name")," "))}function Ba(i,a){if(1&i&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.customerName)}}function Va(i,a){1&i&&(t.TgZ(0,"th",31),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Transaction_Date")," "))}function Ra(i,a){if(1&i&&(t.TgZ(0,"td",32),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.tranDate,"dd/MM/yyyy"))}}function Ea(i,a){1&i&&(t.TgZ(0,"th",31),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"PayCode")," "))}function $a(i,a){if(1&i&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.payCode)}}function za(i,a){1&i&&(t.TgZ(0,"th",31),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"amount")," "))}function Ha(i,a){if(1&i&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.advAmount)}}function Ga(i,a){1&i&&t._UZ(0,"tr",33)}function Xa(i,a){1&i&&t._UZ(0,"tr",34)}let Wa=(()=>{class i extends L.k{constructor(e,o,n,r,l,c,u,g,C,S){super(r),this.fb=e,this.router=o,this.apiService=n,this.authService=r,this.utilService=l,this.translate=c,this.notifyService=u,this.validationService=g,this.pageService=C,this.dialog=S,this.displayedColumns=["custCode","customerName","tranDate","payCode","advAmount"],this.data=new p.by,this.totalItemsCount=0,this.searchValue="",this.sortingOrder="id desc",this.isLoading=!1}ngOnInit(){this.initialLoading()}refresh(){this.searchValue="",this.initialLoading()}initialLoading(){this.loadList(0,this.pageService.pageCount,"",this.sortingOrder)}onSortOrder(e){this.sortingOrder=e.active+" "+e.direction,this.totalItemsCount=0,this.loadList(0,this.pageService.pageCount,"",this.sortingOrder)}onPageSwitch(e){this.pageService.change(e),this.loadList(e.pageIndex,e.pageSize,"",this.sortingOrder)}loadList(e,o,n,r){this.isLoading=!0,this.apiService.getPagination("opmArPayment/getCustomerAdvancePaymentPazedList",this.utilService.getQueryString(e,o,n,r)).subscribe(l=>{this.totalItemsCount=0,this.data=new p.by(l.items),this.totalItemsCount=l.totalCount,setTimeout(()=>{this.paginator.pageIndex=e,this.paginator.length=this.totalItemsCount}),this.data.sort=this.sort,this.isLoading=!1},l=>this.utilService.ShowApiErrorMessage(l))}applyFilter(e){e&&(this.searchValue=e,this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder))}openDialogManage(e=0,o,n="",r="",l){let c=this.utilService.openCrudDialog(this.dialog,l,"98");c.componentInstance.dbops=o,c.componentInstance.modalTitle=n,c.componentInstance.id=e,c.afterClosed().subscribe(u=>{u&&!0===u&&this.initialLoading()})}addAdvance(){this.openDialogManage(0,v.Oi.update,this.translate.instant("Add_Advance_Payment"),"",Ya)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(Q.F0),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(Z.sK),t.Y36(f.g),t.Y36(O.R),t.Y36(k.N),t.Y36(T.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-advancepayment"]],viewQuery:function(e,o){if(1&e&&(t.Gf(q.NW,7),t.Gf(x.YE,7)),2&e){let n;t.iGM(n=t.CRH())&&(o.paginator=n.first),t.iGM(n=t.CRH())&&(o.sort=n.first)}},features:[t.qOj],decls:51,vars:24,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"row","pb-3"],[1,"card-title","pt6"],[1,"col-md-3"],[1,"form-control",3,"placeholder","ngModel","ngModelChange"],[1,"col-md-4","arabicright"],[1,"btn","btn-primary",3,"click"],[1,"",3,"matTooltip","click"],[1,"btn","btn-primary","icon-refresh"],[1,"col-md-5","col-lg-5","text-right"],["data-toggle","modal","data-target","#createnewbranch","href","#",1,"btn","waves-effect","waves-light","btn-rounded","btn-outline-primary",3,"click"],[1,"icon-plus"],[1,"cardtitle-divider"],[1,"table-responsive"],[3,"isLoading"],[1,"mat-elevation-z8"],["mat-table","","matSortDisableClear","","matSort","",1,"table","table-bordered","no-wrap",3,"dataSource","matSortChange"],["matColumnDef","custCode"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","customerName"],["matColumnDef","tranDate"],["matColumnDef","payCode"],["matColumnDef","advAmount"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions","page"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"div",2),t.TgZ(7,"h4",6),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.qZA(),t.TgZ(10,"div",7),t.TgZ(11,"input",8),t.NdJ("ngModelChange",function(r){return o.searchValue=r}),t.ALo(12,"translate"),t.qZA(),t.qZA(),t.TgZ(13,"div",9),t.TgZ(14,"button",10),t.NdJ("click",function(){return o.applyFilter(o.searchValue)}),t._uU(15),t.ALo(16,"translate"),t.qZA(),t._uU(17," \xa0 "),t.TgZ(18,"a",11),t.NdJ("click",function(){return o.refresh()}),t.ALo(19,"translate"),t._UZ(20,"i",12),t.qZA(),t.qZA(),t.TgZ(21,"div",13),t.TgZ(22,"a",14),t.NdJ("click",function(){return o.addAdvance()}),t._UZ(23,"i",15),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.qZA(),t.qZA(),t._UZ(26,"div",16),t.TgZ(27,"div",17),t._UZ(28,"spinner-loader",18),t.TgZ(29,"div",19),t.ynx(30),t.TgZ(31,"table",20),t.NdJ("matSortChange",function(r){return o.onSortOrder(r)}),t.ynx(32,21),t.YNc(33,Qa,3,3,"th",22),t.YNc(34,ja,2,1,"td",23),t.BQk(),t.ynx(35,24),t.YNc(36,Fa,3,3,"th",22),t.YNc(37,Ba,2,1,"td",23),t.BQk(),t.ynx(38,25),t.YNc(39,Va,3,3,"th",22),t.YNc(40,Ra,3,4,"td",23),t.BQk(),t.ynx(41,26),t.YNc(42,Ea,3,3,"th",22),t.YNc(43,$a,2,1,"td",23),t.BQk(),t.ynx(44,27),t.YNc(45,za,3,3,"th",22),t.YNc(46,Ha,2,1,"td",23),t.BQk(),t.YNc(47,Ga,1,0,"tr",28),t.YNc(48,Xa,1,0,"tr",29),t.qZA(),t.ynx(49),t.TgZ(50,"mat-paginator",30),t.NdJ("page",function(r){return o.onPageSwitch(r)}),t.qZA(),t.BQk(),t.BQk(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(8),t.hij("",t.lcZ(9,14,"Add_Advance_Payment_List")," "),t.xp6(3),t.MGl("placeholder","",t.lcZ(12,16,"Search"),"..."),t.Q6J("ngModel",o.searchValue),t.xp6(4),t.Oqu(t.lcZ(16,18,"Search")),t.xp6(3),t.s9C("matTooltip",t.lcZ(19,20,"Refresh")),t.xp6(6),t.hij("",t.lcZ(25,22,"Add_Advance_Payment")," "),t.xp6(4),t.Q6J("isLoading",o.isLoading),t.xp6(3),t.Q6J("dataSource",o.data),t.xp6(16),t.Q6J("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(2),t.Q6J("length",o.totalItemsCount)("pageSize",o.pageService.pageCount)("pageSizeOptions",o.pageService.selectItemsPerPage))},directives:[s.Fj,s.JJ,s.On,z.gM,b.r,p.BZ,x.YE,p.w1,p.fO,p.Dz,p.as,p.nj,q.NW,p.ge,x.nU,p.ev,p.XQ,p.Gk],pipes:[Z.X$,d.uU],encapsulation:2}),i})();var Ka=y(4536);function tr(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.Oqu(t.xi3(3,6,e.tranDate,"dd-MM-yyyy")),t.xp6(3),t.Oqu(e.trantype),t.xp6(2),t.Oqu(e.remarks1),t.xp6(2),t.Oqu(e.drAmount),t.xp6(2),t.Oqu(e.crAmount),t.xp6(2),t.Oqu(e.tranNumber)}}let ct=(()=>{class i{constructor(e,o,n,r){this.http=e,this.apiService=o,this.authService=n,this.dialogRef=r,this.isSavePDF=!1,this.isArabic=!1,this.customerCode="",this.list=[],this.totalCrAmount=0,this.totalDrAmount=0,this.totalBalance=0,this.isLoading=!1}ngOnInit(){this.today=(new Date).toDateString(),this.loadData()}loadData(){this.isLoading=!0,this.apiService.getall(`customerPayment/getCustomerStatementList?customerCode=${this.customerCode}`).subscribe(e=>{this.isLoading=!1,e&&(this.custInfo=e,this.list=e.list,this.list.forEach(o=>{this.totalCrAmount+=o.crAmount,this.totalDrAmount+=o.drAmount}),this.totalDrAmount=parseFloat(this.totalDrAmount.toFixed(2).toString()),this.totalCrAmount=parseFloat(this.totalCrAmount.toFixed(2).toString()),this.totalBalance=parseFloat(this.totalDrAmount.toFixed(2).toString())-parseFloat(this.totalCrAmount.toFixed(2).toString()))})}closeModel(){this.dialogRef.close()}printInvoice(){this.isSavePDF=!1,this.openPrint()}openPrint(){const e=document.getElementById("printcontainer"),o=window.open("","","left=0,top=0,width=2000,height=1000,toolbar=0,scrollbars=0,status=0");setTimeout(()=>{o.document.write(e.innerHTML),o.document.close(),o.focus(),o.print(),o.close()},50)}saveAsPDF(){this.isSavePDF=!0,this.openPrint()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36($.eN),t.Y36(h.s),t.Y36(_._),t.Y36(T.so))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-customerstatement"]],decls:123,vars:58,consts:[[3,"click"],["type","button","aria-hidden","true",1,"",3,"click"],["type","button","aria-hidden","true",1,"close",3,"click"],[3,"isLoading"],["id","printcontainer"],[1,"modal-content"],[1,"modal-header"],["id","scrollableModalTitle",1,"modal-title"],[1,"modal-body"],[1,"outer"],[1,"row"],[1,"col-md-8","col-lg-8"],[1,"font-weight-medium"],[1,"col-md-4","col-lg-4","text-right"],[2,"width","200px","height","100px",3,"src"],[1,"table-responsive"],[1,"table","table-bordered","no-wrap"],["colspan","6",1,"text-center","font-weight-medium"],["colspan","3",1,"text-left","font-weight-medium"],[1,"bordernone",2,"width","100%"],["rowspan","2",2,"vertical-align","middle","width","10%"],[1,"text-right"],["rowspan","2",2,"vertical-align","middle","width","15%"],["rowspan","2",2,"vertical-align","middle"],["colspan","3",1,"text-center","font-weight-medium"],[1,"15per",2,"width","10%"],[4,"ngFor","ngForOf"],[1,"tfoot"],["colspan","3",1,"text-right"],[1,"preparedbytable","table","table-bordered","no-wrap"]],template:function(e,o){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"button",0),t.NdJ("click",function(){return o.printInvoice()}),t._uU(2,"Print"),t.qZA(),t._uU(3," \xa0 "),t._uU(4," \xa0 "),t.TgZ(5,"button",1),t.NdJ("click",function(){return o.closeModel()}),t._uU(6," Close"),t.qZA(),t._UZ(7,"br"),t.TgZ(8,"button",2),t.NdJ("click",function(){return o.closeModel()}),t._uU(9," \xd7"),t.qZA(),t.qZA(),t._UZ(10,"br"),t._UZ(11,"br"),t._UZ(12,"br"),t._UZ(13,"spinner-loader",3),t.TgZ(14,"div",4),t.TgZ(15,"div",5),t.TgZ(16,"div",6),t.TgZ(17,"h2",7),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.qZA(),t.TgZ(20,"div",8),t.TgZ(21,"div",9),t.TgZ(22,"div",10),t.TgZ(23,"div",11),t.TgZ(24,"div",12),t._uU(25),t._UZ(26,"br"),t._uU(27),t.qZA(),t.qZA(),t.TgZ(28,"div",13),t._UZ(29,"img",14),t.qZA(),t.qZA(),t.TgZ(30,"div",15),t.TgZ(31,"table",16),t.TgZ(32,"thead"),t.TgZ(33,"tr"),t.TgZ(34,"td",17),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.qZA(),t.TgZ(37,"tr"),t.TgZ(38,"td",18),t.TgZ(39,"h2"),t._uU(40),t.qZA(),t._uU(41),t._UZ(42,"br"),t._uU(43),t._UZ(44,"br"),t._uU(45),t.qZA(),t.TgZ(46,"td",18),t.TgZ(47,"table",19),t.TgZ(48,"tr"),t.TgZ(49,"td"),t._uU(50),t.ALo(51,"translate"),t._UZ(52,"br"),t._uU(53," \u062a\u0627\u0631\u064a\u062e \u0643\u0634\u0641 \u0627\u0644\u062d\u0633\u0627\u0628 "),t.qZA(),t.TgZ(54,"td"),t._uU(55),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(56,"tr"),t.TgZ(57,"td",18),t._uU(58),t.ALo(59,"translate"),t.qZA(),t.TgZ(60,"td",18),t.TgZ(61,"span"),t._uU(62),t.ALo(63,"translate"),t.qZA(),t._uU(64," $50.50 "),t.qZA(),t.qZA(),t.TgZ(65,"tr"),t.TgZ(66,"th",20),t._uU(67),t.ALo(68,"translate"),t.TgZ(69,"div",21),t._uU(70," \u062a\u0627\u0631\u064a\u062e "),t.qZA(),t.qZA(),t.TgZ(71,"th",22),t._uU(72),t.ALo(73,"translate"),t.TgZ(74,"div",21),t._uU(75," \u0631\u0642\u0645 \u0627\u0644\u062a\u062d\u0648\u064a\u0644\u0629 "),t.qZA(),t.qZA(),t.TgZ(76,"th",23),t._uU(77),t.ALo(78,"translate"),t.TgZ(79,"div",21),t._uU(80," \u0648\u0635\u0641"),t.qZA(),t.qZA(),t.TgZ(81,"th",24),t._uU(82),t.ALo(83,"translate"),t.qZA(),t.qZA(),t.TgZ(84,"tr"),t.TgZ(85,"th",25),t._uU(86),t.ALo(87,"translate"),t.TgZ(88,"div",21),t._uU(89," \u0645\u0628\u0644\u063a \u0627\u0644\u062f\u0643\u062a\u0648\u0631"),t.qZA(),t.qZA(),t.TgZ(90,"th",25),t._uU(91),t.ALo(92,"translate"),t.TgZ(93,"div",21),t._uU(94,"\u0627\u0644\u0645\u0628\u0644\u063a \u0643\u0631"),t.qZA(),t.qZA(),t.TgZ(95,"th",25),t._uU(96),t.ALo(97,"translate"),t.TgZ(98,"div",21),t._uU(99," \u0627\u0644\u0631\u0635\u064a\u062f"),t.qZA(),t.qZA(),t.qZA(),t._UZ(100,"tr"),t.qZA(),t.TgZ(101,"tbody"),t.YNc(102,tr,14,9,"tr",26),t.TgZ(103,"tr",27),t.TgZ(104,"td",28),t._uU(105),t.ALo(106,"translate"),t.qZA(),t.TgZ(107,"td"),t._uU(108),t.qZA(),t.TgZ(109,"td"),t._uU(110),t.qZA(),t.TgZ(111,"td"),t._uU(112),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(113,"table",29),t.TgZ(114,"tr"),t.TgZ(115,"td"),t.TgZ(116,"label"),t._uU(117),t.ALo(118,"translate"),t.qZA(),t.qZA(),t.TgZ(119,"td"),t.TgZ(120,"label"),t._uU(121),t.ALo(122,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(13),t.Q6J("isLoading",o.isLoading),t.xp6(5),t.hij(" ",t.lcZ(19,28,"Customer_Statement_Report"),""),t.xp6(7),t.hij(" ",o.custInfo.companyName,""),t.xp6(2),t.hij(" ",o.custInfo.companyAddress," "),t.xp6(2),t.s9C("src",o.custInfo.logoURL,t.LSH),t.xp6(6),t.hij(" ",t.lcZ(36,30,"Customer_Statement_of_Account"),". \u0643\u0634\u0641 \u062d\u0633\u0627\u0628 \u0627\u0644\u0639\u0645\u064a\u0644 "),t.xp6(5),t.Oqu(o.custInfo.customerName),t.xp6(1),t.hij(" ",o.custInfo.custCode,""),t.xp6(2),t.hij(" ",o.custInfo.custAddress1,""),t.xp6(2),t.hij(" ",o.custInfo.custAddress2," "),t.xp6(5),t.hij(" ",t.lcZ(51,32,"Statement_Date"),": "),t.xp6(5),t.Oqu(o.today),t.xp6(3),t.hij(" ",t.lcZ(59,34,"Statement_period_from")," Jan-1-2022 to May-18-2022 "),t.xp6(4),t.hij(" ",t.lcZ(63,36,"Open_Balance"),"\u062d\u0633\u0627\u0628 \u0645\u0641\u062a\u0648\u062d "),t.xp6(5),t.Oqu(t.lcZ(68,38,"Date")),t.xp6(5),t.hij(" ",t.lcZ(73,40,"Trantype"),""),t.xp6(5),t.hij(" ",t.lcZ(78,42,"Description"),""),t.xp6(5),t.hij(" ",t.lcZ(83,44,"Amount_in_SAR")," - \u0627\u0644\u0645\u0628\u0644\u063a \u0628\u0627\u0644\u0631\u064a\u0627\u0644 \u0627\u0644\u0633\u0639\u0648\u062f\u064a "),t.xp6(4),t.Oqu(t.lcZ(87,46,"Dr_Amount")),t.xp6(5),t.hij(" ",t.lcZ(92,48,"Cr_Amount"),""),t.xp6(5),t.hij(" ",t.lcZ(97,50,"Balance"),""),t.xp6(6),t.Q6J("ngForOf",o.list),t.xp6(3),t.Oqu(t.lcZ(106,52,"Closing_Balance_Amount")),t.xp6(3),t.Oqu(o.totalDrAmount),t.xp6(2),t.Oqu(o.totalCrAmount),t.xp6(2),t.Oqu(o.totalBalance),t.xp6(5),t.hij(" ",t.lcZ(118,54,"Prepared_by"),":"),t.xp6(4),t.hij("",t.lcZ(122,56,"Received_by"),":"))},directives:[b.r,d.sg],pipes:[Z.X$,d.uU],styles:["@media print {\n    div.print-container[_ngcontent-%COMP%] {\n      padding-top: 50px !important;\n      border: 1px solid red;\n    }\n  }\n\n  .ur_tablestyle[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .ur_tablestyle[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\n    padding: 7px;\n  }"]}),i})();function er(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"date"),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.qZA(),t.TgZ(19,"td"),t._uU(20),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.Oqu(t.xi3(3,9,e.invoiceDate,"dd-MM-yyyy")),t.xp6(3),t.Oqu(e.creditDays),t.xp6(2),t.Oqu(t.xi3(8,12,e.dueDate,"dd-MM-yyyy")),t.xp6(3),t.Oqu(e.tranSource),t.xp6(2),t.Oqu(e.trantype),t.xp6(2),t.Oqu(e.netAmount),t.xp6(2),t.Oqu(e.paidAmount),t.xp6(2),t.Oqu(e.balanceAmount),t.xp6(2),t.Oqu(e.appliedAmount)}}let or=(()=>{class i{constructor(e,o,n,r){this.http=e,this.apiService=o,this.authService=n,this.dialogRef=r,this.isSavePDF=!1,this.isArabic=!1,this.customerCode="",this.list=[]}ngOnInit(){this.loadData()}loadData(){this.apiService.getall(`customerPayment/getCustomerInvoiceStatementList?customerCode=${this.customerCode}`).subscribe(e=>{e&&(this.list=e)})}closeModel(){this.dialogRef.close()}printInvoice(){this.isSavePDF=!1,this.openPrint()}openPrint(){const e=document.getElementById("printcontainer"),o=window.open("","","left=0,top=0,width=2000,height=1000,toolbar=0,scrollbars=0,status=0");setTimeout(()=>{o.document.write(e.innerHTML),o.document.close(),o.focus(),o.print(),o.close()},50)}saveAsPDF(){this.isSavePDF=!0,this.openPrint()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36($.eN),t.Y36(h.s),t.Y36(_._),t.Y36(T.so))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-customerinvoicestatement"]],decls:51,vars:31,consts:[[3,"click"],["type","button","aria-hidden","true",1,"",3,"click"],["type","button","aria-hidden","true",1,"close",3,"click"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],["id","printcontainer"],["border","1","cellpadding","10","cellspacing","0","width","100%",1,"ur_tablestyle",2,"width","100%","padding-bottom","5px"],[4,"ngFor","ngForOf"]],template:function(e,o){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"button",0),t.NdJ("click",function(){return o.printInvoice()}),t._uU(2,"Print"),t.qZA(),t._uU(3," \xa0 "),t._uU(4," \xa0 "),t.TgZ(5,"button",1),t.NdJ("click",function(){return o.closeModel()}),t._uU(6," Close"),t.qZA(),t._UZ(7,"br"),t.TgZ(8,"button",2),t.NdJ("click",function(){return o.closeModel()}),t._uU(9," \xd7"),t.qZA(),t.qZA(),t._UZ(10,"br"),t._UZ(11,"br"),t._UZ(12,"br"),t.TgZ(13,"div",3),t.TgZ(14,"div",4),t.TgZ(15,"h3",5),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",6),t.TgZ(19,"table",7),t.TgZ(20,"thead"),t.TgZ(21,"tr"),t.TgZ(22,"th"),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"th"),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"th"),t._uU(29),t.ALo(30,"translate"),t.qZA(),t.TgZ(31,"th"),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"th"),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.TgZ(37,"th"),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"th"),t._uU(41),t.ALo(42,"translate"),t.qZA(),t.TgZ(43,"th"),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.TgZ(46,"th"),t._uU(47),t.ALo(48,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(49,"tbody"),t.YNc(50,er,21,15,"tr",8),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(16),t.hij(" ",t.lcZ(17,11,"Customer_Payment")," "),t.xp6(7),t.hij("",t.lcZ(24,13,"InvoiceDate")," "),t.xp6(3),t.hij("",t.lcZ(27,15,"CreditDays")," "),t.xp6(3),t.hij("",t.lcZ(30,17,"DueDate")," "),t.xp6(3),t.hij("",t.lcZ(33,19,"tranSource")," "),t.xp6(3),t.hij("",t.lcZ(36,21,"trantype")," "),t.xp6(3),t.hij("",t.lcZ(39,23,"NetAmount")," "),t.xp6(3),t.hij("",t.lcZ(42,25,"PaidAmount")," "),t.xp6(3),t.hij("",t.lcZ(45,27,"BalanceAmount")," "),t.xp6(3),t.Oqu(t.lcZ(48,29,"AppliedAmount")),t.xp6(3),t.Q6J("ngForOf",o.list))},directives:[d.sg],pipes:[Z.X$,d.uU],styles:["@media print {\n    div.print-container[_ngcontent-%COMP%] {\n      padding-top: 50px !important;\n      border: 1px solid red;\n    }\n  }\n\n  .ur_tablestyle[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .ur_tablestyle[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\n    padding: 7px;\n  }"]}),i})();function ir(i,a){if(1&i&&(t.TgZ(0,"b",45),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.Q6J("ngClass","chk"==e.isActive?"btn-primary":"btn-danger"),t.xp6(1),t.Oqu("chk"==e.isActive?"Active":"InActive")}}function nr(i,a){1&i&&(t.TgZ(0,"b",46),t._uU(1,"All"),t.qZA())}function ar(i,a){1&i&&(t.TgZ(0,"th",47),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Customer_Code")," "))}function rr(i,a){if(1&i&&(t.TgZ(0,"td",48),t.TgZ(1,"span",49),t._uU(2,"\xa0\xa0\xa0\xa0"),t.qZA(),t._uU(3),t.qZA()),2&i){const e=a.$implicit;t.xp6(3),t.hij(" ",e.custCode," ")}}function sr(i,a){1&i&&(t.TgZ(0,"th",47),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Customer_Name")," "))}function lr(i,a){if(1&i&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&i){const e=a.$implicit,o=t.oxw();t.xp6(1),t.Oqu(o.isArab?e.custArbName:e.custName)}}function cr(i,a){1&i&&(t.TgZ(0,"th",47),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Alias_Name")," "))}function pr(i,a){if(1&i&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.custAlias)}}function dr(i,a){1&i&&(t.TgZ(0,"th",47),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Customer_Address")," "))}function ur(i,a){if(1&i&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.custAddress1)}}function mr(i,a){1&i&&(t.TgZ(0,"th",47),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Category")," "))}function gr(i,a){if(1&i&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.custCatCode)}}function Zr(i,a){1&i&&(t.TgZ(0,"th",47),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Is_Customer_Active")," "))}function hr(i,a){1&i&&(t.TgZ(0,"span",52),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Active"),""))}function _r(i,a){1&i&&(t.TgZ(0,"span",53),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"InActive"),""))}function Ar(i,a){if(1&i&&(t.TgZ(0,"td",48),t.YNc(1,hr,3,3,"span",50),t.YNc(2,_r,3,3,"ng-template",null,51,t.W1O),t.qZA()),2&i){const e=a.$implicit,o=t.MAs(3);t.xp6(1),t.Q6J("ngIf",e.isActive)("ngIfElse",o)}}function fr(i,a){1&i&&(t.TgZ(0,"th",54),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Actions"),""))}function Tr(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"td",48),t.TgZ(1,"a",55),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().edit(r.id)}),t.ALo(2,"translate"),t._UZ(3,"i",56),t.qZA(),t.TgZ(4,"a",55),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().delete(r.id)}),t.ALo(5,"translate"),t._UZ(6,"i",57),t.qZA(),t.TgZ(7,"a",55),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().print(r.custCode)}),t.ALo(8,"translate"),t._UZ(9,"i",58),t.qZA(),t._uU(10,"\xa0 "),t.TgZ(11,"a",55),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().printCustInvoices(r.custCode)}),t.ALo(12,"translate"),t._UZ(13,"i",59),t.qZA(),t._uU(14,"\xa0 "),t.TgZ(15,"a",60),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().uploadFile(r.custCode)}),t.ALo(16,"translate"),t._UZ(17,"i",61),t.qZA(),t._uU(18," \xa0 "),t.qZA()}2&i&&(t.xp6(1),t.s9C("matTooltip",t.lcZ(2,5,"Edit_Item")),t.xp6(3),t.s9C("matTooltip",t.lcZ(5,7,"Delete_Item")),t.xp6(3),t.s9C("matTooltip",t.lcZ(8,9,"Customer_Statement_Report")),t.xp6(4),t.s9C("matTooltip",t.lcZ(12,11,"Customer_Payment")),t.xp6(4),t.s9C("matTooltip",t.lcZ(16,13,"Document_Upload")))}function vr(i,a){1&i&&t._UZ(0,"tr",62)}function qr(i,a){1&i&&t._UZ(0,"tr",63)}let Cr=(()=>{class i extends L.k{constructor(e,o,n,r,l,c,u,g,C,S,w){super(l),this.fb=e,this.http=o,this.router=n,this.apiService=r,this.authService=l,this.translate=c,this.notifyService=u,this.utilService=g,this.validationService=C,this.dialog=S,this.pageService=w,this.displayedColumns=["custCode","custName","custAlias","custAddress1","custCatCode","isActive","Actions"],this.searchValue="",this.sortingOrder="id desc",this.isLoading=!1,this.id=0,this.isArab=!1,this.isActive=""}ngOnInit(){this.isArab=this.utilService.isArabic(),this.initialLoading()}refresh(){this.searchValue="",this.isActive="",this.sortingOrder="id desc",this.initialLoading()}initialLoading(){this.loadList(0,this.pageService.pageCount,"",this.sortingOrder)}onSortOrder(e){this.totalItemsCount=0,this.sortingOrder=e.active+" "+e.direction,this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder)}onPageSwitch(e){this.pageService.change(e),this.loadList(e.pageIndex,e.pageSize,this.searchValue,this.sortingOrder,this.isActive)}loadList(e,o,n,r,l=""){this.isLoading=!0,this.apiService.getPagination("CustomerMaster",this.utilService.getQueryString(e,o,n,r,l,"11")).subscribe(c=>{this.totalItemsCount=0,this.data=new p.by(c.items),this.totalItemsCount=c.totalCount,setTimeout(()=>{this.paginator.pageIndex=e,this.paginator.length=this.totalItemsCount}),this.data.sort=this.sort,this.isLoading=!1},c=>this.utilService.ShowApiErrorMessage(c))}CustomerActiveChecked(e){this.isActive=e.checked?"chk":"unchk",this.loadList(0,this.pageService.pageCount,"",this.sortingOrder,this.isActive)}applyFilter(e){e&&(this.searchValue=e,this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder))}openDialogManage(e=0,o,n,r){let l=this.utilService.openCrudDialog(this.dialog,Ka.L);l.componentInstance.dbops=o,l.componentInstance.modalTitle=n,l.componentInstance.modalBtnTitle=r,l.componentInstance.id=e,l.afterClosed().subscribe(c=>{c&&!0===c&&this.initialLoading()})}openDialogManageOne(e="",o,n="",r){let l=this.utilService.openDialogCongif(this.dialog,r);l.componentInstance.dbops=o,l.componentInstance.modalTitle=n,l.componentInstance.customerCode=e}create(){this.openDialogManage(0,v.Oi.create,"Adding_New_Customer","Add")}edit(e){this.openDialogManage(e,v.Oi.update,"Updating_Customer","Update")}print(e){this.openDialogManageOne(e,v.Oi.update,this.translate.instant("Create_New_Sales_Invoice"),ct)}printCustInvoices(e){this.openDialogManageOne(e,v.Oi.update,this.translate.instant("Create_New_Sales_Invoice"),or)}openFileUploadDialogManage(e="",o,n,r=80){let l=this.utilService.openDialogCongif(this.dialog,o,r);l.componentInstance.modalTitle=e,l.componentInstance.moduleFile=n,l.afterClosed().subscribe(c=>{})}uploadFile(e){this.openFileUploadDialogManage(this.translate.instant("Document_Upload"),gt.Y,{module:"FINANCE",action:"CUST",id:e,sourceId:e})}delete(e){this.utilService.openDeleteConfirmDialog(this.dialog,H.a).afterClosed().subscribe(n=>{n&&e>0&&this.apiService.delete("CustomerMaster",e).subscribe(r=>{this.utilService.OkMessage(),this.ngOnInit()})},n=>this.utilService.ShowApiErrorMessage(n))}submit(){}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36($.eN),t.Y36(Q.F0),t.Y36(h.s),t.Y36(_._),t.Y36(Z.sK),t.Y36(f.g),t.Y36(A.t),t.Y36(O.R),t.Y36(T.uw),t.Y36(k.N))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-arcustomer"]],viewQuery:function(e,o){if(1&e&&(t.Gf(q.NW,7),t.Gf(x.YE,7)),2&e){let n;t.iGM(n=t.CRH())&&(o.paginator=n.first),t.iGM(n=t.CRH())&&(o.sort=n.first)}},features:[t.qOj],decls:83,vars:41,consts:[[1,"page-breadcrumb"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],[1,"container-fluid"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"row","pb-3"],[1,"col-md-3"],[1,"form-control",3,"placeholder","ngModel","ngModelChange"],[1,"col-md-4","arabicright"],[1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-primary",3,"matTooltip","click"],[1,"col-md-4","col-lg-4"],[1,"card-title","pt6"],[1,"col-md-8","col-lg-8","text-right"],["class","btn",3,"ngClass",4,"ngIf"],["class","btn btn-warning",4,"ngIf"],["color","primary",3,"change"],["data-toggle","modal","data-target","#addupdateUnit","href","#",1,"btn","waves-effect","waves-light","btn-rounded","btn-outline-primary",3,"click"],[1,"icon-plus"],[1,"cardtitle-divider"],[1,"table-responsive"],[3,"isLoading"],[1,"mat-elevation-z8"],["mat-table","","matSort","","matSortActive","id","matSortDisableClear","","matSortDirection","desc",1,"table","table-bordered","no-wrap",3,"dataSource","matSortChange"],["matColumnDef","custCode"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","custName"],["matColumnDef","custAlias"],["matColumnDef","custAddress1"],["matColumnDef","custCatCode"],["matColumnDef","isActive"],["matColumnDef","Actions","stickyEnd",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions","page"],[1,"btn",3,"ngClass"],[1,"btn","btn-warning"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"circle-color"],["class","badge badge-pill badge-success",4,"ngIf","ngIfElse"],["inActive",""],[1,"badge","badge-pill","badge-success"],[1,"badge","badge-pill","badge-light"],["mat-header-cell",""],[1,"tableicons",3,"matTooltip","click"],[1,"icon-note"],[1,"icon-trash"],[1,"icon-printer"],[1,"icon-list"],["data-toggle","modal","data-target","#scrollable-modal",1,"tableicons","pcursor",3,"matTooltip","click"],[1,"icon-cloud-upload"],["mat-header-row",""],["mat-row",""]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"nav",5),t.TgZ(8,"ol",6),t.TgZ(9,"li",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"li",7),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"li",8),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",9),t.TgZ(19,"div",1),t.TgZ(20,"div",10),t.TgZ(21,"div",11),t.TgZ(22,"div",12),t.TgZ(23,"div",13),t._UZ(24,"div",10),t.TgZ(25,"div",14),t.TgZ(26,"input",15),t.NdJ("ngModelChange",function(r){return o.searchValue=r}),t.ALo(27,"translate"),t.qZA(),t.qZA(),t.TgZ(28,"div",16),t.TgZ(29,"button",17),t.NdJ("click",function(){return o.applyFilter(o.searchValue)}),t._uU(30),t.ALo(31,"translate"),t.qZA(),t._uU(32," \xa0 "),t.TgZ(33,"button",18),t.NdJ("click",function(){return o.refresh()}),t.ALo(34,"translate"),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(37,"div",1),t.TgZ(38,"div",19),t.TgZ(39,"h4",20),t._uU(40),t.ALo(41,"translate"),t.qZA(),t.qZA(),t.TgZ(42,"div",21),t.YNc(43,ir,2,2,"b",22),t.YNc(44,nr,2,0,"b",23),t._uU(45," \xa0\xa0\xa0\xa0 "),t.TgZ(46,"mat-slide-toggle",24),t.NdJ("change",function(r){return o.CustomerActiveChecked(r)}),t.qZA(),t._uU(47," \xa0\xa0\xa0\xa0 "),t.TgZ(48,"a",25),t.NdJ("click",function(){return o.create()}),t._UZ(49,"i",26),t._uU(50),t.ALo(51,"translate"),t.qZA(),t.qZA(),t.qZA(),t._UZ(52,"div",27),t.TgZ(53,"div",28),t._UZ(54,"spinner-loader",29),t.TgZ(55,"div",30),t.ynx(56),t.TgZ(57,"table",31),t.NdJ("matSortChange",function(r){return o.onSortOrder(r)}),t.ynx(58,32),t.YNc(59,ar,3,3,"th",33),t.YNc(60,rr,4,1,"td",34),t.BQk(),t.ynx(61,35),t.YNc(62,sr,3,3,"th",33),t.YNc(63,lr,2,1,"td",34),t.BQk(),t.ynx(64,36),t.YNc(65,cr,3,3,"th",33),t.YNc(66,pr,2,1,"td",34),t.BQk(),t.ynx(67,37),t.YNc(68,dr,3,3,"th",33),t.YNc(69,ur,2,1,"td",34),t.BQk(),t.ynx(70,38),t.YNc(71,mr,3,3,"th",33),t.YNc(72,gr,2,1,"td",34),t.BQk(),t.ynx(73,39),t.YNc(74,Zr,3,3,"th",33),t.YNc(75,Ar,4,2,"td",34),t.BQk(),t.ynx(76,40),t.YNc(77,fr,3,3,"th",41),t.YNc(78,Tr,19,15,"td",34),t.BQk(),t.YNc(79,vr,1,0,"tr",42),t.YNc(80,qr,1,0,"tr",43),t.qZA(),t.ynx(81),t.TgZ(82,"mat-paginator",44),t.NdJ("page",function(r){return o.onPageSwitch(r)}),t.qZA(),t.BQk(),t.BQk(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.hij(" ",t.lcZ(5,21,"Customer_Master")," "),t.xp6(6),t.hij("",t.lcZ(11,23,"Account_Receivables")," "),t.xp6(3),t.Oqu(t.lcZ(14,25,"Customer_Master")),t.xp6(3),t.hij("",t.lcZ(17,27,"Customers_List")," "),t.xp6(10),t.MGl("placeholder","",t.lcZ(27,29,"Search"),"..."),t.Q6J("ngModel",o.searchValue),t.xp6(4),t.Oqu(t.lcZ(31,31,"Search")),t.xp6(3),t.s9C("matTooltip",t.lcZ(34,33,"Refresh")),t.xp6(2),t.hij(" ",t.lcZ(36,35,"Refresh"),""),t.xp6(5),t.Oqu(t.lcZ(41,37,"Customer_Master_List")),t.xp6(3),t.Q6J("ngIf",o.isActive),t.xp6(1),t.Q6J("ngIf",!o.isActive),t.xp6(6),t.Oqu(t.lcZ(51,39,"Add_New_Customer")),t.xp6(4),t.Q6J("isLoading",o.isLoading),t.xp6(3),t.Q6J("dataSource",o.data),t.xp6(22),t.Q6J("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(2),t.Q6J("length",o.totalItemsCount)("pageSize",o.pageService.pageCount)("pageSizeOptions",o.pageService.selectItemsPerPage))},directives:[s.Fj,s.JJ,s.On,z.gM,d.O5,F.Rr,b.r,p.BZ,x.YE,p.w1,p.fO,p.Dz,p.as,p.nj,q.NW,d.mk,p.ge,x.nU,p.ev,p.XQ,p.Gk],pipes:[Z.X$],encapsulation:2}),i})();function xr(i,a){if(1&i&&(t.TgZ(0,"option",35),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function br(i,a){if(1&i&&(t.TgZ(0,"option",35),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function yr(i,a){if(1&i&&(t.TgZ(0,"option",35),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.text),t.xp6(1),t.Oqu(e.text)}}function Ur(i,a){if(1&i&&(t.TgZ(0,"option",35),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function Lr(i,a){if(1&i&&(t.TgZ(0,"div",7),t.TgZ(1,"div",8),t.TgZ(2,"label",9),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"input",36),t.ALo(6,"translate"),t.ALo(7,"translate"),t._UZ(8,"validation-message",11),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(3),t.hij("",t.lcZ(4,4,"checkNumber")," "),t.xp6(2),t.hYB("placeholder","",t.lcZ(6,6,"Please_Enter"),"  ",t.lcZ(7,8,"TAX_Id_Number")," "),t.xp6(3),t.Q6J("control",e.form.controls.checkNumber)}}function Sr(i,a){if(1&i&&(t.TgZ(0,"div",7),t.TgZ(1,"label",9),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",8),t.TgZ(5,"div",18),t._UZ(6,"input",37),t.ALo(7,"translate"),t._UZ(8,"validation-message",11),t.TgZ(9,"div",20),t._UZ(10,"mat-datepicker-toggle",21),t._UZ(11,"mat-datepicker",null,38),t._UZ(13,"br"),t._UZ(14,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.MAs(12),o=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,5,"checkdate")),t.xp6(4),t.s9C("placeholder",t.lcZ(7,7,"Select_a_Date")),t.Q6J("matDatepicker",e),t.xp6(2),t.Q6J("control",o.form.controls.checkdate),t.xp6(2),t.Q6J("for",e)}}let At=(()=>{class i{constructor(e,o,n,r,l,c,u){this.fb=e,this.apiService=o,this.authService=n,this.utilService=r,this.dialogRef=l,this.notifyService=c,this.validationService=u,this.id=0,this.toBePaidAmount="",this.customerSiteList=[],this.customerList=[],this.companyList=[],this.payCodeList=[],this.branchList=[],this.payCodeTypeList=[],this.IsCheckSelected=!1,this.payType="",this.isArab=!1}ngOnInit(){this.isArab=this.utilService.isArabic(),this.setForm(),this.loadData(),this.id>0&&this.setEditForm()}setForm(){this.form=this.fb.group({custCode:["",s.kI.required],siteCode:[null],companyId:["",s.kI.required],branchCode:["",s.kI.required],tranDate:["",s.kI.required],payCode:["",s.kI.required],payType:["",s.kI.required],amount:["",s.kI.compose([s.kI.required])],narration:["",s.kI.required],preparedby:["",s.kI.required],remarks:[""],checkNumber:[""],checkDate:[null]})}setEditForm(){this.apiService.get("opmArPayment/getOpmSingleItem",this.id).subscribe(e=>{e&&this.loadBranchsForCompany(e.companyId,e)})}loadBranchsForCompany(e,o){e&&this.apiService.getall(`branch/getSelectSysBranchListByComId/${e}`).subscribe(n=>{n&&(this.branchList=n,"1"===o.payType&&(this.IsCheckSelected=!0),this.form.patchValue(o))})}loadData(){this.apiService.getall("paymentcodes/getSelectPaymentCodeList").subscribe(e=>{e&&(this.payCodeList=e)}),this.apiService.getall("customer/getSelectLanCustomerList?isPayment=true").subscribe(e=>{e&&(this.customerList=e)}),this.apiService.getall("company/getSelectCompanyList").subscribe(e=>{e&&(this.companyList=e)}),this.apiService.getall("paymentcodes/getSelectPaymentTypeList").subscribe(e=>{e&&(this.payCodeTypeList=e)})}setCheckNumber(e){let o=e.target.value;""!==o?this.apiService.getall(`paymentcodes?payCode=${o}`).subscribe(n=>{n&&(this.payType=n.finPayType,this.setCheckNumberInput(this.payType))}):this.setCheckNumberInput("")}setCheckNumberInput(e){""!==e?(this.form.controls.payType.setValue(e),"1"===e?(this.payType=e,this.IsCheckSelected=!0,this.form.controls.checkNumber.setValidators([s.kI.required]),this.form.controls.checkDate.setValidators([s.kI.required])):this.setCheckNumberInputDefault(),this.form.controls.checkNumber.updateValueAndValidity(),this.form.controls.checkDate.updateValueAndValidity()):(this.form.controls.payType.setValue(""),this.setCheckNumberInputDefault())}setCheckNumberInputDefault(){this.form.controls.checkNumber.setValue(""),this.form.controls.checkDate.setValue(null),this.form.controls.checkNumber.clearValidators(),this.form.controls.checkDate.clearValidators(),this.IsCheckSelected=!1}loadProductdata(e){let o=e.textTwo,n=e.value;this.form.controls.siteCode.setValue(null),o?(this.apiService.getall(`customerPayment/getCustomerToBePaidAmount?customerCode=${o}`).subscribe(r=>{r&&(this.toBePaidAmount=r.isPaid?"Amount to be Paid : 0":`Amount to be Paid : <br> (Invoice Amount) = ${r.tobePaidAmount} `)}),this.apiService.getall(`customer/getCustomerSitesSelectList/${n}`).subscribe(r=>{r&&(this.customerSiteList=r,this.customerSiteList.map(l=>(l.text=this.isArab?l.textTwo:l.text,l)))})):this.toBePaidAmount="Amount to be Paid : 0"}loadBranchs(e){let o=e.target.value;o&&this.apiService.getall(`branch/getSelectSysBranchListByComId/${o}`).subscribe(n=>{n&&(this.branchList=n)})}submit(){this.form.valid?(this.id>0&&(this.form.value.id=this.id),"1"!==this.payType&&delete this.form.value.checkdate,this.form.value.tranDate=this.utilService.selectedDate(this.form.controls.tranDate.value),this.form.controls.checkDate.value&&(this.form.value.checkDate=this.utilService.selectedDate(this.form.controls.checkDate.value)),this.apiService.post("customerPayment",this.form.value).subscribe(e=>{this.utilService.OkMessage(),this.reset(),this.dialogRef.close(!0)},e=>{console.error(e),this.utilService.ShowApiErrorMessage(e)})):this.utilService.FillUpFields()}reset(){this.form.controls.custCode.setValue(""),this.form.controls.branchCode.setValue(""),this.form.controls.companyId.setValue("")}closeModel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(T.so),t.Y36(f.g),t.Y36(O.R))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-addupdatecustomerpayment"]],decls:126,vars:102,consts:[[1,"modal-title"],["type","button","aria-hidden","true",1,"close",3,"click"],["novalidate","",1,"mt-1",3,"formGroup","ngSubmit"],[1,"outer"],[1,"row","rowm0"],[1,"col-md-12","col-lg-12"],[1,"row"],[1,"col-md-3","col-lg-3"],[1,"form-group"],[1,"mr-sm-2"],["bindLabel","text","bindValue","textTwo","formControlName","custCode",3,"items","change"],[3,"control"],[1,"col-md-4","col-lg-4"],["bindLabel","text","bindValue","value","formControlName","siteCode",3,"items"],["formControlName","companyId",1,"custom-select","mr-sm-2",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","branchCode",1,"custom-select","mr-sm-2"],[1,"input-group","mb-2"],["formControlName","tranDate",1,"form-control","datapickerinput",3,"placeholder","matDatepicker"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["tranDate",""],["formControlName","payCode",1,"custom-select","mr-sm-2",3,"change"],["formControlName","payType","disabled","",1,"custom-select","mr-sm-2"],["type","number","formControlName","amount",1,"form-control",3,"placeholder"],["type","text","formControlName","narration",1,"form-control",3,"placeholder"],["type","text","formControlName","preparedby",1,"form-control",3,"placeholder"],["class","col-md-3 col-lg-3",4,"ngIf"],[1,"col-md-6","col-lg-6"],["formControlName","remarks",1,"form-control",3,"placeholder"],[1,"col-md-12","col-lg-12","pb-5",3,"innerHtml"],[1,"col-lg-12","col-md-12","text-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","waves-effect","waves-light","btn-primary",3,"value"],[3,"value"],["type","text","formControlName","checkNumber","maxlength","10",1,"form-control",3,"placeholder"],["type","text","formControlName","checkDate",1,"form-control","datapickerinput",3,"placeholder","matDatepicker"],["checkdate",""]],template:function(e,o){if(1&e&&(t.TgZ(0,"h2",0),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"button",1),t.NdJ("click",function(){return o.closeModel()}),t._uU(4," \xd7"),t.qZA(),t.qZA(),t.TgZ(5,"form",2),t.NdJ("ngSubmit",function(){return o.submit()}),t.TgZ(6,"div",3),t.TgZ(7,"div",4),t.TgZ(8,"div",5),t.TgZ(9,"div",6),t.TgZ(10,"div",7),t.TgZ(11,"div",8),t.TgZ(12,"label",9),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"ng-select",10),t.NdJ("change",function(r){return o.loadProductdata(r)}),t.qZA(),t._UZ(16,"validation-message",11),t.qZA(),t.qZA(),t.TgZ(17,"div",12),t.TgZ(18,"div",8),t.TgZ(19,"label",9),t._uU(20),t.ALo(21,"translate"),t.qZA(),t._UZ(22,"ng-select",13),t.qZA(),t.qZA(),t.TgZ(23,"div",7),t.TgZ(24,"div",8),t.TgZ(25,"label",9),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"select",14),t.NdJ("change",function(r){return o.loadBranchs(r)}),t.TgZ(29,"option",15),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.YNc(32,xr,2,2,"option",16),t.qZA(),t._UZ(33,"validation-message",11),t.qZA(),t.qZA(),t.TgZ(34,"div",7),t.TgZ(35,"div",8),t.TgZ(36,"label",9),t._uU(37),t.ALo(38,"translate"),t.qZA(),t.TgZ(39,"select",17),t.TgZ(40,"option",15),t._uU(41),t.ALo(42,"translate"),t.qZA(),t.YNc(43,br,2,2,"option",16),t.qZA(),t._UZ(44,"validation-message",11),t.qZA(),t.qZA(),t.TgZ(45,"div",7),t.TgZ(46,"label",9),t._uU(47),t.ALo(48,"translate"),t.qZA(),t.TgZ(49,"div",8),t.TgZ(50,"div",18),t._UZ(51,"input",19),t.ALo(52,"translate"),t.TgZ(53,"div",20),t._UZ(54,"mat-datepicker-toggle",21),t._UZ(55,"mat-datepicker",null,22),t.qZA(),t.qZA(),t._UZ(57,"validation-message",11),t.qZA(),t.qZA(),t.TgZ(58,"div",7),t.TgZ(59,"div",8),t.TgZ(60,"label",9),t._uU(61),t.ALo(62,"translate"),t.qZA(),t.TgZ(63,"select",23),t.NdJ("change",function(r){return o.setCheckNumber(r)}),t.TgZ(64,"option",15),t._uU(65),t.ALo(66,"translate"),t.qZA(),t.YNc(67,yr,2,2,"option",16),t.qZA(),t._UZ(68,"validation-message",11),t.qZA(),t.qZA(),t.TgZ(69,"div",7),t.TgZ(70,"div",8),t.TgZ(71,"label",9),t._uU(72),t.ALo(73,"translate"),t.qZA(),t.TgZ(74,"select",24),t.TgZ(75,"option",15),t._uU(76),t.ALo(77,"translate"),t.qZA(),t.YNc(78,Ur,2,2,"option",16),t.qZA(),t._UZ(79,"validation-message",11),t.qZA(),t.qZA(),t.TgZ(80,"div",7),t.TgZ(81,"div",8),t.TgZ(82,"label",9),t._uU(83),t.ALo(84,"translate"),t.qZA(),t._UZ(85,"input",25),t.ALo(86,"translate"),t.ALo(87,"translate"),t._UZ(88,"validation-message",11),t.qZA(),t.qZA(),t.TgZ(89,"div",7),t.TgZ(90,"div",8),t.TgZ(91,"label",9),t._uU(92),t.ALo(93,"translate"),t.qZA(),t._UZ(94,"input",26),t.ALo(95,"translate"),t.ALo(96,"translate"),t._UZ(97,"validation-message",11),t.qZA(),t.qZA(),t.TgZ(98,"div",7),t.TgZ(99,"div",8),t.TgZ(100,"label",9),t._uU(101),t.ALo(102,"translate"),t.qZA(),t._UZ(103,"input",27),t.ALo(104,"translate"),t.ALo(105,"translate"),t._UZ(106,"validation-message",11),t.qZA(),t.qZA(),t.YNc(107,Lr,9,10,"div",28),t.YNc(108,Sr,15,9,"div",28),t.TgZ(109,"div",29),t.TgZ(110,"div",8),t.TgZ(111,"label",9),t._uU(112),t.ALo(113,"translate"),t.qZA(),t._UZ(114,"textarea",30),t.ALo(115,"translate"),t.ALo(116,"translate"),t.qZA(),t.qZA(),t._UZ(117,"div",31),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(118,"div",6),t.TgZ(119,"div",32),t.TgZ(120,"button",33),t.NdJ("click",function(){return o.closeModel()}),t._uU(121),t.ALo(122,"translate"),t.qZA(),t._uU(123," \xa0\xa0 "),t._UZ(124,"input",34),t.ALo(125,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e){const n=t.MAs(56);t.xp6(1),t.hij(" ",t.lcZ(2,48,"Create_New_Customer_Payment")," "),t.xp6(4),t.Q6J("formGroup",o.form),t.xp6(8),t.Oqu(t.lcZ(14,50,"Customer")),t.xp6(2),t.Q6J("items",o.customerList),t.xp6(1),t.Q6J("control",o.form.controls.custCode),t.xp6(4),t.Oqu(t.lcZ(21,52,"Customer_Sites")),t.xp6(2),t.Q6J("items",o.customerSiteList),t.xp6(4),t.Oqu(t.lcZ(27,54,"Organization")),t.xp6(4),t.Oqu(t.lcZ(31,56,"Select_Organization")),t.xp6(2),t.Q6J("ngForOf",o.companyList),t.xp6(1),t.Q6J("control",o.form.controls.companyId),t.xp6(4),t.Oqu(t.lcZ(38,58,"Branch")),t.xp6(4),t.Oqu(t.lcZ(42,60,"Select_Branch")),t.xp6(2),t.Q6J("ngForOf",o.branchList),t.xp6(1),t.Q6J("control",o.form.controls.branchCode),t.xp6(3),t.Oqu(t.lcZ(48,62,"tranDate")),t.xp6(4),t.s9C("placeholder",t.lcZ(52,64,"Select_a_Date")),t.Q6J("matDatepicker",n),t.xp6(3),t.Q6J("for",n),t.xp6(3),t.Q6J("control",o.form.controls.tranDate),t.xp6(4),t.Oqu(t.lcZ(62,66,"PayCode")),t.xp6(4),t.Oqu(t.lcZ(66,68,"Select_Organization")),t.xp6(2),t.Q6J("ngForOf",o.payCodeList),t.xp6(1),t.Q6J("control",o.form.controls.payCode),t.xp6(4),t.Oqu(t.lcZ(73,70,"PayType")),t.xp6(4),t.Oqu(t.lcZ(77,72,"Select_Organization")),t.xp6(2),t.Q6J("ngForOf",o.payCodeTypeList),t.xp6(1),t.Q6J("control",o.form.controls.payType),t.xp6(4),t.Oqu(t.lcZ(84,74,"amount")),t.xp6(2),t.hYB("placeholder","",t.lcZ(86,76,"Please_Enter")," ",t.lcZ(87,78,"Invoice_Reference_Number"),""),t.xp6(3),t.Q6J("control",o.form.controls.amount),t.xp6(4),t.Oqu(t.lcZ(93,80,"narration")),t.xp6(2),t.hYB("placeholder","",t.lcZ(95,82,"Please_Enter")," ",t.lcZ(96,84,"Customer"),""),t.xp6(3),t.Q6J("control",o.form.controls.narration),t.xp6(4),t.hij(" ",t.lcZ(102,86,"preparedby")," "),t.xp6(2),t.hYB("placeholder"," ",t.lcZ(104,88,"Please_Enter"),"  ",t.lcZ(105,90,"LPO_Contract"),""),t.xp6(3),t.Q6J("control",o.form.controls.preparedby),t.xp6(1),t.Q6J("ngIf",o.IsCheckSelected),t.xp6(1),t.Q6J("ngIf",o.IsCheckSelected),t.xp6(4),t.Oqu(t.lcZ(113,92,"Remarks")),t.xp6(2),t.hYB("placeholder","",t.lcZ(115,94,"PLease_Enter")," ",t.lcZ(116,96,"Remarks"),""),t.xp6(3),t.Q6J("innerHtml",o.toBePaidAmount,t.oJD),t.xp6(4),t.hij(" ",t.lcZ(122,98,"Cancel")," "),t.xp6(3),t.s9C("value",t.lcZ(125,100,"Save"))}},directives:[s._Y,s.JL,s.sg,j.w9,s.JJ,s.u,M.s,s.EJ,s.YN,s.Kr,d.sg,s.Fj,m.hl,m.nW,U.R9,m.Mq,s.wV,d.O5,s.nD],pipes:[Z.X$],encapsulation:2}),i})();function Nr(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div"),t.TgZ(2,"button",1),t.NdJ("click",function(){return t.CHM(e),t.oxw().printVoucher()}),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._uU(5," \xa0 "),t._uU(6," \xa0 "),t.TgZ(7,"button",2),t.NdJ("click",function(){return t.CHM(e),t.oxw().closeModel()}),t._uU(8),t.ALo(9,"translate"),t.qZA(),t._UZ(10,"br"),t.TgZ(11,"button",3),t.NdJ("click",function(){return t.CHM(e),t.oxw().closeModel()}),t._uU(12," \xd7"),t.qZA(),t.qZA(),t._UZ(13,"br"),t.TgZ(14,"div",4),t._UZ(15,"link",5),t.TgZ(16,"table",6),t.TgZ(17,"tr"),t.TgZ(18,"td",7),t._uU(19," Customer Receipt Voucher "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"div",8),t.TgZ(21,"table",6),t.TgZ(22,"tr"),t.TgZ(23,"td",9),t.TgZ(24,"div",10),t.TgZ(25,"table",6),t.TgZ(26,"tr"),t.TgZ(27,"td",11),t.TgZ(28,"table",6),t.TgZ(29,"tr"),t.TgZ(30,"td",12),t.TgZ(31,"span",13),t._uU(32,"Customer Voucher#:"),t.qZA(),t._uU(33),t.qZA(),t.qZA(),t.TgZ(34,"tr"),t.TgZ(35,"td",14),t.TgZ(36,"table",6),t.TgZ(37,"tr"),t.TgZ(38,"td",15),t._uU(39," Customer Details: "),t.qZA(),t.TgZ(40,"td",12),t._uU(41),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(42,"tr"),t.TgZ(43,"td",16),t.TgZ(44,"div",12),t.TgZ(45,"span",13),t._uU(46,"Document Num:"),t.qZA(),t._uU(47),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(48,"td",17),t.TgZ(49,"div",18),t.TgZ(50,"table"),t.TgZ(51,"tr"),t.TgZ(52,"td"),t.TgZ(53,"span",13),t._uU(54," Date:"),t.qZA(),t._uU(55),t.ALo(56,"date"),t.qZA(),t.qZA(),t.TgZ(57,"tr"),t.TgZ(58,"td",19),t.TgZ(59,"div",20),t._UZ(60,"img",21),t._UZ(61,"br"),t.TgZ(62,"div",22),t._uU(63,"Customer Logo"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(64,"div",8),t.TgZ(65,"table",6),t.TgZ(66,"tr"),t.TgZ(67,"td",9),t.TgZ(68,"div",10),t.TgZ(69,"table",6),t.TgZ(70,"tr"),t.TgZ(71,"td",23),t.TgZ(72,"div",12),t.TgZ(73,"span",13),t._uU(74,"Received From:"),t.qZA(),t._uU(75),t.qZA(),t.qZA(),t.TgZ(76,"td",24),t.TgZ(77,"div",18),t.TgZ(78,"span",13),t._uU(79,"Voucher Date:"),t.qZA(),t._uU(80),t.ALo(81,"date"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(82,"tr"),t.TgZ(83,"td",25),t.TgZ(84,"div",12),t.TgZ(85,"span",13),t._uU(86,"Branch:"),t.qZA(),t._uU(87),t.qZA(),t.qZA(),t.TgZ(88,"td",25),t.TgZ(89,"div",18),t.TgZ(90,"span",13),t._uU(91,"Payment Mode:"),t.qZA(),t._uU(92),t.qZA(),t.qZA(),t.qZA(),t.TgZ(93,"tr"),t.TgZ(94,"td",25),t.TgZ(95,"div",12),t.TgZ(96,"span",13),t._uU(97,"Bank:"),t.qZA(),t._uU(98),t.qZA(),t.qZA(),t.TgZ(99,"td",25),t.TgZ(100,"div",18),t.TgZ(101,"span",13),t._uU(102,"Amount:"),t.qZA(),t._uU(103),t.qZA(),t.qZA(),t.qZA(),t.TgZ(104,"tr"),t.TgZ(105,"td",25),t.TgZ(106,"div",12),t.TgZ(107,"span",13),t._uU(108,"Cheque:"),t.qZA(),t._uU(109),t.qZA(),t.qZA(),t.TgZ(110,"td",25),t.TgZ(111,"div",18),t.TgZ(112,"span",13),t._uU(113,"Check Date:"),t.qZA(),t._uU(114),t.ALo(115,"date"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(116,"div",26),t._UZ(117,"hr",27),t.TgZ(118,"div",28),t._uU(119," Prepared by Mohsin "),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&i){const e=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,17,"Print")),t.xp6(5),t.hij(" ",t.lcZ(9,19,"Close"),""),t.xp6(25),t.hij(" ",e.voucher.voucherNumber," "),t.xp6(8),t.lnq(" ",e.voucher.company,", ",e.voucher.customerName,", ",e.voucher.address," "),t.xp6(6),t.hij(" ",e.voucher.docNum," "),t.xp6(8),t.hij(" ",t.xi3(56,21,e.voucher.date,"dd/MM/yyyy")," "),t.xp6(5),t.s9C("src",e.voucher.logo,t.LSH),t.xp6(15),t.hij(" ",e.voucher.receivedFrom," "),t.xp6(5),t.hij(" ",t.xi3(81,24,e.voucher.voucherDate,"dd/MM/yyyy")," "),t.xp6(7),t.hij(" ",e.voucher.branchName," "),t.xp6(5),t.hij(" ",e.voucher.payType," "),t.xp6(6),t.hij(" ",e.voucher.branchName," "),t.xp6(5),t.hij(" ",e.voucher.amount," "),t.xp6(6),t.hij(" ",e.voucher.checkNumber," "),t.xp6(5),t.hij(" ",t.xi3(115,27,e.voucher.checkdate,"dd/MM/yyyy")," ")}}let Or=(()=>{class i extends ut.v{constructor(e,o,n,r,l,c){super(n),this.fb=e,this.apiService=o,this.authService=n,this.utilService=r,this.dialogRef=l,this.notifyService=c,this.id=0}ngOnInit(){this.id>0&&this.loadVoucher()}loadVoucher(){this.apiService.getall(`customerPayment/getCustomerpaymentvoucher?id=${this.id}`).subscribe(e=>{console.log(e),this.voucher=e})}printVoucher(){const e=document.getElementById("printcontainer"),o=window.open("","","left=0,top=0,width=2000,height=1000,toolbar=0,scrollbars=0,status=0");setTimeout(()=>{o.document.write(e.innerHTML),o.document.close(),o.focus(),o.print(),o.close()},50)}closeModel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(T.so),t.Y36(f.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-customerreceiptvoucher"]],features:[t.qOj],decls:1,vars:1,consts:[[4,"ngIf"],[3,"click"],["type","button","aria-hidden","true",1,"",3,"click"],["type","button","aria-hidden","true",1,"close",3,"click"],["id","printcontainer",1,"container-fluid","invoice-container","print-container",2,"width","850px","margin","auto"],["rel","stylesheet","href","https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,500,600,700,800,900","type","text/css"],["border","0","cellpadding","0","cellspacing","0","width","100%",2,"width","100%"],[2,"font-size","1.5rem !important","color","#0c2f54","font-family","'Poppins', sans-serif","font-weight","500","line-height","1.2","margin","0","padding-top","15px","text-align","center"],[2,"padding-top","10px","padding-bottom","5px"],[2,"width","100%","text-align","center"],[2,"border","2px solid #878787","border-radius","5px","padding","10PX"],[2,"padding","5px","width","50%","text-align","left","vertical-align","top"],[2,"font-family","'Poppins', sans-serif","font-weight","500","font-size","0.875rem !important","color","#878787"],[2,"font-family","'Poppins', sans-serif","font-weight","600","font-size","0.875rem !important","color","#000000"],[2,"vertical-align","top"],[2,"vertical-align","top","font-family","'Poppins', sans-serif","font-weight","600","font-size","0.875rem !important","color","#000000","width","130px"],[2,"width","50%","text-align","left"],[2,"padding","5px","text-align","left","vertical-align","top"],[2,"font-family","'Poppins', sans-serif","font-weight","500","font-size","0.875rem !important","color","#878787","float","right"],[2,"text-align","center"],[2,"float","right"],[2,"width","200px","height","150px",3,"src"],[2,"font-family","'Poppins', sans-serif","font-weight","500","font-size","0.875rem !important","color","#000000"],[2,"padding","5px","width","50%","text-align","left"],[2,"padding","5px","text-align","left"],[2,"padding","2px 5px 2px 5px","width","50%","text-align","left"],[2,"width","40%","padding-top","30px"],[2,"margin","0"],[2,"font-family","'Poppins', sans-serif","font-weight","500","font-size","0.825rem !important","color","#000000"]],template:function(e,o){1&e&&t.YNc(0,Nr,120,30,"ng-container",0),2&e&&t.Q6J("ngIf",o.voucher)},directives:[d.O5],pipes:[Z.X$,d.uU],encapsulation:2}),i})();function wr(i,a){1&i&&(t.TgZ(0,"th",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Voucher")," "))}function kr(i,a){if(1&i&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.voucherNumber)}}function Ir(i,a){1&i&&(t.TgZ(0,"th",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Customer")," "))}function Mr(i,a){if(1&i&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.custName)}}function Jr(i,a){1&i&&(t.TgZ(0,"th",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Branch")," "))}function Dr(i,a){if(1&i&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.branchName)}}function Pr(i,a){1&i&&(t.TgZ(0,"th",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Trans_Date")," "))}function Yr(i,a){if(1&i&&(t.TgZ(0,"td",46),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.tranDate,"dd/MM/yyyy"))}}function Qr(i,a){1&i&&(t.TgZ(0,"th",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Document")," "))}function jr(i,a){if(1&i&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.docNum)}}function Fr(i,a){1&i&&(t.TgZ(0,"th",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Check_Number")," "))}function Br(i,a){if(1&i&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.checkNumber)}}function Vr(i,a){1&i&&(t.TgZ(0,"th",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Check_Date")," "))}function Rr(i,a){if(1&i&&(t.TgZ(0,"td",46),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.checkDate,"dd/MM/yyyy"))}}function Er(i,a){1&i&&(t.TgZ(0,"th",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Receipt_Amount")," "))}function $r(i,a){if(1&i&&(t.TgZ(0,"td",46),t._uU(1),t.ALo(2,"decimalpipe"),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.amount))}}function zr(i,a){1&i&&(t.TgZ(0,"th",47),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Actions")))}function Hr(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"a",49),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit;return t.oxw().edit(n.id)}),t.ALo(1,"translate"),t._UZ(2,"i",51),t.qZA()}2&i&&t.s9C("matTooltip",t.lcZ(1,1,"Edit_Item"))}function Gr(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"a",49),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit;return t.oxw().delete(n.id)}),t.ALo(1,"translate"),t._UZ(2,"i",52),t.qZA()}2&i&&t.s9C("matTooltip",t.lcZ(1,1,"Delete_Item"))}function Xr(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"a",49),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit;return t.oxw().post(n.id,n.custCode)}),t.ALo(1,"translate"),t._UZ(2,"i",53),t.qZA()}2&i&&t.s9C("matTooltip",t.lcZ(1,1,"Posting_Item"))}function Wr(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"td",46),t.YNc(1,Hr,3,3,"a",48),t._uU(2," \xa0 "),t.YNc(3,Gr,3,3,"a",48),t._uU(4,"\xa0 "),t.YNc(5,Xr,3,3,"a",48),t.TgZ(6,"a",49),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().customerReceipt(r.id)}),t.ALo(7,"translate"),t._UZ(8,"i",50),t.qZA(),t._uU(9,"\xa0 "),t.qZA()}if(2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",!e.isPaid),t.xp6(2),t.Q6J("ngIf",!e.isPaid),t.xp6(2),t.Q6J("ngIf",!e.isPaid),t.xp6(1),t.s9C("matTooltip",t.lcZ(7,4,"Print"))}}function Kr(i,a){1&i&&t._UZ(0,"tr",54)}function ts(i,a){1&i&&t._UZ(0,"tr",55)}let es=(()=>{class i extends L.k{constructor(e,o,n,r,l,c,u,g,C,S){super(r),this.fb=e,this.router=o,this.apiService=n,this.authService=r,this.utilService=l,this.translate=c,this.notifyService=u,this.validationService=g,this.pageService=C,this.dialog=S,this.displayedColumns=["voucherNumber","custName","branchName","tranDate","docNum","checkNumber","checkdate","amount","Actions"],this.searchValue="",this.sortingOrder="id desc",this.isLoading=!1}ngOnInit(){this.initialLoading()}refresh(){this.searchValue="",this.initialLoading()}initialLoading(){this.utilService.hasPaymenRoute()?this.router.navigateByUrl("dashboard/fin/opmarpayment"):this.apiService.getall("customerPayment/checkOpenItemMenthod").subscribe(e=>{e?(localStorage.setItem("hasPaymenRoute","hasPayment"),this.router.navigateByUrl("dashboard/fin/opmarpayment")):this.loadList(0,this.pageService.pageCount,"",this.sortingOrder)})}onSortOrder(e){this.sortingOrder=e.active+" "+e.direction,this.totalItemsCount=0,this.loadList(0,this.pageService.pageCount,"",this.sortingOrder)}onPageSwitch(e){this.pageService.change(e),this.loadList(e.pageIndex,e.pageSize,"",this.sortingOrder)}loadList(e,o,n,r){this.isLoading=!0,this.apiService.getPagination("customerPayment",this.utilService.getQueryString(e,o,n,r)).subscribe(l=>{this.totalItemsCount=0,this.data=new p.by(l.items),this.totalItemsCount=l.totalCount,setTimeout(()=>{this.paginator.pageIndex=e,this.paginator.length=this.totalItemsCount}),this.data.sort=this.sort,this.isLoading=!1},l=>this.utilService.ShowApiErrorMessage(l))}applyFilter(e){e&&(this.searchValue=e,this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder))}openDialogManage(e=0,o,n="",r="",l,c={module:"00",action:"00act"}){let u=this.utilService.openCrudDialog(this.dialog,l);u.componentInstance.dbops=o,u.componentInstance.modalTitle=n,u.componentInstance.id=e,u.componentInstance.moduleFile=c,u.afterClosed().subscribe(g=>{g&&!0===g&&this.initialLoading()})}openDialogManageOne(e="",o,n="",r){let l=this.utilService.openDialogCongif(this.dialog,r);l.componentInstance.dbops=o,l.componentInstance.modalTitle=n,l.componentInstance.customerCode=e}create(){this.openDialogManage(0,v.Oi.create,this.translate.instant("Create_New_Sales_Invoice"),"",At)}edit(e){this.openDialogManage(e,v.Oi.update,this.translate.instant("Create_New_Sales_Invoice"),"",At)}delete(e){this.utilService.openDeleteConfirmDialog(this.dialog,H.a).afterClosed().subscribe(n=>{n&&e>0&&this.apiService.delete("customerPayment",e).subscribe(r=>{this.refresh(),this.utilService.OkMessage()})},n=>this.utilService.ShowApiErrorMessage(n))}print(e){this.openDialogManageOne(e,v.Oi.update,this.translate.instant("Create_New_Sales_Invoice"),ct)}customerReceipt(e){this.openDialogManage(e,v.Oi.update,this.translate.instant("Create_New_Sales_Invoice"),"",Or)}post(e,o){this.utilService.openDeleteConfirmDialog(this.dialog,H.a).afterClosed().subscribe(r=>{r&&e>0&&this.apiService.post("customerPayment/customerPaymentApproval",{customerCode:o,Id:e}).subscribe(l=>{this.initialLoading(),this.utilService.OkMessage()},l=>{console.error(l),this.utilService.ShowApiErrorMessage(l)})})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(Q.F0),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(Z.sK),t.Y36(f.g),t.Y36(O.R),t.Y36(k.N),t.Y36(T.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-arpayment"]],viewQuery:function(e,o){if(1&e&&(t.Gf(q.NW,7),t.Gf(x.YE,7)),2&e){let n;t.iGM(n=t.CRH())&&(o.paginator=n.first),t.iGM(n=t.CRH())&&(o.sort=n.first)}},features:[t.qOj],decls:83,vars:36,consts:[[1,"page-breadcrumb"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],[1,"container-fluid"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"row","pb-3"],[1,"col-md-3"],[1,"form-control",3,"placeholder","ngModel","ngModelChange"],[1,"col-md-4","arabicright"],[1,"btn","btn-primary",3,"click"],[1,"",3,"matTooltip","click"],[1,"btn","btn-primary","icon-refresh"],[1,"col-md-7","col-lg-9"],[1,"card-title","pt6"],[1,"col-md-3","col-lg-3","text-right"],[1,"nav-item","dropdown"],["data-toggle","modal","data-target","#scrollable-modal","href","#",1,"btn","waves-effect","waves-light","btn-rounded","btn-outline-primary",3,"click"],[1,"icon-plus"],[1,"cardtitle-divider"],[1,"example-table-container","table-responsive","pt-3"],[3,"isLoading"],["mat-table","","matSort","","matSortActive","Id","matSortDisableClear","","matSortDirection","desc",1,"table","table-bordered","no-wrap",3,"dataSource","matSortChange"],["matColumnDef","voucherNumber"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","custName"],["matColumnDef","branchName"],["matColumnDef","tranDate"],["matColumnDef","docNum"],["matColumnDef","checkNumber"],["matColumnDef","checkdate"],["matColumnDef","amount"],["matColumnDef","Actions","stickyEnd",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions","page"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["class","tableicons",3,"matTooltip","click",4,"ngIf"],[1,"tableicons",3,"matTooltip","click"],[1,"icon-settings"],[1,"icon-note"],[1,"icon-trash"],[1,"icon-action-redo"],["mat-header-row",""],["mat-row",""]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"nav",5),t.TgZ(8,"ol",6),t.TgZ(9,"li",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"li",7),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"li",8),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",9),t.TgZ(19,"div",1),t.TgZ(20,"div",10),t.TgZ(21,"div",11),t.TgZ(22,"div",12),t.TgZ(23,"div",13),t._UZ(24,"div",10),t.TgZ(25,"div",14),t.TgZ(26,"input",15),t.NdJ("ngModelChange",function(r){return o.searchValue=r}),t.ALo(27,"translate"),t.qZA(),t.qZA(),t.TgZ(28,"div",16),t.TgZ(29,"button",17),t.NdJ("click",function(){return o.applyFilter(o.searchValue)}),t._uU(30),t.ALo(31,"translate"),t.qZA(),t._uU(32," \xa0 "),t.TgZ(33,"a",18),t.NdJ("click",function(){return o.refresh()}),t.ALo(34,"translate"),t._UZ(35,"i",19),t.qZA(),t.qZA(),t.qZA(),t.TgZ(36,"div",1),t.TgZ(37,"div",20),t.TgZ(38,"h4",21),t._uU(39),t.ALo(40,"translate"),t.qZA(),t.qZA(),t.TgZ(41,"div",22),t.TgZ(42,"div",23),t.TgZ(43,"a",24),t.NdJ("click",function(){return o.create()}),t._UZ(44,"i",25),t._uU(45),t.ALo(46,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(47,"div",26),t.TgZ(48,"div",27),t._UZ(49,"spinner-loader",28),t.ynx(50),t.TgZ(51,"table",29),t.NdJ("matSortChange",function(r){return o.onSortOrder(r)}),t.ynx(52,30),t.YNc(53,wr,3,3,"th",31),t.YNc(54,kr,2,1,"td",32),t.BQk(),t.ynx(55,33),t.YNc(56,Ir,3,3,"th",31),t.YNc(57,Mr,2,1,"td",32),t.BQk(),t.ynx(58,34),t.YNc(59,Jr,3,3,"th",31),t.YNc(60,Dr,2,1,"td",32),t.BQk(),t.ynx(61,35),t.YNc(62,Pr,3,3,"th",31),t.YNc(63,Yr,3,4,"td",32),t.BQk(),t.ynx(64,36),t.YNc(65,Qr,3,3,"th",31),t.YNc(66,jr,2,1,"td",32),t.BQk(),t.ynx(67,37),t.YNc(68,Fr,3,3,"th",31),t.YNc(69,Br,2,1,"td",32),t.BQk(),t.ynx(70,38),t.YNc(71,Vr,3,3,"th",31),t.YNc(72,Rr,3,4,"td",32),t.BQk(),t.ynx(73,39),t.YNc(74,Er,3,3,"th",31),t.YNc(75,$r,3,3,"td",32),t.BQk(),t.ynx(76,40),t.YNc(77,zr,3,3,"th",41),t.YNc(78,Wr,10,6,"td",32),t.BQk(),t.YNc(79,Kr,1,0,"tr",42),t.YNc(80,ts,1,0,"tr",43),t.qZA(),t.ynx(81),t.TgZ(82,"mat-paginator",44),t.NdJ("page",function(r){return o.onPageSwitch(r)}),t.qZA(),t.BQk(),t.BQk(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.hij(" ",t.lcZ(5,18,"Customer_Payment")," "),t.xp6(6),t.hij("",t.lcZ(11,20,"Finance")," "),t.xp6(3),t.Oqu(t.lcZ(14,22,"Account_Receivable")),t.xp6(3),t.hij("",t.lcZ(17,24,"Customer_Payment")," "),t.xp6(10),t.MGl("placeholder","",t.lcZ(27,26,"Search"),"..."),t.Q6J("ngModel",o.searchValue),t.xp6(4),t.Oqu(t.lcZ(31,28,"Search")),t.xp6(3),t.s9C("matTooltip",t.lcZ(34,30,"Refresh")),t.xp6(6),t.hij(" ",t.lcZ(40,32,"Customer_Payment_List")," "),t.xp6(6),t.hij("",t.lcZ(46,34,"AddNewPayment")," "),t.xp6(4),t.Q6J("isLoading",o.isLoading),t.xp6(2),t.Q6J("dataSource",o.data),t.xp6(28),t.Q6J("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(2),t.Q6J("length",o.totalItemsCount)("pageSize",o.pageService.pageCount)("pageSizeOptions",o.pageService.selectItemsPerPage))},directives:[s.Fj,s.JJ,s.On,z.gM,b.r,p.BZ,x.YE,p.w1,p.fO,p.Dz,p.as,p.nj,q.NW,p.ge,x.nU,p.ev,d.O5,p.XQ,p.Gk],pipes:[Z.X$,d.uU,I.J],encapsulation:2}),i})();function os(i,a){if(1&i&&(t.TgZ(0,"mat-option",24),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("value",e.value),t.xp6(1),t.AsE(" (",e.value,") ",e.textTwo," ")}}function is(i,a){if(1&i&&t._UZ(0,"img",25),2&i){const e=t.oxw();t.s9C("src",e.logoURL,t.LSH)}}function ns(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",33),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",32),t._uU(6),t.ALo(7,"decimalpipe"),t.qZA(),t.TgZ(8,"td",32),t._uU(9),t.ALo(10,"decimalpipe"),t.qZA(),t.TgZ(11,"td",32),t._uU(12),t.ALo(13,"decimalpipe"),t.qZA(),t.TgZ(14,"td",32),t._uU(15),t.ALo(16,"decimalpipe"),t.qZA(),t.TgZ(17,"td",32),t._uU(18),t.ALo(19,"decimalpipe"),t.qZA(),t.TgZ(20,"td",32),t._uU(21),t.ALo(22,"decimalpipe"),t.qZA(),t.TgZ(23,"td",32),t._uU(24),t.ALo(25,"decimalpipe"),t.qZA(),t.TgZ(26,"td",32),t._uU(27),t.ALo(28,"decimalpipe"),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.Oqu(e.vendCode),t.xp6(2),t.Oqu(e.vendName),t.xp6(2),t.Oqu(t.lcZ(7,10,e.gpr1)),t.xp6(3),t.Oqu(t.lcZ(10,12,e.gpr2)),t.xp6(3),t.Oqu(t.lcZ(13,14,e.gpr3)),t.xp6(3),t.Oqu(t.lcZ(16,16,e.gpr4)),t.xp6(3),t.Oqu(t.lcZ(19,18,e.gpr5)),t.xp6(3),t.Oqu(t.lcZ(22,20,e.gpr6)),t.xp6(3),t.Oqu(t.lcZ(25,22,e.gpr7)),t.xp6(3),t.Oqu(t.lcZ(28,24,e.balance))}}function as(i,a){if(1&i&&(t.TgZ(0,"table",26),t.TgZ(1,"thead"),t.TgZ(2,"tr"),t.TgZ(3,"th",27),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"th",28),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"th",29),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"th",29),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"th",29),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"th",29),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"th",29),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"th",29),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.TgZ(27,"th",29),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.TgZ(30,"th",29),t._uU(31),t.ALo(32,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(33,"tbody"),t.YNc(34,ns,29,26,"tr",30),t.TgZ(35,"tr"),t.TgZ(36,"td",31),t._uU(37," \u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0627\u0631\u0635\u062f\u0629 Total Amount \xa0\xa0"),t.qZA(),t.TgZ(38,"td",32),t._uU(39),t.ALo(40,"decimalpipe"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(4),t.Oqu(t.lcZ(5,12,"Customer_Code")),t.xp6(3),t.Oqu(t.lcZ(8,14,"Customer_Name")),t.xp6(3),t.hij("",t.lcZ(11,16,"<= 30")," "),t.xp6(3),t.hij("",t.lcZ(14,18,"31-60")," "),t.xp6(3),t.hij("",t.lcZ(17,20,"61-90")," "),t.xp6(3),t.hij("",t.lcZ(20,22,"91-120")," "),t.xp6(3),t.hij("",t.lcZ(23,24,"121-150")," "),t.xp6(3),t.hij("",t.lcZ(26,26,"151-365")," "),t.xp6(3),t.hij("",t.lcZ(29,28,"> 365")," "),t.xp6(3),t.Oqu(t.lcZ(32,30,"Balance")),t.xp6(3),t.Q6J("ngForOf",e.vendorList),t.xp6(5),t.Oqu(t.lcZ(40,32,e.totalBalance))}}let rs=(()=>{class i extends L.k{constructor(e,o,n,r){super(n),this.apiService=e,this.pageService=o,this.authService=n,this.utilService=r,this.totalItemsCount=0,this.vendorList=[],this.companyName="",this.companyAddress="",this.branchName="",this.isLoading=!1,this.isCodeLoading=!1,this.codeControl=new s.NI(""),this.dateFrom="",this.dateTo="",this.filteredOptions=this.codeControl.valueChanges.pipe((0,J.O)(""),(0,D.b)(400),(0,P.x)(),(0,Y.w)(l=>(""!==l.trim()&&(this.isCodeLoading=!0),this.filter(l||""))))}ngOnInit(){this.dateFrom=this.utilService.getStrtingYearDate(),this.dateTo=this.utilService.getCurrentDate(),this.search()}filter(e){return this.apiService.getall(`customer/getCustomerCodeSelectList?search=${e.trim()}`).pipe((0,B.U)(o=>{const n=o;return this.isCodeLoading=!1,n}))}onPageSwitch(e){this.search(e.pageIndex,e.pageSize)}search(e=this.pageService.page,o=this.pageService.pageCount){this.isLoading=!0,this.apiService.getall(`report/getCustomerVendorAgeingAnalysisList?page=${e}&pageCount=${o}&type=Customer&custCode=${this.codeControl.value}&from=${this.utilService.getCommonDate(this.dateFrom)}&to=${this.utilService.getCommonDate(this.dateTo)}`).subscribe(n=>{if(this.isLoading=!1,null!=n){const r=n.list;this.vendorList=r.list,this.totalItemsCount=r.reportCount,this.companyName=n.comapnyName,this.companyAddress=n.address,this.branchName=n.branchName,this.logoURL=n.logoURL,this.totalBalance=n.totalBalance}})}openPrint(){const e=document.getElementById("printcontainer");this.utilService.printForLocale(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(h.s),t.Y36(k.u),t.Y36(_._),t.Y36(A.t))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-aginganalysis"]],viewQuery:function(e,o){if(1&e&&t.Gf(q.NW,7),2&e){let n;t.iGM(n=t.CRH())&&(o.paginator=n.first)}},features:[t.qOj],decls:70,vars:48,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-4","col-lg-4"],[1,"form-group"],[3,"isLoading"],["type","text","matInput","",1,"form-control",3,"placeholder","formControl","matAutocomplete"],["auto1","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"input-group","mb-2"],[1,"form-control","datapickerinput",3,"placeholder","ngModel","matDatepicker","ngModelChange"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker1",""],["picker2",""],[1,"row","mb-4"],[1,"col-md-12","col-lg-12","text-center"],["type","button","data-toggle","modal",1,"btn","waves-effect","waves-light","btn-rounded","btn-primary","btn-midblock",3,"click"],[1,"table-responsive"],["id","printcontainer",1,"outer"],[1,"text-center","font-weight-medium"],["style","width:200px;height:150px;float:right;",3,"src",4,"ngIf"],["style","width: 1350px; padding-bottom: 5px;","border","1","cellpadding","0","cellspacing","0","width","100%","class","ur_tablestyle",4,"ngIf"],[1,"example-table-container","table-responsive","pt-3"],[3,"length","pageSize","pageSizeOptions","page"],[3,"value"],[2,"width","200px","height","150px","float","right",3,"src"],["border","1","cellpadding","0","cellspacing","0","width","100%",1,"ur_tablestyle",2,"width","1350px","padding-bottom","5px"],[1,"w10per",2,"padding","10px","text-align","center"],[2,"text-align","center","width","25%"],[1,"w10per",2,"text-align","center","width","200px"],[4,"ngFor","ngForOf"],["colspan","8",1,"text-right"],[1,"text-right"],[2,"padding","8px","text-align","center"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"label"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._UZ(7,"auto-loader",4),t._UZ(8,"input",5),t.ALo(9,"translate"),t.ALo(10,"translate"),t.TgZ(11,"mat-autocomplete",null,6),t.YNc(13,os,2,3,"mat-option",7),t.ALo(14,"async"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"div",2),t.TgZ(16,"div",3),t.TgZ(17,"label"),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"div",3),t.TgZ(21,"div",8),t.TgZ(22,"input",9),t.NdJ("ngModelChange",function(r){return o.dateFrom=r}),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"div",10),t._UZ(25,"mat-datepicker-toggle",11),t._UZ(26,"mat-datepicker",null,12),t._UZ(28,"br"),t._UZ(29,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(30,"div",2),t.TgZ(31,"div",3),t.TgZ(32,"label"),t._uU(33),t.ALo(34,"translate"),t.qZA(),t.TgZ(35,"div",3),t.TgZ(36,"div",8),t.TgZ(37,"input",9),t.NdJ("ngModelChange",function(r){return o.dateTo=r}),t.ALo(38,"translate"),t.qZA(),t.TgZ(39,"div",10),t._UZ(40,"mat-datepicker-toggle",11),t._UZ(41,"mat-datepicker",null,13),t._UZ(43,"br"),t._UZ(44,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(45,"div",14),t.TgZ(46,"div",15),t._UZ(47,"br"),t._uU(48," \xa0\xa0\xa0 "),t.TgZ(49,"button",16),t.NdJ("click",function(){return o.search()}),t._uU(50),t.ALo(51,"translate"),t.qZA(),t._uU(52," \xa0\xa0\xa0 "),t.TgZ(53,"button",16),t.NdJ("click",function(){return o.openPrint()}),t._uU(54),t.ALo(55,"translate"),t.qZA(),t._UZ(56,"br"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(57,"div",17),t.TgZ(58,"div",18),t.TgZ(59,"div",19),t._uU(60),t.YNc(61,is,1,1,"img",20),t._UZ(62,"br"),t._uU(63),t._UZ(64,"br"),t._uU(65),t.qZA(),t._UZ(66,"spinner-loader",4),t.YNc(67,as,41,34,"table",21),t.qZA(),t.qZA(),t.TgZ(68,"div",22),t.TgZ(69,"mat-paginator",23),t.NdJ("page",function(r){return o.onPageSwitch(r)}),t.qZA(),t.qZA(),t.qZA()),2&e){const n=t.MAs(12),r=t.MAs(27),l=t.MAs(42);t.xp6(5),t.Oqu(t.lcZ(6,28,"Customer_Code")),t.xp6(2),t.Q6J("isLoading",o.isCodeLoading),t.xp6(1),t.hYB("placeholder","",t.lcZ(9,30,"Please_Enter")," ",t.lcZ(10,32,"Customer_Code"),""),t.Q6J("formControl",o.codeControl)("matAutocomplete",n),t.xp6(5),t.Q6J("ngForOf",t.lcZ(14,34,o.filteredOptions)),t.xp6(5),t.Oqu(t.lcZ(19,36,"From_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(23,38,"Select_a_Date")),t.Q6J("ngModel",o.dateFrom)("matDatepicker",r),t.xp6(3),t.Q6J("for",r),t.xp6(8),t.Oqu(t.lcZ(34,40,"To_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(38,42,"Select_a_Date")),t.Q6J("ngModel",o.dateTo)("matDatepicker",l),t.xp6(3),t.Q6J("for",l),t.xp6(10),t.hij(" ",t.lcZ(51,44,"Search")," "),t.xp6(4),t.hij(" ",t.lcZ(55,46,"Print")," "),t.xp6(6),t.hij(" ",o.companyName," "),t.xp6(1),t.Q6J("ngIf",o.companyName),t.xp6(2),t.hij(" ",o.branchName," "),t.xp6(2),t.hij(" ",o.companyAddress," "),t.xp6(1),t.Q6J("isLoading",o.isLoading),t.xp6(1),t.Q6J("ngIf",o.vendorList&&o.vendorList.length>0),t.xp6(2),t.Q6J("length",o.totalItemsCount)("pageSize",o.pageService.pageCount)("pageSizeOptions",o.pageService.selectItemsPerPage)}},directives:[V.z,s.Fj,N.ZL,s.JJ,s.oH,N.XC,d.sg,m.hl,s.On,m.nW,U.R9,m.Mq,d.O5,b.r,q.NW,R.ey],pipes:[Z.X$,d.Ov,I.J],encapsulation:2}),i})();function ss(i,a){if(1&i&&(t.TgZ(0,"mat-option",37),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("value",e.value),t.xp6(1),t.AsE(" (",e.value,") ",e.textTwo," ")}}function ls(i,a){if(1&i&&t._UZ(0,"img",49),2&i){const e=t.oxw(2);t.s9C("src",e.logoURL,t.LSH)}}function cs(i,a){if(1&i&&(t.TgZ(0,"div",41),t.TgZ(1,"p"),t._uU(2),t.ALo(3,"date"),t.ALo(4,"date"),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(2),t.AsE(' The Statement of " Balance Summary" for ',t.xi3(3,2,e.dateFrom,"dd/MM/yyyy")," to ",t.xi3(4,5,e.dateTo,"dd/MM/yyyy")," ")}}function ps(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",59),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.ALo(13,"date"),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td",58),t._uU(17),t.ALo(18,"decimalpipe"),t.qZA(),t.TgZ(19,"td",58),t._uU(20),t.ALo(21,"decimalpipe"),t.qZA(),t.TgZ(22,"td",58),t._uU(23),t.ALo(24,"decimalpipe"),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.Oqu(e.vendCode),t.xp6(2),t.Oqu(e.vendName),t.xp6(2),t.Oqu(e.siteName),t.xp6(2),t.Oqu(null==e.trantype?"":"Invoice"==e.trantype||""==e.trantype?"Sales Invoice":"Credit"==e.trantype?"Credit Invoice":"Receipt"),t.xp6(2),t.Oqu(e.invoiceNumber),t.xp6(2),t.Oqu(t.xi3(13,10,e.tranDate,"dd/MM/yyyy")),t.xp6(3),t.Oqu(e.remarks),t.xp6(2),t.Oqu(t.lcZ(18,13,e.drAmount)),t.xp6(3),t.Oqu(t.lcZ(21,15,e.crAmount)),t.xp6(3),t.Oqu(t.lcZ(24,17,e.balance))}}function ds(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"table",50),t.TgZ(2,"thead"),t.TgZ(3,"tr"),t.TgZ(4,"th",51),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"th"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"th",52),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"th",52),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"th",52),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"th",53),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"th",52),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"th",52),t._uU(29),t.ALo(30,"translate"),t.qZA(),t.TgZ(31,"th",52),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(34,"tbody"),t.YNc(35,ps,25,19,"tr",54),t.qZA(),t.TgZ(36,"tfoot"),t.TgZ(37,"tr",55),t._UZ(38,"td",56),t.TgZ(39,"td",57),t._uU(40),t.ALo(41,"translate"),t.qZA(),t.TgZ(42,"td",58),t._uU(43),t.ALo(44,"decimalpipe"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&i){const e=t.oxw(2);t.xp6(5),t.Oqu(t.lcZ(6,13,"Customer_Code")),t.xp6(3),t.Oqu(t.lcZ(9,15,"Customer_Name")),t.xp6(3),t.Oqu(t.lcZ(12,17,"Site_Name")),t.xp6(3),t.hij("",t.lcZ(15,19,"Transaction_Type")," "),t.xp6(3),t.hij("",t.lcZ(18,21,"Sales_Receipt_Invoice_Number")," "),t.xp6(3),t.hij("",t.lcZ(21,23,"Transaction_Date")," "),t.xp6(3),t.hij("",t.lcZ(24,25,"Remarks")," "),t.xp6(3),t.hij("",t.lcZ(27,27,"Debit_Amount")," "),t.xp6(3),t.Oqu(t.lcZ(30,29,"Credit_Amount")),t.xp6(3),t.Oqu(t.lcZ(33,31,"Balance")),t.xp6(3),t.Q6J("ngForOf",e.vendorSummaryList),t.xp6(5),t.hij("",t.lcZ(41,33,"Total_Balance")," "),t.xp6(3),t.Oqu(t.lcZ(44,35,e.totalBalance))}}function us(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"th",62),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"th",63),t.TgZ(5,"span"),t._uU(6),t.ALo(7,"decimalpipe"),t.qZA(),t.qZA(),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.hij("",t.lcZ(3,2,"OpeningBalance")," :"),t.xp6(4),t.hij(" ",t.lcZ(7,4,e.isOpening?e.openingBalance:0)," ")}}function ms(i,a){if(1&i&&(t.TgZ(0,"tr"),t.YNc(1,us,8,6,"ng-container",36),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",!0===e.isOpening)}}function gs(i,a){if(1&i&&(t.TgZ(0,"div",67),t._uU(1),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.AsE(" ",e.invoiceNumber," / ",e.refInvoiceIds," ")}}function Zs(i,a){if(1&i&&(t.TgZ(0,"td",58),t._uU(1),t.ALo(2,"decimalpipe"),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.balance))}}function hs(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td",64),t.YNc(8,gs,2,2,"div",65),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.ALo(11,"date"),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td",58),t._uU(15),t.ALo(16,"decimalpipe"),t.qZA(),t.TgZ(17,"td",58),t._uU(18),t.ALo(19,"decimalpipe"),t.qZA(),t.YNc(20,Zs,3,3,"td",66),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.siteName),t.xp6(2),t.Oqu(null==e.trantype?"":"Adv"==e.trantype?"Advance":"Invoice"==e.trantype||""==e.trantype?"Sales Invoice":"Credit"==e.trantype?"Credit Invoice":"Receipt"),t.xp6(2),t.Oqu(e.invoiceNumber),t.xp6(2),t.Q6J("ngIf",e.refInvoiceIds&&e.refInvoiceIds.length>0),t.xp6(2),t.Oqu(t.xi3(11,9,e.tranDate,"dd/MM/yyyy")),t.xp6(3),t.Oqu(e.remarks),t.xp6(2),t.Oqu(t.lcZ(16,12,e.drAmount)),t.xp6(3),t.Oqu(t.lcZ(19,14,e.crAmount)),t.xp6(2),t.Q6J("ngIf",null==e.warehouse)}}function _s(i,a){if(1&i&&(t.TgZ(0,"tr"),t.YNc(1,hs,21,16,"ng-container",36),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",!1===e.isClosing&&!1===e.isOpening)}}function As(i,a){if(1&i&&(t.ynx(0),t._UZ(1,"th",62),t.TgZ(2,"th",68),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"translate"),t.ALo(6,"decimalpipe"),t.qZA(),t.qZA(),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(4),t.AsE(" ",t.lcZ(5,2,"ClosingBalance")," : ",t.lcZ(6,4,e.isClosing?e.closingBalance:0)," ")}}function fs(i,a){if(1&i&&(t.TgZ(0,"tr"),t.YNc(1,As,7,6,"ng-container",36),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",!0===e.isClosing)}}function Ts(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",61),t.TgZ(2,"table",50),t.TgZ(3,"tr"),t.TgZ(4,"th"),t._uU(5),t.ALo(6,"translate"),t.ALo(7,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"table",50),t.YNc(9,ms,2,1,"tr",54),t.TgZ(10,"tr"),t.TgZ(11,"th"),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"th",52),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"th",52),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"th",52),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"th",52),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"th",53),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"th",52),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.TgZ(32,"th",52),t._uU(33),t.ALo(34,"translate"),t.qZA(),t.TgZ(35,"th",52),t._uU(36),t.ALo(37,"translate"),t.qZA(),t.qZA(),t.YNc(38,_s,2,1,"tr",54),t.YNc(39,fs,2,1,"tr",54),t.qZA(),t._UZ(40,"br"),t._UZ(41,"br"),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(5),t.HOy(" ",t.lcZ(6,16,"Customer_Code")," : ",e[0].vendCode,", \xa0 \xa0 ",t.lcZ(7,18,"Customer_Name")," : ",e[0].vendName," "),t.xp6(4),t.Q6J("ngForOf",e),t.xp6(3),t.Oqu(t.lcZ(13,20,"Site_Name")),t.xp6(3),t.hij("",t.lcZ(16,22,"Transaction_Type")," "),t.xp6(3),t.hij("",t.lcZ(19,24,"Sales_Receipt_Invoice_Number")," "),t.xp6(3),t.hij("",t.lcZ(22,26,"Sales_Invoice_Number")," "),t.xp6(3),t.hij("",t.lcZ(25,28,"Transaction_Date")," "),t.xp6(3),t.hij("",t.lcZ(28,30,"Remarks")," "),t.xp6(3),t.hij("",t.lcZ(31,32,"Debit_Amount")," "),t.xp6(3),t.Oqu(t.lcZ(34,34,"Credit_Amount")),t.xp6(3),t.Oqu(t.lcZ(37,36,"Balance")),t.xp6(2),t.Q6J("ngForOf",e),t.xp6(1),t.Q6J("ngForOf",e)}}function vs(i,a){if(1&i&&(t.TgZ(0,"table",60),t.TgZ(1,"tbody"),t.YNc(2,Ts,42,38,"tr",54),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",e.vendorList)}}function qs(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",38),t.TgZ(1,"div",39),t.TgZ(2,"button",34),t.NdJ("click",function(){return t.CHM(e),t.oxw().openPrint()}),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"div",40),t.TgZ(7,"div",41),t._uU(8),t.YNc(9,ls,1,1,"img",42),t._UZ(10,"br"),t._uU(11),t._UZ(12,"br"),t._uU(13),t.qZA(),t._UZ(14,"br"),t.YNc(15,cs,5,8,"div",43),t.TgZ(16,"div",44),t.YNc(17,ds,45,37,"ng-container",45),t.YNc(18,vs,3,1,"ng-template",null,46,t.W1O),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"div",47),t.TgZ(21,"mat-paginator",48),t.NdJ("page",function(n){return t.CHM(e),t.oxw().onPageSwitch(n)}),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.MAs(19),o=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,11,"Print")," "),t.xp6(5),t.hij(" ",o.companyName," "),t.xp6(1),t.Q6J("ngIf",o.companyName),t.xp6(2),t.hij(" ",o.branchName," "),t.xp6(2),t.hij(" ",o.companyAddress," "),t.xp6(2),t.Q6J("ngIf",o.dateFrom&&o.dateTo),t.xp6(2),t.Q6J("ngIf",o.isSummary)("ngIfElse",e),t.xp6(4),t.Q6J("length",o.totalItemsCount)("pageSize",o.pageService.pageCount)("pageSizeOptions",o.pageService.selectItemsPerPage)}}function Cs(i,a){1&i&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"No_Records")))}let xs=(()=>{class i extends L.k{constructor(e,o,n,r,l,c){super(n),this.fb=e,this.apiService=o,this.authService=n,this.utilService=r,this.pageService=l,this.notifyService=c,this.totalItemsCount=0,this.vendCode="",this.isSummary=!1,this.dateFrom="",this.dateTo="",this.siteCode="",this.isArab=!1,this.isSiteLoading=!1,this.customerSiteList=[],this.vendorSummaryList=[],this.vendorList=[],this.codeControl=new s.NI(""),this.totalBalance=0,this.companyName="",this.companyAddress="",this.branchName="",this.isLoading=!1,this.isCodeLoading=!1,this.openingBalance=0,this.closingBalance=0,this.filteredOptions=this.codeControl.valueChanges.pipe((0,J.O)(""),(0,D.b)(400),(0,P.x)(),(0,Y.w)(u=>(""!==u.trim()&&(this.isCodeLoading=!0),this.filter(u||""))))}ngOnInit(){this.isArab=this.utilService.isArabic(),this.setForm(),this.dateFrom=this.utilService.getStrtingYearDate(),this.dateTo=this.utilService.getCurrentDate(),this.search()}setForm(){this.form=this.fb.group({dateFrom:[""],dateTo:[""],isSummary:[!1]})}filter(e){return this.apiService.getall(`customer/getCustomerCodeSelectList?search=${e.trim()}`).pipe((0,B.U)(o=>{const n=o;return this.isCodeLoading=!1,n}))}resetSiteInfo(){this.siteCode=""}onPageSwitch(e){this.search(e.pageIndex,e.pageSize)}search(e=this.pageService.page,o=this.pageService.pageCount){this.isLoading=!0,this.apiService.getall(`report/${this.isSummary?"getCustomerBalanceSummaryList":"getCustomerBalanceDetailsList"}?page=${e}&pageCount=${o}&isSummary=${this.isSummary}&custCode=${this.codeControl.value}&siteCode=${this.siteCode}&from=${this.utilService.getCommonDate(this.dateFrom)}&to=${this.utilService.getCommonDate(this.dateTo)}`).subscribe(n=>{if(this.isLoading=!1,n){if(this.isSummary)this.vendorSummaryList=n.list;else{const r=n.listItems;this.vendorList=r.list,this.totalItemsCount=r.reportCount}this.companyName=n.comapnyName,this.companyAddress=n.address,this.branchName=n.branchName,this.logoURL=n.logoURL,this.totalBalance=n.totalBalance}})}openPrint(){const e=document.getElementById("printcontainer");this.utilService.printForLocale(e)}customerCodeSelected(e){this.customerSiteList=[],this.siteCode="",this.apiService.getall(`customer/getCustomerSitesSelectList/0?custCode=${e.option.value}`).subscribe(o=>{o&&(this.customerSiteList=o,this.customerSiteList.map(n=>(n.text=this.isArab?n.textTwo:n.text,n)))})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(k.u),t.Y36(f.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-customerbalancesummary"]],viewQuery:function(e,o){if(1&e&&t.Gf(q.NW,7),2&e){let n;t.iGM(n=t.CRH())&&(o.paginator=n.first)}},features:[t.qOj],decls:91,vars:63,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"col-md-7","col-lg-9"],[1,"card-title","pt6"],[1,"cardtitle-divider"],[1,"col-md-4","col-lg-4"],[1,"form-group"],[3,"isLoading"],["type","text","matInput","",1,"form-control",3,"placeholder","formControl","matAutocomplete"],[3,"optionSelected"],["auto1","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"mr-sm-2"],["bindLabel","text","bindValue","value",3,"items","ngModel","ngModelChange","clear"],[1,"input-group","mb-2"],[1,"form-control","datapickerinput",3,"placeholder","ngModel","matDatepicker","ngModelChange"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker1",""],["picker2",""],[1,"form-group","pt",2,"padding-top","35px","padding-left","20px"],["color","primary",3,"ngModel","ngModelChange"],[1,"row","mb-4"],[1,"col-md-12","col-lg-12","text-center"],["type","button","data-toggle","modal",1,"btn","waves-effect","waves-light","btn-rounded","btn-primary","btn-midblock",3,"click"],["class","modal-content",4,"ngIf"],[4,"ngIf"],[3,"value"],[1,"modal-content"],[1,"modal-body"],["id","printcontainer",1,"outer"],[1,"text-center","font-weight-medium"],["style","width:200px;height:150px;float:right;",3,"src",4,"ngIf"],["class","text-center font-weight-medium",4,"ngIf"],[1,"table-responsive"],[4,"ngIf","ngIfElse"],["detilsList",""],[1,"example-table-container","table-responsive","pt-3"],[3,"length","pageSize","pageSizeOptions","page"],[2,"width","200px","height","150px","float","right",3,"src"],["border","1","cellpadding","0","cellspacing","0","width","100%",1,"ur_tablestyle",2,"width","100%","padding-bottom","5px"],[1,"w10per",2,"padding","10px"],[1,"w10per"],[1,"w10per",2,"width","200px"],[4,"ngFor","ngForOf"],[1,"tfoot"],["colspan","7",1,"text-right"],["colspan","2",1,"text-center"],[1,"text-right"],[2,"padding","8px"],["cellpadding","0","cellspacing","0","width","100%",1,"ur_tablestyle",2,"width","100%","padding-bottom","5px"],["colspan","5"],["colspan","6"],["colspan","3",2,"text-align","left"],[2,"word-break","break-word"],["style","width:30%;",4,"ngIf"],["class","text-right",4,"ngIf"],[2,"width","30%"],["colspan","3",2,"text-align","center"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"nav",5),t.TgZ(8,"ol",6),t.TgZ(9,"li",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"li",7),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"li",8),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",1),t.TgZ(19,"div",9),t.TgZ(20,"div",10),t.TgZ(21,"div",11),t.TgZ(22,"div",1),t.TgZ(23,"div",12),t.TgZ(24,"h4",13),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.qZA(),t.qZA(),t._UZ(27,"div",14),t.TgZ(28,"div",1),t.TgZ(29,"div",15),t.TgZ(30,"div",16),t.TgZ(31,"label"),t._uU(32),t.ALo(33,"translate"),t.qZA(),t._UZ(34,"auto-loader",17),t._UZ(35,"input",18),t.ALo(36,"translate"),t.ALo(37,"translate"),t.TgZ(38,"mat-autocomplete",19,20),t.NdJ("optionSelected",function(r){return o.customerCodeSelected(r)}),t.YNc(40,ss,2,3,"mat-option",21),t.ALo(41,"async"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(42,"div",15),t.TgZ(43,"div",16),t.TgZ(44,"label",22),t._uU(45),t.ALo(46,"translate"),t.qZA(),t.TgZ(47,"ng-select",23),t.NdJ("ngModelChange",function(r){return o.siteCode=r})("clear",function(){return o.resetSiteInfo()}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(48,"div",15),t.TgZ(49,"div",16),t.TgZ(50,"label"),t._uU(51),t.ALo(52,"translate"),t.qZA(),t.TgZ(53,"div",16),t.TgZ(54,"div",24),t.TgZ(55,"input",25),t.NdJ("ngModelChange",function(r){return o.dateFrom=r}),t.ALo(56,"translate"),t.qZA(),t.TgZ(57,"div",26),t._UZ(58,"mat-datepicker-toggle",27),t._UZ(59,"mat-datepicker",null,28),t._UZ(61,"br"),t._UZ(62,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(63,"div",15),t.TgZ(64,"div",16),t.TgZ(65,"label"),t._uU(66),t.ALo(67,"translate"),t.qZA(),t.TgZ(68,"div",16),t.TgZ(69,"div",24),t.TgZ(70,"input",25),t.NdJ("ngModelChange",function(r){return o.dateTo=r}),t.ALo(71,"translate"),t.qZA(),t.TgZ(72,"div",26),t._UZ(73,"mat-datepicker-toggle",27),t._UZ(74,"mat-datepicker",null,29),t._UZ(76,"br"),t._UZ(77,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(78,"div",9),t.TgZ(79,"div",30),t.TgZ(80,"mat-slide-toggle",31),t.NdJ("ngModelChange",function(r){return o.isSummary=r}),t.qZA(),t._uU(81),t.ALo(82,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(83,"div",32),t.TgZ(84,"div",33),t.TgZ(85,"button",34),t.NdJ("click",function(){return o.search()}),t._uU(86),t.ALo(87,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(88,"spinner-loader",17),t.YNc(89,qs,22,13,"div",35),t.YNc(90,Cs,3,3,"h3",36),t.qZA()),2&e){const n=t.MAs(39),r=t.MAs(60),l=t.MAs(75);t.xp6(4),t.hij(" ",t.lcZ(5,31,"Customer_Statement")," "),t.xp6(6),t.hij(" ",t.lcZ(11,33,"Administration")," "),t.xp6(3),t.Oqu(t.lcZ(14,35,"Purchase_Management")),t.xp6(3),t.Oqu(t.lcZ(17,37,"Customer_Statement")),t.xp6(9),t.hij("",t.lcZ(26,39,"Customer_Statement")," "),t.xp6(7),t.Oqu(t.lcZ(33,41,"Customer_Code")),t.xp6(2),t.Q6J("isLoading",o.isCodeLoading),t.xp6(1),t.hYB("placeholder","",t.lcZ(36,43,"Please_Enter")," ",t.lcZ(37,45,"Customer_Code"),""),t.Q6J("formControl",o.codeControl)("matAutocomplete",n),t.xp6(5),t.Q6J("ngForOf",t.lcZ(41,47,o.filteredOptions)),t.xp6(5),t.Oqu(t.lcZ(46,49,"Customer_Sites")),t.xp6(2),t.Q6J("items",o.customerSiteList)("ngModel",o.siteCode),t.xp6(4),t.Oqu(t.lcZ(52,51,"From_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(56,53,"Select_a_Date")),t.Q6J("ngModel",o.dateFrom)("matDatepicker",r),t.xp6(3),t.Q6J("for",r),t.xp6(8),t.Oqu(t.lcZ(67,55,"To_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(71,57,"Select_a_Date")),t.Q6J("ngModel",o.dateTo)("matDatepicker",l),t.xp6(3),t.Q6J("for",l),t.xp6(7),t.Q6J("ngModel",o.isSummary),t.xp6(1),t.hij(" ",t.lcZ(82,59,"Cust_Statement_Balance")," "),t.xp6(5),t.hij(" ",t.lcZ(87,61,"Search")," "),t.xp6(2),t.Q6J("isLoading",o.isLoading),t.xp6(1),t.Q6J("ngIf",o.vendorList&&o.vendorList.length>0||o.vendorSummaryList&&o.vendorSummaryList.length>0),t.xp6(1),t.Q6J("ngIf",o.vendorList&&0===o.vendorList.length)}},directives:[V.z,s.Fj,N.ZL,s.JJ,s.oH,N.XC,d.sg,j.w9,s.On,m.hl,m.nW,U.R9,m.Mq,F.Rr,b.r,d.O5,R.ey,q.NW],pipes:[Z.X$,d.Ov,d.uU,I.J],encapsulation:2}),i})();function bs(i,a){if(1&i&&(t.TgZ(0,"mat-option",41),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("value",e.value),t.xp6(1),t.AsE(" (",e.value,") ",e.textTwo," ")}}function ys(i,a){if(1&i&&t._UZ(0,"img",53),2&i){const e=t.oxw(2);t.s9C("src",e.logoURL,t.LSH)}}function Us(i,a){if(1&i&&(t.TgZ(0,"div",45),t.TgZ(1,"p"),t._uU(2),t.ALo(3,"date"),t.ALo(4,"date"),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(2),t.AsE(' The Statement of " Invoice Summary" for ',t.xi3(3,2,e.dateFrom,"dd/MM/yyyy")," to ",t.xi3(4,5,e.dateTo,"dd/MM/yyyy")," ")}}function Ls(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",58),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.ALo(15,"date"),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.qZA(),t.TgZ(20,"td",59),t._uU(21),t.ALo(22,"decimalpipe"),t.qZA(),t.TgZ(23,"td",59),t._uU(24),t.ALo(25,"decimalpipe"),t.qZA(),t.TgZ(26,"td",59),t._uU(27),t.ALo(28,"decimalpipe"),t.qZA(),t.TgZ(29,"td",59),t._uU(30),t.ALo(31,"decimalpipe"),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.Oqu(e.vendCode),t.xp6(2),t.Oqu(e.vendName),t.xp6(2),t.Oqu(e.branchName),t.xp6(2),t.Oqu(e.siteName),t.xp6(2),t.Oqu(e.docNum),t.xp6(2),t.Oqu(e.invoiceNumber),t.xp6(2),t.Oqu(t.xi3(15,13,e.invoiceDate,"dd-MM-yyyy")),t.xp6(3),t.Oqu(e.referenceNumber),t.xp6(2),t.Oqu(e.trantype),t.xp6(2),t.Oqu(t.lcZ(22,16,e.drAmount)),t.xp6(3),t.Oqu(t.lcZ(25,18,e.crAmount)),t.xp6(3),t.Oqu(t.lcZ(28,20,e.appliedAmount)),t.xp6(3),t.Oqu(t.lcZ(31,22,e.balance))}}function Ss(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"table",54),t.TgZ(2,"tbody"),t.TgZ(3,"tr"),t.TgZ(4,"th",55),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"th"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"th"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"th"),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"th"),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"th"),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"th"),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"th"),t._uU(29),t.ALo(30,"translate"),t.qZA(),t.TgZ(31,"th",56),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"th",56),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.TgZ(37,"th",56),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"th",56),t._uU(41),t.ALo(42,"translate"),t.qZA(),t.qZA(),t.YNc(43,Ls,32,24,"tr",57),t.qZA(),t.qZA(),t.BQk()),2&i){const e=t.oxw(2);t.xp6(5),t.Oqu(t.lcZ(6,14,"Customer_Code")),t.xp6(3),t.Oqu(t.lcZ(9,16,"Customer_Name")),t.xp6(3),t.Oqu(t.lcZ(12,18,"BranchName")),t.xp6(3),t.Oqu(t.lcZ(15,20,"Site_Name")),t.xp6(3),t.Oqu(t.lcZ(18,22,"DocNum")),t.xp6(3),t.Oqu(t.lcZ(21,24,"Invoice_InvoiceGrid_InvoiceNumber")),t.xp6(3),t.Oqu(t.lcZ(24,26,"InvoiceDate")),t.xp6(3),t.Oqu(t.lcZ(27,28,"ReferenceNumber")),t.xp6(3),t.Oqu(t.lcZ(30,30,"Trantype")),t.xp6(3),t.hij("",t.lcZ(33,32,"NetAmount")," "),t.xp6(3),t.hij("",t.lcZ(36,34,"PaidAmount")," "),t.xp6(3),t.hij("",t.lcZ(39,36,"AppliedAmount")," "),t.xp6(3),t.hij("",t.lcZ(42,38,"Balance")," "),t.xp6(2),t.Q6J("ngForOf",e.vendorSummaryList)}}function Ns(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.ALo(11,"date"),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td",59),t._uU(17),t.ALo(18,"decimalpipe"),t.qZA(),t.TgZ(19,"td",59),t._uU(20),t.ALo(21,"decimalpipe"),t.qZA(),t.TgZ(22,"td",59),t._uU(23),t.ALo(24,"decimalpipe"),t.qZA(),t.TgZ(25,"td",59),t._uU(26),t.ALo(27,"decimalpipe"),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.Oqu(e.branchName),t.xp6(2),t.Oqu(e.siteName),t.xp6(2),t.Oqu(e.docNum),t.xp6(2),t.Oqu(e.invoiceNumber),t.xp6(2),t.Oqu(t.xi3(11,11,e.invoiceDate,"dd-MM-yyyy")),t.xp6(3),t.Oqu(e.referenceNumber),t.xp6(2),t.Oqu(e.trantype),t.xp6(2),t.Oqu(t.lcZ(18,14,e.drAmount)),t.xp6(3),t.Oqu(t.lcZ(21,16,e.crAmount)),t.xp6(3),t.Oqu(t.lcZ(24,18,e.appliedAmount)),t.xp6(3),t.Oqu(t.lcZ(27,20,e.balance))}}function Os(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",64),t.TgZ(2,"table",54),t.TgZ(3,"tr"),t.TgZ(4,"th"),t._uU(5),t.ALo(6,"translate"),t.ALo(7,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"table",54),t.TgZ(9,"tr"),t.TgZ(10,"th"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"th"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"th"),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"th"),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"th"),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"th"),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"th"),t._uU(29),t.ALo(30,"translate"),t.qZA(),t.TgZ(31,"th",56),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"th",56),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.TgZ(37,"th",56),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"th",56),t._uU(41),t.ALo(42,"translate"),t.qZA(),t.qZA(),t.YNc(43,Ns,28,22,"tr",57),t.qZA(),t._UZ(44,"br"),t._UZ(45,"br"),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(5),t.HOy(" ",t.lcZ(6,16,"Customer_Code")," : ",e[0].vendCode,", \xa0 \xa0 ",t.lcZ(7,18,"Customer_Name")," : ",e[0].vendName," "),t.xp6(6),t.Oqu(t.lcZ(12,20,"BranchName")),t.xp6(3),t.Oqu(t.lcZ(15,22,"Site_Name")),t.xp6(3),t.Oqu(t.lcZ(18,24,"DocNum")),t.xp6(3),t.Oqu(t.lcZ(21,26,"Invoice_InvoiceGrid_InvoiceNumber")),t.xp6(3),t.Oqu(t.lcZ(24,28,"InvoiceDate")),t.xp6(3),t.Oqu(t.lcZ(27,30,"ReferenceNumber")),t.xp6(3),t.Oqu(t.lcZ(30,32,"Trantype")),t.xp6(3),t.hij("",t.lcZ(33,34,"NetAmount")," "),t.xp6(3),t.hij("",t.lcZ(36,36,"PaidAmount")," "),t.xp6(3),t.hij("",t.lcZ(39,38,"AppliedAmount")," "),t.xp6(3),t.hij("",t.lcZ(42,40,"Balance")," "),t.xp6(2),t.Q6J("ngForOf",e)}}function ws(i,a){if(1&i&&(t.TgZ(0,"table",54),t.TgZ(1,"tbody"),t.YNc(2,Os,46,42,"tr",57),t.qZA(),t.TgZ(3,"tbody"),t.TgZ(4,"tr"),t.TgZ(5,"td",60),t.TgZ(6,"span",61),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.qZA(),t.TgZ(9,"td",62),t._uU(10),t.ALo(11,"decimalpipe"),t.qZA(),t.TgZ(12,"td",62),t._uU(13),t.ALo(14,"decimalpipe"),t.qZA(),t.TgZ(15,"td",62),t._uU(16),t.ALo(17,"decimalpipe"),t.qZA(),t.TgZ(18,"td",63),t._uU(19),t.ALo(20,"decimalpipe"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",e.vendorList),t.xp6(5),t.hij("",t.lcZ(8,6,"Total_Balance")," "),t.xp6(3),t.hij(" ",t.lcZ(11,8,e.totalDrAmount),""),t.xp6(3),t.hij(" ",t.lcZ(14,10,e.totalCrAmount),""),t.xp6(3),t.hij(" ",t.lcZ(17,12,e.totalAppliedAmount),""),t.xp6(3),t.hij(" ",t.lcZ(20,14,e.totalBalance),"")}}function ks(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",42),t.TgZ(1,"div",43),t.TgZ(2,"button",38),t.NdJ("click",function(){return t.CHM(e),t.oxw().openPrint()}),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"div",44),t.TgZ(7,"div",45),t._uU(8),t.YNc(9,ys,1,1,"img",46),t._UZ(10,"br"),t._uU(11),t._UZ(12,"br"),t._uU(13),t.qZA(),t._UZ(14,"br"),t.YNc(15,Us,5,8,"div",47),t.TgZ(16,"div",48),t._UZ(17,"spinner-loader",21),t.YNc(18,Ss,44,40,"ng-container",49),t.YNc(19,ws,21,16,"ng-template",null,50,t.W1O),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"div",51),t.TgZ(22,"mat-paginator",52),t.NdJ("page",function(n){return t.CHM(e),t.oxw().onPageSwitch(n)}),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.MAs(20),o=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,12,"Print")," "),t.xp6(5),t.hij(" ",o.companyName," "),t.xp6(1),t.Q6J("ngIf",o.companyName),t.xp6(2),t.hij(" ",o.branchName," "),t.xp6(2),t.hij(" ",o.companyAddress," "),t.xp6(2),t.Q6J("ngIf",o.dateFrom&&o.dateTo),t.xp6(2),t.Q6J("isLoading",o.isLoading),t.xp6(1),t.Q6J("ngIf",o.isSummary&&o.vendorSummaryList.length>0)("ngIfElse",e),t.xp6(4),t.Q6J("length",o.totalItemsCount)("pageSize",o.pageService.pageCount)("pageSizeOptions",o.pageService.selectItemsPerPage)}}function Is(i,a){1&i&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"No_Records")))}let Ms=(()=>{class i extends L.k{constructor(e,o,n,r,l,c){super(n),this.fb=e,this.apiService=o,this.authService=n,this.utilService=r,this.pageService=l,this.notifyService=c,this.totalItemsCount=0,this.vendCode="",this.isSummary=!1,this.dateFrom="",this.dateTo="",this.siteCode="",this.isArab=!1,this.isSiteLoading=!1,this.customerSiteList=[],this.vendorList=[],this.vendorSummaryList=[],this.codeControl=new s.NI(""),this.type="All",this.totalDrAmount=0,this.totalCrAmount=0,this.totalAppliedAmount=0,this.totalNetBalance=0,this.totalBalance=0,this.companyName="",this.companyAddress="",this.branchName="",this.isLoading=!1,this.isCodeLoading=!1,this.filteredOptions=this.codeControl.valueChanges.pipe((0,J.O)(""),(0,D.b)(400),(0,P.x)(),(0,Y.w)(u=>(""!==u.trim()&&(this.isCodeLoading=!0),this.filter(u||""))))}ngOnInit(){this.isArab=this.utilService.isArabic(),this.setForm(),this.dateFrom=this.utilService.getStrtingYearDate(),this.dateTo=this.utilService.getCurrentDate(),this.search()}setForm(){this.form=this.fb.group({dateFrom:[""],dateTo:[""],isAllBranches:[!1]})}filter(e){return this.apiService.getall(`customer/getCustomerCodeSelectList?search=${e.trim()}`).pipe((0,B.U)(o=>{const n=o;return this.isCodeLoading=!1,n}))}onPageSwitch(e){this.search(e.pageIndex,e.pageSize)}search(e=this.pageService.page,o=this.pageService.pageCount){this.isLoading=!0,this.vendorSummaryList=[],this.vendorList=[],this.apiService.getall(`report/${this.isSummary?"getCustomerInvoiceSummaryList":"getCustomerInvoiceDetailList"}?page=${e}&pageCount=${o}&sAllVendors=${this.isSummary}&type=${this.type}&custCode=${this.codeControl.value}&siteCode=${this.siteCode}&from=${this.utilService.getCommonDate(this.dateFrom)}&to=${this.utilService.getCommonDate(this.dateTo)}`).subscribe(n=>{if(this.isLoading=!1,n){if(this.isSummary)this.vendorSummaryList=n.invoices;else{const r=n.list;this.vendorList=r.list,this.totalItemsCount=r.reportCount}this.companyName=n.comapnyName,this.companyAddress=n.address,this.branchName=n.branchName,this.logoURL=n.logoURL,this.totalCrAmount=n.totalCrAmount,this.totalDrAmount=n.totalDrAmount,this.totalAppliedAmount=n.totalAppliedAmount,this.totalNetBalance=n.totalNetBalance,this.totalBalance=n.totalBalance}})}openPrint(){const e=document.getElementById("printcontainer");this.utilService.printForLocale(e)}customerCodeSelected(e){this.customerSiteList=[],this.siteCode="",this.apiService.getall(`customer/getCustomerSitesSelectList/0?custCode=${e.option.value}`).subscribe(o=>{o&&(this.customerSiteList=o,this.customerSiteList.map(n=>(n.text=this.isArab?n.textTwo:n.text,n)))})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(k.u),t.Y36(f.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-customerinvoicesummary"]],viewQuery:function(e,o){if(1&e&&t.Gf(q.NW,7),2&e){let n;t.iGM(n=t.CRH())&&(o.paginator=n.first)}},features:[t.qOj],decls:104,vars:72,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"col-md-7","col-lg-9"],[1,"card-title","pt6"],[1,"cardtitle-divider"],[1,"col-md-4","col-lg-4"],[1,"form-group"],["id","Price Decimal",1,"custom-select","mr-sm-2",3,"ngModel","ngModelChange"],["value","All"],["value","Paid"],["value","UnPaid"],[3,"isLoading"],["type","text","matInput","",1,"form-control",3,"placeholder","formControl","matAutocomplete"],[3,"optionSelected"],["auto1","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"mr-sm-2"],["bindLabel","text","bindValue","value",3,"items","ngModel","ngModelChange"],[1,"input-group","mb-2"],[1,"form-control","datapickerinput",3,"placeholder","ngModel","matDatepicker","ngModelChange"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker1",""],["picker2",""],[1,"form-group","pt",2,"padding-top","35px","padding-left","20px"],["color","primary",3,"ngModel","ngModelChange"],[1,"row","mb-4"],[1,"col-md-12","col-lg-12","text-center"],["type","button","data-toggle","modal",1,"btn","waves-effect","waves-light","btn-rounded","btn-primary","btn-midblock",3,"click"],["class","modal-content",4,"ngIf"],[4,"ngIf"],[3,"value"],[1,"modal-content"],[1,"modal-body"],["id","printcontainer",1,"outer"],[1,"text-center","font-weight-medium"],["style","width:200px;height:150px;float:right;",3,"src",4,"ngIf"],["class","text-center font-weight-medium",4,"ngIf"],[1,"table-responsive"],[4,"ngIf","ngIfElse"],["detailList",""],[1,"example-table-container","table-responsive","pt-3"],[3,"length","pageSize","pageSizeOptions","page"],[2,"width","200px","height","150px","float","right",3,"src"],["border","1","cellpadding","0","cellspacing","0","width","100%",1,"ur_tablestyle",2,"width","100%","padding-bottom","5px"],[1,"w10per",2,"padding","10px"],[1,"w10per"],[4,"ngFor","ngForOf"],[2,"padding","8px"],[1,"text-right"],["colspan","7",2,"padding","10px"],[2,"float","right"],[2,"padding","10px","width","9%"],[2,"padding","10px","width","0%"],["colspan","11"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"nav",5),t.TgZ(8,"ol",6),t.TgZ(9,"li",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"li",7),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"li",8),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",1),t.TgZ(19,"div",9),t.TgZ(20,"div",10),t.TgZ(21,"div",11),t.TgZ(22,"div",1),t.TgZ(23,"div",12),t.TgZ(24,"h4",13),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.qZA(),t.qZA(),t._UZ(27,"div",14),t.TgZ(28,"div",1),t.TgZ(29,"div",15),t.TgZ(30,"div",16),t.TgZ(31,"label"),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"select",17),t.NdJ("ngModelChange",function(r){return o.type=r}),t.TgZ(35,"option",18),t._uU(36,"All"),t.qZA(),t.TgZ(37,"option",19),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"option",20),t._uU(41),t.ALo(42,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(43,"div",15),t.TgZ(44,"div",16),t.TgZ(45,"label"),t._uU(46),t.ALo(47,"translate"),t.qZA(),t._UZ(48,"auto-loader",21),t._UZ(49,"input",22),t.ALo(50,"translate"),t.ALo(51,"translate"),t.TgZ(52,"mat-autocomplete",23,24),t.NdJ("optionSelected",function(r){return o.customerCodeSelected(r)}),t.YNc(54,bs,2,3,"mat-option",25),t.ALo(55,"async"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(56,"div",15),t.TgZ(57,"div",16),t.TgZ(58,"label",26),t._uU(59),t.ALo(60,"translate"),t.qZA(),t.TgZ(61,"ng-select",27),t.NdJ("ngModelChange",function(r){return o.siteCode=r}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(62,"div",15),t.TgZ(63,"div",16),t.TgZ(64,"label"),t._uU(65),t.ALo(66,"translate"),t.qZA(),t.TgZ(67,"div",16),t.TgZ(68,"div",28),t.TgZ(69,"input",29),t.NdJ("ngModelChange",function(r){return o.dateFrom=r}),t.ALo(70,"translate"),t.qZA(),t.TgZ(71,"div",30),t._UZ(72,"mat-datepicker-toggle",31),t._UZ(73,"mat-datepicker",null,32),t._UZ(75,"br"),t._UZ(76,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(77,"div",15),t.TgZ(78,"div",16),t.TgZ(79,"label"),t._uU(80),t.ALo(81,"translate"),t.qZA(),t.TgZ(82,"div",16),t.TgZ(83,"div",28),t.TgZ(84,"input",29),t.NdJ("ngModelChange",function(r){return o.dateTo=r}),t.ALo(85,"translate"),t.qZA(),t.TgZ(86,"div",30),t._UZ(87,"mat-datepicker-toggle",31),t._UZ(88,"mat-datepicker",null,33),t._UZ(90,"br"),t._UZ(91,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(92,"div",9),t.TgZ(93,"div",34),t.TgZ(94,"mat-slide-toggle",35),t.NdJ("ngModelChange",function(r){return o.isSummary=r}),t.qZA(),t._uU(95),t.ALo(96,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(97,"div",36),t.TgZ(98,"div",37),t.TgZ(99,"button",38),t.NdJ("click",function(){return o.search()}),t._uU(100),t.ALo(101,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(102,ks,23,14,"div",39),t.YNc(103,Is,3,3,"h3",40),t.qZA()),2&e){const n=t.MAs(53),r=t.MAs(74),l=t.MAs(89);t.xp6(4),t.hij(" ",t.lcZ(5,34,"Customer_Statement")," "),t.xp6(6),t.hij(" ",t.lcZ(11,36,"Administration")," "),t.xp6(3),t.Oqu(t.lcZ(14,38,"Sales_Management")),t.xp6(3),t.Oqu(t.lcZ(17,40,"Customer_Statement")),t.xp6(9),t.hij("",t.lcZ(26,42,"Customer_Statement")," "),t.xp6(7),t.Oqu(t.lcZ(33,44,"Choose")),t.xp6(2),t.Q6J("ngModel",o.type),t.xp6(4),t.Oqu(t.lcZ(39,46,"Paid")),t.xp6(3),t.Oqu(t.lcZ(42,48,"UnPaid")),t.xp6(5),t.Oqu(t.lcZ(47,50,"Customer_Code")),t.xp6(2),t.Q6J("isLoading",o.isCodeLoading),t.xp6(1),t.hYB("placeholder","",t.lcZ(50,52,"Please_Enter")," ",t.lcZ(51,54,"Customer_Code"),""),t.Q6J("formControl",o.codeControl)("matAutocomplete",n),t.xp6(5),t.Q6J("ngForOf",t.lcZ(55,56,o.filteredOptions)),t.xp6(5),t.Oqu(t.lcZ(60,58,"Customer_Sites")),t.xp6(2),t.Q6J("items",o.customerSiteList)("ngModel",o.siteCode),t.xp6(4),t.Oqu(t.lcZ(66,60,"From_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(70,62,"Select_a_Date")),t.Q6J("ngModel",o.dateFrom)("matDatepicker",r),t.xp6(3),t.Q6J("for",r),t.xp6(8),t.Oqu(t.lcZ(81,64,"To_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(85,66,"Select_a_Date")),t.Q6J("ngModel",o.dateTo)("matDatepicker",l),t.xp6(3),t.Q6J("for",l),t.xp6(7),t.Q6J("ngModel",o.isSummary),t.xp6(1),t.hij(" ",t.lcZ(96,68,"Cust_Statement_Balance")," "),t.xp6(5),t.hij(" ",t.lcZ(101,70,"Search")," "),t.xp6(2),t.Q6J("ngIf",o.vendorList&&o.vendorList.length>0||o.vendorSummaryList&&o.vendorSummaryList.length>0),t.xp6(1),t.Q6J("ngIf",o.vendorList&&0===o.vendorList.length)}},directives:[s.EJ,s.JJ,s.On,s.YN,s.Kr,V.z,s.Fj,N.ZL,s.oH,N.XC,d.sg,j.w9,m.hl,m.nW,U.R9,m.Mq,F.Rr,d.O5,R.ey,b.r,q.NW],pipes:[Z.X$,d.Ov,d.uU,I.J],encapsulation:2}),i})();function Js(i,a){if(1&i&&(t.TgZ(0,"mat-option",34),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("value",e.value),t.xp6(1),t.AsE(" (",e.value,") ",e.textTwo," ")}}function Ds(i,a){if(1&i&&t._UZ(0,"img",50),2&i){const e=t.oxw(2);t.s9C("src",e.logoURL,t.LSH)}}function Ps(i,a){if(1&i&&(t.TgZ(0,"div",38),t.TgZ(1,"p"),t._uU(2),t.ALo(3,"date"),t.ALo(4,"date"),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(2),t.AsE(' The Statement of " Balance Summary" for ',t.xi3(3,2,e.dateFrom,"dd/MM/yyyy")," to ",t.xi3(4,5,e.dateTo,"dd/MM/yyyy")," ")}}function Ys(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",51),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",49),t._uU(6),t.ALo(7,"decimalpipe"),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.Oqu(e.vendCode),t.xp6(2),t.Oqu(e.vendName),t.xp6(2),t.Oqu(t.lcZ(7,3,e.drAmount))}}function Qs(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",35),t.TgZ(1,"div",36),t.TgZ(2,"button",31),t.NdJ("click",function(){return t.CHM(e),t.oxw().openPrint()}),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"div",37),t.TgZ(7,"div",38),t._uU(8),t.YNc(9,Ds,1,1,"img",39),t._UZ(10,"br"),t._uU(11),t._UZ(12,"br"),t._uU(13),t.qZA(),t._UZ(14,"br"),t.YNc(15,Ps,5,8,"div",40),t.TgZ(16,"div",41),t._UZ(17,"spinner-loader",17),t.TgZ(18,"table",42),t.TgZ(19,"thead"),t.TgZ(20,"tr"),t.TgZ(21,"th",43),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"th"),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.TgZ(27,"th",44),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(30,"tbody"),t.YNc(31,Ys,8,5,"tr",45),t.qZA(),t.TgZ(32,"tfoot"),t.TgZ(33,"tr",46),t._UZ(34,"td",47),t.TgZ(35,"td",48),t._uU(36),t.ALo(37,"translate"),t.qZA(),t.TgZ(38,"td",49),t._uU(39),t.ALo(40,"decimalpipe"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,13,"Print")," "),t.xp6(5),t.hij(" ",e.companyName," "),t.xp6(1),t.Q6J("ngIf",e.companyName),t.xp6(2),t.hij(" ",e.branchName," "),t.xp6(2),t.hij(" ",e.companyAddress," "),t.xp6(2),t.Q6J("ngIf",e.dateFrom&&e.dateTo),t.xp6(2),t.Q6J("isLoading",e.isLoading),t.xp6(5),t.Oqu(t.lcZ(23,15,"Customer_Code")),t.xp6(3),t.Oqu(t.lcZ(26,17,"Customer_Name")),t.xp6(3),t.hij("",t.lcZ(29,19,"Amount")," "),t.xp6(3),t.Q6J("ngForOf",e.vendorList),t.xp6(5),t.hij("",t.lcZ(37,21,"Total_Balance")," "),t.xp6(3),t.Oqu(t.lcZ(40,23,e.totalBalance))}}function js(i,a){1&i&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"No_Records")))}let Fs=(()=>{class i extends L.k{constructor(e,o,n,r,l,c){super(r),this.fb=e,this.router=o,this.apiService=n,this.authService=r,this.utilService=l,this.notifyService=c,this.vendCode="",this.isAllVendors=!1,this.dateFrom="",this.dateTo="",this.vendorList=[],this.codeControl=new s.NI(""),this.totalBalance=0,this.companyName="",this.companyAddress="",this.branchName="",this.isLoading=!1,this.isCodeLoading=!1,this.filteredOptions=this.codeControl.valueChanges.pipe((0,J.O)(""),(0,D.b)(400),(0,P.x)(),(0,Y.w)(u=>(""!==u.trim()&&(this.isCodeLoading=!0),this.filter(u||""))))}ngOnInit(){this.utilService.hasPaymenRoute()?this.router.navigateByUrl("dashboard/fin/opmarcustvouchersummary"):this.apiService.getall("customerPayment/checkOpenItemMenthod").subscribe(e=>{e?(localStorage.setItem("hasPaymenRoute","hasPayment"),this.router.navigateByUrl("dashboard/fin/opmarcustvouchersummary")):(this.setForm(),this.dateFrom=this.utilService.getStrtingYearDate(),this.dateTo=this.utilService.getCurrentDate(),this.search())})}setForm(){this.form=this.fb.group({dateFrom:[""],dateTo:[""],isAllVendors:[!1]})}filter(e){return this.apiService.getall(`customer/getCustomerCodeSelectList?search=${e.trim()}`).pipe((0,B.U)(o=>{const n=o;return this.isCodeLoading=!1,n}))}search(){this.isLoading=!0,this.apiService.getall(`report/getCustomerPaymentSummaryList?isAllVendors=${this.isAllVendors}&custCode=${this.codeControl.value}&from=${this.utilService.getCommonDate(this.dateFrom)}&to=${this.utilService.getCommonDate(this.dateTo)}`).subscribe(e=>{this.isLoading=!1,e&&(this.vendorList=e.list,this.companyName=e.comapnyName,this.companyAddress=e.address,this.branchName=e.branchName,this.logoURL=e.logoURL,this.totalBalance=e.totalBalance)})}openPrint(){const e=document.getElementById("printcontainer");this.utilService.printForLocale(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(Q.F0),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(f.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-customerpaymentsummary"]],features:[t.qOj],decls:84,vars:57,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"col-md-7","col-lg-9"],[1,"card-title","pt6"],[1,"cardtitle-divider"],[1,"col-md-4","col-lg-4"],[1,"form-group"],[3,"isLoading"],["type","text","matInput","",1,"form-control",3,"placeholder","formControl","matAutocomplete"],["auto1","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"input-group","mb-2"],[1,"form-control","datapickerinput",3,"placeholder","ngModel","matDatepicker","ngModelChange"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker1",""],["picker2",""],[1,"form-group","pt",2,"padding-top","35px","padding-left","20px"],["color","primary",3,"ngModel","ngModelChange"],[1,"row","mb-4"],[1,"col-md-12","col-lg-12","text-center"],["type","button","data-toggle","modal",1,"btn","waves-effect","waves-light","btn-rounded","btn-primary","btn-midblock",3,"click"],["class","modal-content",4,"ngIf"],[4,"ngIf"],[3,"value"],[1,"modal-content"],[1,"modal-body"],["id","printcontainer",1,"outer"],[1,"text-center","font-weight-medium"],["style","width:200px;height:150px;float:right;",3,"src",4,"ngIf"],["class","text-center font-weight-medium",4,"ngIf"],[1,"table-responsive"],["border","1","cellpadding","0","cellspacing","0","width","100%",1,"ur_tablestyle",2,"width","100%","padding-bottom","5px"],[1,"w10per",2,"padding","10px"],[1,"w10per"],[4,"ngFor","ngForOf"],[1,"tfoot"],["colspan","1",1,"text-right"],[1,"text-center"],[1,"text-right"],[2,"width","200px","height","150px","float","right",3,"src"],[2,"padding","8px"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"nav",5),t.TgZ(8,"ol",6),t.TgZ(9,"li",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"li",7),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"li",8),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",1),t.TgZ(19,"div",9),t.TgZ(20,"div",10),t.TgZ(21,"div",11),t.TgZ(22,"div",1),t.TgZ(23,"div",12),t.TgZ(24,"h4",13),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.qZA(),t.qZA(),t._UZ(27,"div",14),t.TgZ(28,"div",1),t.TgZ(29,"div",15),t.TgZ(30,"div",16),t.TgZ(31,"label"),t._uU(32),t.ALo(33,"translate"),t.qZA(),t._UZ(34,"auto-loader",17),t._UZ(35,"input",18),t.ALo(36,"translate"),t.ALo(37,"translate"),t.TgZ(38,"mat-autocomplete",null,19),t.YNc(40,Js,2,3,"mat-option",20),t.ALo(41,"async"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(42,"div",15),t.TgZ(43,"div",16),t.TgZ(44,"label"),t._uU(45),t.ALo(46,"translate"),t.qZA(),t.TgZ(47,"div",16),t.TgZ(48,"div",21),t.TgZ(49,"input",22),t.NdJ("ngModelChange",function(r){return o.dateFrom=r}),t.ALo(50,"translate"),t.qZA(),t.TgZ(51,"div",23),t._UZ(52,"mat-datepicker-toggle",24),t._UZ(53,"mat-datepicker",null,25),t._UZ(55,"br"),t._UZ(56,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(57,"div",15),t.TgZ(58,"div",16),t.TgZ(59,"label"),t._uU(60),t.ALo(61,"translate"),t.qZA(),t.TgZ(62,"div",16),t.TgZ(63,"div",21),t.TgZ(64,"input",22),t.NdJ("ngModelChange",function(r){return o.dateTo=r}),t.ALo(65,"translate"),t.qZA(),t.TgZ(66,"div",23),t._UZ(67,"mat-datepicker-toggle",24),t._UZ(68,"mat-datepicker",null,26),t._UZ(70,"br"),t._UZ(71,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(72,"div",9),t.TgZ(73,"div",27),t.TgZ(74,"mat-slide-toggle",28),t.NdJ("ngModelChange",function(r){return o.isAllVendors=r}),t.qZA(),t._uU(75),t.ALo(76,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(77,"div",29),t.TgZ(78,"div",30),t.TgZ(79,"button",31),t.NdJ("click",function(){return o.search()}),t._uU(80),t.ALo(81,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(82,Qs,41,25,"div",32),t.YNc(83,js,3,3,"h3",33),t.qZA()),2&e){const n=t.MAs(39),r=t.MAs(54),l=t.MAs(69);t.xp6(4),t.hij(" ",t.lcZ(5,27,"Customer_Payment")," "),t.xp6(6),t.hij(" ",t.lcZ(11,29,"Administration")," "),t.xp6(3),t.Oqu(t.lcZ(14,31,"Sales_Management")),t.xp6(3),t.Oqu(t.lcZ(17,33,"Customer_Payment")),t.xp6(9),t.hij("",t.lcZ(26,35,"Customer_Payment")," "),t.xp6(7),t.Oqu(t.lcZ(33,37,"Customer_Code")),t.xp6(2),t.Q6J("isLoading",o.isCodeLoading),t.xp6(1),t.hYB("placeholder","",t.lcZ(36,39,"Please_Enter")," ",t.lcZ(37,41,"Customer_Code"),""),t.Q6J("formControl",o.codeControl)("matAutocomplete",n),t.xp6(5),t.Q6J("ngForOf",t.lcZ(41,43,o.filteredOptions)),t.xp6(5),t.Oqu(t.lcZ(46,45,"From_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(50,47,"Select_a_Date")),t.Q6J("ngModel",o.dateFrom)("matDatepicker",r),t.xp6(3),t.Q6J("for",r),t.xp6(8),t.Oqu(t.lcZ(61,49,"To_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(65,51,"Select_a_Date")),t.Q6J("ngModel",o.dateTo)("matDatepicker",l),t.xp6(3),t.Q6J("for",l),t.xp6(7),t.Q6J("ngModel",o.isAllVendors),t.xp6(1),t.hij(" ",t.lcZ(76,53,"Cust_Statement_Balance")," "),t.xp6(5),t.hij(" ",t.lcZ(81,55,"Search")," "),t.xp6(2),t.Q6J("ngIf",o.vendorList&&o.vendorList.length>0),t.xp6(1),t.Q6J("ngIf",o.vendorList&&0===o.vendorList.length)}},directives:[V.z,s.Fj,N.ZL,s.JJ,s.oH,N.XC,d.sg,m.hl,s.On,m.nW,U.R9,m.Mq,F.Rr,d.O5,R.ey,b.r],pipes:[Z.X$,d.Ov,I.J,d.uU],encapsulation:2}),i})();function Bs(i,a){if(1&i&&(t.TgZ(0,"mat-option",34),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("value",e.value),t.xp6(1),t.AsE(" (",e.value,") ",e.textTwo," ")}}function Vs(i,a){if(1&i&&t._UZ(0,"img",46),2&i){const e=t.oxw(2);t.s9C("src",e.logoURL,t.LSH)}}function Rs(i,a){if(1&i&&(t.TgZ(0,"div",38),t.TgZ(1,"p"),t._uU(2),t.ALo(3,"date"),t.ALo(4,"date"),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(2),t.AsE(' The Statement of " Payment VoucherList" for ',t.xi3(3,2,e.dateFrom,"dd/MM/yyyy")," to ",t.xi3(4,5,e.dateTo,"dd/MM/yyyy")," ")}}function Es(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",51),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"date"),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td",52),t._uU(11),t.ALo(12,"decimalpipe"),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.Oqu(e.custCode),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(t.xi3(7,5,e.tranDate,"dd-MM-yyyy")),t.xp6(3),t.Oqu(e.docNum),t.xp6(2),t.Oqu(t.lcZ(12,8,e.amount))}}function $s(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"table",47),t.TgZ(2,"tr"),t.TgZ(3,"th",48),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"th"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"th"),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"th"),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"th",49),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.YNc(18,Es,13,10,"tr",50),t.qZA(),t.BQk()),2&i){const e=t.oxw(2);t.xp6(4),t.Oqu(t.lcZ(5,6,"Customer_Code")),t.xp6(3),t.Oqu(t.lcZ(8,8,"Customer_Name")),t.xp6(3),t.Oqu(t.lcZ(11,10,"invoiceDate")),t.xp6(3),t.Oqu(t.lcZ(14,12,"DocNum")),t.xp6(3),t.Oqu(t.lcZ(17,14,"Paid_Amount")),t.xp6(2),t.Q6J("ngForOf",e.vendorSummaryList)}}function zs(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",51),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"date"),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.ALo(12,"date"),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td",52),t._uU(16),t.ALo(17,"decimalpipe"),t.qZA(),t.TgZ(18,"td",52),t._uU(19),t.ALo(20,"decimalpipe"),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.Oqu(e.custCode),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.voucherNumber),t.xp6(2),t.Oqu(t.xi3(9,8,e.invoiceDate,"dd-MM-yyyy")),t.xp6(3),t.Oqu(t.xi3(12,11,e.tranDate,"dd-MM-yyyy")),t.xp6(3),t.Oqu(e.docNum),t.xp6(2),t.Oqu(t.lcZ(17,14,e.amount)),t.xp6(3),t.Oqu(t.lcZ(20,16,e.crAmount))}}function Hs(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",53),t.TgZ(2,"table",47),t.TgZ(3,"tr"),t.TgZ(4,"th",48),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"th"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"th"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"th"),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"th"),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"th",49),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"th",49),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.qZA(),t.YNc(28,zs,21,18,"tr",50),t.qZA(),t._UZ(29,"br"),t._UZ(30,"br"),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(5),t.Oqu(t.lcZ(6,9,"Customer_Code")),t.xp6(3),t.Oqu(t.lcZ(9,11,"Customer_Name")),t.xp6(3),t.Oqu(t.lcZ(12,13,"Voucher")),t.xp6(3),t.Oqu(t.lcZ(15,15,"invoiceDate")),t.xp6(3),t.Oqu(t.lcZ(18,17,"Receipt_Date")),t.xp6(3),t.Oqu(t.lcZ(21,19,"DocNum")),t.xp6(3),t.hij("",t.lcZ(24,21,"Total_Amount")," "),t.xp6(3),t.Oqu(t.lcZ(27,23,"Paid_Amount")),t.xp6(2),t.Q6J("ngForOf",e)}}function Gs(i,a){if(1&i&&(t.TgZ(0,"table",47),t.TgZ(1,"tbody"),t.YNc(2,Hs,31,25,"tr",50),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",e.vendorList)}}function Xs(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",35),t.TgZ(1,"div",36),t.TgZ(2,"button",31),t.NdJ("click",function(){return t.CHM(e),t.oxw().openPrint()}),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"div",37),t.TgZ(7,"div",38),t._uU(8),t.YNc(9,Vs,1,1,"img",39),t._UZ(10,"br"),t._uU(11),t._UZ(12,"br"),t._uU(13),t.qZA(),t._UZ(14,"br"),t.YNc(15,Rs,5,8,"div",40),t.TgZ(16,"div",41),t.YNc(17,$s,19,16,"ng-container",42),t.YNc(18,Gs,3,1,"ng-template",null,43,t.W1O),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"div",44),t.TgZ(21,"mat-paginator",45),t.NdJ("page",function(n){return t.CHM(e),t.oxw().onPageSwitch(n)}),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.MAs(19),o=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,11,"Print")," "),t.xp6(5),t.hij(" ",o.companyName," "),t.xp6(1),t.Q6J("ngIf",o.companyName),t.xp6(2),t.hij(" ",o.branchName," "),t.xp6(2),t.hij(" ",o.companyAddress," "),t.xp6(2),t.Q6J("ngIf",o.dateFrom&&o.dateTo),t.xp6(2),t.Q6J("ngIf",o.isSummary&&o.vendorSummaryList.length>0)("ngIfElse",e),t.xp6(4),t.Q6J("length",o.totalItemsCount)("pageSize",o.pageService.pageCount)("pageSizeOptions",o.pageService.selectItemsPerPage)}}function Ws(i,a){1&i&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"No_Records")))}let Ks=(()=>{class i extends L.k{constructor(e,o,n,r,l,c){super(n),this.fb=e,this.apiService=o,this.authService=n,this.utilService=r,this.pageService=l,this.notifyService=c,this.totalItemsCount=0,this.vendCode="",this.isSummary=!1,this.dateFrom="",this.dateTo="",this.type="All",this.vendorList=[],this.vendorSummaryList=[],this.codeControl=new s.NI(""),this.totalBalance=0,this.companyName="",this.companyAddress="",this.branchName="",this.isLoading=!1,this.isCodeLoading=!1,this.filteredOptions=this.codeControl.valueChanges.pipe((0,J.O)(""),(0,D.b)(400),(0,P.x)(),(0,Y.w)(u=>(""!==u.trim()&&(this.isCodeLoading=!0),this.filter(u||""))))}ngOnInit(){this.setForm(),this.dateFrom=this.utilService.getStrtingYearDate(),this.dateTo=this.utilService.getCurrentDate(),this.search()}setForm(){this.form=this.fb.group({dateFrom:[""],dateTo:[""],isAllBranches:[!1]})}filter(e){return this.apiService.getall(`customer/getCustomerCodeSelectList?search=${e.trim()}`).pipe((0,B.U)(o=>{const n=o;return this.isCodeLoading=!1,n}))}onPageSwitch(e){this.search(e.pageIndex,e.pageSize)}search(e=this.pageService.page,o=this.pageService.pageCount){this.isLoading=!0,this.vendorSummaryList=[],this.vendorList=[],this.apiService.getall(`report/${this.isSummary?"getCustomerVoucherPaymentSummaryList":"getCustomerVoucherPaymentDetailsList"}?page=${e}&pageCount=${o}&isAllVendors = ${this.isSummary}&custCode=${this.codeControl.value}&from=${this.utilService.getCommonDate(this.dateFrom)}&to=${this.utilService.getCommonDate(this.dateTo)}`).subscribe(n=>{if(this.isLoading=!1,n){if(this.isSummary)this.vendorSummaryList=n.listItems;else{const r=n.listItems;this.vendorList=r.list,this.totalItemsCount=r.reportCount}this.companyName=n.comapnyName,this.companyAddress=n.address,this.branchName=n.branchName,this.logoURL=n.logoURL}})}openPrint(){const e=document.getElementById("printcontainer");this.utilService.printForLocale(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(k.u),t.Y36(f.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-customerpaymentvouchersummary"]],viewQuery:function(e,o){if(1&e&&t.Gf(q.NW,7),2&e){let n;t.iGM(n=t.CRH())&&(o.paginator=n.first)}},features:[t.qOj],decls:85,vars:58,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"col-md-7","col-lg-9"],[1,"card-title","pt6"],[1,"cardtitle-divider"],[1,"col-md-4","col-lg-4"],[1,"form-group"],[3,"isLoading"],["type","text","matInput","",1,"form-control",3,"placeholder","formControl","matAutocomplete"],["auto1","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"input-group","mb-2"],[1,"form-control","datapickerinput",3,"placeholder","ngModel","matDatepicker","ngModelChange"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker1",""],["picker2",""],[1,"form-group","pt",2,"padding-top","35px","padding-left","20px"],["color","primary",3,"ngModel","ngModelChange"],[1,"row","mb-4"],[1,"col-md-12","col-lg-12","text-center"],["type","button","data-toggle","modal",1,"btn","waves-effect","waves-light","btn-rounded","btn-primary","btn-midblock",3,"click"],["class","modal-content",4,"ngIf"],[4,"ngIf"],[3,"value"],[1,"modal-content"],[1,"modal-body"],["id","printcontainer",1,"outer"],[1,"text-center","font-weight-medium"],["style","width:200px;height:150px;float:right;",3,"src",4,"ngIf"],["class","text-center font-weight-medium",4,"ngIf"],[1,"table-responsive"],[4,"ngIf","ngIfElse"],["detailList",""],[1,"example-table-container","table-responsive","pt-3"],[3,"length","pageSize","pageSizeOptions","page"],[2,"width","200px","height","150px","float","right",3,"src"],["border","1","cellpadding","0","cellspacing","0","width","100%",1,"ur_tablestyle",2,"width","100%","padding-bottom","5px"],[1,"w10per",2,"padding","10px"],[1,"w10per"],[4,"ngFor","ngForOf"],[2,"padding","8px"],[1,"text-right"],["colspan","7"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"nav",5),t.TgZ(8,"ol",6),t.TgZ(9,"li",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"li",7),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"li",8),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",1),t.TgZ(19,"div",9),t.TgZ(20,"div",10),t.TgZ(21,"div",11),t.TgZ(22,"div",1),t.TgZ(23,"div",12),t.TgZ(24,"h4",13),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.qZA(),t.qZA(),t._UZ(27,"div",14),t.TgZ(28,"div",1),t.TgZ(29,"div",15),t.TgZ(30,"div",16),t.TgZ(31,"label"),t._uU(32),t.ALo(33,"translate"),t.qZA(),t._UZ(34,"auto-loader",17),t._UZ(35,"input",18),t.ALo(36,"translate"),t.ALo(37,"translate"),t.TgZ(38,"mat-autocomplete",null,19),t.YNc(40,Bs,2,3,"mat-option",20),t.ALo(41,"async"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(42,"div",15),t.TgZ(43,"div",16),t.TgZ(44,"label"),t._uU(45),t.ALo(46,"translate"),t.qZA(),t.TgZ(47,"div",16),t.TgZ(48,"div",21),t.TgZ(49,"input",22),t.NdJ("ngModelChange",function(r){return o.dateFrom=r}),t.ALo(50,"translate"),t.qZA(),t.TgZ(51,"div",23),t._UZ(52,"mat-datepicker-toggle",24),t._UZ(53,"mat-datepicker",null,25),t._UZ(55,"br"),t._UZ(56,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(57,"div",15),t.TgZ(58,"div",16),t.TgZ(59,"label"),t._uU(60),t.ALo(61,"translate"),t.qZA(),t.TgZ(62,"div",16),t.TgZ(63,"div",21),t.TgZ(64,"input",22),t.NdJ("ngModelChange",function(r){return o.dateTo=r}),t.ALo(65,"translate"),t.qZA(),t.TgZ(66,"div",23),t._UZ(67,"mat-datepicker-toggle",24),t._UZ(68,"mat-datepicker",null,26),t._UZ(70,"br"),t._UZ(71,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(72,"div",9),t.TgZ(73,"div",27),t.TgZ(74,"mat-slide-toggle",28),t.NdJ("ngModelChange",function(r){return o.isSummary=r}),t.qZA(),t._uU(75),t.ALo(76,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(77,"div",29),t.TgZ(78,"div",30),t.TgZ(79,"button",31),t.NdJ("click",function(){return o.search()}),t._uU(80),t.ALo(81,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(82,"spinner-loader",17),t.YNc(83,Xs,22,13,"div",32),t.YNc(84,Ws,3,3,"h3",33),t.qZA()),2&e){const n=t.MAs(39),r=t.MAs(54),l=t.MAs(69);t.xp6(4),t.hij(" ",t.lcZ(5,28,"Customer_Statement")," "),t.xp6(6),t.hij(" ",t.lcZ(11,30,"Administration")," "),t.xp6(3),t.Oqu(t.lcZ(14,32,"Purchase_Management")),t.xp6(3),t.Oqu(t.lcZ(17,34,"Customer_Statement")),t.xp6(9),t.hij("",t.lcZ(26,36,"Customer_Statement")," "),t.xp6(7),t.Oqu(t.lcZ(33,38,"Customer_Code")),t.xp6(2),t.Q6J("isLoading",o.isCodeLoading),t.xp6(1),t.hYB("placeholder","",t.lcZ(36,40,"Please_Enter")," ",t.lcZ(37,42,"Vendor_Code"),""),t.Q6J("formControl",o.codeControl)("matAutocomplete",n),t.xp6(5),t.Q6J("ngForOf",t.lcZ(41,44,o.filteredOptions)),t.xp6(5),t.Oqu(t.lcZ(46,46,"From_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(50,48,"Select_a_Date")),t.Q6J("ngModel",o.dateFrom)("matDatepicker",r),t.xp6(3),t.Q6J("for",r),t.xp6(8),t.Oqu(t.lcZ(61,50,"To_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(65,52,"Select_a_Date")),t.Q6J("ngModel",o.dateTo)("matDatepicker",l),t.xp6(3),t.Q6J("for",l),t.xp6(7),t.Q6J("ngModel",o.isSummary),t.xp6(1),t.hij(" ",t.lcZ(76,54,"Cust_Statement_Balance")," "),t.xp6(5),t.hij(" ",t.lcZ(81,56,"Search")," "),t.xp6(2),t.Q6J("isLoading",o.isLoading),t.xp6(1),t.Q6J("ngIf",o.vendorList&&o.vendorList.length>0||o.vendorSummaryList&&o.vendorSummaryList.length>0),t.xp6(1),t.Q6J("ngIf",o.vendorList&&0===o.vendorList.length)}},directives:[V.z,s.Fj,N.ZL,s.JJ,s.oH,N.XC,d.sg,m.hl,s.On,m.nW,U.R9,m.Mq,F.Rr,b.r,d.O5,R.ey,q.NW],pipes:[Z.X$,d.Ov,d.uU,I.J],encapsulation:2}),i})();function tl(i,a){if(1&i&&(t.TgZ(0,"mat-option",38),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("value",e.value),t.xp6(1),t.AsE(" (",e.value,") ",e.textTwo," ")}}function el(i,a){if(1&i&&t._UZ(0,"img",53),2&i){const e=t.oxw(2);t.s9C("src",e.logoURL,t.LSH)}}function ol(i,a){if(1&i&&(t.TgZ(0,"div",42),t.TgZ(1,"p"),t._uU(2),t.ALo(3,"date"),t.ALo(4,"date"),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(2),t.AsE(' The Statement of " Vouchers Summary" for ',t.xi3(3,2,e.dateFrom,"dd/MM/yyyy")," to ",t.xi3(4,5,e.dateTo,"dd/MM/yyyy")," ")}}function il(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",56),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td",57),t._uU(10),t.ALo(11,"decimalpipe"),t.qZA(),t.TgZ(12,"td",57),t._uU(13),t.ALo(14,"decimalpipe"),t.qZA(),t.TgZ(15,"td",57),t._uU(16),t.ALo(17,"decimalpipe"),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.Oqu(e.vendCode),t.xp6(2),t.Oqu(e.vendName),t.xp6(2),t.Oqu(e.branchName),t.xp6(2),t.Oqu(e.docNum),t.xp6(2),t.Oqu(t.lcZ(11,7,e.drAmount)),t.xp6(3),t.Oqu(t.lcZ(14,9,e.crAmount)),t.xp6(3),t.Oqu(t.lcZ(17,11,e.balance))}}function nl(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",49),t.TgZ(2,"table",46),t.TgZ(3,"tr"),t.TgZ(4,"th",54),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"th"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"th"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"th",55),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"th",55),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"th",55),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.qZA(),t.YNc(25,il,18,13,"tr",47),t.qZA(),t._UZ(26,"br"),t._UZ(27,"br"),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(5),t.Oqu(t.lcZ(6,8,"Customer_Code")),t.xp6(3),t.Oqu(t.lcZ(9,10,"Customer_Name")),t.xp6(3),t.Oqu(t.lcZ(12,12,"BranchName")),t.xp6(3),t.Oqu(t.lcZ(15,14,"DocNum")),t.xp6(3),t.hij("",t.lcZ(18,16,"NetAmount")," "),t.xp6(3),t.hij("",t.lcZ(21,18,"PaidAmount")," "),t.xp6(3),t.hij("",t.lcZ(24,20,"Balance")," "),t.xp6(2),t.Q6J("ngForOf",e)}}function al(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",39),t.TgZ(1,"div",40),t.TgZ(2,"button",35),t.NdJ("click",function(){return t.CHM(e),t.oxw().openPrint()}),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"div",41),t.TgZ(7,"div",42),t._uU(8),t.YNc(9,el,1,1,"img",43),t._UZ(10,"br"),t._uU(11),t._UZ(12,"br"),t._uU(13),t.qZA(),t._UZ(14,"br"),t.YNc(15,ol,5,8,"div",44),t.TgZ(16,"div",45),t._UZ(17,"spinner-loader",21),t.TgZ(18,"table",46),t.TgZ(19,"tbody"),t.YNc(20,nl,28,22,"tr",47),t.qZA(),t.TgZ(21,"tfoot"),t.TgZ(22,"tr",48),t.TgZ(23,"td",49),t.TgZ(24,"span",50),t._uU(25),t.ALo(26,"translate"),t.ALo(27,"decimalpipe"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(28,"div",51),t.TgZ(29,"mat-paginator",52),t.NdJ("page",function(n){return t.CHM(e),t.oxw().onPageSwitch(n)}),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,13,"Print")," "),t.xp6(5),t.hij(" ",e.companyName," "),t.xp6(1),t.Q6J("ngIf",e.companyName),t.xp6(2),t.hij(" ",e.branchName," "),t.xp6(2),t.hij(" ",e.companyAddress," "),t.xp6(2),t.Q6J("ngIf",e.dateFrom&&e.dateTo),t.xp6(2),t.Q6J("isLoading",e.isLoading),t.xp6(3),t.Q6J("ngForOf",e.vendorList),t.xp6(5),t.AsE("",t.lcZ(26,15,"Total_Balance")," \xa0\xa0 : ",t.lcZ(27,17,e.totalBalance),""),t.xp6(4),t.Q6J("length",e.totalItemsCount)("pageSize",e.pageService.pageCount)("pageSizeOptions",e.pageService.selectItemsPerPage)}}function rl(i,a){1&i&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"No_Records")))}let sl=(()=>{class i extends L.k{constructor(e,o,n,r,l,c){super(n),this.fb=e,this.apiService=o,this.authService=n,this.utilService=r,this.pageService=l,this.notifyService=c,this.totalItemsCount=0,this.vendCode="",this.isAllBranches=!1,this.dateFrom="",this.dateTo="",this.vendorList=[],this.codeControl=new s.NI(""),this.type="All",this.totalBalance=0,this.companyName="",this.companyAddress="",this.branchName="",this.isLoading=!1,this.isCodeLoading=!1,this.filteredOptions=this.codeControl.valueChanges.pipe((0,J.O)(""),(0,D.b)(400),(0,P.x)(),(0,Y.w)(u=>(""!==u.trim()&&(this.isCodeLoading=!0),this.filter(u||""))))}ngOnInit(){this.setForm(),this.dateFrom=this.utilService.getStrtingYearDate(),this.dateTo=this.utilService.getCurrentDate(),this.search()}setForm(){this.form=this.fb.group({dateFrom:[""],dateTo:[""],isAllBranches:[!1]})}filter(e){return this.apiService.getall(`customer/getCustomerCodeSelectList?search=${e.trim()}`).pipe((0,B.U)(o=>{const n=o;return this.isCodeLoading=!1,n}))}onPageSwitch(e){this.search(e.pageIndex,e.pageSize)}search(e=this.pageService.page,o=this.pageService.pageCount){this.isLoading=!0,this.apiService.getall(`report/getCustomerVoucherSummaryList?page=${e}&pageCount=${o}&isAllBranches=${this.isAllBranches}&type=${this.type}&custCode=${this.codeControl.value}&from=${this.utilService.getCommonDate(this.dateFrom)}&to=${this.utilService.getCommonDate(this.dateTo)}`).subscribe(n=>{if(this.isLoading=!1,n){const r=n.list;this.vendorList=r.list,this.totalItemsCount=r.reportCount,this.companyName=n.comapnyName,this.companyAddress=n.address,this.branchName=n.branchName,this.logoURL=n.logoURL,this.totalBalance=n.totalBalance}})}openPrint(){const e=document.getElementById("printcontainer");this.utilService.printForLocale(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(k.u),t.Y36(f.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-customervouchersummary"]],viewQuery:function(e,o){if(1&e&&t.Gf(q.NW,7),2&e){let n;t.iGM(n=t.CRH())&&(o.paginator=n.first)}},features:[t.qOj],decls:98,vars:67,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"col-md-7","col-lg-9"],[1,"card-title","pt6"],[1,"cardtitle-divider"],[1,"col-md-4","col-lg-4"],[1,"form-group"],["id","Price Decimal",1,"custom-select","mr-sm-2",3,"ngModel","ngModelChange"],["value","All"],["value","Paid"],["value","UnPaid"],[3,"isLoading"],["type","text","matInput","",1,"form-control",3,"placeholder","formControl","matAutocomplete"],["auto1","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"input-group","mb-2"],[1,"form-control","datapickerinput",3,"placeholder","ngModel","matDatepicker","ngModelChange"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker1",""],["picker2",""],[1,"form-group","pt",2,"padding-top","35px","padding-left","20px"],["color","primary",3,"ngModel","ngModelChange"],[1,"row","mb-4"],[1,"col-md-12","col-lg-12","text-center"],["type","button","data-toggle","modal",1,"btn","waves-effect","waves-light","btn-rounded","btn-primary","btn-midblock",3,"click"],["class","modal-content",4,"ngIf"],[4,"ngIf"],[3,"value"],[1,"modal-content"],[1,"modal-body"],["id","printcontainer",1,"outer"],[1,"text-center","font-weight-medium"],["style","width:200px;height:150px;float:right;",3,"src",4,"ngIf"],["class","text-center font-weight-medium",4,"ngIf"],[1,"table-responsive"],["border","1","cellpadding","0","cellspacing","0","width","100%",1,"ur_tablestyle",2,"width","100%","padding-bottom","5px"],[4,"ngFor","ngForOf"],[1,"tfoot"],["colspan","7"],[2,"float","right"],[1,"example-table-container","table-responsive","pt-3"],[3,"length","pageSize","pageSizeOptions","page"],[2,"width","200px","height","150px","float","right",3,"src"],[1,"w10per",2,"padding","10px"],[1,"w10per"],[2,"padding","8px"],[1,"text-right"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"nav",5),t.TgZ(8,"ol",6),t.TgZ(9,"li",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"li",7),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"li",8),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",1),t.TgZ(19,"div",9),t.TgZ(20,"div",10),t.TgZ(21,"div",11),t.TgZ(22,"div",1),t.TgZ(23,"div",12),t.TgZ(24,"h4",13),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.qZA(),t.qZA(),t._UZ(27,"div",14),t.TgZ(28,"div",1),t.TgZ(29,"div",15),t.TgZ(30,"div",16),t.TgZ(31,"label"),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"select",17),t.NdJ("ngModelChange",function(r){return o.type=r}),t.TgZ(35,"option",18),t._uU(36,"All"),t.qZA(),t.TgZ(37,"option",19),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"option",20),t._uU(41),t.ALo(42,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(43,"div",15),t.TgZ(44,"div",16),t.TgZ(45,"label"),t._uU(46),t.ALo(47,"translate"),t.qZA(),t._UZ(48,"auto-loader",21),t._UZ(49,"input",22),t.ALo(50,"translate"),t.ALo(51,"translate"),t.TgZ(52,"mat-autocomplete",null,23),t.YNc(54,tl,2,3,"mat-option",24),t.ALo(55,"async"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(56,"div",15),t.TgZ(57,"div",16),t.TgZ(58,"label"),t._uU(59),t.ALo(60,"translate"),t.qZA(),t.TgZ(61,"div",16),t.TgZ(62,"div",25),t.TgZ(63,"input",26),t.NdJ("ngModelChange",function(r){return o.dateFrom=r}),t.ALo(64,"translate"),t.qZA(),t.TgZ(65,"div",27),t._UZ(66,"mat-datepicker-toggle",28),t._UZ(67,"mat-datepicker",null,29),t._UZ(69,"br"),t._UZ(70,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(71,"div",15),t.TgZ(72,"div",16),t.TgZ(73,"label"),t._uU(74),t.ALo(75,"translate"),t.qZA(),t.TgZ(76,"div",16),t.TgZ(77,"div",25),t.TgZ(78,"input",26),t.NdJ("ngModelChange",function(r){return o.dateTo=r}),t.ALo(79,"translate"),t.qZA(),t.TgZ(80,"div",27),t._UZ(81,"mat-datepicker-toggle",28),t._UZ(82,"mat-datepicker",null,30),t._UZ(84,"br"),t._UZ(85,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(86,"div",9),t.TgZ(87,"div",31),t.TgZ(88,"mat-slide-toggle",32),t.NdJ("ngModelChange",function(r){return o.isAllBranches=r}),t.qZA(),t._uU(89),t.ALo(90,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(91,"div",33),t.TgZ(92,"div",34),t.TgZ(93,"button",35),t.NdJ("click",function(){return o.search()}),t._uU(94),t.ALo(95,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(96,al,30,19,"div",36),t.YNc(97,rl,3,3,"h3",37),t.qZA()),2&e){const n=t.MAs(53),r=t.MAs(68),l=t.MAs(83);t.xp6(4),t.hij(" ",t.lcZ(5,31,"Customer_Statement")," "),t.xp6(6),t.hij(" ",t.lcZ(11,33,"Administration")," "),t.xp6(3),t.Oqu(t.lcZ(14,35,"Sales_Management")),t.xp6(3),t.Oqu(t.lcZ(17,37,"Customer_Statement")),t.xp6(9),t.hij("",t.lcZ(26,39,"Customer_Statement")," "),t.xp6(7),t.Oqu(t.lcZ(33,41,"Choose")),t.xp6(2),t.Q6J("ngModel",o.type),t.xp6(4),t.Oqu(t.lcZ(39,43,"Paid")),t.xp6(3),t.Oqu(t.lcZ(42,45,"UnPaid")),t.xp6(5),t.Oqu(t.lcZ(47,47,"Customer_Code")),t.xp6(2),t.Q6J("isLoading",o.isCodeLoading),t.xp6(1),t.hYB("placeholder","",t.lcZ(50,49,"Please_Enter")," ",t.lcZ(51,51,"Customer_Code"),""),t.Q6J("formControl",o.codeControl)("matAutocomplete",n),t.xp6(5),t.Q6J("ngForOf",t.lcZ(55,53,o.filteredOptions)),t.xp6(5),t.Oqu(t.lcZ(60,55,"From_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(64,57,"Select_a_Date")),t.Q6J("ngModel",o.dateFrom)("matDatepicker",r),t.xp6(3),t.Q6J("for",r),t.xp6(8),t.Oqu(t.lcZ(75,59,"To_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(79,61,"Select_a_Date")),t.Q6J("ngModel",o.dateTo)("matDatepicker",l),t.xp6(3),t.Q6J("for",l),t.xp6(7),t.Q6J("ngModel",o.isAllBranches),t.xp6(1),t.hij(" ",t.lcZ(90,63,"Cust_Statement_Balance")," "),t.xp6(5),t.hij(" ",t.lcZ(95,65,"Search")," "),t.xp6(2),t.Q6J("ngIf",o.vendorList&&o.vendorList.length>0),t.xp6(1),t.Q6J("ngIf",o.vendorList&&0===o.vendorList.length)}},directives:[s.EJ,s.JJ,s.On,s.YN,s.Kr,V.z,s.Fj,N.ZL,s.oH,N.XC,d.sg,m.hl,m.nW,U.R9,m.Mq,F.Rr,d.O5,R.ey,b.r,q.NW],pipes:[Z.X$,d.Ov,I.J,d.uU],encapsulation:2}),i})();function ll(i,a){if(1&i&&(t.TgZ(0,"mat-option",38),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("value",e.value),t.xp6(1),t.AsE(" (",e.value,") ",e.textTwo," ")}}function cl(i,a){if(1&i&&t._UZ(0,"img",50),2&i){const e=t.oxw(2);t.s9C("src",e.logoURL,t.LSH)}}function pl(i,a){if(1&i&&(t.TgZ(0,"div",42),t.TgZ(1,"p"),t._uU(2),t.ALo(3,"date"),t.ALo(4,"date"),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(2),t.AsE(' The Statement of " Payments Summary" for ',t.xi3(3,2,e.dateFrom,"dd/MM/yyyy")," to ",t.xi3(4,5,e.dateTo,"dd/MM/yyyy")," ")}}function dl(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.ALo(13,"date"),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.qZA(),t.TgZ(20,"td"),t._uU(21),t.ALo(22,"date"),t.qZA(),t.TgZ(23,"td"),t._uU(24),t.qZA(),t.TgZ(25,"td",54),t._uU(26),t.ALo(27,"decimalpipe"),t.qZA(),t.TgZ(28,"td",54),t._uU(29),t.ALo(30,"decimalpipe"),t.qZA(),t.TgZ(31,"td",54),t._uU(32),t.ALo(33,"decimalpipe"),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.Oqu(e.branchName),t.xp6(2),t.Oqu(e.payCode),t.xp6(2),t.Oqu(e.payAcCode),t.xp6(2),t.Oqu(e.trantype),t.xp6(2),t.Oqu(e.voucherNumber),t.xp6(2),t.Oqu(t.xi3(13,14,e.tranDate,"dd-MM-yyyy")),t.xp6(3),t.Oqu(e.invoiceNumber),t.xp6(2),t.Oqu(e.remarks),t.xp6(2),t.Oqu(e.docNum),t.xp6(2),t.Oqu(t.xi3(22,17,e.checkDate,"dd-MM-yyyy")),t.xp6(3),t.Oqu(e.checkNumber),t.xp6(2),t.Oqu(t.lcZ(27,20,e.drAmount)),t.xp6(3),t.Oqu(t.lcZ(30,22,e.crAmount)),t.xp6(3),t.Oqu(t.lcZ(33,24,e.balance))}}function ul(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",51),t.TgZ(2,"table",46),t.TgZ(3,"tr"),t.TgZ(4,"th"),t._uU(5),t.ALo(6,"translate"),t.ALo(7,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"table",46),t.TgZ(9,"tr"),t.TgZ(10,"th"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"th"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"th"),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"th",52),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"th"),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"th",53),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"th",52),t._uU(29),t.ALo(30,"translate"),t.qZA(),t.TgZ(31,"th",52),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"th"),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.TgZ(37,"th"),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"th"),t._uU(41),t.ALo(42,"translate"),t.qZA(),t.TgZ(43,"th",52),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.TgZ(46,"th",52),t._uU(47),t.ALo(48,"translate"),t.qZA(),t.TgZ(49,"th",52),t._uU(50),t.ALo(51,"translate"),t.qZA(),t.qZA(),t.YNc(52,dl,34,26,"tr",47),t.qZA(),t._UZ(53,"br"),t._UZ(54,"br"),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(5),t.HOy(" ",t.lcZ(6,19,"Customer_Code")," : ",e[0].vendCode,", \xa0 \xa0 ",t.lcZ(7,21,"Customer_Name")," : ",e[0].vendName," "),t.xp6(6),t.Oqu(t.lcZ(12,23,"BranchName")),t.xp6(3),t.Oqu(t.lcZ(15,25,"PayCode")),t.xp6(3),t.Oqu(t.lcZ(18,27,"PayAcCode")),t.xp6(3),t.hij("",t.lcZ(21,29,"Trantype")," "),t.xp6(3),t.Oqu(t.lcZ(24,31,"Voucher")),t.xp6(3),t.Oqu(t.lcZ(27,33,"Receipt_Date")),t.xp6(3),t.hij("",t.lcZ(30,35,"Invoice_InvoiceGrid_InvoiceNumber")," "),t.xp6(3),t.hij("",t.lcZ(33,37,"Remarks")," "),t.xp6(3),t.Oqu(t.lcZ(36,39,"DocNum")),t.xp6(3),t.Oqu(t.lcZ(39,41,"CheckDate")),t.xp6(3),t.Oqu(t.lcZ(42,43,"CheckNumber")),t.xp6(3),t.hij("",t.lcZ(45,45,"Total_Amount")," "),t.xp6(3),t.Oqu(t.lcZ(48,47,"Paid_Amount")),t.xp6(3),t.Oqu(t.lcZ(51,49,"Balance_Amount")),t.xp6(2),t.Q6J("ngForOf",e)}}function ml(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",39),t.TgZ(1,"div",40),t.TgZ(2,"button",35),t.NdJ("click",function(){return t.CHM(e),t.oxw().openPrint()}),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"div",41),t.TgZ(7,"div",42),t._uU(8),t.YNc(9,cl,1,1,"img",43),t._UZ(10,"br"),t._uU(11),t._UZ(12,"br"),t._uU(13),t.qZA(),t._UZ(14,"br"),t.YNc(15,pl,5,8,"div",44),t.TgZ(16,"div",45),t.TgZ(17,"table",46),t.TgZ(18,"tbody"),t.YNc(19,ul,55,51,"tr",47),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"div",48),t.TgZ(21,"mat-paginator",49),t.NdJ("page",function(n){return t.CHM(e),t.oxw().onPageSwitch(n)}),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,10,"Print")," "),t.xp6(5),t.hij(" ",e.companyName," "),t.xp6(1),t.Q6J("ngIf",e.companyName),t.xp6(2),t.hij(" ",e.branchName," "),t.xp6(2),t.hij(" ",e.companyAddress," "),t.xp6(2),t.Q6J("ngIf",e.dateFrom&&e.dateTo),t.xp6(4),t.Q6J("ngForOf",e.vendorList),t.xp6(2),t.Q6J("length",e.totalItemsCount)("pageSize",e.pageService.pageCount)("pageSizeOptions",e.pageService.selectItemsPerPage)}}function gl(i,a){1&i&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"No_Records")))}let Zl=(()=>{class i extends L.k{constructor(e,o,n,r,l,c){super(n),this.fb=e,this.apiService=o,this.authService=n,this.utilService=r,this.pageService=l,this.notifyService=c,this.totalItemsCount=0,this.vendCode="",this.isAllCustomers=!1,this.dateFrom="",this.dateTo="",this.type="All",this.vendorList=[],this.codeControl=new s.NI(""),this.totalBalance=0,this.companyName="",this.companyAddress="",this.branchName="",this.isLoading=!1,this.isCodeLoading=!1,this.filteredOptions=this.codeControl.valueChanges.pipe((0,J.O)(""),(0,D.b)(400),(0,P.x)(),(0,Y.w)(u=>(""!==u.trim()&&(this.isCodeLoading=!0),this.filter(u||""))))}ngOnInit(){this.setForm(),this.dateFrom=this.utilService.getStrtingYearDate(),this.dateTo=this.utilService.getCurrentDate(),this.search()}setForm(){this.form=this.fb.group({dateFrom:[""],dateTo:[""],isAllBranches:[!1]})}filter(e){return this.apiService.getall(`customer/getCustomerCodeSelectList?search=${e.trim()}`).pipe((0,B.U)(o=>{const n=o;return this.isCodeLoading=!1,n}))}onPageSwitch(e){this.search(e.pageIndex,e.pageSize)}search(e=this.pageService.page,o=this.pageService.pageCount){this.isLoading=!0,this.apiService.getall(`report/getOpmCustomerSummaryList?page=${e}&pageCount=${o}&isAllCustomers=${this.isAllCustomers}&type=${this.type}&custCode=${this.codeControl.value}&from=${this.utilService.getCommonDate(this.dateFrom)}&to=${this.utilService.getCommonDate(this.dateTo)}`).subscribe(n=>{if(this.isLoading=!1,n){const r=n.list;this.vendorList=r.list,this.totalItemsCount=r.reportCount,this.companyName=n.comapnyName,this.companyAddress=n.address,this.branchName=n.branchName,this.logoURL=n.logoURL,this.totalBalance=n.totalBalance}})}openPrint(){const e=document.getElementById("printcontainer");this.utilService.printForLocale(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(k.u),t.Y36(f.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-opmcustomersummary"]],viewQuery:function(e,o){if(1&e&&t.Gf(q.NW,7),2&e){let n;t.iGM(n=t.CRH())&&(o.paginator=n.first)}},features:[t.qOj],decls:99,vars:68,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"col-md-7","col-lg-9"],[1,"card-title","pt6"],[1,"cardtitle-divider"],[1,"col-md-4","col-lg-4"],[1,"form-group"],[3,"isLoading"],["type","text","matInput","",1,"form-control",3,"placeholder","formControl","matAutocomplete"],["auto1","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["id","Price Decimal",1,"custom-select","mr-sm-2",3,"ngModel","ngModelChange"],["value","All"],["value","Paid"],["value","UnPaid"],[1,"input-group","mb-2"],[1,"form-control","datapickerinput",3,"placeholder","ngModel","matDatepicker","ngModelChange"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker1",""],["picker2",""],[1,"form-group","pt",2,"padding-top","35px","padding-left","20px"],["color","primary",3,"ngModel","ngModelChange"],[1,"row","mb-4"],[1,"col-md-12","col-lg-12","text-center"],["type","button","data-toggle","modal",1,"btn","waves-effect","waves-light","btn-rounded","btn-primary","btn-midblock",3,"click"],["class","modal-content",4,"ngIf"],[4,"ngIf"],[3,"value"],[1,"modal-content"],[1,"modal-body"],["id","printcontainer",1,"outer"],[1,"text-center","font-weight-medium"],["style","width:200px;height:150px;float:right;",3,"src",4,"ngIf"],["class","text-center font-weight-medium",4,"ngIf"],[1,"table-responsive"],["border","1","cellpadding","0","cellspacing","0","width","100%",1,"ur_tablestyle",2,"width","100%","padding-bottom","5px"],[4,"ngFor","ngForOf"],[1,"example-table-container","table-responsive","pt-3"],[3,"length","pageSize","pageSizeOptions","page"],[2,"width","200px","height","150px","float","right",3,"src"],["colspan","7"],[1,"w10per"],["width","100px"],[1,"text-right"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"nav",5),t.TgZ(8,"ol",6),t.TgZ(9,"li",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"li",7),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"li",8),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",1),t.TgZ(19,"div",9),t.TgZ(20,"div",10),t.TgZ(21,"div",11),t.TgZ(22,"div",1),t.TgZ(23,"div",12),t.TgZ(24,"h4",13),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.qZA(),t.qZA(),t._UZ(27,"div",14),t.TgZ(28,"div",1),t.TgZ(29,"div",15),t.TgZ(30,"div",16),t.TgZ(31,"label"),t._uU(32),t.ALo(33,"translate"),t.qZA(),t._UZ(34,"auto-loader",17),t._UZ(35,"input",18),t.ALo(36,"translate"),t.ALo(37,"translate"),t.TgZ(38,"mat-autocomplete",null,19),t.YNc(40,ll,2,3,"mat-option",20),t.ALo(41,"async"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(42,"div",15),t.TgZ(43,"div",16),t.TgZ(44,"label"),t._uU(45),t.ALo(46,"translate"),t.qZA(),t.TgZ(47,"select",21),t.NdJ("ngModelChange",function(r){return o.type=r}),t.TgZ(48,"option",22),t._uU(49,"All"),t.qZA(),t.TgZ(50,"option",23),t._uU(51),t.ALo(52,"translate"),t.qZA(),t.TgZ(53,"option",24),t._uU(54),t.ALo(55,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(56,"div",15),t.TgZ(57,"div",16),t.TgZ(58,"label"),t._uU(59),t.ALo(60,"translate"),t.qZA(),t.TgZ(61,"div",16),t.TgZ(62,"div",25),t.TgZ(63,"input",26),t.NdJ("ngModelChange",function(r){return o.dateFrom=r}),t.ALo(64,"translate"),t.qZA(),t.TgZ(65,"div",27),t._UZ(66,"mat-datepicker-toggle",28),t._UZ(67,"mat-datepicker",null,29),t._UZ(69,"br"),t._UZ(70,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(71,"div",15),t.TgZ(72,"div",16),t.TgZ(73,"label"),t._uU(74),t.ALo(75,"translate"),t.qZA(),t.TgZ(76,"div",16),t.TgZ(77,"div",25),t.TgZ(78,"input",26),t.NdJ("ngModelChange",function(r){return o.dateTo=r}),t.ALo(79,"translate"),t.qZA(),t.TgZ(80,"div",27),t._UZ(81,"mat-datepicker-toggle",28),t._UZ(82,"mat-datepicker",null,30),t._UZ(84,"br"),t._UZ(85,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(86,"div",9),t.TgZ(87,"div",31),t.TgZ(88,"mat-slide-toggle",32),t.NdJ("ngModelChange",function(r){return o.isAllCustomers=r}),t.qZA(),t._uU(89),t.ALo(90,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(91,"div",33),t.TgZ(92,"div",34),t.TgZ(93,"button",35),t.NdJ("click",function(){return o.search()}),t._uU(94),t.ALo(95,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(96,"spinner-loader",17),t.YNc(97,ml,22,12,"div",36),t.YNc(98,gl,3,3,"h3",37),t.qZA()),2&e){const n=t.MAs(39),r=t.MAs(68),l=t.MAs(83);t.xp6(4),t.hij(" ",t.lcZ(5,32,"Customer_Statement")," "),t.xp6(6),t.hij(" ",t.lcZ(11,34,"Administration")," "),t.xp6(3),t.Oqu(t.lcZ(14,36,"Sales_Management")),t.xp6(3),t.Oqu(t.lcZ(17,38,"Customer_Statement")),t.xp6(9),t.hij("",t.lcZ(26,40,"Customer_Statement")," "),t.xp6(7),t.Oqu(t.lcZ(33,42,"Customer_Code")),t.xp6(2),t.Q6J("isLoading",o.isCodeLoading),t.xp6(1),t.hYB("placeholder","",t.lcZ(36,44,"Please_Enter")," ",t.lcZ(37,46,"Customer_Code"),""),t.Q6J("formControl",o.codeControl)("matAutocomplete",n),t.xp6(5),t.Q6J("ngForOf",t.lcZ(41,48,o.filteredOptions)),t.xp6(5),t.Oqu(t.lcZ(46,50,"Choose")),t.xp6(2),t.Q6J("ngModel",o.type),t.xp6(4),t.Oqu(t.lcZ(52,52,"Posted")),t.xp6(3),t.Oqu(t.lcZ(55,54,"UnPosted")),t.xp6(5),t.Oqu(t.lcZ(60,56,"From_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(64,58,"Select_a_Date")),t.Q6J("ngModel",o.dateFrom)("matDatepicker",r),t.xp6(3),t.Q6J("for",r),t.xp6(8),t.Oqu(t.lcZ(75,60,"To_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(79,62,"Select_a_Date")),t.Q6J("ngModel",o.dateTo)("matDatepicker",l),t.xp6(3),t.Q6J("for",l),t.xp6(7),t.Q6J("ngModel",o.isAllCustomers),t.xp6(1),t.hij(" ",t.lcZ(90,64,"Cust_Statement_Balance")," "),t.xp6(5),t.hij(" ",t.lcZ(95,66,"Search")," "),t.xp6(2),t.Q6J("isLoading",o.isLoading),t.xp6(1),t.Q6J("ngIf",o.vendorList&&o.vendorList.length>0),t.xp6(1),t.Q6J("ngIf",o.vendorList&&0===o.vendorList.length)}},directives:[V.z,s.Fj,N.ZL,s.JJ,s.oH,N.XC,d.sg,s.EJ,s.On,s.YN,s.Kr,m.hl,m.nW,U.R9,m.Mq,F.Rr,b.r,d.O5,R.ey,q.NW],pipes:[Z.X$,d.Ov,d.uU,I.J],encapsulation:2}),i})();var st=y(5862),nt=y(946);function hl(i,a){if(1&i&&t._UZ(0,"img",81),2&i){const e=t.oxw(2);t.s9C("src",e.company.headerLogo,t.LSH)}}function _l(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",82),t._uU(2),t.qZA(),t.TgZ(3,"td",82),t.TgZ(4,"b",83),t._uU(5),t._UZ(6,"br"),t.qZA(),t.qZA(),t.TgZ(7,"td",84),t.TgZ(8,"div",85),t._uU(9),t.qZA(),t.qZA(),t.TgZ(10,"td",82),t._uU(11),t.qZA(),t.TgZ(12,"td",82),t._uU(13),t.ALo(14,"leadingZeros"),t.qZA(),t.TgZ(15,"td",82),t._uU(16),t.ALo(17,"leadingZeros"),t.qZA(),t.TgZ(18,"td",82),t._uU(19),t.ALo(20,"leadingZeros"),t.qZA(),t.TgZ(21,"td",82),t._uU(22),t.qZA(),t.TgZ(23,"td",86),t._uU(24),t.ALo(25,"leadingZeros"),t.qZA(),t.TgZ(26,"td",87),t._uU(27),t.ALo(28,"leadingZeros"),t.qZA(),t.qZA()),2&i){const e=a.$implicit,o=t.oxw(2);t.Udp("opacity",o.OpacityValue),t.xp6(2),t.hij(" ",e.productId," "),t.xp6(3),t.hij(" ",e.productName,""),t.xp6(4),t.hij(" ",e.description," "),t.xp6(2),t.hij(" ",e.quantity," "),t.xp6(2),t.hij(" ",t.lcZ(14,12,e.unitPrice)," "),t.xp6(3),t.hij(" ",t.lcZ(17,14,e.discount)," % "),t.xp6(3),t.hij(" ",t.lcZ(20,16,e.discountAmount)," "),t.xp6(3),t.hij(" ",null==e.taxTariffPercentage?"0 %":e.taxTariffPercentage+" %"," "),t.xp6(2),t.hij(" ",t.lcZ(25,18,e.taxAmount)," "),t.xp6(3),t.hij(" ",t.lcZ(28,20,e.totalAmount)," ")}}function Al(i,a){if(1&i&&(t.TgZ(0,"div",63),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij("",e.bank.branchName," : Branch Name ")}}function fl(i,a){if(1&i&&(t.TgZ(0,"div",63),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij("Branch Name: ",e.bank.branchName,"")}}function Tl(i,a){1&i&&(t.TgZ(0,"table",5),t.TgZ(1,"tr"),t._UZ(2,"td",88),t.qZA(),t.qZA())}function vl(i,a){if(1&i&&(t.TgZ(0,"table",5),t.TgZ(1,"tr"),t.TgZ(2,"td",88),t._UZ(3,"img",89),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.s9C("src",e.company.footerLogo,t.LSH)}}function ql(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"div",1),t.TgZ(2,"table",2),t.TgZ(3,"tr"),t.TgZ(4,"td",3),t.YNc(5,hl,1,1,"img",4),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"table",5),t.TgZ(7,"tr"),t.TgZ(8,"td",6),t.TgZ(9,"h4",7),t._uU(10),t.qZA(),t.TgZ(11,"h4",7),t._uU(12),t.qZA(),t._UZ(13,"span"),t.TgZ(14,"h4",7),t._uU(15," C.R. No.: "),t.TgZ(16,"span",8),t._uU(17),t.qZA(),t.qZA(),t.TgZ(18,"h4",7),t._uU(19," C.C. No.: "),t.TgZ(20,"span",8),t._uU(21),t.qZA(),t.qZA(),t.TgZ(22,"h4",7),t._uU(23," VAT NO : "),t.TgZ(24,"span",8),t._uU(25),t.qZA(),t.qZA(),t.qZA(),t.TgZ(26,"td",9),t.TgZ(27,"span",10),t._uU(28),t.qZA(),t._UZ(29,"br"),t.TgZ(30,"span",11),t._uU(31),t.qZA(),t.qZA(),t.TgZ(32,"td",12),t.TgZ(33,"h4",13),t._uU(34),t.qZA(),t.TgZ(35,"h4",13),t._uU(36),t.qZA(),t.TgZ(37,"h4",13),t._uU(38),t.qZA(),t.TgZ(39,"h4",13),t._uU(40),t.qZA(),t.TgZ(41,"h4",13),t._uU(42),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(43,"div",14),t.TgZ(44,"table",15),t.TgZ(45,"tr"),t.TgZ(46,"td",16),t.TgZ(47,"table",17),t.TgZ(48,"tr"),t.TgZ(49,"td",18),t._uU(50," Invoice # "),t.qZA(),t.TgZ(51,"td",19),t._uU(52),t.qZA(),t.TgZ(53,"td",20),t._uU(54," \u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629 "),t.qZA(),t.qZA(),t.TgZ(55,"tr"),t.TgZ(56,"td",21),t._uU(57," Service Month "),t.qZA(),t.TgZ(58,"td",22),t._uU(59),t.qZA(),t.TgZ(60,"td",23),t._uU(61," \u0634\u0647\u0631 \u0627\u0644\u0639\u0645\u0644 "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(62,"td",24),t.TgZ(63,"td",25),t.TgZ(64,"table",17),t.TgZ(65,"tr"),t.TgZ(66,"td",18),t._uU(67," Issue Date "),t.qZA(),t.TgZ(68,"td",19),t.TgZ(69,"label",26),t._uU(70),t.ALo(71,"date"),t.qZA(),t.qZA(),t.TgZ(72,"td",20),t._uU(73," \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0635\u062f\u0627\u0631 "),t.qZA(),t.qZA(),t.TgZ(74,"tr"),t.TgZ(75,"td",21),t._uU(76," Due Date "),t.qZA(),t.TgZ(77,"td",22),t.TgZ(78,"label",26),t._uU(79),t.ALo(80,"date"),t.qZA(),t.qZA(),t.TgZ(81,"td",23),t._uU(82," \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0633\u062a\u062d\u0642\u0627\u0642 "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(83,"div",27),t.TgZ(84,"table",17),t.TgZ(85,"tr"),t.TgZ(86,"td",28),t._uU(87," Address "),t.qZA(),t.TgZ(88,"td",29),t._uU(89),t.qZA(),t.TgZ(90,"td",30),t._uU(91),t.ALo(92,"translate"),t.qZA(),t.TgZ(93,"td",31),t._uU(94),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(95,"div",27),t.TgZ(96,"table",17),t.TgZ(97,"tr"),t.TgZ(98,"td",32),t._uU(99),t.qZA(),t.TgZ(100,"td",33),t._uU(101," \u0627\u0644\u0639\u0646\u0648\u0627\u0646 "),t.qZA(),t.TgZ(102,"td",34),t._uU(103),t.qZA(),t.TgZ(104,"td",35),t._uU(105," \u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064a\u0644 "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(106,"div",27),t.TgZ(107,"table",17),t.TgZ(108,"tr"),t.TgZ(109,"td",36),t._uU(110," Payment Terms "),t.TgZ(111,"span",37),t._uU(112," \u0634\u0631\u0648\u0637 \u0627\u0644\u062f\u0641\u0639 "),t.qZA(),t.qZA(),t.TgZ(113,"td",38),t._uU(114," P.O. No. \xa0 "),t.TgZ(115,"span",37),t._uU(116," \u0631\u0642\u0645 \u0623\u0645\u0631 \u0627\u0644\u0634\u0631\u0627\u0621 "),t.qZA(),t.qZA(),t.TgZ(117,"td",39),t._uU(118),t.ALo(119,"translate"),t.TgZ(120,"span",37),t._uU(121),t.ALo(122,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(123,"tr"),t.TgZ(124,"td",40),t._uU(125),t.qZA(),t.TgZ(126,"td",41),t._uU(127),t.qZA(),t.TgZ(128,"td",42),t._uU(129),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(130,"div",43),t.TgZ(131,"table",17),t.TgZ(132,"tr"),t.TgZ(133,"th",44),t.TgZ(134,"div",45),t._uU(135,"\u0631\u0642\u0645 \u0627\u0644\u0635\u0646\u0641"),t.qZA(),t.TgZ(136,"div",46),t._uU(137,"Item"),t.qZA(),t.qZA(),t.TgZ(138,"th",44),t.TgZ(139,"div",45),t._uU(140," \u0627\u0633\u0645"),t.qZA(),t.TgZ(141,"div",46),t._uU(142,"Name"),t.qZA(),t.qZA(),t.TgZ(143,"th",47),t.TgZ(144,"div",45),t._uU(145,"\u0627\u0644\u0648\u0635\u0641"),t.qZA(),t.TgZ(146,"div",46),t._uU(147,"Description"),t.qZA(),t.qZA(),t.TgZ(148,"th",48),t.TgZ(149,"div",45),t._uU(150," \u0627\u0644\u0643\u0645\u064a\u0629"),t.qZA(),t.TgZ(151,"div",46),t._uU(152,"Quantity"),t.qZA(),t.qZA(),t.TgZ(153,"th",48),t.TgZ(154,"div",45),t._uU(155,"\u0633\u0639\u0631 \u0627\u0644\u0648\u062d\u062f\u0629"),t.qZA(),t.TgZ(156,"div",46),t._uU(157,"Unit Price"),t.qZA(),t.qZA(),t.TgZ(158,"th",48),t.TgZ(159,"div",45),t._uU(160," \u0646\u0633\u0628\u0629 \u0627\u0644\u062e\u0635\u0645 "),t.qZA(),t.TgZ(161,"div",46),t._uU(162,"Discount Percentage"),t.qZA(),t.qZA(),t.TgZ(163,"th",48),t.TgZ(164,"div",45),t._uU(165," \u0645\u0628\u0644\u063a \u0627\u0644\u062e\u0635\u0645 "),t.qZA(),t.TgZ(166,"div",46),t._uU(167,"Discount Amount"),t.qZA(),t.qZA(),t.TgZ(168,"th",48),t.TgZ(169,"div",45),t._uU(170," \u0636\u0631\u064a\u0628\u0629 \u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0645\u0636\u0627\u0641\u0629"),t.qZA(),t.TgZ(171,"div",46),t._uU(172,"VAT"),t.qZA(),t.qZA(),t.TgZ(173,"th",49),t.TgZ(174,"div",45),t._uU(175," \u0625\u062c\u0645\u0627\u0644\u064a \u0636\u0631\u064a\u0628\u0629 \u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0645\u0636\u0627\u0641\u0629"),t.qZA(),t.TgZ(176,"div",46),t._uU(177,"VAT Amount"),t.qZA(),t.qZA(),t.TgZ(178,"th",50),t.TgZ(179,"div",45),t._uU(180,"\u0627\u0644\u0633\u0639\u0631 \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a"),t.qZA(),t.TgZ(181,"div",46),t._uU(182,"Total Price"),t.qZA(),t.qZA(),t.qZA(),t.YNc(183,_l,29,22,"tr",51),t.TgZ(184,"tr"),t.TgZ(185,"td",52),t.TgZ(186,"div",53),t._uU(187),t.qZA(),t.TgZ(188,"div",54),t._uU(189),t.qZA(),t.TgZ(190,"div",55),t._UZ(191,"img",56),t.qZA(),t.qZA(),t.TgZ(192,"td",57),t.TgZ(193,"div",45),t._uU(194," \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a \u063a\u064a\u0631 \u0634\u0627\u0645\u0644 \u0627\u0644\u0636\u0631\u064a\u0628\u0629"),t.qZA(),t.TgZ(195,"div",46),t._uU(196,"Sub Total Excluding VAT"),t.qZA(),t.qZA(),t.TgZ(197,"td",58),t._uU(198),t.ALo(199,"leadingZeros"),t.qZA(),t.qZA(),t.TgZ(200,"tr"),t.TgZ(201,"td",57),t.TgZ(202,"div",45),t._UZ(203,"span",46),t._uU(204," \u0636\u0631\u064a\u0628\u0629 \u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0645\u0636\u0627\u0641\u0629 "),t.qZA(),t.TgZ(205,"div",46),t._uU(206,"VAT Amount"),t.qZA(),t.qZA(),t.TgZ(207,"td",59),t._uU(208),t.ALo(209,"leadingZeros"),t.qZA(),t.qZA(),t.TgZ(210,"tr"),t.TgZ(211,"td",60),t.TgZ(212,"table",61),t.TgZ(213,"tr"),t.TgZ(214,"td",62),t.TgZ(215,"div",63),t._uU(216,":Bank Account Details"),t.qZA(),t.TgZ(217,"div",63),t._uU(218),t.qZA(),t.TgZ(219,"div",63),t._uU(220),t.qZA(),t.TgZ(221,"div",63),t._uU(222),t.qZA(),t.TgZ(223,"div",63),t._uU(224),t.qZA(),t.YNc(225,Al,2,1,"div",64),t.YNc(226,fl,2,1,"div",64),t.TgZ(227,"div",63),t._uU(228),t.qZA(),t.TgZ(229,"div",63),t._uU(230),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(231,"td",65),t.TgZ(232,"div",66),t._uU(233," \u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a \u0634\u0627\u0645\u0644 \u0627\u0644\u0636\u0631\u064a\u0628\u0629"),t.qZA(),t.TgZ(234,"div",67),t._uU(235,"Total Including VAT"),t.qZA(),t.qZA(),t.TgZ(236,"td",68),t.TgZ(237,"div",67),t._uU(238," SAR "),t.TgZ(239,"span",69),t._uU(240),t.ALo(241,"leadingZeros"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(242,"tr"),t.TgZ(243,"td",65),t.TgZ(244,"div",45),t._uU(245," \u0645\u0628\u0644\u063a \u0627\u0644\u062e\u0635\u0645 "),t.qZA(),t.TgZ(246,"div",46),t._uU(247,"Discount Amount"),t.qZA(),t.qZA(),t.TgZ(248,"td",70),t.TgZ(249,"div",67),t._uU(250),t.ALo(251,"leadingZeros"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(252,"tr"),t.TgZ(253,"td",71),t.TgZ(254,"div",66),t._uU(255,"\u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u0645\u062f\u0641\u0648\u0639"),t.qZA(),t.TgZ(256,"div",66),t._uU(257,"Amount Paid"),t.qZA(),t.qZA(),t.TgZ(258,"td",72),t.TgZ(259,"div",67),t._uU(260),t.ALo(261,"leadingZeros"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(262,"tr"),t.TgZ(263,"td",73),t.TgZ(264,"div",66),t._uU(265,"\u0627\u0644\u0631\u0635\u064a\u062f \u0627\u0644\u0645\u0633\u062a\u062d\u0642"),t.qZA(),t.TgZ(266,"div",67),t._uU(267,"Balance Due "),t.qZA(),t.qZA(),t.TgZ(268,"td",70),t.TgZ(269,"div",67),t._uU(270),t.ALo(271,"leadingZeros"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(272,"div",74),t.TgZ(273,"table",75),t.TgZ(274,"tr"),t.TgZ(275,"td",76),t._uU(276," Prepared by: "),t.TgZ(277,"span",77),t._uU(278," : \u0625\u0646\u0634\u0627\u0621 "),t.qZA(),t.qZA(),t.TgZ(279,"td",78),t._uU(280," Approved by: "),t.TgZ(281,"span",77),t._uU(282," : \u0645\u0648\u0627\u0641\u0642\u0629 "),t.qZA(),t.qZA(),t.TgZ(283,"td",79),t._uU(284," Received by: "),t.TgZ(285,"span",77),t._uU(286," : \u0627\u0633\u062a\u0644\u0627\u0645 "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(287,Tl,3,0,"table",80),t.YNc(288,vl,4,1,"table",80),t.qZA(),t.qZA(),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Udp("padding-top",e.isSavePDF?"5px !important":"150px !important"),t.xp6(3),t.Akn(e.isSavePDF?"height:75px":"height : 0px "),t.xp6(1),t.Q6J("ngIf",!e.isSavePDF),t.xp6(5),t.hij(" ",e.company.companyName," "),t.xp6(2),t.hij(" ",e.company.companyAddress," "),t.xp6(5),t.hij(" ",e.company.crNumber," "),t.xp6(4),t.Oqu(e.company.ccNumber),t.xp6(4),t.hij("",e.company.vatNumber," "),t.xp6(3),t.hij(" ",e.invoice.isCreditConverted?" \u0627\u0634\u0639\u0627\u0631 \u062f\u0627\u0626\u0646 ":" \u0641\u0627\u062a\u0648\u0631\u0629 \u0636\u0631\u064a\u0628\u064a\u0629 "," "),t.xp6(3),t.hij(" ",e.invoice.isCreditConverted?" Credit note ":" VAT INVOICE "," \xa0 \xa0\xa0 "),t.xp6(3),t.hij(" ",e.company.companyNameAr," "),t.xp6(2),t.hij(" ",e.company.companyAddressAr," "),t.xp6(2),t.hij(" ",e.company.crNumber," : \u0631\u0642\u0645 \u0627\u0644\u0633\u062c\u0644 \u0627\u0644\u062a\u062c\u0627\u0631\u064a "),t.xp6(2),t.hij(" ",e.company.ccNumber," : \u0631\u0642\u0645 \u0627\u0644\u0639\u0636\u0648\u064a\u0629 "),t.xp6(2),t.hij(" ",e.company.vatNumber," : \u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064a\u0628\u064a "),t.xp6(10),t.hij(" ",e.invoice.invoiceNumber," "),t.xp6(7),t.hij(" ",e.invoice.serviceDate1," "),t.xp6(11),t.hij(" ",t.xi3(71,74,e.invoice.invoiceDate,"dd-MM-yyyy")," "),t.xp6(9),t.Oqu(t.xi3(80,77,e.invoice.invoiceDueDate,"dd-MM-yyyy")),t.xp6(10),t.hij(" ",e.customer.custAddress2," "),t.xp6(2),t.AsE(" ",e.invoice.customerName?"Walk-In / \u0641\u064a \u0627\u0644\u0645\u0648\u0642\u0639 ":""," ",t.lcZ(92,80,"Inv_Customer_Name")," "),t.xp6(3),t.hij(" ",e.customer.custName," "),t.xp6(5),t.hij(" ",e.customer.custAddress1," "),t.xp6(4),t.hij(" ",e.customer.custArbName," "),t.xp6(15),t.hij(" ",t.lcZ(119,82,"Customer_Inv_VAT_No")," \xa0 "),t.xp6(3),t.hij(" ",t.lcZ(122,84,"Customer_Inv_VAT_No_Ar"),""),t.xp6(4),t.hij(" ",e.invoice.paymentTermId," "),t.xp6(2),t.hij(" ",e.invoice.invoiceRefNumber," "),t.xp6(2),t.hij(" ",e.customer.vatNumber," "),t.xp6(4),t.Udp("opacity",e.OpacityValue),t.xp6(5),t.Udp("opacity",e.OpacityValue),t.xp6(5),t.Udp("opacity",e.OpacityValue),t.xp6(5),t.Udp("opacity",e.OpacityValue),t.xp6(5),t.Udp("opacity",e.OpacityValue),t.xp6(5),t.Udp("opacity",e.OpacityValue),t.xp6(5),t.Udp("opacity",e.OpacityValue),t.xp6(5),t.Udp("opacity",e.OpacityValue),t.xp6(5),t.Udp("opacity",e.OpacityValue),t.xp6(5),t.Udp("opacity",e.OpacityValue),t.xp6(5),t.Q6J("ngForOf",e.items),t.xp6(4),t.hij(" \u0627\u0644\u0645\u062c\u0645\u0648\u0639 \u0643\u062a\u0627\u0628\u0629 : ",e.totalAmountAr," "),t.xp6(2),t.hij(" Total In Words: ",e.totalAmountEn," "),t.xp6(2),t.s9C("src",e.invoice.qrCode,t.LSH),t.xp6(7),t.hij(" SAR ",t.lcZ(199,86,e.invoice.subTotal)," "),t.xp6(10),t.hij(" SAR ",t.lcZ(209,88,e.invoice.taxAmount)," "),t.xp6(6),t.Udp("opacity",e.OpacityValue),t.xp6(4),t.hij(" Account Name: ",e.company.companyName,""),t.xp6(2),t.hij("",e.company.companyNameAr," :Account Name in Arabic"),t.xp6(2),t.hij(" ",e.bank.bankNameAr," :Bank Name in Arabic"),t.xp6(2),t.hij(" Bank Name : ",e.bank.bankName," "),t.xp6(1),t.Q6J("ngIf",!e.hasNonArabChars(e.bank.branchName)),t.xp6(1),t.Q6J("ngIf",e.hasNonArabChars(e.bank.branchName)),t.xp6(2),t.hij(" Account No: ",e.bank.accountNumber,""),t.xp6(2),t.hij("IBAN: ",e.bank.iban,""),t.xp6(10),t.Oqu(t.lcZ(241,90,e.invoice.totalAmount+e.invoice.discountAmount)),t.xp6(10),t.hij(" SAR ",t.lcZ(251,92,e.invoice.discountAmount)," "),t.xp6(10),t.hij(" SAR ",t.lcZ(261,94,e.invoice.paidAmount)," "),t.xp6(10),t.hij("SAR ",t.lcZ(271,96,e.invoice.totalAmount-e.invoice.paidAmount)," "),t.xp6(17),t.Q6J("ngIf",e.isSavePDF),t.xp6(1),t.Q6J("ngIf",!e.isSavePDF)}}let Cl=(()=>{class i{constructor(){this.items=[],this.totalAmountAr="",this.totalAmountEn="",this.OpacityValue=1,this.isSavePDF=!1,this.isArabic=!1,this.dashBoardType=""}ngOnInit(){this.dashBoardType=st.r}ngOnChanges(e){this.res&&(this.totalAmountAr=this.res.totalAmountAr,this.totalAmountEn=this.res.totalAmountEn,this.company=this.res.company,this.customer=this.res.customer,this.bank=this.res.bankDetails,this.invoice=this.res.invoice,this.items=this.res.invoiceItems)}hasNonArabChars(e){return/^[A-Za-z0-9]*$/.test(e.trim().replace(/ /g,""))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-invoiceview"]],inputs:{res:"res",OpacityValue:"OpacityValue",isSavePDF:"isSavePDF",isArabic:"isArabic"},features:[t.TTD],decls:2,vars:1,consts:[[4,"ngIf"],["id","printcontainer",1,"container-fluid","invoice-container","print-container",2,"width","850px","margin","auto","padding-top","5px !important","border","1px solid #ccc","border-radius","10px"],["border","0","cellpadding","0","cellspacing","0","width","100%",1,"ur_tablestyle",2,"width","100%","padding-bottom","5px"],["colspan","5",2,"text-align","center"],["alt","","style","width:100%;",3,"src",4,"ngIf"],["border","0","cellpadding","0","cellspacing","0","width","100%",1,"ur_tablestyle",2,"width","100%"],[1,"table_right",2,"width","36%"],[1,"english_header_align",2,"font-size","0.85rem !important","color","#0c2f54","font-family","'Poppins', sans-serif","font-weight","500","line-height","1.2","margin","0","padding-top","4px"],[2,"font-size","0.85rem !important","color","#0c2f54","font-family","'Poppins', sans-serif","font-weight","500","line-height","1.2","margin","0"],[2,"width","28%","text-align","center","vertical-align","middle"],[2,"font-size","1.75rem !important","position","relative","left","-15px","color","#0c2f54","font-family","'Poppins', sans-serif","font-weight","500","line-height","1.2","margin","0"],[2,"font-size","1.3rem !important","color","#0c2f54","font-family","'Poppins', sans-serif","font-weight","500","line-height","1.2","margin","0"],[1,"table_left",2,"text-align","right","width","36%"],[2,"font-size","0.85rem !important","color","#0c2f54","font-family","'Poppins', sans-serif","font-weight","500","line-height","1.2","margin","0","padding-top","4px"],[2,"padding-top","10px","padding-bottom","5px"],["border","0","cellpadding","0","cellspacing","0","width","100%",2,"width","100%"],[2,"width","40%","text-align","center"],["border","0","cellpadding","0","cellspacing","0","width","100%",1,"",2,"width","100%"],[2,"border","0.1px solid #878787","border-collapse","collapse","padding","5px","width","33%","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","0.1px solid #878787","border-collapse","collapse","border-left","0","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","0.1px solid #878787","border-collapse","collapse","border-left","0","padding","5px","width","33%","text-align","center","font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","0.1px solid #878787","border-collapse","collapse","padding","5px","border-top","0","width","33%","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","0.1px solid #878787","border-collapse","collapse","border-left","0","border-top","0","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","0.1px solid #878787","border-collapse","collapse","border-left","0","border-top","0","padding","5px","width","33%","text-align","center","font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"width","20%"],[2,"width","40%"],[1,"two"],[2,"padding-bottom","5px"],[2,"border","0.1px solid #878787","border-collapse","collapse","padding","5px","width","10%","border-right","0","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","0.1px solid #878787","border-collapse","collapse","padding","5px","width","22%","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","0.1px solid #878787","border-collapse","collapse","padding","5px","width","20%","border-right","0","border-left","0","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","0.1px solid #878787","border-collapse","collapse","padding","5px","text-align","left","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[1,"",2,"border","1px solid #878787","padding","5px","width","25%","text-align","right","font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","0.1px solid #878787","border-collapse","collapse","width","10%","border-left","0","padding","5px","text-align","center","font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[1,"",2,"border","0.1px solid #878787","border-collapse","collapse","padding","5px","text-align","right","font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","0.1px solid #878787","border-collapse","collapse","padding","5px","width","15%","border-left","0","text-align","center","font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"width","30%","border","0.1px solid #878787","border-collapse","collapse","border-right","0","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"padding","5px","text-align","right","font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","0.1px solid #878787","border-collapse","collapse","width","30%","border-right","0","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","0.1px solid #878787","border-collapse","collapse","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"width","30%","border","0.1px solid #878787","border-collapse","collapse","border-top","0","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","0.1px solid #878787","border-collapse","collapse","width","30%","border-top","0","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","0.1px solid #878787","border-collapse","collapse","border-top","0","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],["dir","rtl",2,"padding-bottom","5px"],[2,"width","10%","border","0.1px solid #878787","border-collapse","collapse","border-left","0","padding","5px","text-align","center","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"font-size","1rem !important","color","#706f6f","font-family","'Poppins', sans-serif","font-weight","500"],[2,"font-size","0.875rem !important","color","#706f6f","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","0.1px solid #878787","border-collapse","collapse","border-left","0","padding","5px","text-align","center","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"width","10%","border","1px solid #878787","border-left","0","padding","5px","text-align","center","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"width","15%","border","1px solid #878787","border-left","0","padding","5px","text-align","center","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"width","15%","border","1px solid #878787","padding","5px","text-align","center","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[3,"opacity",4,"ngFor","ngForOf"],["rowspan","2","colspan","7",2,"border","0.1px solid #878787","border-collapse","collapse","border-top","0","padding","5px","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[1,"ur_right",2,"text-align","right","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[1,"ur_left",2,"text-align","left","font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[1,"ur_right"],["alt","QR Code",2,"width","26%",3,"src"],["colspan","2",1,"",2,"border","0.1px solid #878787","border-collapse","collapse","border-right","0","border-top","0","border-left","0","padding","5px","text-align","left","font-size","0.675rem !important","color","#706f6f","font-family","'Poppins', sans-serif","font-weight","500"],[1,"",2,"border","0.1px solid #878787","border-collapse","collapse","border-top","0","border-bottom","0","padding","5px","text-align","right","font-size","0.875rem !important","color","#706f6f","font-family","'Poppins', sans-serif","font-weight","500"],[1,"",2,"border","0.1px solid #878787","border-collapse","collapse","padding","5px","text-align","right","font-size","0.875rem !important","color","#706f6f","font-family","'Poppins', sans-serif","font-weight","500"],["rowspan","4","colspan","7",1,"",2,"border","0.1px solid #878787","border-collapse","collapse","border-top","0","padding","5px","font-size","0.675rem !important","color","#706f6f","font-family","'Poppins', sans-serif","font-weight","500","vertical-align","top"],["border","0",2,"width","100%"],["colspan","12",2,"text-align","left","padding","8px","border","none!important"],[2,"line-height","18px"],["style","line-height: 18px;",4,"ngIf"],["colspan","2",1,"",2,"border","0.1px solid #878787","border-collapse","collapse","border-right","0","border-top","0","padding","5px","text-align","left","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[2,"font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[2,"font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],["colspan","1",1,"",2,"border","0.1px solid #878787","border-collapse","collapse","border-right","0","border-top","0","border-bottom","0","padding","5px","text-align","left","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],["id","spnTotalInclVat"],["colspan","1",1,"",2,"border","0.1px solid #878787","border-collapse","collapse","border-right","0","padding","5px","text-align","left","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],["colspan","2",2,"border","0.1px solid #878787","border-collapse","collapse","padding","5px","text-align","left","border-width","0px!important"],["colspan","1",1,"",2,"border","0.1px solid #878787","border-collapse","collapse","padding","5px","text-align","left","border-width","0px 0.1px !important"],["colspan","2",1,"",2,"border","0.1px solid #878787","border-collapse","collapse","border-right","0","padding","5px","text-align","left","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[2,"padding-top","5px"],["dir","ltr","border","0","cellpadding","0","cellspacing","0","width","100%",1,"",2,"width","100%"],[1,"",2,"width","33%","height","70px","vertical-align","top","border","0.1px solid #878787","border-collapse","collapse","border-width","1px !important","padding","5px","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"float","right"],[1,"",2,"vertical-align","top","border","0.1px solid #878787","border-collapse","collapse","border-width","1px !important","border-left","0","padding","5px","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[1,"",2,"width","33%","vertical-align","top","border","0.1px solid #878787","border-collapse","collapse","border-left","0","border-width","1px !important","padding","5px","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],["style","width:100%;","border","0","cellpadding","0","cellspacing","0","width","100%","class","ur_tablestyle",4,"ngIf"],["alt","",2,"width","100%",3,"src"],[2,"width","10%","border","0.1px solid #878787","border-collapse","collapse","border-top","0","border-left","0","padding","5px","text-align","center","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"font-weight","600"],[1,"",2,"border","0.1px solid #878787","border-collapse","collapse","border-top","0","border-left","0","padding","5px","text-align","left","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"width","15%","border","0.1px solid #878787","border-collapse","collapse","border-top","0","border-left","0","padding","5px","text-align","center","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"width","15%","border","0.1px solid #878787","border-collapse","collapse","border-top","0","padding","5px","text-align","center","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],["colspan","5"],[2,"width","100%",3,"src"]],template:function(e,o){1&e&&(t._UZ(0,"br"),t.YNc(1,ql,289,98,"ng-container",0)),2&e&&(t.xp6(1),t.Q6J("ngIf",o.items&&o.items.length>0))},directives:[d.O5,nt.Lv,d.sg],pipes:[d.uU,Z.X$,E],styles:["table[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\n    border-left-width: 0.1px !important;\n    border-right-width: 0.1px !important;\n    border-top-width: 0.1px !important;\n    border-bottom-width: 0.1px !important;\n  }"]}),i})();function xl(i,a){if(1&i&&t._UZ(0,"img",68),2&i){const e=t.oxw(2);t.s9C("src",e.company.headerLogo,t.LSH)}}function bl(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",69),t._uU(2),t.qZA(),t.TgZ(3,"td",69),t.TgZ(4,"b",70),t._uU(5),t._UZ(6,"br"),t.qZA(),t.qZA(),t.TgZ(7,"td",71),t.TgZ(8,"div",72),t._uU(9),t.qZA(),t.qZA(),t.TgZ(10,"td",69),t._uU(11),t.qZA(),t.TgZ(12,"td",69),t._uU(13),t.ALo(14,"leadingZeros"),t.qZA(),t.TgZ(15,"td",69),t._uU(16),t.ALo(17,"leadingZeros"),t.qZA(),t.TgZ(18,"td",69),t._uU(19),t.ALo(20,"leadingZeros"),t.qZA(),t.TgZ(21,"td",69),t._uU(22),t.qZA(),t.TgZ(23,"td",73),t._uU(24),t.ALo(25,"leadingZeros"),t.qZA(),t.TgZ(26,"td",73),t._uU(27),t.ALo(28,"leadingZeros"),t.qZA(),t.qZA()),2&i){const e=a.$implicit,o=t.oxw(2);t.Udp("opacity",o.OpacityValue),t.xp6(2),t.hij(" ",e.productId," "),t.xp6(3),t.hij(" ",e.productName,""),t.xp6(4),t.hij(" ",e.description," "),t.xp6(2),t.hij(" ",e.quantity," "),t.xp6(2),t.hij(" ",t.lcZ(14,12,e.unitPrice)," "),t.xp6(3),t.hij(" ",t.lcZ(17,14,e.discount)," % "),t.xp6(3),t.hij(" ",t.lcZ(20,16,e.discountAmount)," "),t.xp6(3),t.hij(" ",null==e.taxTariffPercentage?"0 %":e.taxTariffPercentage+" %"," "),t.xp6(2),t.hij(" ",t.lcZ(25,18,e.taxAmount)," "),t.xp6(3),t.hij(" ",t.lcZ(28,20,e.totalAmount)," ")}}function yl(i,a){if(1&i&&(t.TgZ(0,"div",53),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij("",e.bank.branchName," : Branch Name ")}}function Ul(i,a){if(1&i&&(t.TgZ(0,"div",53),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij("Branch Name: ",e.bank.branchName,"")}}function Ll(i,a){1&i&&(t.TgZ(0,"table",74),t.TgZ(1,"tr"),t._UZ(2,"td",75),t.qZA(),t.qZA())}function Sl(i,a){if(1&i&&(t.TgZ(0,"table",74),t.TgZ(1,"tr"),t.TgZ(2,"td",75),t._UZ(3,"img",76),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.s9C("src",e.company.footerLogo,t.LSH)}}function Nl(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"div",1),t.TgZ(2,"table",2),t.TgZ(3,"tr"),t.TgZ(4,"td",3),t.YNc(5,xl,1,1,"img",4),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"table",5),t.TgZ(7,"tr"),t.TgZ(8,"td",6),t.TgZ(9,"h4",7),t._uU(10),t.qZA(),t.TgZ(11,"h4",7),t._uU(12),t.qZA(),t._UZ(13,"span"),t.TgZ(14,"h4",7),t._uU(15," C.R. No.: "),t.TgZ(16,"span",8),t._uU(17),t.qZA(),t.qZA(),t.TgZ(18,"h4",7),t._uU(19," C.C. No.: "),t.TgZ(20,"span",8),t._uU(21),t.qZA(),t.qZA(),t.TgZ(22,"h4",7),t._uU(23," VAT NO : "),t.TgZ(24,"span",8),t._uU(25),t.qZA(),t.qZA(),t.qZA(),t.TgZ(26,"td",9),t.TgZ(27,"span",10),t._uU(28),t.qZA(),t._UZ(29,"br"),t.TgZ(30,"span",11),t._uU(31),t.qZA(),t.qZA(),t.TgZ(32,"td",12),t.TgZ(33,"h4",7),t._uU(34),t.qZA(),t.TgZ(35,"h4",7),t._uU(36),t.qZA(),t.TgZ(37,"h4",7),t._uU(38),t.qZA(),t.TgZ(39,"h4",7),t._uU(40),t.qZA(),t.TgZ(41,"h4",7),t._uU(42),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(43,"div",13),t.TgZ(44,"table",14),t.TgZ(45,"tr"),t.TgZ(46,"td",15),t.TgZ(47,"table",5),t.TgZ(48,"tr"),t.TgZ(49,"td",16),t._uU(50," Invoice # "),t.qZA(),t.TgZ(51,"td",17),t._uU(52),t.qZA(),t.TgZ(53,"td",18),t._uU(54," \u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629 "),t.qZA(),t.qZA(),t.TgZ(55,"tr"),t.TgZ(56,"td",16),t._uU(57," Service Month "),t.qZA(),t.TgZ(58,"td",17),t._uU(59),t.qZA(),t.TgZ(60,"td",18),t._uU(61," \u0634\u0647\u0631 \u0627\u0644\u0639\u0645\u0644 "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(62,"td",19),t.TgZ(63,"td",20),t.TgZ(64,"table",5),t.TgZ(65,"tr"),t.TgZ(66,"td",21),t._uU(67," Issue Date "),t.qZA(),t.TgZ(68,"td",22),t.TgZ(69,"label",23),t._uU(70),t.ALo(71,"date"),t.qZA(),t.qZA(),t.TgZ(72,"td",24),t._uU(73," \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0635\u062f\u0627\u0631 "),t.qZA(),t.qZA(),t.TgZ(74,"tr"),t.TgZ(75,"td",21),t._uU(76," Due Date "),t.qZA(),t.TgZ(77,"td",22),t.TgZ(78,"label",23),t._uU(79),t.ALo(80,"date"),t.qZA(),t.qZA(),t.TgZ(81,"td",24),t._uU(82," \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0633\u062a\u062d\u0642\u0627\u0642 "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(83,"div",25),t.TgZ(84,"table",5),t.TgZ(85,"tr"),t.TgZ(86,"td",26),t._uU(87," Address "),t.qZA(),t.TgZ(88,"td",27),t._uU(89),t.qZA(),t.TgZ(90,"td",28),t._uU(91),t.ALo(92,"translate"),t.qZA(),t.TgZ(93,"td",29),t._uU(94),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(95,"div",25),t.TgZ(96,"table",5),t.TgZ(97,"tr"),t.TgZ(98,"td",30),t._uU(99),t.qZA(),t.TgZ(100,"td",31),t._uU(101," \u0627\u0644\u0639\u0646\u0648\u0627\u0646 "),t.qZA(),t.TgZ(102,"td",32),t._uU(103),t.qZA(),t.TgZ(104,"td",33),t._uU(105," \u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064a\u0644 "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(106,"div",25),t.TgZ(107,"table",5),t.TgZ(108,"tr"),t.TgZ(109,"td",34),t._uU(110," Payment Terms "),t.TgZ(111,"span",35),t._uU(112," \u0634\u0631\u0648\u0637 \u0627\u0644\u062f\u0641\u0639 "),t.qZA(),t.qZA(),t.TgZ(113,"td",36),t._uU(114," P.O. No. \xa0 "),t.TgZ(115,"span",35),t._uU(116," \u0631\u0642\u0645 \u0623\u0645\u0631 \u0627\u0644\u0634\u0631\u0627\u0621 "),t.qZA(),t.qZA(),t.TgZ(117,"td",22),t._uU(118),t.ALo(119,"translate"),t.TgZ(120,"span",35),t._uU(121),t.ALo(122,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(123,"tr"),t.TgZ(124,"td",34),t._uU(125),t.qZA(),t.TgZ(126,"td",36),t._uU(127),t.qZA(),t.TgZ(128,"td",22),t._uU(129),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(130,"div",37),t.TgZ(131,"table",5),t.TgZ(132,"tr"),t.TgZ(133,"th",38),t.TgZ(134,"div",39),t._uU(135,"\u0631\u0642\u0645 \u0627\u0644\u0635\u0646\u0641"),t.qZA(),t.TgZ(136,"div",40),t._uU(137,"Item"),t.qZA(),t.qZA(),t.TgZ(138,"th",38),t.TgZ(139,"div",39),t._uU(140," \u0627\u0633\u0645"),t.qZA(),t.TgZ(141,"div",40),t._uU(142,"Name"),t.qZA(),t.qZA(),t.TgZ(143,"th",17),t.TgZ(144,"div",39),t._uU(145,"\u0627\u0644\u0648\u0635\u0641"),t.qZA(),t.TgZ(146,"div",40),t._uU(147,"Description"),t.qZA(),t.qZA(),t.TgZ(148,"th",38),t.TgZ(149,"div",39),t._uU(150," \u0627\u0644\u0643\u0645\u064a\u0629"),t.qZA(),t.TgZ(151,"div",40),t._uU(152,"Quantity"),t.qZA(),t.qZA(),t.TgZ(153,"th",38),t.TgZ(154,"div",39),t._uU(155,"\u0633\u0639\u0631 \u0627\u0644\u0648\u062d\u062f\u0629"),t.qZA(),t.TgZ(156,"div",40),t._uU(157,"Unit Price"),t.qZA(),t.qZA(),t.TgZ(158,"th",38),t.TgZ(159,"div",39),t._uU(160," \u0646\u0633\u0628\u0629 \u0627\u0644\u062e\u0635\u0645 "),t.qZA(),t.TgZ(161,"div",40),t._uU(162,"Discount Percentage"),t.qZA(),t.qZA(),t.TgZ(163,"th",38),t.TgZ(164,"div",39),t._uU(165," \u0645\u0628\u0644\u063a \u0627\u0644\u062e\u0635\u0645 "),t.qZA(),t.TgZ(166,"div",40),t._uU(167,"Discount Amount"),t.qZA(),t.qZA(),t.TgZ(168,"th",38),t.TgZ(169,"div",39),t._uU(170," \u0636\u0631\u064a\u0628\u0629 \u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0645\u0636\u0627\u0641\u0629"),t.qZA(),t.TgZ(171,"div",40),t._uU(172,"VAT"),t.qZA(),t.qZA(),t.TgZ(173,"th",41),t.TgZ(174,"div",39),t._uU(175," \u0625\u062c\u0645\u0627\u0644\u064a \u0636\u0631\u064a\u0628\u0629 \u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0645\u0636\u0627\u0641\u0629"),t.qZA(),t.TgZ(176,"div",40),t._uU(177,"VAT Amount"),t.qZA(),t.qZA(),t.TgZ(178,"th",41),t.TgZ(179,"div",39),t._uU(180,"\u0627\u0644\u0633\u0639\u0631 \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a"),t.qZA(),t.TgZ(181,"div",40),t._uU(182,"Total Price"),t.qZA(),t.qZA(),t.qZA(),t.YNc(183,bl,29,22,"tr",42),t.TgZ(184,"tr"),t.TgZ(185,"td",43),t.TgZ(186,"div",44),t._uU(187),t.qZA(),t.TgZ(188,"div",45),t._uU(189),t.qZA(),t.TgZ(190,"div",46),t._UZ(191,"img",47),t.qZA(),t.qZA(),t.TgZ(192,"td",48),t.TgZ(193,"div",39),t._uU(194," \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a \u063a\u064a\u0631 \u0634\u0627\u0645\u0644 \u0627\u0644\u0636\u0631\u064a\u0628\u0629"),t.qZA(),t.TgZ(195,"div",40),t._uU(196,"Sub Total Excluding VAT"),t.qZA(),t.qZA(),t.TgZ(197,"td",49),t._uU(198),t.ALo(199,"leadingZeros"),t.qZA(),t.qZA(),t.TgZ(200,"tr"),t.TgZ(201,"td",48),t.TgZ(202,"div",39),t._UZ(203,"span",40),t._uU(204," \u0636\u0631\u064a\u0628\u0629 \u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0645\u0636\u0627\u0641\u0629 "),t.qZA(),t.TgZ(205,"div",40),t._uU(206,"VAT Amount"),t.qZA(),t.qZA(),t.TgZ(207,"td",49),t._uU(208),t.ALo(209,"leadingZeros"),t.qZA(),t.qZA(),t.TgZ(210,"tr"),t.TgZ(211,"td",50),t.TgZ(212,"table",51),t.TgZ(213,"tr"),t.TgZ(214,"td",52),t.TgZ(215,"div",53),t._uU(216,":Bank Account Details"),t.qZA(),t.TgZ(217,"div",53),t._uU(218),t.qZA(),t.TgZ(219,"div",53),t._uU(220),t.qZA(),t.TgZ(221,"div",53),t._uU(222),t.qZA(),t.TgZ(223,"div",53),t._uU(224),t.qZA(),t.YNc(225,yl,2,1,"div",54),t.YNc(226,Ul,2,1,"div",54),t.TgZ(227,"div",53),t._uU(228),t.qZA(),t.TgZ(229,"div",53),t._uU(230),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(231,"td",55),t.TgZ(232,"div",56),t._uU(233," \u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a \u0634\u0627\u0645\u0644 \u0627\u0644\u0636\u0631\u064a\u0628\u0629"),t.qZA(),t.TgZ(234,"div",57),t._uU(235,"Total Including VAT"),t.qZA(),t.qZA(),t.TgZ(236,"td",58),t._uU(237," SAR "),t.TgZ(238,"span",59),t._uU(239),t.ALo(240,"leadingZeros"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(241,"tr"),t.TgZ(242,"td",48),t.TgZ(243,"div",39),t._uU(244," \u0645\u0628\u0644\u063a \u0627\u0644\u062e\u0635\u0645 "),t.qZA(),t.TgZ(245,"div",40),t._uU(246,"Discount Amount"),t.qZA(),t.qZA(),t.TgZ(247,"td",49),t._uU(248),t.ALo(249,"leadingZeros"),t.qZA(),t.qZA(),t.TgZ(250,"tr"),t.TgZ(251,"td",48),t.TgZ(252,"div",39),t._uU(253,"\u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u0645\u062f\u0641\u0648\u0639"),t.qZA(),t.TgZ(254,"div",40),t._uU(255,"Amount Paid"),t.qZA(),t.qZA(),t.TgZ(256,"td",49),t._uU(257),t.ALo(258,"leadingZeros"),t.qZA(),t.qZA(),t.TgZ(259,"tr"),t.TgZ(260,"td",55),t.TgZ(261,"div",56),t._uU(262,"\u0627\u0644\u0631\u0635\u064a\u062f \u0627\u0644\u0645\u0633\u062a\u062d\u0642"),t.qZA(),t.TgZ(263,"div",57),t._uU(264,"Balance Due "),t.qZA(),t.qZA(),t.TgZ(265,"td",60),t._uU(266),t.ALo(267,"leadingZeros"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(268,"div",61),t.TgZ(269,"table",62),t.TgZ(270,"tr"),t.TgZ(271,"td",63),t._uU(272," Prepared by: "),t.TgZ(273,"span",64),t._uU(274," : \u0625\u0646\u0634\u0627\u0621 "),t.qZA(),t.qZA(),t.TgZ(275,"td",65),t._uU(276," Approved by: "),t.TgZ(277,"span",64),t._uU(278," : \u0645\u0648\u0627\u0641\u0642\u0629 "),t.qZA(),t.qZA(),t.TgZ(279,"td",66),t._uU(280," Received by: "),t.TgZ(281,"span",64),t._uU(282," : \u0627\u0633\u062a\u0644\u0627\u0645 "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(283,Ll,3,0,"table",67),t.YNc(284,Sl,4,1,"table",67),t.qZA(),t.qZA(),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Udp("padding-top",e.isSavePDF?"5px !important":"150px !important"),t.xp6(3),t.Akn(e.isSavePDF?"height:75px":"height : 0px "),t.xp6(1),t.Q6J("ngIf",!e.isSavePDF),t.xp6(5),t.hij(" ",e.company.companyName," "),t.xp6(2),t.hij(" ",e.company.companyAddress," "),t.xp6(5),t.hij(" ",e.company.crNumber," "),t.xp6(4),t.Oqu(e.company.ccNumber),t.xp6(4),t.hij("",e.company.vatNumber," "),t.xp6(3),t.hij(" ",e.invoice.isCreditConverted?" \u0627\u0634\u0639\u0627\u0631 \u062f\u0627\u0626\u0646 ":" \u0641\u0627\u062a\u0648\u0631\u0629 \u0636\u0631\u064a\u0628\u064a\u0629 "," "),t.xp6(3),t.hij(" ",e.invoice.isCreditConverted?" Credit note ":" VAT INVOICE "," \xa0 \xa0\xa0 "),t.xp6(3),t.hij(" ",e.company.companyNameAr," "),t.xp6(2),t.hij(" ",e.company.companyAddressAr," "),t.xp6(2),t.hij(" ",e.company.crNumber," : \u0631\u0642\u0645 \u0627\u0644\u0633\u062c\u0644 \u0627\u0644\u062a\u062c\u0627\u0631\u064a "),t.xp6(2),t.hij(" ",e.company.ccNumber," : \u0631\u0642\u0645 \u0627\u0644\u0639\u0636\u0648\u064a\u0629 "),t.xp6(2),t.hij(" ",e.company.vatNumber," : \u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064a\u0628\u064a "),t.xp6(10),t.hij(" ",e.invoice.invoiceNumber," "),t.xp6(7),t.hij(" ",e.invoice.serviceDate1," "),t.xp6(11),t.hij(" ",t.xi3(71,74,e.invoice.invoiceDate,"dd-MM-yyyy")," "),t.xp6(9),t.Oqu(t.xi3(80,77,e.invoice.invoiceDueDate,"dd-MM-yyyy")),t.xp6(10),t.hij(" ",e.customer.custAddress2," "),t.xp6(2),t.AsE(" ",e.invoice.customerName?"Walk-In / \u0641\u064a \u0627\u0644\u0645\u0648\u0642\u0639 ":""," ",t.lcZ(92,80,"Inv_Customer_Name")," "),t.xp6(3),t.hij(" ",e.customer.custName," "),t.xp6(5),t.hij(" ",e.customer.custAddress1," "),t.xp6(4),t.hij(" ",e.customer.custArbName," "),t.xp6(15),t.hij(" ",t.lcZ(119,82,"Customer_Inv_VAT_No")," \xa0 "),t.xp6(3),t.hij(" ",t.lcZ(122,84,"Customer_Inv_VAT_No_Ar"),""),t.xp6(4),t.hij(" ",e.invoice.paymentTermId," "),t.xp6(2),t.hij(" ",e.invoice.invoiceRefNumber," "),t.xp6(2),t.hij(" ",e.customer.vatNumber," "),t.xp6(4),t.Udp("opacity",e.OpacityValue),t.xp6(5),t.Udp("opacity",e.OpacityValue),t.xp6(5),t.Udp("opacity",e.OpacityValue),t.xp6(5),t.Udp("opacity",e.OpacityValue),t.xp6(5),t.Udp("opacity",e.OpacityValue),t.xp6(5),t.Udp("opacity",e.OpacityValue),t.xp6(5),t.Udp("opacity",e.OpacityValue),t.xp6(5),t.Udp("opacity",e.OpacityValue),t.xp6(5),t.Udp("opacity",e.OpacityValue),t.xp6(5),t.Udp("opacity",e.OpacityValue),t.xp6(5),t.Q6J("ngForOf",e.items),t.xp6(4),t.hij(" \u0627\u0644\u0645\u062c\u0645\u0648\u0639 \u0643\u062a\u0627\u0628\u0629 : ",e.totalAmountAr," "),t.xp6(2),t.hij(" Total In Words: ",e.totalAmountEn," "),t.xp6(2),t.s9C("src",e.invoice.qrCode,t.LSH),t.xp6(7),t.hij(" SAR ",t.lcZ(199,86,e.invoice.subTotal)," "),t.xp6(10),t.hij(" SAR ",t.lcZ(209,88,e.invoice.taxAmount)," "),t.xp6(6),t.Udp("opacity",e.OpacityValue),t.xp6(4),t.hij(" Account Name: ",e.company.companyName,""),t.xp6(2),t.hij("",e.company.companyNameAr," :Account Name in Arabic"),t.xp6(2),t.hij(" ",e.bank.bankNameAr," :Bank Name in Arabic"),t.xp6(2),t.hij(" Bank Name : ",e.bank.bankName," "),t.xp6(1),t.Q6J("ngIf",!e.hasNonArabChars(e.bank.branchName)),t.xp6(1),t.Q6J("ngIf",e.hasNonArabChars(e.bank.branchName)),t.xp6(2),t.hij(" Account No: ",e.bank.accountNumber,""),t.xp6(2),t.hij("IBAN: ",e.bank.iban,""),t.xp6(9),t.Oqu(t.lcZ(240,90,e.invoice.totalAmount+e.invoice.discountAmount)),t.xp6(9),t.hij(" SAR ",t.lcZ(249,92,e.invoice.discountAmount)," "),t.xp6(9),t.hij(" SAR ",t.lcZ(258,94,e.invoice.paidAmount)," "),t.xp6(9),t.hij(" SAR ",t.lcZ(267,96,e.invoice.totalAmount-e.invoice.paidAmount)," "),t.xp6(17),t.Q6J("ngIf",e.isSavePDF),t.xp6(1),t.Q6J("ngIf",!e.isSavePDF)}}let Ol=(()=>{class i{constructor(){this.items=[],this.totalAmountAr="",this.totalAmountEn="",this.OpacityValue=1,this.isSavePDF=!1,this.isArabic=!1,this.dashBoardType=""}ngOnInit(){this.dashBoardType=st.r}ngOnChanges(e){this.res&&(console.log(this.isArabic),this.totalAmountAr=this.res.totalAmountAr,this.totalAmountEn=this.res.totalAmountEn,this.company=this.res.company,this.customer=this.res.customer,this.bank=this.res.bankDetails,this.invoice=this.res.invoice,this.items=this.res.invoiceItems)}hasNonArabChars(e){return/^[A-Za-z0-9]*$/.test(e.trim().replace(/ /g,""))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-invoiceviewar"]],inputs:{res:"res",OpacityValue:"OpacityValue",isSavePDF:"isSavePDF",isArabic:"isArabic"},features:[t.TTD],decls:2,vars:1,consts:[[4,"ngIf"],["id","printcontainer",1,"container-fluid","invoice-container","print-container",2,"width","850px","margin","auto","padding-top","5px !important","border","1px solid #ccc","border-radius","10px"],["border","0","cellpadding","0","cellspacing","0","width","100%",1,"",2,"width","100%","padding-bottom","5px"],["colspan","5",2,"text-align","center"],["alt","","style","width:100%;",3,"src",4,"ngIf"],["border","0","cellpadding","0","cellspacing","0","width","100%",1,"",2,"width","100%"],[1,"",2,"width","36%"],[2,"font-size","0.85rem !important","color","#0c2f54","font-family","'Poppins', sans-serif","font-weight","500","line-height","1.2","margin","0","padding-top","4px"],[2,"font-size","0.85rem !important","color","#0c2f54","font-family","'Poppins', sans-serif","font-weight","500","line-height","1.2","margin","0"],[2,"width","28%","text-align","center","vertical-align","middle"],[2,"font-size","1.75rem !important","position","relative","left","-15px","color","#0c2f54","font-family","'Poppins', sans-serif","font-weight","500","line-height","1.2","margin","0"],[2,"font-size","1.3rem !important","color","#0c2f54","font-family","'Poppins', sans-serif","font-weight","500","line-height","1.2","margin","0"],[1,"",2,"text-align","right","width","36%"],[2,"padding-top","10px","padding-bottom","5px"],["border","0","cellpadding","0","cellspacing","0","width","100%",2,"width","100%"],[2,"width","40%","text-align","center"],[2,"border","0.1px solid #878787","border-collapse","collapse","padding","5px","width","33%","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif"],[2,"border","0.1px solid #878787","border-collapse","collapse","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif"],[2,"border","0.1px solid #878787","border-collapse","collapse","padding","5px","width","33%","text-align","center","font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif"],[2,"width","20%"],[2,"width","40%"],[2,"border","0.1px solid #878787","border-collapse","collapse","padding","5px","width","33%","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","0.1px solid #878787","border-collapse","collapse","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[1,"two"],[2,"border","0.1px solid #878787","border-collapse","collapse","padding","5px","width","33%","text-align","center","font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"padding-bottom","5px"],[2,"border","0.1px solid #878787","border-collapse","collapse","padding","5px","width","10%","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","0.1px solid #878787","border-collapse","collapse","padding","5px","width","22%","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","0.1px solid #878787","border-collapse","collapse","padding","5px","width","20%","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","0.1px solid #878787","border-collapse","collapse","padding","5px","text-align","left","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[1,"",2,"border","0.1px solid #878787","border-collapse","collapse","padding","5px","width","25%","text-align","right","font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","0.1px solid #878787","border-collapse","collapse","width","10%","padding","5px","text-align","center","font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[1,"",2,"border","0.1px solid #878787","border-collapse","collapse","padding","5px","text-align","right","font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","0.1px solid #878787","border-collapse","collapse","padding","5px","width","15%","text-align","center","font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"width","30%","border","0.1px solid #878787","border-collapse","collapse","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"padding","5px","text-align","right","font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","0.1px solid #878787","border-collapse","collapse","width","30%","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],["dir","rtl",2,"padding-bottom","5px"],[2,"width","10%","border","0.1px solid #878787","border-collapse","collapse","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif"],[2,"font-size","1rem !important","color","#706f6f","font-family","'Poppins', sans-serif","font-weight","500"],[2,"font-size","0.875rem !important","color","#706f6f","font-family","'Poppins', sans-serif","font-weight","500"],[2,"width","15%","border","0.1px solid #878787","border-collapse","collapse","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif"],[3,"opacity",4,"ngFor","ngForOf"],["rowspan","2","colspan","7",2,"border","0.1px solid #878787","border-collapse","collapse","padding","5px","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[1,"",2,"text-align","right","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[1,"",2,"text-align","left","font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[1,""],["alt","QR Code",2,"width","26%",3,"src"],["colspan","2",1,"",2,"border","0.1px solid #878787","border-collapse","collapse","border-right","0","padding","5px","text-align","left","font-size","0.675rem !important","color","#706f6f","font-family","'Poppins', sans-serif","font-weight","500"],[1,"",2,"border","0.1px solid #878787","border-collapse","collapse","padding","5px","text-align","right","font-size","0.875rem !important","color","#706f6f","font-family","'Poppins', sans-serif","font-weight","500"],["rowspan","4","colspan","7",1,"",2,"border","0.1px solid #878787","border-collapse","collapse","padding","5px","font-size","0.675rem !important","color","#706f6f","font-family","'Poppins', sans-serif","font-weight","500","vertical-align","top"],["border","0",2,"width","100%"],["colspan","12",2,"text-align","left","padding","8px","border","none!important"],[2,"line-height","18px"],["style","line-height: 18px;",4,"ngIf"],["colspan","2",1,"",2,"border","0.1px solid #878787","border-collapse","collapse","border-right","0","padding","5px","text-align","left","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[2,"font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[2,"font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[1,"",2,"border","0.1px solid #878787","border-collapse","collapse","border-right","0","padding","5px","text-align","right","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],["id","spnTotalInclVat"],[1,"",2,"border","0.1px solid #878787","border-collapse","collapse","padding","5px","text-align","right","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[2,"padding-top","5px"],["dir","ltr","border","0","cellpadding","0","cellspacing","0","width","100%",1,"",2,"width","100%"],[1,"",2,"width","33%","height","70px","vertical-align","top","border","0.1px solid #878787","border-collapse","collapse","padding","5px","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"float","right"],[1,"",2,"vertical-align","top","border","0.1px solid #878787","border-collapse","collapse","padding","5px","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[1,"",2,"width","33%","vertical-align","top","border","0.1px solid #878787","border-collapse","collapse","padding","5px","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],["style","width:100%;","border","0","cellpadding","0","cellspacing","0","width","100%","class","ur_tablestyle",4,"ngIf"],["alt","",2,"width","100%",3,"src"],[2,"width","10%","border","0.1px solid #878787","border-collapse","collapse","padding","5px","text-align","center","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"font-weight","600"],[1,"",2,"border","0.1px solid #878787","border-collapse","collapse","padding","5px","text-align","left","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"width","15%","border","0.1px solid #878787","border-collapse","collapse","padding","5px","text-align","center","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],["border","0","cellpadding","0","cellspacing","0","width","100%",1,"ur_tablestyle",2,"width","100%"],["colspan","5"],[2,"width","100%",3,"src"]],template:function(e,o){1&e&&(t._UZ(0,"br"),t.YNc(1,Nl,285,98,"ng-container",0)),2&e&&(t.xp6(1),t.Q6J("ngIf",o.items&&o.items.length>0))},directives:[d.O5,nt.Lv,d.sg],pipes:[d.uU,Z.X$,E],styles:["table[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\n    border-left-width: 0.1px !important;\n    border-right-width: 0.1px !important;\n    border-top-width: 0.1px !important;\n    border-bottom-width: 0.1px !important;\n  }"]}),i})();function wl(i,a){if(1&i&&(t.ynx(0),t._UZ(1,"app-invoiceview",7),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("res",e.result)("isSavePDF",e.isSavePDF)("isArabic",e.isArabic)("OpacityValue",e.OpacityValue)}}function kl(i,a){if(1&i&&t._UZ(0,"app-invoiceviewar",7),2&i){const e=t.oxw();t.Q6J("res",e.result)("isSavePDF",e.isSavePDF)("isArabic",e.isArabic)("OpacityValue",e.OpacityValue)}}let Il=(()=>{class i{constructor(e,o,n,r,l){this.apiService=e,this.authService=o,this.utilService=n,this.dialogRef=r,this.notifyService=l,this.id=0,this.isSavePDF=!0,this.isArabic=!1,this.isLoading=!1,this.OpacityValue=1}ngOnInit(){this.id>0&&this.loadSalesView()}loadSalesView(){this.isLoading=!0,this.apiService.get("generateInvoice/generateInvoiceReportById",this.id).subscribe(e=>{this.isLoading=!1,e&&(this.result=e,this.isArabic=this.authService.isArabic())})}closeModel(){this.dialogRef.close()}printInvoice(){this.isSavePDF=!0,this.openPrint()}openPrint(){this.OpacityValue=1;const e=document.getElementById("printcontainer"),o=window.open("","","left=0,top=0,width=2000,height=1000,toolbar=0,scrollbars=0,status=0");setTimeout(()=>{o.document.write("<html><head><style>table, th, td {\n    \n    }</style></head><body>"+e.innerHTML+"</body > </html>"),o.document.close(),o.focus(),o.print(),o.close()},50)}saveAsPDF(){setTimeout(()=>{this.isSavePDF=!1,this.openPrint()},600)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(T.so),t.Y36(f.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-salesinvoiceview"]],decls:20,vars:9,consts:[["href","/assets/style_new.css","rel","stylesheet"],[3,"click"],["type","button","aria-hidden","true",1,"",3,"click"],["type","button","aria-hidden","true",1,"close",3,"click"],[3,"isLoading"],[4,"ngIf","ngIfElse"],["EngTemplate",""],[3,"res","isSavePDF","isArabic","OpacityValue"]],template:function(e,o){if(1&e&&(t._UZ(0,"link",0),t.TgZ(1,"div"),t.TgZ(2,"button",1),t.NdJ("click",function(){return o.printInvoice()}),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._uU(5," \xa0 "),t.TgZ(6,"button",1),t.NdJ("click",function(){return o.saveAsPDF()}),t._uU(7),t.ALo(8,"translate"),t.qZA(),t._uU(9," \xa0 "),t.TgZ(10,"button",2),t.NdJ("click",function(){return o.closeModel()}),t._uU(11," Close"),t.qZA(),t._UZ(12,"br"),t.TgZ(13,"button",3),t.NdJ("click",function(){return o.closeModel()}),t._uU(14," \xd7"),t.qZA(),t.qZA(),t._UZ(15,"br"),t._UZ(16,"spinner-loader",4),t.YNc(17,wl,2,4,"ng-container",5),t.YNc(18,kl,1,4,"ng-template",null,6,t.W1O)),2&e){const n=t.MAs(19);t.xp6(3),t.Oqu(t.lcZ(4,5,"Print")),t.xp6(4),t.Oqu(t.lcZ(8,7,"Save_As_PDF")),t.xp6(9),t.Q6J("isLoading",o.isLoading),t.xp6(1),t.Q6J("ngIf",o.isArabic)("ngIfElse",n)}},directives:[b.r,d.O5,Cl,Ol],pipes:[Z.X$],encapsulation:2}),i})();var ft=y(6738),Tt=y(7049);function Ml(i,a){if(1&i&&(t.TgZ(0,"option",70),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function Jl(i,a){if(1&i&&(t.TgZ(0,"option",70),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function Dl(i,a){1&i&&(t._UZ(0,"textarea",71),t.ALo(1,"translate"),t.ALo(2,"translate")),2&i&&t.hYB("placeholder","",t.lcZ(1,2,"Please_Select")," ",t.lcZ(2,4,"Invoice_Notes"),"")}function Pl(i,a){1&i&&(t._UZ(0,"textarea",72),t.ALo(1,"translate"),t.ALo(2,"translate")),2&i&&t.hYB("placeholder","",t.lcZ(1,2,"Please_Select")," ",t.lcZ(2,4,"Remarks"),"")}function Yl(i,a){if(1&i&&(t.TgZ(0,"option",70),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function Ql(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td",73),t._uU(18),t.qZA(),t.TgZ(19,"td",73),t._uU(20),t.ALo(21,"decimalpipe"),t.qZA(),t.TgZ(22,"td",58),t.TgZ(23,"i",74),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().editInvoiceItem(r)}),t.qZA(),t._uU(24," \xa0 "),t.TgZ(25,"i",75),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().deleteInvoiceItem(r)}),t.qZA(),t._uU(26," \xa0 "),t.qZA(),t.qZA()}if(2&i){const e=a.$implicit;t.xp6(2),t.Oqu(e.product),t.xp6(2),t.Oqu(e.description),t.xp6(2),t.Oqu(e.siteCode),t.xp6(2),t.Oqu(e.quantity),t.xp6(2),t.Oqu(e.unitType),t.xp6(2),t.Oqu(e.unitPrice),t.xp6(2),t.Oqu(e.discount),t.xp6(2),t.Oqu(e.taxTariffPercentage),t.xp6(2),t.Oqu(e.taxAmount),t.xp6(2),t.Oqu(t.lcZ(21,10,e.totalAmount))}}const G=function(){return{standalone:!0}};let jl=(()=>{class i{constructor(e,o,n,r,l,c,u,g,C,S,w){this.fb=e,this.http=o,this.router=n,this.apiService=r,this.authService=l,this.utilService=c,this.dialogRef=u,this.notifyService=g,this.validationService=C,this.commonService=S,this.dialog=w,this.id=0,this.customerSiteList=[],this.customerList=[],this.invoiceNumberList=[],this.companyList=[],this.paymentTermsList=[],this.branchList=[],this.productList=[],this.vatList=[],this.segmentSetupList=[],this.segmentTwoSetupList=[],this.productId=0,this.quantity=0,this.price=0,this.vat=0,this.vatAmount=0,this.total=0,this.discount=0,this.discountAmount=0,this.unitType="",this.description="",this.siteCode="",this.product="",this.grandDiscountAmount=0,this.grandTotal=0,this.grandVatTotal=0,this.grandInvoiceTotal=0,this.grandTotalStr="",this.grandVatTotalStr="",this.grandInvoiceTotalStr="",this.sequence=1,this.editsequence=0,this.listOfInvoices=[],this.canShowNotes=!1,this.canShowRemarks=!1,this.isArab=!1,this.invoice_NumberId=""}ngOnInit(){this.isArab=this.utilService.isArabic(),this.setForm(),this.loadData()}setForm(){this.form=this.fb.group({customerId:["",s.kI.required],siteCode:[null],invoiceDate:["",s.kI.required],invoiceDueDate:["",s.kI.required],serviceDate1:["",s.kI.required],companyId:["",s.kI.required],branchCode:["",s.kI.required],invoiceRefNumber:["",s.kI.required],lpoContract:["",s.kI.required],paymentTermId:["",s.kI.required],taxIdNumber:["",s.kI.required],remarks:[""],invoiceNotes:[""],invoiceStatusId:["1"],seg1:[""],seg2:[""]})}chagnesSalesTerms(e){const o=e.target.value;if(this.paymentTermsList.length>0&&o){const n=this.paymentTermsList.find(r=>r.value==o);if("-1"==(null==n?void 0:n.textTwo)){const c=ft(this.utilService.getLastDay()).format("YYYY-MM-DD")+"T00:00:00";this.form.controls.invoiceDueDate.setValue(c)}else{const r=this.form.controls.invoiceDate.value;if(r){const l=new Date(r);l.setDate(l.getDate()+parseInt(null==n?void 0:n.textTwo));const g=ft(l).format("YYYY-MM-DD")+"T00:00:00";this.form.controls.invoiceDueDate.setValue(g)}}}else this.form.controls.invoiceDueDate.setValue("")}openDialogManage(e){let o=this.utilService.openDialogCongif(this.dialog,Tt.R,e);o.componentInstance.data=this.customerData,o.afterClosed().subscribe(n=>{var r,l;n&&(this.customerData=n.value,this.form.value.custName=null===(r=n.value)||void 0===r?void 0:r.custName,this.form.value.custArbName=null===(l=n.value)||void 0===l?void 0:l.custArbName)})}updateCustomer(){this.openDialogManage(50)}loadData(){this.apiService.getall("vat/getSelectVatList").subscribe(e=>{e&&(this.vatList=e)}),this.apiService.getall("product/getSelectProductList").subscribe(e=>{e&&(this.productList=e)}),this.apiService.getall("customer/getSelectCustomerList").subscribe(e=>{e&&(this.customerList=e,this.customerList.map(n=>(n.text=this.isArab?n.textTwo:n.text,n)))}),this.apiService.getall("company/getSelectCompanyList").subscribe(e=>{e&&(this.companyList=e)}),this.apiService.getall("salesTermsCode/getCustomSelectSalesTermsCodeList").subscribe(e=>{e&&(this.paymentTermsList=e)}),this.apiService.getall("segmentSetup/getSegmentSetupSelectList").subscribe(e=>{e&&(this.segmentSetupList=e)}),this.apiService.getall("segmentTwoSetup/getSegmentTwoSetupSelectList").subscribe(e=>{e&&(this.segmentTwoSetupList=e)})}customerChange(e){let o=e.value;this.invoice_NumberId="",this.listOfInvoices=[],this.form.controls.siteCode.setValue(null),this.apiService.getall(`customer/getCustomerById/${o}`).subscribe(r=>{r&&this.form.controls.taxIdNumber.setValue(r.vatNumber)}),this.customerId=o,this.loadSitesForCustomer(o),this.apiService.getall(`customer/getCustomerSitesSelectList/${o}`).subscribe(r=>{r&&(this.customerSiteList=r,this.customerSiteList.map(l=>(l.text=this.isArab?l.textTwo:l.text,l)))})}siteChange(e){this.loadSitesForCustomer(this.customerId,e.value)}resetSiteInfo(){this.loadSitesForCustomer(this.customerId)}loadSitesForCustomer(e,o=""){this.apiService.getall(`generateInvoice/getCustomerInvoiceNumberList/${e}?siteCode=${o}`).subscribe(n=>{n&&(this.invoiceNumberList=n)})}loadBranchs(e){e.target.value&&this.apiService.getall("branch/getSelectSysAccountBranchList").subscribe(n=>{n&&(this.branchList=n)})}resetProduct(){this.product="",this.unitType="",this.description="",this.siteCode="",this.price=0,this.total=0,this.discount=0,this.discountAmount=0,this.quantity=0}invoiceNumberChange(e){this.apiService.getall(`generateInvoice/getCustomerInvoiceItemsByIdList/${e.value}`).subscribe(o=>{o&&(this.listOfInvoices=[],this.displayProducts(o))})}resetinvoiceNumber(){this.listOfInvoices=[]}displayProducts(e){e.forEach(n=>{this.productId=n.productId,this.product=n.productName,this.description=n.description,this.siteCode=n.siteCode,this.quantity=n.quantity,this.unitType=n.unitType,this.price=n.unitPrice,this.vat=n.taxTariffPercentage,this.vatAmount=n.taxAmount,this.total=n.totalAmount,this.discount=n.discount,this.discountAmount=n.discountAmount,this.addInvoice()})}loadProductdata(e){let o=e.value;o?this.apiService.getall(`product/productUnitPriceItem/${o}`).subscribe(r=>{r&&(this.product=r.nameEN,this.unitType=r.unitTypeEN,this.description=r.description,this.price=r.unitPrice)}):(this.unitType="",this.description="")}addInvoice(){if(0!=this.total&&this.productId>0){if(this.editsequence>0){var e=this.listOfInvoices.findIndex(n=>n.sequence===this.editsequence);let o=this.listOfInvoices[e];o.sequence=this.editsequence,o.product=this.product,o.productId=this.productId,o.description=this.description,o.siteCode=this.siteCode,o.quantity=this.quantity,o.unitType=this.unitType,o.unitPrice=this.price,o.taxTariffPercentage=this.vat,o.taxAmount=this.vatAmount,o.totalAmount=this.total,o.discount=this.discount,o.discountAmount=this.discountAmount,this.editsequence=0}else this.listOfInvoices.push({sequence:this.getSequence(),product:this.product,productId:this.productId,description:this.description,siteCode:this.siteCode,quantity:this.quantity,unitType:this.unitType,unitPrice:this.price,taxTariffPercentage:this.vat,taxAmount:this.vatAmount,totalAmount:this.total,discount:this.discount,discountAmount:this.discountAmount});this.setGrandTotal(),this.setToDefault()}}getSequence(){return this.sequence=this.sequence+1}showCanShowNotes(){this.canShowNotes=!this.canShowNotes}showCanShowRemarks(){this.canShowRemarks=!this.canShowRemarks}deleteInvoiceItem(e){this.removeInvoiceList(e.sequence),this.setGrandTotal()}removeInvoiceList(e){let o=this.listOfInvoices.findIndex(n=>n.sequence===e);this.listOfInvoices.splice(o,1)}editInvoiceItem(e){this.editsequence=e.sequence,this.product=e.product,this.productId=e.productId,this.description=e.description,this.siteCode=e.siteCode,this.quantity=e.quantity,this.unitType=e.unitType,this.price=e.unitPrice,this.vat=e.taxTariffPercentage,this.vatAmount=e.taxAmount,this.total=e.totalAmount,this.discount=e.discount,this.discountAmount=e.discountAmount}setGrandTotal(){this.grandTotal=0,this.grandVatTotal=0,this.grandInvoiceTotal=0,this.grandDiscountAmount=0,this.listOfInvoices.forEach(e=>{this.grandTotal+=e.totalAmount,this.grandVatTotal+=e.taxAmount,this.grandInvoiceTotal+=e.totalAmount-e.taxAmount,this.grandDiscountAmount+=e.discountAmount}),this.form.value.totalAmount=this.grandTotal,this.form.value.discountAmount=this.grandDiscountAmount,this.form.value.taxAmount=this.grandVatTotal,this.form.value.subTotal=this.grandInvoiceTotal,this.grandTotalStr=this.grandTotal.toString(),this.grandVatTotalStr=this.grandVatTotal.toString(),this.grandInvoiceTotalStr=this.grandInvoiceTotal.toString()}setToDefault(){this.productId=0,this.product=this.description=this.unitType=this.siteCode="",this.quantity=this.price=this.vat=this.vatAmount=this.total=this.discount=this.discountAmount=0}calculate(){var e=parseFloat(this.vat.toString());this.discount>100&&(this.discount=0);var o=this.discount,l=parseFloat((this.quantity*this.price).toString()),c=parseFloat((l*o/100).toFixed(2));l=parseFloat((l-c).toString()),this.discountAmount=c,this.vatAmount=parseFloat((l*e/100).toFixed(2)),this.total=parseFloat(this.vatAmount.toString())+parseFloat(l.toString())}submit(){var e,o;this.customerData&&(this.form.value.custName=null===(e=this.customerData)||void 0===e?void 0:e.custName,this.form.value.custArbName=null===(o=this.customerData)||void 0===o?void 0:o.custArbName),this.form.value.invoiceDate=this.utilService.selectedDateTime(this.form.controls.invoiceDate.value),this.form.value.invoiceDueDate=this.utilService.selectedDateTime(this.form.controls.invoiceDueDate.value),this.form.valid?this.listOfInvoices.length>0?(this.form.value.itemList=this.listOfInvoices,this.apiService.post("generateInvoice",this.form.value).subscribe(n=>{this.utilService.OkMessage(),this.reset(),this.dialogRef.close(!0)},n=>{console.error(n),this.utilService.ShowApiErrorMessage(n)})):this.notifyService.showError("Items Empty"):this.utilService.FillUpFields()}reset(){this.form.reset()}closeModel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36($.eN),t.Y36(Q.F0),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(T.so),t.Y36(f.g),t.Y36(O.R),t.Y36(at.v),t.Y36(T.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-addupdatesalesinvoice"]],decls:300,vars:258,consts:[["type","button","aria-hidden","true",1,"close",3,"click"],["novalidate","",1,"mt-4",3,"formGroup","ngSubmit"],[1,"row","rowm0"],[1,"col-md-12","col-lg-12"],[1,"row","mt-3"],[1,"p-3",2,"border","1px solid #f4f4f4"],[1,"row","mt-2"],[1,"col-md-2","col-lg-2"],[1,"mr-sm-2"],[1,"form-group"],["formControlName","invoiceStatusId",1,"custom-select","mr-sm-2"],["value","1"],["value","2"],[1,"col-md-10","col-lg-10"],[1,"col-md-4","col-lg-4"],[1,"mr-sm-2","btn","btn-primary","pb-0","mb-0",3,"click"],["bindLabel","text","bindValue","value","formControlName","customerId",3,"items","change"],[3,"control"],["bindLabel","text","bindValue","value","formControlName","siteCode",3,"items","clear","change"],[1,"input-group","mb-2"],["formControlName","invoiceDate",1,"form-control","datapickerinput",3,"placeholder","matDatepicker"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker1",""],["formControlName","invoiceDueDate","readonly","readonly",1,"form-control","datapickerinput",3,"placeholder","matDatepicker"],["picker",""],["formControlName","serviceDate1",1,"form-control","datapickerinput",3,"placeholder","matDatepicker"],["serviceDate1",""],["formControlName","companyId",1,"custom-select","mr-sm-2",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["bindLabel","text","bindValue","value","formControlName","branchCode",3,"items"],["type","text","formControlName","invoiceRefNumber",1,"form-control",3,"placeholder"],["type","text","formControlName","lpoContract",1,"form-control",3,"placeholder"],["formControlName","paymentTermId",1,"custom-select","mr-sm-2",3,"change"],["type","text","formControlName","taxIdNumber",1,"form-control",3,"placeholder","readonly"],[1,"mr-sm-2","text-info","cpointer",3,"click"],["class","form-control","formControlName","invoiceNotes",3,"placeholder",4,"ngIf"],["class","form-control","formControlName","remarks",3,"placeholder",4,"ngIf"],["bindLabel","text","bindValue","value",3,"items","ngModel","ngModelOptions","clear","ngModelChange","change"],[1,"table-responsive",2,"width","2000px"],["id","zero_config",1,"table","table-bordered","no-wrap",2,"overflow-x","auto"],["width","18%"],["width","15%"],["width","12%"],["width","6%"],["width","8%"],["width","10%"],["width","5%"],["bindLabel","text","bindValue","value",3,"items","ngModel","ngModelOptions","clear","change","ngModelChange"],["rows","3",1,"form-control",3,"placeholder","ngModel","ngModelOptions","ngModelChange"],["bindLabel","text","bindValue","value",2,"width","220px",3,"items","ngModel","ngModelOptions","ngModelChange"],["type","text",1,"form-control",3,"placeholder","ngModel","ngModelOptions","ngModelChange","keyup"],["type","text","readonly","",1,"form-control",3,"placeholder","ngModel","ngModelOptions","ngModelChange"],[1,"custom-select","mr-sm-2",3,"ngModel","ngModelOptions","ngModelChange","change"],["value","0"],["type","button",1,"btn","waves-effect","waves-light","btn-primary",3,"click"],[1,"icon-plus"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"tfoot"],["colspan","6","rowspan","5"],[1,"text-right","bgcolor"],[1,"bgcolor"],[1,"text-right","bgcolor_bottom"],[1,"bgcolor_bottom"],[1,"row"],[1,"col-lg-12","col-md-12","text-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","waves-effect","waves-light","btn-primary",3,"value"],[3,"value"],["formControlName","invoiceNotes",1,"form-control",3,"placeholder"],["formControlName","remarks",1,"form-control",3,"placeholder"],[1,"text-right"],[1,"icon-note","cpointer",3,"click"],[1,"icon-trash","cpointer",3,"click"]],template:function(e,o){if(1&e&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"button",0),t.NdJ("click",function(){return o.closeModel()}),t._uU(4," \xd7"),t.qZA(),t.qZA(),t.TgZ(5,"form",1),t.NdJ("ngSubmit",function(){return o.submit()}),t.TgZ(6,"div",2),t.TgZ(7,"div",3),t.TgZ(8,"div",4),t.TgZ(9,"div",3),t.TgZ(10,"div",5),t.TgZ(11,"div",6),t.TgZ(12,"div",7),t.TgZ(13,"label",8),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"div",9),t.TgZ(17,"select",10),t.TgZ(18,"option",11),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"option",12),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"div",13),t.TgZ(25,"div",6),t.TgZ(26,"div",14),t.TgZ(27,"div",9),t.TgZ(28,"label",8),t._uU(29),t.ALo(30,"translate"),t.qZA(),t.TgZ(31,"label",15),t.NdJ("click",function(){return o.updateCustomer()}),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"ng-select",16),t.NdJ("change",function(r){return o.customerChange(r)}),t.qZA(),t._UZ(35,"validation-message",17),t.qZA(),t.qZA(),t.TgZ(36,"div",14),t.TgZ(37,"div",9),t.TgZ(38,"label",8),t._uU(39),t.ALo(40,"translate"),t.qZA(),t.TgZ(41,"ng-select",18),t.NdJ("clear",function(){return o.resetSiteInfo()})("change",function(r){return o.siteChange(r)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(42,"div",14),t.TgZ(43,"label",8),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.TgZ(46,"div",9),t.TgZ(47,"div",19),t._UZ(48,"input",20),t.ALo(49,"translate"),t.TgZ(50,"div",21),t._UZ(51,"mat-datepicker-toggle",22),t._UZ(52,"mat-datepicker",null,23),t._UZ(54,"br"),t._UZ(55,"br"),t.qZA(),t.qZA(),t._UZ(56,"validation-message",17),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(57,"div",14),t.TgZ(58,"label",8),t._uU(59),t.ALo(60,"translate"),t.qZA(),t.TgZ(61,"div",9),t.TgZ(62,"div",19),t._UZ(63,"input",24),t.ALo(64,"translate"),t.TgZ(65,"div",21),t._UZ(66,"mat-datepicker-toggle",22),t._UZ(67,"mat-datepicker",null,25),t._UZ(69,"br"),t._UZ(70,"br"),t.qZA(),t.qZA(),t._UZ(71,"validation-message",17),t.qZA(),t.qZA(),t.TgZ(72,"div",14),t.TgZ(73,"label",8),t._uU(74),t.ALo(75,"translate"),t.qZA(),t.TgZ(76,"div",9),t.TgZ(77,"div",19),t._UZ(78,"input",26),t.ALo(79,"translate"),t.TgZ(80,"div",21),t._UZ(81,"mat-datepicker-toggle",22),t._UZ(82,"mat-datepicker",null,27),t._UZ(84,"br"),t._UZ(85,"br"),t.qZA(),t.qZA(),t._UZ(86,"validation-message",17),t.qZA(),t.qZA(),t.TgZ(87,"div",14),t.TgZ(88,"div",9),t.TgZ(89,"label",8),t._uU(90),t.ALo(91,"translate"),t.qZA(),t.TgZ(92,"select",28),t.NdJ("change",function(r){return o.loadBranchs(r)}),t.TgZ(93,"option",29),t._uU(94),t.ALo(95,"translate"),t.qZA(),t.YNc(96,Ml,2,2,"option",30),t.qZA(),t._UZ(97,"validation-message",17),t.qZA(),t.qZA(),t.TgZ(98,"div",14),t.TgZ(99,"div",9),t.TgZ(100,"label",8),t._uU(101),t.ALo(102,"translate"),t.qZA(),t._UZ(103,"ng-select",31),t._UZ(104,"validation-message",17),t.qZA(),t.qZA(),t.TgZ(105,"div",14),t.TgZ(106,"div",9),t.TgZ(107,"label",8),t._uU(108),t.ALo(109,"translate"),t.qZA(),t._UZ(110,"input",32),t.ALo(111,"translate"),t.ALo(112,"translate"),t._UZ(113,"validation-message",17),t.qZA(),t.qZA(),t.TgZ(114,"div",14),t.TgZ(115,"div",9),t.TgZ(116,"label",8),t._uU(117),t.ALo(118,"translate"),t.qZA(),t._UZ(119,"input",33),t.ALo(120,"translate"),t.ALo(121,"translate"),t._UZ(122,"validation-message",17),t.qZA(),t.qZA(),t.TgZ(123,"div",14),t.TgZ(124,"div",9),t.TgZ(125,"label",8),t._uU(126),t.ALo(127,"translate"),t.qZA(),t.TgZ(128,"select",34),t.NdJ("change",function(r){return o.chagnesSalesTerms(r)}),t.TgZ(129,"option",29),t._uU(130),t.ALo(131,"translate"),t.qZA(),t.YNc(132,Jl,2,2,"option",30),t.qZA(),t._UZ(133,"validation-message",17),t.qZA(),t.qZA(),t.TgZ(134,"div",14),t.TgZ(135,"div",9),t.TgZ(136,"label",8),t._uU(137),t.ALo(138,"translate"),t.qZA(),t._UZ(139,"input",35),t.ALo(140,"translate"),t._UZ(141,"validation-message",17),t.qZA(),t.qZA(),t.TgZ(142,"div",14),t.TgZ(143,"div",9),t.TgZ(144,"label",36),t.NdJ("click",function(){return o.showCanShowNotes()}),t._uU(145),t.ALo(146,"translate"),t.qZA(),t.YNc(147,Dl,3,6,"textarea",37),t.qZA(),t.qZA(),t.TgZ(148,"div",14),t.TgZ(149,"div",9),t.TgZ(150,"label",36),t.NdJ("click",function(){return o.showCanShowRemarks()}),t._uU(151),t.ALo(152,"translate"),t.qZA(),t.YNc(153,Pl,3,6,"textarea",38),t.qZA(),t.qZA(),t.TgZ(154,"div",14),t.TgZ(155,"div",9),t.TgZ(156,"label",8),t._uU(157),t.ALo(158,"translate"),t.qZA(),t.TgZ(159,"ng-select",39),t.NdJ("clear",function(){return o.resetinvoiceNumber()})("ngModelChange",function(r){return o.invoice_NumberId=r})("change",function(r){return o.invoiceNumberChange(r)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(160,"div",40),t.TgZ(161,"table",41),t.TgZ(162,"thead"),t.TgZ(163,"tr"),t.TgZ(164,"th",42),t._uU(165),t.ALo(166,"translate"),t.qZA(),t.TgZ(167,"th",43),t._uU(168),t.ALo(169,"translate"),t.qZA(),t.TgZ(170,"th",44),t._uU(171),t.ALo(172,"translate"),t.qZA(),t.TgZ(173,"th",45),t._uU(174),t.ALo(175,"translate"),t.qZA(),t.TgZ(176,"th",46),t._uU(177),t.ALo(178,"translate"),t.qZA(),t.TgZ(179,"th",47),t._uU(180),t.ALo(181,"translate"),t.qZA(),t.TgZ(182,"th",48),t._uU(183),t.ALo(184,"translate"),t.qZA(),t.TgZ(185,"th",45),t._uU(186),t.ALo(187,"translate"),t.qZA(),t.TgZ(188,"th",46),t._uU(189),t.ALo(190,"translate"),t.qZA(),t.TgZ(191,"th",47),t._uU(192),t.ALo(193,"translate"),t.qZA(),t._UZ(194,"th"),t.qZA(),t.qZA(),t.TgZ(195,"tbody"),t.TgZ(196,"tr"),t.TgZ(197,"td"),t.TgZ(198,"ng-select",49),t.NdJ("clear",function(){return o.resetProduct()})("change",function(r){return o.loadProductdata(r)})("ngModelChange",function(r){return o.productId=r}),t.qZA(),t.qZA(),t.TgZ(199,"td"),t.TgZ(200,"textarea",50),t.NdJ("ngModelChange",function(r){return o.description=r}),t.ALo(201,"translate"),t.qZA(),t.qZA(),t.TgZ(202,"td"),t.TgZ(203,"ng-select",51),t.NdJ("ngModelChange",function(r){return o.siteCode=r}),t.qZA(),t.qZA(),t.TgZ(204,"td"),t.TgZ(205,"input",52),t.NdJ("ngModelChange",function(r){return o.quantity=r})("keyup",function(){return o.calculate()}),t.ALo(206,"translate"),t.qZA(),t.qZA(),t.TgZ(207,"td"),t.TgZ(208,"input",53),t.NdJ("ngModelChange",function(r){return o.unitType=r}),t.ALo(209,"translate"),t.qZA(),t.qZA(),t.TgZ(210,"td"),t.TgZ(211,"input",52),t.NdJ("ngModelChange",function(r){return o.price=r})("keyup",function(){return o.calculate()}),t.ALo(212,"translate"),t.qZA(),t.qZA(),t.TgZ(213,"td"),t.TgZ(214,"input",52),t.NdJ("ngModelChange",function(r){return o.discount=r})("keyup",function(){return o.calculate()}),t.ALo(215,"translate"),t.qZA(),t.qZA(),t.TgZ(216,"td"),t.TgZ(217,"select",54),t.NdJ("ngModelChange",function(r){return o.vat=r})("change",function(){return o.calculate()}),t.TgZ(218,"option",55),t._uU(219),t.ALo(220,"translate"),t.qZA(),t.YNc(221,Yl,2,2,"option",30),t.qZA(),t.qZA(),t.TgZ(222,"td"),t.TgZ(223,"input",53),t.NdJ("ngModelChange",function(r){return o.vatAmount=r}),t.ALo(224,"translate"),t.qZA(),t.qZA(),t.TgZ(225,"td"),t.TgZ(226,"input",53),t.NdJ("ngModelChange",function(r){return o.total=r}),t.ALo(227,"translate"),t.qZA(),t.qZA(),t.TgZ(228,"td"),t.TgZ(229,"button",56),t.NdJ("click",function(){return o.addInvoice()}),t._UZ(230,"i",57),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(231,"thead"),t.TgZ(232,"tr"),t.TgZ(233,"th"),t._uU(234),t.ALo(235,"translate"),t.qZA(),t.TgZ(236,"th"),t._uU(237),t.ALo(238,"translate"),t.qZA(),t.TgZ(239,"th"),t._uU(240),t.ALo(241,"translate"),t.qZA(),t.TgZ(242,"th"),t._uU(243),t.ALo(244,"translate"),t.qZA(),t.TgZ(245,"th"),t._uU(246),t.ALo(247,"translate"),t.qZA(),t.TgZ(248,"th"),t._uU(249),t.ALo(250,"translate"),t.qZA(),t.TgZ(251,"th"),t._uU(252),t.ALo(253,"translate"),t.qZA(),t.TgZ(254,"th"),t._uU(255),t.ALo(256,"translate"),t.qZA(),t.TgZ(257,"th"),t._uU(258),t.ALo(259,"translate"),t.qZA(),t.TgZ(260,"th"),t._uU(261),t.ALo(262,"translate"),t.qZA(),t._UZ(263,"th",58),t.qZA(),t.qZA(),t.TgZ(264,"tbody"),t.YNc(265,Ql,27,12,"tr",59),t.qZA(),t.TgZ(266,"tfoot"),t.TgZ(267,"tr",60),t._UZ(268,"td",61),t.TgZ(269,"td",62),t._uU(270),t.ALo(271,"translate"),t.qZA(),t.TgZ(272,"td",62),t._uU(273),t.ALo(274,"leadingZeros"),t.qZA(),t._UZ(275,"td",63),t.qZA(),t.TgZ(276,"tr",60),t.TgZ(277,"td",62),t._uU(278),t.ALo(279,"translate"),t.qZA(),t.TgZ(280,"td",62),t._uU(281),t.ALo(282,"leadingZeros"),t.qZA(),t._UZ(283,"td",63),t.qZA(),t.TgZ(284,"tr",60),t.TgZ(285,"td",64),t._uU(286),t.ALo(287,"translate"),t.qZA(),t.TgZ(288,"td",64),t._uU(289),t.ALo(290,"leadingZeros"),t.qZA(),t._UZ(291,"td",65),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(292,"div",66),t.TgZ(293,"div",67),t.TgZ(294,"button",68),t.NdJ("click",function(){return o.closeModel()}),t._uU(295),t.ALo(296,"translate"),t.qZA(),t._uU(297," \xa0\xa0 "),t._UZ(298,"input",69),t.ALo(299,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e){const n=t.MAs(53),r=t.MAs(68),l=t.MAs(83);t.xp6(1),t.hij(" ",t.lcZ(2,117,"Create_New_Sales_Invoice")," "),t.xp6(4),t.Q6J("formGroup",o.form),t.xp6(9),t.Oqu(t.lcZ(15,119,"Invoice_Type")),t.xp6(5),t.Oqu(t.lcZ(20,121,"Invoice")),t.xp6(3),t.Oqu(t.lcZ(23,123,"Credit")),t.xp6(7),t.Oqu(t.lcZ(30,125,"Customer")),t.xp6(3),t.Oqu(t.lcZ(33,127,"Walk-In")),t.xp6(2),t.Q6J("items",o.customerList),t.xp6(1),t.Q6J("control",o.form.controls.customerId),t.xp6(4),t.Oqu(t.lcZ(40,129,"Customer_Sites")),t.xp6(2),t.Q6J("items",o.customerSiteList),t.xp6(3),t.Oqu(t.lcZ(45,131,"Sales_Invoice_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(49,133,"Select_a_Date")),t.Q6J("matDatepicker",n),t.xp6(3),t.Q6J("for",n),t.xp6(5),t.Q6J("control",o.form.controls.invoiceDate),t.xp6(3),t.Oqu(t.lcZ(60,135,"Delivery_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(64,137,"Select_a_Date")),t.Q6J("matDatepicker",r),t.xp6(3),t.Q6J("for",r),t.xp6(5),t.Q6J("control",o.form.controls.invoiceDueDate),t.xp6(3),t.Oqu(t.lcZ(75,139,"ServiceDate")),t.xp6(4),t.s9C("placeholder",t.lcZ(79,141,"Select_a_Date")),t.Q6J("matDatepicker",l),t.xp6(3),t.Q6J("for",l),t.xp6(5),t.Q6J("control",o.form.controls.serviceDate1),t.xp6(4),t.Oqu(t.lcZ(91,143,"Organization")),t.xp6(4),t.Oqu(t.lcZ(95,145,"Select_Organization")),t.xp6(2),t.Q6J("ngForOf",o.companyList),t.xp6(1),t.Q6J("control",o.form.controls.companyId),t.xp6(4),t.Oqu(t.lcZ(102,147,"Branch")),t.xp6(2),t.Q6J("items",o.branchList),t.xp6(1),t.Q6J("control",o.form.controls.branchCode),t.xp6(4),t.Oqu(t.lcZ(109,149,"Invoice_Reference_Number")),t.xp6(2),t.hYB("placeholder","",t.lcZ(111,151,"Please_Enter")," ",t.lcZ(112,153,"Invoice_Reference_Number"),""),t.xp6(3),t.Q6J("control",o.form.controls.invoiceRefNumber),t.xp6(4),t.hij(" ",t.lcZ(118,155,"LPO_Contract")," "),t.xp6(2),t.hYB("placeholder","",t.lcZ(120,157,"Please_Enter")," ",t.lcZ(121,159,"LPO_Contract"),""),t.xp6(3),t.Q6J("control",o.form.controls.lpoContract),t.xp6(4),t.hij(" ",t.lcZ(127,161,"Payment_Terms")," "),t.xp6(4),t.Oqu(t.lcZ(131,163,"Select_Payment_Terms")),t.xp6(2),t.Q6J("ngForOf",o.paymentTermsList),t.xp6(1),t.Q6J("control",o.form.controls.paymentTermId),t.xp6(4),t.Oqu(t.lcZ(138,165,"TAX_Id_Number")),t.xp6(2),t.s9C("placeholder",t.lcZ(140,167,"TAX_Id_Number")),t.Q6J("readonly",!0),t.xp6(2),t.Q6J("control",o.form.controls.taxIdNumber),t.xp6(4),t.Oqu(t.lcZ(146,169,"Invoice_Notes")),t.xp6(2),t.Q6J("ngIf",o.canShowNotes),t.xp6(4),t.Oqu(t.lcZ(152,171,"Remarks")),t.xp6(2),t.Q6J("ngIf",o.canShowRemarks),t.xp6(4),t.Oqu(t.lcZ(158,173,"Copy_Old_Invoice_Number")),t.xp6(2),t.Q6J("items",o.invoiceNumberList)("ngModel",o.invoice_NumberId)("ngModelOptions",t.DdM(247,G)),t.xp6(6),t.Oqu(t.lcZ(166,175,"Item")),t.xp6(3),t.Oqu(t.lcZ(169,177,"Description")),t.xp6(3),t.Oqu(t.lcZ(172,179,"Customer_Sites")),t.xp6(3),t.Oqu(t.lcZ(175,181,"Qty")),t.xp6(3),t.Oqu(t.lcZ(178,183,"Unit")),t.xp6(3),t.Oqu(t.lcZ(181,185,"Price")),t.xp6(3),t.Oqu(t.lcZ(184,187,"Disc")),t.xp6(3),t.hij("",t.lcZ(187,189,"VAT"),"%"),t.xp6(3),t.Oqu(t.lcZ(190,191,"VAT_Amount")),t.xp6(3),t.Oqu(t.lcZ(193,193,"Total")),t.xp6(6),t.Q6J("items",o.productList)("ngModel",o.productId)("ngModelOptions",t.DdM(248,G)),t.xp6(2),t.s9C("placeholder",t.lcZ(201,195,"Description")),t.Q6J("ngModel",o.description)("ngModelOptions",t.DdM(249,G)),t.xp6(3),t.Q6J("items",o.customerSiteList)("ngModel",o.siteCode)("ngModelOptions",t.DdM(250,G)),t.xp6(2),t.s9C("placeholder",t.lcZ(206,197,"Qty")),t.Q6J("ngModel",o.quantity)("ngModelOptions",t.DdM(251,G)),t.xp6(3),t.s9C("placeholder",t.lcZ(209,199,"Unit")),t.Q6J("ngModel",o.unitType)("ngModelOptions",t.DdM(252,G)),t.xp6(3),t.s9C("placeholder",t.lcZ(212,201,"Price")),t.Q6J("ngModel",o.price)("ngModelOptions",t.DdM(253,G)),t.xp6(3),t.s9C("placeholder",t.lcZ(215,203,"Discount")),t.Q6J("ngModel",o.discount)("ngModelOptions",t.DdM(254,G)),t.xp6(3),t.Q6J("ngModel",o.vat)("ngModelOptions",t.DdM(255,G)),t.xp6(2),t.Oqu(t.lcZ(220,205,"VAT")),t.xp6(2),t.Q6J("ngForOf",o.vatList),t.xp6(2),t.s9C("placeholder",t.lcZ(224,207,"VAT_Amount")),t.Q6J("ngModel",o.vatAmount)("ngModelOptions",t.DdM(256,G)),t.xp6(3),t.s9C("placeholder",t.lcZ(227,209,"Total")),t.Q6J("ngModel",o.total)("ngModelOptions",t.DdM(257,G)),t.xp6(8),t.Oqu(t.lcZ(235,211,"Item")),t.xp6(3),t.Oqu(t.lcZ(238,213,"Description")),t.xp6(3),t.Oqu(t.lcZ(241,215,"Customer_Sites")),t.xp6(3),t.Oqu(t.lcZ(244,217,"Qty")),t.xp6(3),t.Oqu(t.lcZ(247,219,"Unit")),t.xp6(3),t.Oqu(t.lcZ(250,221,"Price")),t.xp6(3),t.Oqu(t.lcZ(253,223,"Disc")),t.xp6(3),t.hij("",t.lcZ(256,225,"VAT"),"%"),t.xp6(3),t.Oqu(t.lcZ(259,227,"VAT_Amount")),t.xp6(3),t.Oqu(t.lcZ(262,229,"Total")),t.xp6(4),t.Q6J("ngForOf",o.listOfInvoices),t.xp6(5),t.Oqu(t.lcZ(271,231,"Total_Amount")),t.xp6(3),t.Oqu(t.lcZ(274,233,o.grandInvoiceTotalStr)),t.xp6(5),t.Oqu(t.lcZ(279,235,"VAT_Amount")),t.xp6(3),t.Oqu(t.lcZ(282,237,o.grandVatTotalStr)),t.xp6(5),t.Oqu(t.lcZ(287,239,"Invoice_Total")),t.xp6(3),t.Oqu(t.lcZ(290,241,o.grandTotalStr)),t.xp6(6),t.hij(" ",t.lcZ(296,243,"Cancel")," "),t.xp6(3),t.s9C("value",t.lcZ(299,245,"Save"))}},directives:[s._Y,s.JL,s.sg,s.EJ,s.JJ,s.u,s.YN,s.Kr,j.w9,M.s,s.Fj,m.hl,m.nW,U.R9,m.Mq,d.sg,d.O5,s.On],pipes:[Z.X$,E,I.J],styles:[".cpointer[_ngcontent-%COMP%]{cursor:pointer}"]}),i})();function Fl(i,a){if(1&i&&(t.TgZ(0,"option",68),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function Bl(i,a){if(1&i&&(t.TgZ(0,"option",68),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function Vl(i,a){if(1&i&&(t.TgZ(0,"option",68),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function Rl(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td",69),t._uU(18),t.qZA(),t.TgZ(19,"td",69),t._uU(20),t.qZA(),t.TgZ(21,"td",56),t.TgZ(22,"i",70),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().editInvoiceItem(r)}),t.qZA(),t._uU(23," \xa0 "),t.TgZ(24,"i",71),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().deleteInvoiceItem(r)}),t.qZA(),t._uU(25," \xa0 "),t.qZA(),t.qZA()}if(2&i){const e=a.$implicit;t.xp6(2),t.Oqu(e.product),t.xp6(2),t.Oqu(e.description),t.xp6(2),t.Oqu(e.siteCode),t.xp6(2),t.Oqu(e.quantity),t.xp6(2),t.Oqu(e.unitType),t.xp6(2),t.Oqu(e.unitPrice),t.xp6(2),t.Oqu(e.discount),t.xp6(2),t.Oqu(e.taxTariffPercentage),t.xp6(2),t.Oqu(e.taxAmount),t.xp6(2),t.Oqu(e.totalAmount)}}const K=function(){return{standalone:!0}};let El=(()=>{class i{constructor(e,o,n,r,l,c,u,g,C,S,w){this.fb=e,this.http=o,this.router=n,this.apiService=r,this.authService=l,this.utilService=c,this.dialogRef=u,this.notifyService=g,this.validationService=C,this.commonService=S,this.dialog=w,this.id=0,this.customerSiteList=[],this.customerList=[],this.companyList=[],this.paymentTermsList=[],this.branchList=[],this.productList=[],this.vatList=[],this.productId="",this.quantity=0,this.price=0,this.vat=0,this.vatAmount=0,this.total=0,this.discount=0,this.discountAmount=0,this.unitType="",this.description="",this.siteCode="",this.product="",this.grandDiscountAmount=0,this.grandTotal=0,this.grandVatTotal=0,this.grandInvoiceTotal=0,this.grandTotalStr="",this.grandVatTotalStr="",this.grandInvoiceTotalStr="",this.sequence=1,this.editsequence=0,this.listOfInvoices=[],this.canShowNotes=!1,this.canShowRemarks=!1,this.isArab=!1}ngOnInit(){this.setForm(),this.loadData(),this.id>0&&this.seteditform()}setForm(){this.form=this.fb.group({customerId:["",s.kI.required],siteCode:[null],invoiceDate:["",s.kI.required],invoiceDueDate:["",s.kI.required],serviceDate1:["",s.kI.required],companyId:["",s.kI.required],branchCode:["",s.kI.required],invoiceRefNumber:["",s.kI.required],lpoContract:["",s.kI.required],paymentTermId:["",s.kI.required],taxIdNumber:["",s.kI.required],remarks:[""],invoiceNotes:[""],invoiceStatusId:["1"]})}seteditform(){this.apiService.get("generateInvoice/getSingleSaleInvoiceById",this.id).subscribe(e=>{e&&(this.loadBranchsForCompany(e.companyId,e),this.loadCustomerSites(e.customerId),this.displayProducts(e))})}openDialogManage(e){let o=this.utilService.openDialogCongif(this.dialog,Tt.R,e);o.componentInstance.data=this.customerData,o.afterClosed().subscribe(n=>{var r,l;n&&(this.customerData=n.value,this.form.value.custName=null===(r=n.value)||void 0===r?void 0:r.custName,this.form.value.custArbName=null===(l=n.value)||void 0===l?void 0:l.custArbName)})}updateCustomer(){this.openDialogManage(50)}loadData(){this.apiService.getall("vat/getSelectVatList").subscribe(e=>{e&&(this.vatList=e)}),this.apiService.getall("product/getSelectProductList").subscribe(e=>{e&&(this.productList=e)}),this.apiService.getall("customer/getSelectCustomerList").subscribe(e=>{e&&(this.customerList=e,this.customerList.map(n=>(n.text=this.isArab?n.textTwo:n.text,n)))}),this.apiService.getall("company/getSelectCompanyList").subscribe(e=>{e&&(this.companyList=e)}),this.apiService.getall("salesTermsCode/getCustomSelectSalesTermsCodeList").subscribe(e=>{e&&(this.paymentTermsList=e)})}customerChange(e){let o=e.value;this.apiService.getall(`customer/getCustomerById/${o}`).subscribe(r=>{r&&this.form.controls.taxIdNumber.setValue(r.vatNumber)}),this.loadCustomerSites(o)}loadCustomerSites(e){this.apiService.getall(`customer/getCustomerSitesSelectList/${e}`).subscribe(o=>{o&&(this.customerSiteList=o,this.customerSiteList.map(n=>(n.text=this.isArab?n.textTwo:n.text,n)))})}loadBranchsForCompany(e,o){e&&this.apiService.getall("branch/getSelectSysAccountBranchList").subscribe(n=>{n&&(this.branchList=n,this.form.patchValue(o),this.form.patchValue({customerId:`${o.customerId}`}))})}displayProducts(e){e.itemList.forEach(n=>{this.productId=n.productId,this.product=n.productName,this.description=n.description,this.siteCode=n.siteCode,this.quantity=n.quantity,this.unitType=n.unitType,this.price=n.unitPrice,this.vat=n.taxTariffPercentage,this.vatAmount=n.taxAmount,this.total=n.totalAmount,this.discount=n.discount,this.discountAmount=n.discountAmount,this.addInvoice()})}loadBranchs(e){e.target.value&&this.apiService.getall("branch/getSelectSysAccountBranchList").subscribe(n=>{n&&(this.branchList=n)})}resetProduct(){this.product="",this.unitType="",this.description="",this.siteCode="",this.price=0,this.total=0,this.discount=0,this.discountAmount=0,this.quantity=0}loadProductdata(e){let o=e.value;o?this.apiService.getall(`product/productUnitPriceItem/${o}`).subscribe(r=>{r&&(this.product=r.nameEN,this.unitType=r.unitTypeEN,this.description=r.description,this.price=r.unitPrice)}):(this.unitType="",this.description="")}addInvoice(){if(0!=this.total&&parseInt(this.productId)>0){if(this.editsequence>0){var e=this.listOfInvoices.findIndex(n=>n.sequence===this.editsequence);let o=this.listOfInvoices[e];o.sequence=this.editsequence,o.product=this.product,o.productId=this.productId,o.description=this.description,o.siteCode=this.siteCode,o.quantity=this.quantity,o.unitType=this.unitType,o.unitPrice=this.price,o.taxTariffPercentage=this.vat,o.taxAmount=this.vatAmount,o.totalAmount=this.total,o.discount=this.discount,o.discountAmount=this.discountAmount,this.editsequence=0}else this.listOfInvoices.push({sequence:this.getSequence(),product:this.product,productId:this.productId,description:this.description,siteCode:this.siteCode,quantity:this.quantity,unitType:this.unitType,unitPrice:this.price,taxTariffPercentage:this.vat,taxAmount:this.vatAmount,totalAmount:this.total,discount:this.discount,discountAmount:this.discountAmount});this.setGrandTotal(),this.setToDefault()}}getSequence(){return this.sequence+=this.sequence+1}showCanShowNotes(){this.canShowNotes=!this.canShowNotes}showCanShowRemarks(){this.canShowRemarks=!this.canShowRemarks}deleteInvoiceItem(e){this.removeInvoiceList(e.sequence),this.setGrandTotal()}removeInvoiceList(e){let o=this.listOfInvoices.findIndex(n=>n.sequence===e);this.listOfInvoices.splice(o,1)}editInvoiceItem(e){console.log(e),this.editsequence=e.sequence,this.product=e.product,this.productId=`${e.productId}`,this.description=e.description,this.siteCode=e.siteCode,this.quantity=e.quantity,this.unitType=e.unitType,this.price=e.unitPrice,this.vat=e.taxTariffPercentage,this.vatAmount=e.taxAmount,this.total=e.totalAmount,this.discount=e.discount,this.discountAmount=e.discountAmount}setGrandTotal(){this.grandTotal=0,this.grandVatTotal=0,this.grandInvoiceTotal=0,this.grandDiscountAmount=0,this.listOfInvoices.forEach(e=>{this.grandTotal+=e.totalAmount,this.grandVatTotal+=e.taxAmount,this.grandInvoiceTotal+=e.totalAmount-e.taxAmount,this.grandDiscountAmount+=e.discountAmount}),this.form.value.totalAmount=this.grandTotal,this.form.value.discountAmount=this.grandDiscountAmount,this.form.value.taxAmount=this.grandVatTotal,this.form.value.subTotal=this.grandInvoiceTotal,this.grandTotalStr=this.grandTotal.toString(),this.grandVatTotalStr=this.grandVatTotal.toString(),this.grandInvoiceTotalStr=this.grandInvoiceTotal.toString()}setToDefault(){this.productId="",this.product=this.description=this.unitType=this.siteCode="",this.quantity=this.price=this.vat=this.vatAmount=this.total=this.discount=this.discountAmount=0}calculate(){var e=parseFloat(this.vat.toString());this.discount>100&&(this.discount=0);var o=this.discount,l=parseFloat((this.quantity*this.price).toString()),c=parseFloat((l*o/100).toFixed(2));l=parseFloat((l-c).toString()),this.discountAmount=c,this.vatAmount=parseFloat((l*e/100).toFixed(2)),this.total=parseFloat(this.vatAmount.toString())+parseFloat(l.toString())}submit(){this.form.valid?(this.id>0&&(this.form.value.id=this.id),this.listOfInvoices.length>0?(this.setGrandTotal(),this.form.value.itemList=this.listOfInvoices,this.form.value.invoiceDate=this.utilService.selectedDateTime(this.form.controls.invoiceDate.value),this.form.value.invoiceDueDate=this.utilService.selectedDateTime(this.form.controls.invoiceDueDate.value),this.apiService.post("generateInvoice",this.form.value).subscribe(e=>{this.utilService.OkMessage(),this.reset(),this.dialogRef.close(!0)},e=>{console.error(e),this.utilService.ShowApiErrorMessage(e)})):this.notifyService.showError("Items Empty")):this.utilService.FillUpFields()}reset(){this.form.reset()}closeModel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36($.eN),t.Y36(Q.F0),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(T.so),t.Y36(f.g),t.Y36(O.R),t.Y36(at.v),t.Y36(T.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-editsalesinvoice"]],decls:286,vars:254,consts:[["type","button","aria-hidden","true",1,"close",3,"click"],["novalidate","",1,"mt-4",3,"formGroup","ngSubmit"],[1,"row","rowm0"],[1,"col-md-12","col-lg-12"],[1,"row","mt-3"],[1,"p-3",2,"border","1px solid #f4f4f4"],[1,"row","mt-2"],[1,"col-md-2","col-lg-2"],[1,"mr-sm-2"],[1,"form-group"],["formControlName","invoiceStatusId",1,"custom-select","mr-sm-2"],["value","1"],["value","2"],[1,"col-md-10","col-lg-10"],[1,"col-md-4","col-lg-4"],[1,"mr-sm-2","btn","btn-primary",3,"click"],["bindLabel","text","bindValue","value","formControlName","customerId",3,"items","change"],["bindLabel","text","bindValue","value","formControlName","siteCode",3,"items"],[1,"input-group","mb-2"],["formControlName","invoiceDate",1,"form-control","datapickerinput",3,"placeholder","matDatepicker"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker1",""],["formControlName","invoiceDueDate",1,"form-control","datapickerinput",3,"placeholder","matDatepicker"],["picker",""],["formControlName","serviceDate1",1,"form-control","datapickerinput",3,"placeholder","matDatepicker"],["serviceDate1",""],[3,"control"],["formControlName","companyId",1,"custom-select","mr-sm-2",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["bindLabel","text","bindValue","value","formControlName","branchCode",3,"items"],["type","text","formControlName","invoiceRefNumber",1,"form-control",3,"placeholder"],["type","text","formControlName","lpoContract",1,"form-control",3,"placeholder"],["formControlName","paymentTermId",1,"custom-select","mr-sm-2"],["type","text","readonly","","formControlName","taxIdNumber",1,"form-control",3,"placeholder"],[1,"col-md-5","col-lg-5"],["formControlName","invoiceNotes",1,"form-control",3,"placeholder"],["formControlName","remarks",1,"form-control",3,"placeholder"],[1,"table-responsive",2,"width","2000px"],["id","zero_config",1,"table","table-bordered","no-wrap",2,"overflow-x","auto"],["width","18%"],["width","15%"],["width","12%"],["width","6%"],["width","8%"],["width","10%"],["width","5%"],["bindLabel","text","bindValue","value",3,"items","ngModel","ngModelOptions","clear","change","ngModelChange"],[1,"form-control",3,"placeholder","ngModel","ngModelOptions","ngModelChange"],["bindLabel","text","bindValue","value",2,"width","220px",3,"items","ngModel","ngModelOptions","ngModelChange"],["type","text",1,"form-control",3,"placeholder","ngModel","ngModelOptions","ngModelChange","keyup"],["type","text","readonly","",1,"form-control",3,"placeholder","ngModel","ngModelOptions","ngModelChange"],[1,"custom-select","mr-sm-2",3,"ngModel","ngModelOptions","ngModelChange","change"],["value","0"],["type","button",1,"btn","waves-effect","waves-light","btn-primary",3,"click"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"tfoot"],["colspan","6","rowspan","5"],[1,"text-right","bgcolor"],[1,"bgcolor"],[1,"text-right","bgcolor_bottom"],[1,"bgcolor_bottom"],[1,"row"],[1,"col-lg-12","col-md-12","text-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","waves-effect","waves-light","btn-primary",3,"value"],[3,"value"],[1,"text-right"],[1,"icon-note","cpointer",3,"click"],[1,"icon-trash","cpointer",3,"click"]],template:function(e,o){if(1&e&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"button",0),t.NdJ("click",function(){return o.closeModel()}),t._uU(4," \xd7"),t.qZA(),t.qZA(),t.TgZ(5,"form",1),t.NdJ("ngSubmit",function(){return o.submit()}),t.TgZ(6,"div",2),t.TgZ(7,"div",3),t.TgZ(8,"div",4),t.TgZ(9,"div",3),t.TgZ(10,"div",5),t.TgZ(11,"div",6),t.TgZ(12,"div",7),t.TgZ(13,"label",8),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"div",9),t.TgZ(17,"select",10),t.TgZ(18,"option",11),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"option",12),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"div",13),t.TgZ(25,"div",6),t.TgZ(26,"div",14),t.TgZ(27,"div",9),t.TgZ(28,"label",8),t._uU(29),t.ALo(30,"translate"),t.qZA(),t.TgZ(31,"label",15),t.NdJ("click",function(){return o.updateCustomer()}),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"ng-select",16),t.NdJ("change",function(r){return o.customerChange(r)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(35,"div",14),t.TgZ(36,"div",9),t.TgZ(37,"label",8),t._uU(38),t.ALo(39,"translate"),t.qZA(),t._UZ(40,"ng-select",17),t.qZA(),t.qZA(),t.TgZ(41,"div",14),t.TgZ(42,"label",8),t._uU(43),t.ALo(44,"translate"),t.qZA(),t.TgZ(45,"div",9),t.TgZ(46,"div",18),t._UZ(47,"input",19),t.ALo(48,"translate"),t.TgZ(49,"div",20),t._UZ(50,"mat-datepicker-toggle",21),t._UZ(51,"mat-datepicker",null,22),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(53,"div",14),t.TgZ(54,"label",8),t._uU(55),t.ALo(56,"translate"),t.qZA(),t.TgZ(57,"div",9),t.TgZ(58,"div",18),t._UZ(59,"input",23),t.ALo(60,"translate"),t.TgZ(61,"div",20),t._UZ(62,"mat-datepicker-toggle",21),t._UZ(63,"mat-datepicker",null,24),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(65,"div",14),t.TgZ(66,"label",8),t._uU(67),t.ALo(68,"translate"),t.qZA(),t.TgZ(69,"div",9),t.TgZ(70,"div",18),t._UZ(71,"input",25),t.ALo(72,"translate"),t.TgZ(73,"div",20),t._UZ(74,"mat-datepicker-toggle",21),t._UZ(75,"mat-datepicker",null,26),t._UZ(77,"br"),t._UZ(78,"br"),t.qZA(),t.qZA(),t._UZ(79,"validation-message",27),t.qZA(),t.qZA(),t.TgZ(80,"div",14),t.TgZ(81,"div",9),t.TgZ(82,"label",8),t._uU(83),t.ALo(84,"translate"),t.qZA(),t.TgZ(85,"select",28),t.NdJ("change",function(r){return o.loadBranchs(r)}),t.TgZ(86,"option",29),t._uU(87),t.ALo(88,"translate"),t.qZA(),t.YNc(89,Fl,2,2,"option",30),t.qZA(),t.qZA(),t.qZA(),t.TgZ(90,"div",14),t.TgZ(91,"div",9),t.TgZ(92,"label",8),t._uU(93),t.ALo(94,"translate"),t.qZA(),t._UZ(95,"ng-select",31),t.qZA(),t.qZA(),t.TgZ(96,"div",14),t.TgZ(97,"div",9),t.TgZ(98,"label",8),t._uU(99),t.ALo(100,"translate"),t.qZA(),t._UZ(101,"input",32),t.ALo(102,"translate"),t.ALo(103,"translate"),t.qZA(),t.qZA(),t.TgZ(104,"div",14),t.TgZ(105,"div",9),t.TgZ(106,"label",8),t._uU(107),t.ALo(108,"translate"),t.qZA(),t._UZ(109,"input",33),t.ALo(110,"translate"),t.ALo(111,"translate"),t.qZA(),t.qZA(),t.TgZ(112,"div",14),t.TgZ(113,"div",9),t.TgZ(114,"label",8),t._uU(115),t.ALo(116,"translate"),t.qZA(),t.TgZ(117,"select",34),t.TgZ(118,"option",29),t._uU(119),t.ALo(120,"translate"),t.qZA(),t.YNc(121,Bl,2,2,"option",30),t.qZA(),t.qZA(),t.qZA(),t.TgZ(122,"div",14),t.TgZ(123,"div",9),t.TgZ(124,"label",8),t._uU(125),t.ALo(126,"translate"),t.qZA(),t._UZ(127,"input",35),t.ALo(128,"translate"),t.qZA(),t.qZA(),t.TgZ(129,"div",36),t.TgZ(130,"div",9),t.TgZ(131,"label",8),t._uU(132),t.ALo(133,"translate"),t.qZA(),t._UZ(134,"textarea",37),t.ALo(135,"translate"),t.ALo(136,"translate"),t.qZA(),t.qZA(),t.TgZ(137,"div",36),t.TgZ(138,"div",9),t.TgZ(139,"label",8),t._uU(140),t.ALo(141,"translate"),t.qZA(),t._UZ(142,"textarea",38),t.ALo(143,"translate"),t.ALo(144,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(145,"div",39),t.TgZ(146,"table",40),t.TgZ(147,"thead"),t.TgZ(148,"tr"),t.TgZ(149,"th",41),t._uU(150),t.ALo(151,"translate"),t.qZA(),t.TgZ(152,"th",42),t._uU(153),t.ALo(154,"translate"),t.qZA(),t.TgZ(155,"th",43),t._uU(156),t.ALo(157,"translate"),t.qZA(),t.TgZ(158,"th",44),t._uU(159),t.ALo(160,"translate"),t.qZA(),t.TgZ(161,"th",45),t._uU(162),t.ALo(163,"translate"),t.qZA(),t.TgZ(164,"th",46),t._uU(165),t.ALo(166,"translate"),t.qZA(),t.TgZ(167,"th",47),t._uU(168),t.ALo(169,"translate"),t.qZA(),t.TgZ(170,"th",44),t._uU(171),t.ALo(172,"translate"),t.qZA(),t.TgZ(173,"th",45),t._uU(174),t.ALo(175,"translate"),t.qZA(),t.TgZ(176,"th",46),t._uU(177),t.ALo(178,"translate"),t.qZA(),t._UZ(179,"th"),t.qZA(),t.qZA(),t.TgZ(180,"tbody"),t.TgZ(181,"tr"),t.TgZ(182,"td"),t.TgZ(183,"ng-select",48),t.NdJ("clear",function(){return o.resetProduct()})("change",function(r){return o.loadProductdata(r)})("ngModelChange",function(r){return o.productId=r}),t.qZA(),t.qZA(),t.TgZ(184,"td"),t.TgZ(185,"textarea",49),t.NdJ("ngModelChange",function(r){return o.description=r}),t.ALo(186,"translate"),t.qZA(),t.qZA(),t.TgZ(187,"td"),t.TgZ(188,"ng-select",50),t.NdJ("ngModelChange",function(r){return o.siteCode=r}),t.qZA(),t.qZA(),t.TgZ(189,"td"),t.TgZ(190,"input",51),t.NdJ("ngModelChange",function(r){return o.quantity=r})("keyup",function(){return o.calculate()}),t.ALo(191,"translate"),t.qZA(),t.qZA(),t.TgZ(192,"td"),t.TgZ(193,"input",52),t.NdJ("ngModelChange",function(r){return o.unitType=r}),t.ALo(194,"translate"),t.qZA(),t.qZA(),t.TgZ(195,"td"),t.TgZ(196,"input",51),t.NdJ("ngModelChange",function(r){return o.price=r})("keyup",function(){return o.calculate()}),t.ALo(197,"translate"),t.qZA(),t.qZA(),t.TgZ(198,"td"),t.TgZ(199,"input",51),t.NdJ("ngModelChange",function(r){return o.discount=r})("keyup",function(){return o.calculate()}),t.ALo(200,"translate"),t.qZA(),t.qZA(),t.TgZ(201,"td"),t.TgZ(202,"select",53),t.NdJ("ngModelChange",function(r){return o.vat=r})("change",function(){return o.calculate()}),t.TgZ(203,"option",54),t._uU(204),t.ALo(205,"translate"),t.qZA(),t.YNc(206,Vl,2,2,"option",30),t.qZA(),t.qZA(),t.TgZ(207,"td"),t.TgZ(208,"input",52),t.NdJ("ngModelChange",function(r){return o.vatAmount=r}),t.ALo(209,"translate"),t.qZA(),t.qZA(),t.TgZ(210,"td"),t.TgZ(211,"input",52),t.NdJ("ngModelChange",function(r){return o.total=r}),t.ALo(212,"translate"),t.qZA(),t.qZA(),t.TgZ(213,"td"),t.TgZ(214,"button",55),t.NdJ("click",function(){return o.addInvoice()}),t._uU(215),t.ALo(216,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(217,"thead"),t.TgZ(218,"tr"),t.TgZ(219,"th"),t._uU(220),t.ALo(221,"translate"),t.qZA(),t.TgZ(222,"th"),t._uU(223),t.ALo(224,"translate"),t.qZA(),t.TgZ(225,"th"),t._uU(226),t.ALo(227,"translate"),t.qZA(),t.TgZ(228,"th"),t._uU(229),t.ALo(230,"translate"),t.qZA(),t.TgZ(231,"th"),t._uU(232),t.ALo(233,"translate"),t.qZA(),t.TgZ(234,"th"),t._uU(235),t.ALo(236,"translate"),t.qZA(),t.TgZ(237,"th"),t._uU(238),t.ALo(239,"translate"),t.qZA(),t.TgZ(240,"th"),t._uU(241),t.ALo(242,"translate"),t.qZA(),t.TgZ(243,"th"),t._uU(244),t.ALo(245,"translate"),t.qZA(),t.TgZ(246,"th"),t._uU(247),t.ALo(248,"translate"),t.qZA(),t._UZ(249,"th",56),t.qZA(),t.qZA(),t.TgZ(250,"tbody"),t.YNc(251,Rl,26,10,"tr",57),t.qZA(),t.TgZ(252,"tfoot"),t.TgZ(253,"tr",58),t._UZ(254,"td",59),t.TgZ(255,"td",60),t._uU(256),t.ALo(257,"translate"),t.qZA(),t.TgZ(258,"td",60),t._uU(259),t.ALo(260,"leadingZeros"),t.qZA(),t._UZ(261,"td",61),t.qZA(),t.TgZ(262,"tr",58),t.TgZ(263,"td",60),t._uU(264),t.ALo(265,"translate"),t.qZA(),t.TgZ(266,"td",60),t._uU(267),t.ALo(268,"leadingZeros"),t.qZA(),t._UZ(269,"td",61),t.qZA(),t.TgZ(270,"tr",58),t.TgZ(271,"td",62),t._uU(272),t.ALo(273,"translate"),t.qZA(),t.TgZ(274,"td",62),t._uU(275),t.ALo(276,"leadingZeros"),t.qZA(),t._UZ(277,"td",63),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(278,"div",64),t.TgZ(279,"div",65),t.TgZ(280,"button",66),t.NdJ("click",function(){return o.closeModel()}),t._uU(281),t.ALo(282,"translate"),t.qZA(),t._uU(283," \xa0\xa0 "),t._UZ(284,"input",67),t.ALo(285,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e){const n=t.MAs(52),r=t.MAs(64),l=t.MAs(76);t.xp6(1),t.hij(" ",t.lcZ(2,106,"Create_New_Sales_Invoice")," "),t.xp6(4),t.Q6J("formGroup",o.form),t.xp6(9),t.Oqu(t.lcZ(15,108,"Invoice_Type")),t.xp6(5),t.Oqu(t.lcZ(20,110,"Invoice")),t.xp6(3),t.Oqu(t.lcZ(23,112,"Credit")),t.xp6(7),t.Oqu(t.lcZ(30,114,"Customer")),t.xp6(3),t.Oqu(t.lcZ(33,116,"Walk-In")),t.xp6(2),t.Q6J("items",o.customerList),t.xp6(4),t.Oqu(t.lcZ(39,118,"Customer_Sites")),t.xp6(2),t.Q6J("items",o.customerSiteList),t.xp6(3),t.Oqu(t.lcZ(44,120,"Sales_Invoice_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(48,122,"Select_a_Date")),t.Q6J("matDatepicker",n),t.xp6(3),t.Q6J("for",n),t.xp6(5),t.Oqu(t.lcZ(56,124,"Delivery_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(60,126,"Select_a_Date")),t.Q6J("matDatepicker",r),t.xp6(3),t.Q6J("for",r),t.xp6(5),t.Oqu(t.lcZ(68,128,"ServiceDate")),t.xp6(4),t.s9C("placeholder",t.lcZ(72,130,"Select_a_Date")),t.Q6J("matDatepicker",l),t.xp6(3),t.Q6J("for",l),t.xp6(5),t.Q6J("control",o.form.controls.serviceDate1),t.xp6(4),t.Oqu(t.lcZ(84,132,"Organization")),t.xp6(4),t.Oqu(t.lcZ(88,134,"Select_Organization")),t.xp6(2),t.Q6J("ngForOf",o.companyList),t.xp6(4),t.Oqu(t.lcZ(94,136,"Branch")),t.xp6(2),t.Q6J("items",o.branchList),t.xp6(4),t.Oqu(t.lcZ(100,138,"Invoice_Reference_Number")),t.xp6(2),t.hYB("placeholder","",t.lcZ(102,140,"Please_Enter")," ",t.lcZ(103,142,"Invoice_Reference_Number"),""),t.xp6(6),t.hij(" ",t.lcZ(108,144,"LPO_Contract")," "),t.xp6(2),t.hYB("placeholder","",t.lcZ(110,146,"Please_Enter")," ",t.lcZ(111,148,"LPO_Contract"),""),t.xp6(6),t.hij(" ",t.lcZ(116,150,"Payment_Terms")," "),t.xp6(4),t.Oqu(t.lcZ(120,152,"Select_Payment_Terms")),t.xp6(2),t.Q6J("ngForOf",o.paymentTermsList),t.xp6(4),t.Oqu(t.lcZ(126,154,"TAX_Id_Number")),t.xp6(2),t.s9C("placeholder",t.lcZ(128,156,"TAX_Id_Number")),t.xp6(5),t.Oqu(t.lcZ(133,158,"Invoice_Notes")),t.xp6(2),t.hYB("placeholder","",t.lcZ(135,160,"Please_Select")," ",t.lcZ(136,162,"Invoice_Notes"),""),t.xp6(6),t.Oqu(t.lcZ(141,164,"Remarks")),t.xp6(2),t.hYB("placeholder","",t.lcZ(143,166,"Please_Select")," ",t.lcZ(144,168,"Remarks"),""),t.xp6(8),t.Oqu(t.lcZ(151,170,"Item")),t.xp6(3),t.Oqu(t.lcZ(154,172,"Description")),t.xp6(3),t.Oqu(t.lcZ(157,174,"Customer_Sites")),t.xp6(3),t.Oqu(t.lcZ(160,176,"Qty")),t.xp6(3),t.Oqu(t.lcZ(163,178,"Unit")),t.xp6(3),t.Oqu(t.lcZ(166,180,"Price")),t.xp6(3),t.Oqu(t.lcZ(169,182,"Disc")),t.xp6(3),t.hij("",t.lcZ(172,184,"VAT"),"%"),t.xp6(3),t.Oqu(t.lcZ(175,186,"VAT_Amount")),t.xp6(3),t.Oqu(t.lcZ(178,188,"Total")),t.xp6(6),t.Q6J("items",o.productList)("ngModel",o.productId)("ngModelOptions",t.DdM(244,K)),t.xp6(2),t.s9C("placeholder",t.lcZ(186,190,"Description")),t.Q6J("ngModel",o.description)("ngModelOptions",t.DdM(245,K)),t.xp6(3),t.Q6J("items",o.customerSiteList)("ngModel",o.siteCode)("ngModelOptions",t.DdM(246,K)),t.xp6(2),t.s9C("placeholder",t.lcZ(191,192,"Quantity")),t.Q6J("ngModel",o.quantity)("ngModelOptions",t.DdM(247,K)),t.xp6(3),t.s9C("placeholder",t.lcZ(194,194,"Unit")),t.Q6J("ngModel",o.unitType)("ngModelOptions",t.DdM(248,K)),t.xp6(3),t.s9C("placeholder",t.lcZ(197,196,"Price")),t.Q6J("ngModel",o.price)("ngModelOptions",t.DdM(249,K)),t.xp6(3),t.s9C("placeholder",t.lcZ(200,198,"Discount")),t.Q6J("ngModel",o.discount)("ngModelOptions",t.DdM(250,K)),t.xp6(3),t.Q6J("ngModel",o.vat)("ngModelOptions",t.DdM(251,K)),t.xp6(2),t.Oqu(t.lcZ(205,200,"VAT")),t.xp6(2),t.Q6J("ngForOf",o.vatList),t.xp6(2),t.s9C("placeholder",t.lcZ(209,202,"VAT_Amount")),t.Q6J("ngModel",o.vatAmount)("ngModelOptions",t.DdM(252,K)),t.xp6(3),t.s9C("placeholder",t.lcZ(212,204,"Total")),t.Q6J("ngModel",o.total)("ngModelOptions",t.DdM(253,K)),t.xp6(4),t.Oqu(t.lcZ(216,206,"Add")),t.xp6(5),t.Oqu(t.lcZ(221,208,"Item")),t.xp6(3),t.Oqu(t.lcZ(224,210,"Description")),t.xp6(3),t.Oqu(t.lcZ(227,212,"Customer_Sites")),t.xp6(3),t.Oqu(t.lcZ(230,214,"Quantity")),t.xp6(3),t.Oqu(t.lcZ(233,216,"Unit")),t.xp6(3),t.Oqu(t.lcZ(236,218,"Price")),t.xp6(3),t.Oqu(t.lcZ(239,220,"Discount")),t.xp6(3),t.hij("",t.lcZ(242,222,"VAT"),"%"),t.xp6(3),t.Oqu(t.lcZ(245,224,"VAT_Amount")),t.xp6(3),t.Oqu(t.lcZ(248,226,"Total")),t.xp6(4),t.Q6J("ngForOf",o.listOfInvoices),t.xp6(5),t.Oqu(t.lcZ(257,228,"Total_Amount")),t.xp6(3),t.Oqu(t.lcZ(260,230,o.grandInvoiceTotalStr)),t.xp6(5),t.Oqu(t.lcZ(265,232,"VAT_Amount")),t.xp6(3),t.Oqu(t.lcZ(268,234,o.grandVatTotalStr)),t.xp6(5),t.Oqu(t.lcZ(273,236,"Invoice_Total")),t.xp6(3),t.Oqu(t.lcZ(276,238,o.grandTotalStr)),t.xp6(6),t.hij(" ",t.lcZ(282,240,"Cancel")," "),t.xp6(3),t.s9C("value",t.lcZ(285,242,"Save"))}},directives:[s._Y,s.JL,s.sg,s.EJ,s.JJ,s.u,s.YN,s.Kr,j.w9,s.Fj,m.hl,m.nW,U.R9,m.Mq,M.s,d.sg,s.On],pipes:[Z.X$,E],encapsulation:2}),i})();function $l(i,a){if(1&i&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.value," ")}}function zl(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"th"),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"th"),t._uU(5),t.qZA(),t.TgZ(6,"th"),t._uU(7),t.qZA(),t.TgZ(8,"th"),t._uU(9),t.qZA(),t.TgZ(10,"th"),t._uU(11),t.qZA(),t.TgZ(12,"th"),t._uU(13),t.qZA(),t.TgZ(14,"th"),t._uU(15),t.qZA(),t.TgZ(16,"th",38),t._uU(17),t.qZA(),t.TgZ(18,"th",38),t._uU(19),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.hij(" ",t.xi3(3,9,e.date,"dd-MM-yyyy")," "),t.xp6(3),t.hij(" ",e.tranNumber,""),t.xp6(2),t.hij(" ",e.source," "),t.xp6(2),t.hij(" ",e.code," "),t.xp6(2),t.hij(" ",e.name," "),t.xp6(2),t.hij(" ",e.amount," "),t.xp6(2),t.hij(" ",e.inputTaxAmount," "),t.xp6(2),t.hij(" ",e.outputTaxAmount," "),t.xp6(2),t.hij(" ",e.totalAmount," ")}}function Hl(i,a){if(1&i&&(t.ynx(0),t.YNc(1,zl,20,12,"tr",34),t.TgZ(2,"tr"),t.TgZ(3,"th",37),t._uU(4," Invoice : Total "),t.qZA(),t.TgZ(5,"th"),t._uU(6),t.qZA(),t.TgZ(7,"th"),t._uU(8),t.qZA(),t.TgZ(9,"th",38),t._uU(10),t.qZA(),t.TgZ(11,"th",38),t._uU(12),t.qZA(),t.qZA(),t.BQk()),2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngForOf",e.list),t.xp6(5),t.hij(" ",e.invoicePrice.totalPurchaseAmount," "),t.xp6(2),t.hij(" ",e.invoicePrice.totalInputTaxAomunt," "),t.xp6(2),t.hij(" ",e.invoicePrice.totalOutputTaxAomunt," "),t.xp6(2),t.hij(" ",e.invoicePrice.totalSaleAmount," ")}}function Gl(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"th"),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"th"),t._uU(5),t.qZA(),t.TgZ(6,"th"),t._uU(7),t.qZA(),t.TgZ(8,"th"),t._uU(9),t.qZA(),t.TgZ(10,"th"),t._uU(11),t.qZA(),t.TgZ(12,"th"),t._uU(13),t.qZA(),t.TgZ(14,"th"),t._uU(15),t.qZA(),t.TgZ(16,"th",38),t._uU(17),t.qZA(),t.TgZ(18,"th",38),t._uU(19),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.hij(" ",t.xi3(3,9,e.date,"dd-MM-yyyy")," "),t.xp6(3),t.hij(" ",e.tranNumber,""),t.xp6(2),t.hij(" ",e.source," "),t.xp6(2),t.hij(" ",e.code," "),t.xp6(2),t.hij(" ",e.name," "),t.xp6(2),t.hij(" ",e.amount," "),t.xp6(2),t.hij(" ",e.inputTaxAmount," "),t.xp6(2),t.hij(" ",e.outputTaxAmount," "),t.xp6(2),t.hij(" ",e.totalAmount," ")}}function Xl(i,a){if(1&i&&(t.ynx(0),t.YNc(1,Gl,20,12,"tr",34),t.TgZ(2,"tr"),t.TgZ(3,"th",37),t._uU(4," Credit : Total "),t.qZA(),t.TgZ(5,"th"),t._uU(6),t.qZA(),t.TgZ(7,"th"),t._uU(8),t.qZA(),t.TgZ(9,"th",38),t._uU(10),t.qZA(),t.TgZ(11,"th",38),t._uU(12),t.qZA(),t.qZA(),t.TgZ(13,"tr"),t.TgZ(14,"td",35),t._uU(15," Summary of A/P Invoices "),t.qZA(),t.qZA(),t.TgZ(16,"tr"),t.TgZ(17,"th",37),t._uU(18," Invoice : Total "),t.qZA(),t.TgZ(19,"th"),t._uU(20),t.qZA(),t.TgZ(21,"th"),t._uU(22),t.qZA(),t.TgZ(23,"th",38),t._uU(24),t.qZA(),t.TgZ(25,"th",38),t._uU(26),t.qZA(),t.qZA(),t.TgZ(27,"tr"),t.TgZ(28,"th",37),t._uU(29," Credit : Total "),t.qZA(),t.TgZ(30,"th"),t._uU(31),t.qZA(),t.TgZ(32,"th"),t._uU(33),t.qZA(),t.TgZ(34,"th",38),t._uU(35),t.qZA(),t.TgZ(36,"th",38),t._uU(37),t.qZA(),t.qZA(),t.BQk()),2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngForOf",e.creditList),t.xp6(5),t.hij(" ",e.creditPrice.totalPurchaseAmount," "),t.xp6(2),t.hij(" ",e.creditPrice.totalInputTaxAomunt," "),t.xp6(2),t.hij(" ",e.creditPrice.totalOutputTaxAomunt," "),t.xp6(2),t.hij(" ",e.creditPrice.totalSaleAmount," "),t.xp6(8),t.hij(" ",e.invoicePrice.totalPurchaseAmount," "),t.xp6(2),t.hij(" ",e.invoicePrice.totalInputTaxAomunt," "),t.xp6(2),t.hij(" ",e.invoicePrice.totalOutputTaxAomunt," "),t.xp6(2),t.hij(" ",e.invoicePrice.totalSaleAmount," "),t.xp6(5),t.hij(" ",e.creditPrice.totalPurchaseAmount," "),t.xp6(2),t.hij(" ",e.creditPrice.totalInputTaxAomunt," "),t.xp6(2),t.hij(" ",e.creditPrice.totalOutputTaxAomunt," "),t.xp6(2),t.hij(" ",e.creditPrice.totalSaleAmount," ")}}function Wl(i,a){if(1&i&&(t.TgZ(0,"tbody"),t.YNc(1,Hl,13,5,"ng-container",34),t.TgZ(2,"tr"),t.TgZ(3,"td",35),t._uU(4," Return / Credit Notes Total "),t.qZA(),t.qZA(),t.YNc(5,Xl,38,13,"ng-container",34),t.TgZ(6,"tr"),t._UZ(7,"td",36),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngForOf",e.itemList),t.xp6(4),t.Q6J("ngForOf",e.itemList)}}function Kl(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",22),t.TgZ(1,"button",23),t.NdJ("click",function(){return t.CHM(e),t.oxw().openPrint()}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"br"),t._UZ(5,"br"),t.TgZ(6,"div",24),t.TgZ(7,"table",25),t.TgZ(8,"tr"),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.qZA(),t.TgZ(11,"tr"),t.TgZ(12,"td",26),t._UZ(13,"img",27),t.qZA(),t.qZA(),t.TgZ(14,"tr"),t.TgZ(15,"td"),t.TgZ(16,"div",28),t._UZ(17,"br"),t._uU(18),t._UZ(19,"br"),t._uU(20),t._UZ(21,"br"),t._uU(22),t.ALo(23,"translate"),t._UZ(24,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(25,"table",29),t.TgZ(26,"thead"),t.TgZ(27,"tr"),t.TgZ(28,"td",30),t._uU(29),t.ALo(30,"date"),t.ALo(31,"date"),t.qZA(),t.TgZ(32,"td",31),t._uU(33," Purchase Invoice List "),t.qZA(),t.TgZ(34,"td",32),t._uU(35),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(36,"table",29),t.TgZ(37,"thead",33),t.TgZ(38,"tr"),t.TgZ(39,"th"),t._uU(40," TranDate "),t.qZA(),t.TgZ(41,"th"),t._uU(42," Invoice# "),t.qZA(),t.TgZ(43,"th"),t._uU(44," Source "),t.qZA(),t.TgZ(45,"th"),t._uU(46," Vendor Code "),t.qZA(),t.TgZ(47,"th"),t._uU(48," Vendor Name "),t.qZA(),t.TgZ(49,"th"),t._uU(50," Amount "),t.qZA(),t.TgZ(51,"th"),t._uU(52," Discount "),t.qZA(),t.TgZ(53,"th"),t._uU(54," TaxAmount "),t.qZA(),t.TgZ(55,"th"),t._uU(56," Total Amount "),t.qZA(),t.qZA(),t.qZA(),t.YNc(57,Wl,8,2,"tbody",34),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,11,"Print")," "),t.xp6(8),t.hij(" ",e.company.companyName,""),t.xp6(3),t.s9C("src",e.company.logoURL,t.LSH),t.xp6(5),t.hij(" ",e.company.branchName," "),t.xp6(2),t.hij(" ",e.company.companyAddress," "),t.xp6(2),t.AsE(" ",t.lcZ(23,13,"Tel_Phone")," : ",e.company.phone," "),t.xp6(7),t.AsE(" Date Range: ",t.xi3(30,15,e.dateFrom,"dd/MM/yyyy")," To ",t.xi3(31,18,e.dateTo,"dd/MM/yyyy")," "),t.xp6(6),t.hij(" Branch: ",e.company.branchName," "),t.xp6(22),t.Q6J("ngForOf",e.List)}}let tc=(()=>{class i{constructor(e,o,n,r,l,c,u){this.apiService=e,this.authService=o,this.utilService=n,this.translate=r,this.notifyService=l,this.validationService=c,this.dialogRef=u,this.List=[],this.dateFrom="",this.dateTo="",this.customerId="",this.branchCodeControl=new s.NI,this.customerList=[],this.isBranchLoading=!1,this.isLoading=!1,this.filteredOptions=this.branchCodeControl.valueChanges.pipe((0,J.O)(""),(0,D.b)(n.autoDelay()),(0,P.x)(),(0,Y.w)(g=>(""!==g.trim()&&(this.isBranchLoading=!0),this.filter(g||""))))}ngOnInit(){this.apiService.getall("customer/getSelectCustomerList").subscribe(e=>{e&&(this.customerList=e)})}filter(e){return this.apiService.getall(`branch/getSelectSysBranchList?search=${e.trim()}`).pipe((0,B.U)(o=>{const n=o;return this.isBranchLoading=!1,n}))}search(){var e,o;this.dateFrom&&this.dateTo?(this.isLoading=!0,this.apiService.getall(`generateInvoice/getSalesInvoicePrintingList?id=${null!==(e=this.customerId)&&void 0!==e?e:0}&branchCode=${null!==(o=this.branchCodeControl.value)&&void 0!==o?o:""}&from=${this.utilService.getCommonDate(this.dateFrom)}&to=${this.utilService.getCommonDate(this.dateTo)}`).subscribe(n=>{this.isLoading=!1,n&&(this.List=n.itemPrintingList,this.company=n.company)})):this.notifyService.showError("Select Dates")}openPrint(){const e=document.getElementById("printcontainer");this.utilService.printForLocale(e)}closeModel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(Z.sK),t.Y36(f.g),t.Y36(O.R),t.Y36(T.so))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-salesinvoiceprinting"]],decls:64,vars:43,consts:[[1,"modal-title"],["type","button","aria-hidden","true",1,"close",3,"click"],[1,"modal-body"],[1,"outer"],[1,"row"],[1,"col-md-4","col-lg-4"],[1,"form-group"],[3,"isLoading"],["type","text","matInput","",1,"form-control",3,"placeholder","formControl","matAutocomplete"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"mr-sm-2"],["bindLabel","text","bindValue","value",3,"items","ngModel","ngModelChange"],[1,"input-group","mb-2"],[1,"form-control","datapickerinput",3,"placeholder","ngModel","matDatepicker","ngModelChange"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker2",""],["picker1",""],["type","button",1,"btn","btn-primary",3,"click"],["class","p-1","id","Format1",4,"ngIf"],[3,"value"],["id","Format1",1,"p-1"],["type","button","data-toggle","modal",1,"btn","waves-effect","waves-light","btn-rounded","btn-primary","btn-midblock",3,"click"],["id","printcontainer",1,"outer"],["cellpadding","0","cellspacing","0","width","100%",1,"ur_tablestyle",2,"width","100%","padding-bottom","5px"],[2,"text-align","center"],[2,"width","200px","height","150px",3,"src"],[1,"font-weight-medium"],["id","zero_config","border","1","cellpadding","0","cellspacing","0","width","100%",1,"table","table-bordered","no-wrap",2,"width","100%"],[2,"width","33%"],[2,"width","34%","text-align","center"],[2,"width","33%","text-align","right"],[1,"alert-dark"],[4,"ngFor","ngForOf"],["colspan","9",1,"alert-dark",2,"text-align","center"],["colspan","9",1,"alert-dark",2,"text-align","center","padding-bottom","5px"],["colspan","5",2,"text-align","right"],[2,"text-align","right"]],template:function(e,o){if(1&e&&(t.TgZ(0,"h3",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"button",1),t.NdJ("click",function(){return o.closeModel()}),t._uU(4," \xd7"),t.qZA(),t.TgZ(5,"div",2),t.TgZ(6,"div",3),t.TgZ(7,"div",4),t.TgZ(8,"div",5),t.TgZ(9,"div",6),t.TgZ(10,"label"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t._UZ(13,"auto-loader",7),t._UZ(14,"input",8),t.ALo(15,"translate"),t.ALo(16,"translate"),t.TgZ(17,"mat-autocomplete",null,9),t.YNc(19,$l,2,2,"mat-option",10),t.ALo(20,"async"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"div",5),t.TgZ(22,"div",6),t.TgZ(23,"label",11),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"ng-select",12),t.NdJ("ngModelChange",function(r){return o.customerId=r}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(27,"div",5),t.TgZ(28,"div",6),t.TgZ(29,"label"),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.TgZ(32,"div",6),t.TgZ(33,"div",13),t.TgZ(34,"input",14),t.NdJ("ngModelChange",function(r){return o.dateFrom=r}),t.ALo(35,"translate"),t.qZA(),t.TgZ(36,"div",15),t._UZ(37,"mat-datepicker-toggle",16),t._UZ(38,"mat-datepicker",null,17),t._UZ(40,"br"),t._UZ(41,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(42,"div",5),t.TgZ(43,"div",6),t.TgZ(44,"label"),t._uU(45),t.ALo(46,"translate"),t.qZA(),t.TgZ(47,"div",6),t.TgZ(48,"div",13),t.TgZ(49,"input",14),t.NdJ("ngModelChange",function(r){return o.dateTo=r}),t.ALo(50,"translate"),t.qZA(),t.TgZ(51,"div",15),t._UZ(52,"mat-datepicker-toggle",16),t._UZ(53,"mat-datepicker",null,18),t._UZ(55,"br"),t._UZ(56,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(57,"div",5),t.TgZ(58,"div",6),t._UZ(59,"br"),t.TgZ(60,"button",19),t.NdJ("click",function(){return o.search()}),t._uU(61,"Search"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(62,"spinner-loader",7),t.YNc(63,Kl,58,21,"div",20),t.qZA()),2&e){const n=t.MAs(18),r=t.MAs(39),l=t.MAs(54);t.xp6(1),t.Oqu(t.lcZ(2,23,"Purchase_Invoice")),t.xp6(10),t.Oqu(t.lcZ(12,25,"Branch_Code")),t.xp6(2),t.Q6J("isLoading",o.isBranchLoading),t.xp6(1),t.hYB("placeholder","",t.lcZ(15,27,"Please_Enter")," ",t.lcZ(16,29,"Branch_Code"),""),t.Q6J("formControl",o.branchCodeControl)("matAutocomplete",n),t.xp6(5),t.Q6J("ngForOf",t.lcZ(20,31,o.filteredOptions)),t.xp6(5),t.Oqu(t.lcZ(25,33,"Vendor")),t.xp6(2),t.Q6J("items",o.customerList)("ngModel",o.customerId),t.xp6(4),t.Oqu(t.lcZ(31,35,"From_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(35,37,"Select_a_Date")),t.Q6J("ngModel",o.dateFrom)("matDatepicker",r),t.xp6(3),t.Q6J("for",r),t.xp6(8),t.Oqu(t.lcZ(46,39,"To_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(50,41,"Select_a_Date")),t.Q6J("ngModel",o.dateTo)("matDatepicker",l),t.xp6(3),t.Q6J("for",l),t.xp6(10),t.Q6J("isLoading",o.isLoading),t.xp6(1),t.Q6J("ngIf",o.company)}},directives:[V.z,s.Fj,N.ZL,s.JJ,s.oH,N.XC,d.sg,j.w9,s.On,m.hl,m.nW,U.R9,m.Mq,b.r,d.O5,R.ey],pipes:[Z.X$,d.Ov,d.uU],encapsulation:2}),i})();function ec(i,a){if(1&i&&t._UZ(0,"img",39),2&i){const e=t.oxw(2);t.s9C("src",e.company.logoURL,t.LSH)}}function oc(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",22),t._uU(2),t.qZA(),t.TgZ(3,"td",22),t._uU(4),t.qZA(),t.TgZ(5,"td",40),t._uU(6),t.ALo(7,"number"),t.qZA(),t.TgZ(8,"td",40),t._uU(9),t.ALo(10,"number"),t.qZA(),t.TgZ(11,"td",40),t._uU(12),t.ALo(13,"number"),t.qZA(),t.TgZ(14,"td",40),t._uU(15),t.ALo(16,"number"),t.qZA(),t.TgZ(17,"td",26),t._uU(18),t.ALo(19,"number"),t.qZA(),t.qZA()),2&i){const e=a.$implicit,o=a.index;t.xp6(2),t.Oqu(o+1),t.xp6(2),t.hij("",e.description," "),t.xp6(2),t.hij("",t.xi3(7,7,e.subTotal,"3.2-5")," "),t.xp6(3),t.hij("",t.lcZ(10,10,e.discountAmount/e.subTotal*100)," "),t.xp6(3),t.hij("",t.xi3(13,12,e.discountAmount,"3.2-5")," "),t.xp6(3),t.hij("",t.xi3(16,15,e.taxAmount,"3.2-5")," "),t.xp6(3),t.Oqu(t.xi3(19,18,e.totalAmount,"3.2-5"))}}function ic(i,a){if(1&i&&(t.TgZ(0,"div",30),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij("",e.bank.branchName," : Branch Name ")}}function nc(i,a){if(1&i&&(t.TgZ(0,"div",30),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij("Branch Name: ",e.bank.branchName,"")}}function ac(i,a){if(1&i&&(t.TgZ(0,"div",5),t.TgZ(1,"table",6),t.TgZ(2,"tr"),t.TgZ(3,"td",7),t.YNc(4,ec,1,1,"img",8),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"table",9),t.TgZ(6,"tr"),t.TgZ(7,"td",10),t.TgZ(8,"h4",11),t._uU(9),t.qZA(),t.TgZ(10,"h4",11),t._uU(11),t.qZA(),t._UZ(12,"span"),t.TgZ(13,"h4",11),t._uU(14," C.R. No.: "),t.TgZ(15,"span",12),t._uU(16),t.qZA(),t.qZA(),t.TgZ(17,"h4",11),t._uU(18," C.C. No.: "),t.TgZ(19,"span",12),t._uU(20),t.qZA(),t.qZA(),t.TgZ(21,"h4",11),t._uU(22," VAT NO : "),t.TgZ(23,"span",12),t._uU(24),t.qZA(),t.qZA(),t.qZA(),t.TgZ(25,"td",13),t.TgZ(26,"span",14),t._uU(27," \u0641\u0627\u062a\u0648\u0631\u0629 \u0636\u0631\u064a\u0628\u064a\u0629 "),t.qZA(),t._UZ(28,"br"),t.TgZ(29,"span",15),t._uU(30," VAT INVOICE \xa0 \xa0\xa0 "),t.qZA(),t.qZA(),t.TgZ(31,"td",16),t.TgZ(32,"h4",11),t._uU(33),t.qZA(),t.TgZ(34,"h4",11),t._uU(35),t.qZA(),t.TgZ(36,"h4",11),t._uU(37),t.qZA(),t.TgZ(38,"h4",11),t._uU(39),t.qZA(),t.TgZ(40,"h4",11),t._uU(41),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(42,"table",17),t.TgZ(43,"thead"),t.TgZ(44,"tr"),t.TgZ(45,"td",18),t._uU(46," Tax Invoice "),t.qZA(),t.qZA(),t.TgZ(47,"tr",19),t.TgZ(48,"td",20),t._uU(49," Issue Date / \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629 "),t.qZA(),t.TgZ(50,"td",20),t._uU(51," Due Date / \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0633\u062a\u062d\u0642\u0627\u0642 "),t.qZA(),t.TgZ(52,"td",20),t._uU(53," Invoice Number / \u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629 "),t.qZA(),t.qZA(),t.TgZ(54,"tr"),t.TgZ(55,"td",21),t._uU(56),t.ALo(57,"date"),t.qZA(),t.TgZ(58,"td",21),t._uU(59),t.ALo(60,"date"),t.qZA(),t.TgZ(61,"td",21),t._uU(62),t.qZA(),t.qZA(),t.TgZ(63,"tr",19),t.TgZ(64,"td",20),t._uU(65),t.ALo(66,"translate"),t.qZA(),t.TgZ(67,"td",20),t._uU(68),t.ALo(69,"translate"),t.qZA(),t.TgZ(70,"td",20),t._uU(71),t.ALo(72,"translate"),t.qZA(),t.qZA(),t.TgZ(73,"tr"),t.TgZ(74,"td",22),t._uU(75),t.qZA(),t.TgZ(76,"td",22),t._uU(77),t.qZA(),t.TgZ(78,"td",22),t._uU(79),t.qZA(),t.qZA(),t._UZ(80,"tr"),t.TgZ(81,"tr",19),t.TgZ(82,"td",20),t._uU(83," Payment Method / \u0637\u0631\u064a\u0642\u0629 \u0627\u0644\u062f\u0641\u0639 \u0627\u0648 \u0627\u0644\u0633\u062f\u0627\u062f "),t.qZA(),t.TgZ(84,"td",23),t._uU(85),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(86,"br"),t._UZ(87,"br"),t.TgZ(88,"table",17),t._UZ(89,"thead",24),t.TgZ(90,"tbody"),t.TgZ(91,"tr"),t.TgZ(92,"th",22),t._uU(93," S-No/\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u062a\u0633\u0644\u0633\u0644\u064a "),t.qZA(),t.TgZ(94,"th",25),t._uU(95," Description/\u0648\u0635\u0641 \u0627\u0644\u0631\u0633\u0648\u0645 "),t.qZA(),t.TgZ(96,"th",22),t._uU(97," Amount/\u0627\u0644\u0645\u0628\u0644\u063a"),t.qZA(),t.TgZ(98,"th",22),t._uU(99," Discount Percentage/\u0646\u0633\u0628\u0629 \u0627\u0644\u062e\u0635\u0645"),t.qZA(),t.TgZ(100,"th",22),t._uU(101," Discount Amount/\u0645\u0628\u0644\u063a \u0627\u0644\u062e\u0635\u0645"),t.qZA(),t.TgZ(102,"th",22),t._uU(103," VAT/\u0636\u0631\u064a\u0628\u0629 "),t.qZA(),t.TgZ(104,"th",26),t._uU(105,"Total/\u0627\u0644\u0645\u062c\u0645\u0648\u0639 "),t.qZA(),t.qZA(),t.YNc(106,oc,20,21,"tr",27),t.TgZ(107,"tr"),t.TgZ(108,"td",28),t._UZ(109,"br"),t._UZ(110,"br"),t.qZA(),t.qZA(),t.TgZ(111,"tr"),t.TgZ(112,"td",29),t.TgZ(113,"div",30),t.TgZ(114,"strong"),t._uU(115,"Bank Account Details :"),t.qZA(),t.qZA(),t.TgZ(116,"div",30),t._uU(117),t.qZA(),t.TgZ(118,"div",30),t._uU(119),t.qZA(),t.TgZ(120,"div",30),t._uU(121),t.qZA(),t.TgZ(122,"div",30),t._uU(123),t.qZA(),t.YNc(124,ic,2,1,"div",31),t.YNc(125,nc,2,1,"div",31),t.TgZ(126,"div",30),t._uU(127),t.qZA(),t.TgZ(128,"div",30),t._uU(129),t.qZA(),t.qZA(),t.TgZ(130,"td",32),t.TgZ(131,"strong"),t._uU(132,"SubTotal/\u0627\u0644\u0645\u062c\u0645\u0648\u0639"),t.qZA(),t.qZA(),t.TgZ(133,"td",33),t._uU(134,"SAR\xa0"),t.TgZ(135,"strong"),t._uU(136),t.ALo(137,"number"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(138,"tr"),t.TgZ(139,"td",32),t.TgZ(140,"strong"),t._uU(141,"VAT/\u0636\u0631\u064a\u0628\u0629"),t.qZA(),t.qZA(),t.TgZ(142,"td",33),t._uU(143,"SAR\xa0"),t.TgZ(144,"strong"),t._uU(145),t.ALo(146,"number"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(147,"tr"),t.TgZ(148,"td",32),t.TgZ(149,"strong"),t._uU(150,"Total Inc VAT/\u0627\u0644\u0645\u062c\u0645\u0648\u0639"),t.qZA(),t.qZA(),t.TgZ(151,"td",33),t._uU(152,"SAR\xa0"),t.TgZ(153,"strong"),t._uU(154),t.ALo(155,"number"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(156,"tr"),t._UZ(157,"td",34),t.TgZ(158,"td",32),t.TgZ(159,"strong"),t._uU(160,"Total Paid/\u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u0645\u062f\u0641\u0648\u0639"),t.qZA(),t.qZA(),t.TgZ(161,"td",33),t._uU(162,"SAR\xa0"),t.TgZ(163,"strong"),t._uU(164),t.ALo(165,"number"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(166,"tr"),t.TgZ(167,"td",35),t.TgZ(168,"div",36),t._uU(169),t._UZ(170,"br"),t._uU(171),t.qZA(),t.TgZ(172,"div",37),t._UZ(173,"img",38),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(174,"br"),t._UZ(175,"br"),t.qZA()),2&i){const e=t.oxw();t.xp6(3),t.Akn(e.isSavePDF?"height : 0px ":"height:150px"),t.xp6(1),t.Q6J("ngIf",!e.isSavePDF),t.xp6(5),t.hij(" ",e.companyData.companyName," "),t.xp6(2),t.hij(" ",e.companyData.companyAddress," "),t.xp6(5),t.hij(" ",e.companyData.crNumber," "),t.xp6(4),t.Oqu(e.companyData.ccNumber),t.xp6(4),t.hij("",e.companyData.vatNumber," "),t.xp6(9),t.hij(" ",e.companyData.companyNameAr," "),t.xp6(2),t.hij(" ",e.companyData.companyAddressAr," "),t.xp6(2),t.hij(" ",e.companyData.crNumber," : \u0631\u0642\u0645 \u0627\u0644\u0633\u062c\u0644 \u0627\u0644\u062a\u062c\u0627\u0631\u064a "),t.xp6(2),t.hij(" ",e.companyData.ccNumber," : \u0631\u0642\u0645 \u0627\u0644\u0639\u0636\u0648\u064a\u0629 "),t.xp6(2),t.hij(" ",e.companyData.vatNumber," : \u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064a\u0628\u064a "),t.xp6(15),t.hij(" ",t.xi3(57,39,e.item.invoiceDate,"dd/MM/yyyy")," "),t.xp6(3),t.hij(" ",t.xi3(60,42,e.item.invoiceDueDate,"dd/MM/yyyy")," "),t.xp6(3),t.hij(" ",e.item.invoiceNumber," "),t.xp6(3),t.hij(" ",t.lcZ(66,45,"Student Name / \u0627\u0633\u0645 \u0627\u0644\u0637\u0627\u0644\u0628")," "),t.xp6(3),t.hij("",t.lcZ(69,47,"Grade_Invoice_Name")," "),t.xp6(3),t.hij(" ",t.lcZ(72,49,"StudentIDNumber")," "),t.xp6(4),t.Oqu(e.item.customerNameAr),t.xp6(2),t.hij(" ",e.item.category,""),t.xp6(2),t.hij(" ",e.item.taxIdNumber," "),t.xp6(6),t.hij(" ",e.item.paymentTermId,""),t.xp6(21),t.Q6J("ngForOf",e.itemList),t.xp6(11),t.hij(" Account Name: ",e.companyData.companyName,""),t.xp6(2),t.hij("Account Name in Arabic : ",e.companyData.companyNameAr,""),t.xp6(2),t.hij(" Bank Name in Arabic : ",e.bank.bankNameAr," "),t.xp6(2),t.hij(" Bank Name : ",e.bank.bankName," "),t.xp6(1),t.Q6J("ngIf",!e.hasNonArabChars(e.bank.branchName)),t.xp6(1),t.Q6J("ngIf",e.hasNonArabChars(e.bank.branchName)),t.xp6(2),t.hij(" Account No: ",e.bank.accountNumber,""),t.xp6(2),t.hij("IBAN: ",e.bank.iban,""),t.xp6(7),t.Oqu(t.xi3(137,51,e.item.subTotal,"3.2-5")),t.xp6(9),t.Oqu(t.xi3(146,54,e.item.taxAmount,"3.2-5")),t.xp6(9),t.Oqu(t.xi3(155,57,e.item.subTotal+e.item.taxAmount,"3.2-5")),t.xp6(10),t.Oqu(t.xi3(165,60,e.item.subTotal+e.item.taxAmount,"3.2-5")),t.xp6(5),t.hij(" \u0627\u0644\u0645\u062c\u0645\u0648\u0639 \u0643\u062a\u0627\u0628\u0629 : ",e.item.totalAmountAr,""),t.xp6(2),t.hij(" Total In Words: ",e.item.totalAmountEn," "),t.xp6(2),t.s9C("src",e.item.qrCode,t.LSH)}}let rc=(()=>{class i{constructor(e,o,n,r,l){this.apiService=e,this.authService=o,this.utilService=n,this.dialogRef=r,this.notifyService=l,this.id=0,this.isLoading=!1,this.isArabic=!1,this.dashBoardType=""}ngOnInit(){this.dashBoardType=st.r,this.id>0&&this.loadSalesView()}loadSalesView(){this.isLoading=!0,this.apiService.get("GenerateInvoice/getSchoolSalesInvoicePrintingList",this.id).subscribe(e=>{this.isLoading=!1,e&&(this.item=e,this.itemList=e.itemList,this.company=e.company,this.companyData=e.companyData,this.bank=e.bank,this.isArabic=this.authService.isArabic())})}printInvoice(){const e=document.getElementById("printcontainer");this.utilService.printForLocale(e)}closeModel(){this.dialogRef.close()}hasNonArabChars(e){return/^[A-Za-z0-9]*$/.test(e.trim().replace(/ /g,""))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(T.so),t.Y36(f.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-schoolinvoiceprinting"]],decls:10,vars:2,consts:[[3,"isLoading"],[3,"click"],["type","button","aria-hidden","true",1,"",3,"click"],["type","button","aria-hidden","true",1,"close",3,"click"],["id","printcontainer","class","p-1 shadow",4,"ngIf"],["id","printcontainer",1,"p-1","shadow"],["border","0","cellpadding","0","cellspacing","0","width","100%",1,"",2,"width","100%","padding-bottom","5px"],["colspan","5",2,"text-align","center","padding-bottom","30px"],["alt","","style","width:20%;",3,"src",4,"ngIf"],["border","0","cellpadding","0","cellspacing","0","width","100%",1,"",2,"width","100%"],[1,"",2,"width","35%"],[2,"font-size","0.75rem !important","color","#0c2f54","font-family","'Poppins', sans-serif","font-weight","500","line-height","1.2","margin","0","padding-top","4px"],[2,"font-size","0.75rem !important","color","#0c2f54","font-family","'Poppins', sans-serif","font-weight","500","line-height","1.2","margin","0"],[2,"width","30%","text-align","center","vertical-align","middle"],[2,"font-size","1.75rem !important","position","relative","left","-15px","color","#0c2f54","font-family","'Poppins', sans-serif","font-weight","500","line-height","1.2","margin","0"],[2,"font-size","1.3rem !important","color","#0c2f54","font-family","'Poppins', sans-serif","font-weight","500","line-height","1.2","margin","0"],[1,"",2,"text-align","right","width","35%"],["border","1","cellpadding","0","cellspacing","0","width","100%",1,"table","table-bordered","no-wrap",2,"width","100%"],["colspan","3",2,"text-align","center"],[2,"background-color","whitesmoke"],[2,"width","33%","padding","6px"],[2,"padding","6px","padding","6px"],[2,"padding","6px"],["colspan","2",2,"padding","6px"],[1,"alert-dark"],[2,"padding","6px","width","45%"],[2,"text-align","right","padding","6px"],[4,"ngFor","ngForOf"],["colspan","7"],["colspan","5","rowspan","3",2,"background-color","whitesmoke","text-align","left","padding","6px"],[2,"line-height","18px"],["style","line-height: 18px;",4,"ngIf"],[2,"background-color","whitesmoke","text-align","right","padding","6px"],[1,"align-right",2,"text-align","right","padding","6px"],["colspan","5",2,"background-color","whitesmoke","text-align","left","padding","6px"],["colspan","7",2,"text-align","left"],[1,"ur_right",2,"text-align","left","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500","padding","6px"],[1,"ur_right"],["alt","QR Code",3,"src"],["alt","",2,"width","20%",3,"src"],[2,"text-align","center","padding","6px"]],template:function(e,o){1&e&&(t._UZ(0,"spinner-loader",0),t.TgZ(1,"button",1),t.NdJ("click",function(){return o.printInvoice()}),t._uU(2,"Print"),t.qZA(),t._uU(3," \xa0\n"),t.TgZ(4,"button",2),t.NdJ("click",function(){return o.closeModel()}),t._uU(5," Close"),t.qZA(),t.TgZ(6,"button",3),t.NdJ("click",function(){return o.closeModel()}),t._uU(7," \xd7"),t.qZA(),t._UZ(8,"br"),t.YNc(9,ac,176,63,"div",4)),2&e&&(t.Q6J("isLoading",o.isLoading),t.xp6(9),t.Q6J("ngIf",o.company))},directives:[b.r,d.O5,d.sg],pipes:[d.uU,Z.X$,d.JJ],encapsulation:2}),i})();function sc(i,a){if(1&i&&(t.TgZ(0,"option",26),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.text),t.xp6(1),t.Oqu(e.text)}}function lc(i,a){if(1&i&&(t.TgZ(0,"div",3),t.TgZ(1,"div",4),t.TgZ(2,"label",5),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"select",23),t.TgZ(6,"option",24),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.YNc(9,sc,2,2,"option",25),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,3,"PayCode")),t.xp6(4),t.Oqu(t.lcZ(8,5,"Select_Payment")),t.xp6(2),t.Q6J("ngForOf",e.payCodeList)}}let cc=(()=>{class i{constructor(e,o,n,r,l,c){this.fb=e,this.apiService=o,this.authService=n,this.utilService=r,this.dialogRef=l,this.notifyService=c,this.id=0,this.trantype="Invoice",this.modalBtnTitle="Invoice",this.selectedPayment="",this.paymentTermId="",this.paymentTermsList=[],this.payCodeList=[],this.isCreditSelected=!0}ngOnInit(){this.loadData(),this.setForm()}setForm(){this.form=this.fb.group({paymentType:["",s.kI.required],trantype:"Invoice",tranSource:["AR",s.kI.required],remarks1:"-",remarks2:"-",payCode:"",createdOn:""})}loadData(){this.apiService.getall("paymentcodes/getSelectPaymentCodeList").subscribe(e=>{e&&(this.payCodeList=e)})}paymentSelected(e){this.isCreditSelected="Credit"==e.value}submit(){if(this.form.valid){if(this.id>0){if(!(this.form.value.id=this.id,this.isCreditSelected||this.utilService.hasValue(this.form.value.payCode)))return void this.notifyService.showError("Select PayCode");this.form.controls.createdOn.value&&(this.form.value.createdOn=this.utilService.selectedDateTime(this.form.controls.createdOn.value)),this.apiService.post("generateInvoice/createSettlePayment",this.form.value).subscribe(e=>{this.utilService.OkMessage(),this.reset(),this.dialogRef.close(!0)},e=>{console.error(e),this.utilService.ShowApiErrorMessage(e)})}}else this.utilService.FillUpFields()}reset(){this.selectedPayment=this.paymentTermId=""}closeModel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(T.so),t.Y36(f.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-settlementmode"]],decls:58,vars:42,consts:[["type","button","aria-hidden","true",1,"close",3,"click"],["novalidate","",1,"mt-1",3,"formGroup","ngSubmit"],[1,"row","rowm0"],[1,"col-md-4","col-lg-4"],[1,"form-group"],[1,"mr-sm-2"],["aria-label","Select an option","formControlName","paymentType",3,"change"],["value","Credit"],["value","Check"],[3,"control"],["class","col-md-4 col-lg-4",4,"ngIf"],[1,"col-md-12","col-lg-12"],["type","text","formControlName","remarks1",1,"form-control",3,"placeholder"],["type","text","formControlName","remarks2",1,"form-control",3,"placeholder"],[1,"input-group","mb-2"],["formControlName","createdOn",1,"form-control","datapickerinput",3,"placeholder","matDatepicker"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker",""],[1,"row"],[1,"col-lg-12","col-md-12","text-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","waves-effect","waves-light","btn-primary",3,"value"],["formControlName","payCode",1,"custom-select","mr-sm-2"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,o){if(1&e&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"button",0),t.NdJ("click",function(){return o.closeModel()}),t._uU(4," \xd7"),t.qZA(),t.qZA(),t.TgZ(5,"form",1),t.NdJ("ngSubmit",function(){return o.submit()}),t.TgZ(6,"div",2),t.TgZ(7,"div",3),t.TgZ(8,"div",4),t.TgZ(9,"label",5),t._uU(10),t.ALo(11,"translate"),t.qZA(),t._UZ(12,"br"),t.TgZ(13,"mat-radio-group",6),t.NdJ("change",function(r){return o.paymentSelected(r)}),t.TgZ(14,"mat-radio-button",7),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"mat-radio-button",8),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.qZA(),t._UZ(20,"validation-message",9),t.qZA(),t.qZA(),t.YNc(21,lc,10,7,"div",10),t.TgZ(22,"div",11),t.TgZ(23,"div",4),t.TgZ(24,"label",5),t._uU(25),t.ALo(26,"translate"),t.qZA(),t._UZ(27,"input",12),t.ALo(28,"translate"),t.qZA(),t.qZA(),t.TgZ(29,"div",11),t.TgZ(30,"div",4),t.TgZ(31,"label",5),t._uU(32),t.ALo(33,"translate"),t.qZA(),t._UZ(34,"input",13),t.ALo(35,"translate"),t.qZA(),t.qZA(),t.TgZ(36,"div",11),t.TgZ(37,"label",5),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"div",4),t.TgZ(41,"div",14),t._UZ(42,"input",15),t.ALo(43,"translate"),t.TgZ(44,"div",16),t._UZ(45,"mat-datepicker-toggle",17),t._UZ(46,"mat-datepicker",null,18),t._UZ(48,"br"),t._UZ(49,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(50,"div",19),t.TgZ(51,"div",20),t.TgZ(52,"button",21),t.NdJ("click",function(){return o.closeModel()}),t._uU(53),t.ALo(54,"translate"),t.qZA(),t._uU(55," \xa0\xa0 "),t._UZ(56,"input",22),t.ALo(57,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e){const n=t.MAs(47);t.xp6(1),t.AsE(" ",t.lcZ(2,18,"Create_New_Sales_Invoice")," (",o.modalBtnTitle,") "),t.xp6(4),t.Q6J("formGroup",o.form),t.xp6(5),t.hij(" ",t.lcZ(11,20,"Select_Payment")," "),t.xp6(5),t.hij("",t.lcZ(16,22,"Credit")," \xa0\xa0"),t.xp6(3),t.Oqu(t.lcZ(19,24,"Cash_Bank")),t.xp6(2),t.Q6J("control",o.form.controls.paymentType),t.xp6(1),t.Q6J("ngIf",!o.isCreditSelected),t.xp6(4),t.hij(" ",t.lcZ(26,26,"Remasks1")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(28,28,"Remasks1")),t.xp6(5),t.hij(" ",t.lcZ(33,30,"Remasks2")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(35,32,"Remasks2")),t.xp6(4),t.Oqu(t.lcZ(39,34,"Posting_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(43,36,"Select_a_Date")),t.Q6J("matDatepicker",n),t.xp6(3),t.Q6J("for",n),t.xp6(8),t.hij(" ",t.lcZ(54,38,"Cancel")," "),t.xp6(3),t.s9C("value",t.lcZ(57,40,"Save"))}},directives:[s._Y,s.JL,s.sg,rt.VQ,s.JJ,s.u,rt.U0,M.s,d.O5,s.Fj,m.hl,m.nW,U.R9,m.Mq,s.EJ,s.YN,s.Kr,d.sg],pipes:[Z.X$],encapsulation:2}),i})();function pc(i,a){if(1&i&&(t.ynx(0),t._UZ(1,"label",13),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("innerHTML",e.zatcaField,t.oJD)}}function dc(i,a){if(1&i&&(t.TgZ(0,"label",14),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Oqu(t.lcZ(2,1,e.zatcaField))}}let vt=(()=>{class i{constructor(e,o,n,r,l,c){this.fb=e,this.apiService=o,this.authService=n,this.utilService=r,this.dialogRef=l,this.notifyService=c,this.id=0,this.trantype="Invoice",this.zatca="",this.zatcaUrl="",this.zatcaTitle="User_Approval_Page",this.zatcaField="User_Approval",this.isdisabled=!1}ngOnInit(){this.setForm()}setForm(){this.form=this.fb.group({appRemarks:[this.zatca?"":"-",s.kI.required],trantype:[this.trantype],tranSource:["AR",s.kI.required]})}submit(){this.form.valid?this.zatca&&this.zatca.length>0?isNaN(this.form.value.appRemarks)||6!=this.form.value.appRemarks.length?this.notifyService.showError("OTP must be 6 digits"):(this.isdisabled=!0,this.apiService.getall(`${this.zatcaUrl}${this.form.value.appRemarks}`).subscribe(e=>{this.utilService.OkMessage(),this.dialogRef.close(!0),this.isdisabled=!1},e=>{this.isdisabled=!1,console.error(e),this.utilService.ShowApiErrorMessage(e)})):this.id>0&&(this.isdisabled=!0,this.form.value.id=this.id,this.apiService.post("generateInvoice/createInvoiceApproval",this.form.value).subscribe(e=>{this.isdisabled=!1,this.utilService.OkMessage(),this.reset(),this.dialogRef.close(!0)},e=>{this.isdisabled=!1,this.utilService.ShowApiErrorMessage(e)})):this.utilService.FillUpFields()}reset(){this.form.reset()}closeModel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(T.so),t.Y36(f.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-userapproval"]],decls:22,vars:14,consts:[["type","button","aria-hidden","true",1,"close",3,"click"],["novalidate","",1,"mt-1",3,"formGroup","ngSubmit"],[1,"row","rowm0"],[1,"col-md-8","col-lg-8"],[1,"form-group"],[4,"ngIf","ngIfElse"],["detailList",""],["type","text","placeholder","","formControlName","appRemarks",1,"form-control"],[3,"control"],[1,"row"],[1,"col-lg-12","col-md-12","text-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","waves-effect","waves-light","btn-primary",3,"value","disabled"],[3,"innerHTML"],[1,"mr-sm-2"]],template:function(e,o){if(1&e&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"button",0),t.NdJ("click",function(){return o.closeModel()}),t._uU(4," \xd7"),t.qZA(),t.qZA(),t.TgZ(5,"form",1),t.NdJ("ngSubmit",function(){return o.submit()}),t.TgZ(6,"div",2),t.TgZ(7,"div",3),t.TgZ(8,"div",4),t.YNc(9,pc,2,1,"ng-container",5),t.YNc(10,dc,3,3,"ng-template",null,6,t.W1O),t._UZ(12,"input",7),t._UZ(13,"validation-message",8),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"div",9),t.TgZ(15,"div",10),t.TgZ(16,"button",11),t.NdJ("click",function(){return o.closeModel()}),t._uU(17),t.ALo(18,"translate"),t.qZA(),t._uU(19," \xa0\xa0 "),t._UZ(20,"input",12),t.ALo(21,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e){const n=t.MAs(11);t.xp6(1),t.hij(" ",t.lcZ(2,8,o.zatcaTitle)," "),t.xp6(4),t.Q6J("formGroup",o.form),t.xp6(4),t.Q6J("ngIf",o.zatca&&o.zatca.length>0)("ngIfElse",n),t.xp6(4),t.Q6J("control",o.form.controls.appRemarks),t.xp6(4),t.hij(" ",t.lcZ(18,10,"Cancel")," "),t.xp6(3),t.s9C("value",t.lcZ(21,12,"Save")),t.Q6J("disabled",o.isdisabled)}},directives:[s._Y,s.JL,s.sg,d.O5,s.Fj,s.JJ,s.u,M.s],pipes:[Z.X$],encapsulation:2}),i})();function uc(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t.TgZ(2,"label",35),t.TgZ(3,"mat-slide-toggle",21),t.NdJ("change",function(n){const l=t.CHM(e).$implicit;return t.oxw(2).selectMapping(n,l.value)}),t.qZA(),t._UZ(4,"span",36),t.qZA(),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"leadingZeros"),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.ALo(12,"date"),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.qZA()}if(2&i){const e=a.$implicit,o=t.oxw(2);t.xp6(3),t.Q6J("checked",o.isChecked),t.xp6(3),t.Oqu(e.text),t.xp6(2),t.Oqu(t.lcZ(9,5,e.decValue)),t.xp6(3),t.Oqu(t.xi3(12,7,e.textAr,"dd/MM/yyyy")),t.xp6(3),t.Oqu(e.textTwo)}}function mc(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"div",32),t.TgZ(2,"table",33),t.TgZ(3,"thead"),t.TgZ(4,"tr"),t._UZ(5,"th"),t.TgZ(6,"th"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"th"),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"th"),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"th"),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"tbody"),t.YNc(19,uc,15,10,"tr",34),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&i){const e=t.oxw();t.xp6(7),t.Oqu(t.lcZ(8,5,"InvoiceNumber")),t.xp6(3),t.Oqu(t.lcZ(11,7,"Amount")),t.xp6(3),t.Oqu(t.lcZ(14,9,"Sales_Invoice_Date")),t.xp6(3),t.Oqu(t.lcZ(17,11,"Customer")),t.xp6(3),t.Q6J("ngForOf",e.invoiceList)}}function gc(i,a){if(1&i&&(t.TgZ(0,"div",5),t.TgZ(1,"div",11),t.TgZ(2,"label",6),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",37),t._UZ(6,"input",38),t.ALo(7,"translate"),t.ALo(8,"translate"),t.TgZ(9,"div",14),t._UZ(10,"mat-datepicker-toggle",15),t._UZ(11,"mat-datepicker",null,39),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.MAs(12);t.xp6(3),t.hij(" ",t.lcZ(4,5,"Select Posting Date")," "),t.xp6(3),t.hYB("placeholder"," ",t.lcZ(7,7,"Please_Enter")," ",t.lcZ(8,9,"Select Posting Date"),""),t.Q6J("matDatepicker",e),t.xp6(4),t.Q6J("for",e)}}function Zc(i,a){if(1&i&&(t.TgZ(0,"option",43),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.text),t.xp6(1),t.Oqu(e.text)}}function hc(i,a){if(1&i&&(t.TgZ(0,"div",5),t.TgZ(1,"label",6),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"select",40),t.TgZ(5,"option",41),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.YNc(8,Zc,2,2,"option",42),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,3,"Select Pay Code")),t.xp6(4),t.Oqu(t.lcZ(7,5,"Select_Payment")),t.xp6(2),t.Q6J("ngForOf",e.payCodeList)}}let _c=(()=>{class i{constructor(e,o,n,r,l,c,u,g){this.fb=e,this.apiService=o,this.authService=n,this.utilService=r,this.dialogRef=l,this.dialog=c,this.notifyService=u,this.validationService=g,this.payCodeList=[],this.branchList=[],this.customerSiteList=[],this.customerList=[],this.isChecked=!1,this.isDisabled=!1,this.isMainChecked=!1,this.isArab=!1,this.IstramDateChecked=!1,this.isLoading=!1,this.isCreditSettled=!0,this.hasTranDate=!0,this.listOfAcCodes=[],this.invoiceList=[]}ngOnInit(){this.isArab=this.utilService.isArabic(),this.setForm(),this.loadData()}setForm(){this.form=this.fb.group({customerId:[0],siteCode:[null],branchCode:[null,s.kI.required],fromDate:[this.utilService.getStrtingYearDate(),s.kI.required],toDate:[this.utilService.getCurrentDate(),s.kI.required],payCode:[""],hasTranDate:[!0],isCreditSettled:[!1],tranDate:[null],isAllSelected:[!1]})}checkAll(e){this.isMainChecked=e.checked,e.checked?(this.invoiceList.forEach(o=>{this.listOfAcCodes.push(o.value)}),this.isChecked=!0):(this.listOfAcCodes=[],this.isChecked=!1)}resetCustomerInfo(){this.form.controls.siteCode.setValue(""),this.customerSiteList=[]}selectMapping(e,o){if(e.checked)this.listOfAcCodes.push(o);else{let r=this.listOfAcCodes.findIndex(l=>l===o);this.listOfAcCodes.splice(r,1)}}customerChange(e){this.apiService.getall(`customer/getCustomerSitesSelectList/${e.value}`).subscribe(r=>{r&&(this.customerSiteList=r,this.customerSiteList.map(l=>(l.text=this.isArab?l.textTwo:l.text,l)))})}loadData(){this.apiService.getall("paymentcodes/getSelectPaymentCodeList").subscribe(e=>{e&&(this.payCodeList=e)}),this.apiService.getall("branch/getSelectBranchCodeList").subscribe(e=>{e&&(this.branchList=e)}),this.apiService.getall("customer/getSelectCustomerList").subscribe(e=>{e&&(this.customerList=e,this.customerList.map(o=>(o.text=this.isArab?o.textTwo:o.text,o)))})}tramDateChecked(e){this.IstramDateChecked=!e.checked,this.hasTranDate=e.checked,this.form.controls.tranDate.setValue(null)}creditSettledChecked(e){this.isCreditSettled=!e.checked}search(){this.form.valid?(this.isLoading=!0,this.listOfAcCodes=[],this.apiService.postData("generateInvoice/getBulkPostingInvoiceList",this.form.value).subscribe(e=>{this.isLoading=!1,this.invoiceList=e})):this.notifyService.showError("Select Dates and Branch")}submit(){let e=this.form.controls.tranDate.value;if(this.hasTranDate||e){if(!(e&&(this.form.value.tranDate=this.utilService.selectedDateTime(this.form.controls.tranDate.value)),this.form.controls.isCreditSettled.value||this.utilService.hasValue(this.form.controls.payCode.value)))return void this.notifyService.showError("Select PayCode");this.listOfAcCodes.length>0?(console.log(this.form.value,this.listOfAcCodes),this.form.value.ids=this.listOfAcCodes,this.listOfAcCodes=[],this.isDisabled=!0,this.apiService.post("generateInvoice/bulkPostingList",this.form.value).subscribe(n=>{this.isDisabled=!1,this.search(),this.utilService.OkMessage()},n=>{this.search(),this.isDisabled=!1,this.utilService.OkMessage()})):this.notifyService.showError("Select Invoices")}else this.notifyService.showError("Select TransactionDate")}closeModel(){this.dialogRef.close(!0)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(T.so),t.Y36(T.uw),t.Y36(f.g),t.Y36(O.R))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-bulkposting"]],decls:88,vars:53,consts:[[1,"modal-title"],["type","button","aria-hidden","true",1,"close",3,"click"],[1,"model"],["novalidate","",1,"mt-4",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-6","col-lg-6"],[1,"mr-sm-2"],["bindLabel","text","bindValue","value","formControlName","customerId",3,"items","clear","change"],["bindLabel","text","bindValue","value","formControlName","siteCode",3,"items"],["bindLabel","text","bindValue","value","formControlName","branchCode",3,"items"],[1,"col-md-3","col-lg-3"],[1,"form-group"],[1,"input-group","mb-2"],["formControlName","fromDate",1,"form-control","datapickerinput",3,"placeholder","matDatepicker"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker1",""],["formControlName","toDate",1,"form-control","datapickerinput",3,"placeholder","matDatepicker"],["picker2",""],[1,"row","mt-0"],[1,"col-md-4","col-lg-4"],["color","primary",3,"checked","change"],[1,"col-md-8","col-lg-8"],["type","button",1,"btn","waves-effect","waves-light","btn-rounded","btn-secondary","btn-midblock",3,"value","click"],["type","submit",1,"btn","waves-effect","waves-light","btn-rounded","btn-primary","btn-midblock",3,"value","disabled"],[1,"col-md-12","col-lg-12","text-center"],[3,"isLoading"],[4,"ngIf"],[1,"row","mt-1"],["color","primary","formControlName","hasTranDate",3,"change"],["color","primary","formControlName","isCreditSettled",3,"change"],["class","col-md-6 col-lg-6",4,"ngIf"],[2,"height","400px","overflow-x","scroll"],[1,"table","table-bordered","no-wrap"],[4,"ngFor","ngForOf"],[1,"switch"],[1,"slider","round"],[1,"input-group"],["formControlName","tranDate",1,"form-control",3,"placeholder","matDatepicker"],["picker",""],["formControlName","payCode",1,"custom-select","mr-sm-2"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,o){if(1&e&&(t.TgZ(0,"h6",0),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"button",1),t.NdJ("click",function(){return o.closeModel()}),t._uU(4," \xd7"),t.qZA(),t.qZA(),t.TgZ(5,"div",2),t.TgZ(6,"form",3),t.NdJ("ngSubmit",function(){return o.submit()}),t.TgZ(7,"div",4),t.TgZ(8,"div",5),t.TgZ(9,"label",6),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"ng-select",7),t.NdJ("clear",function(){return o.resetCustomerInfo()})("change",function(r){return o.customerChange(r)}),t.qZA(),t.qZA(),t.TgZ(13,"div",5),t.TgZ(14,"label",6),t._uU(15),t.ALo(16,"translate"),t.qZA(),t._UZ(17,"ng-select",8),t.qZA(),t.TgZ(18,"div",5),t.TgZ(19,"label",6),t._uU(20),t.ALo(21,"translate"),t.qZA(),t._UZ(22,"ng-select",9),t.qZA(),t.TgZ(23,"div",10),t.TgZ(24,"div",11),t.TgZ(25,"label"),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"div",11),t.TgZ(29,"div",12),t._UZ(30,"input",13),t.ALo(31,"translate"),t.TgZ(32,"div",14),t._UZ(33,"mat-datepicker-toggle",15),t._UZ(34,"mat-datepicker",null,16),t._UZ(36,"br"),t._UZ(37,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(38,"div",10),t.TgZ(39,"div",11),t.TgZ(40,"label"),t._uU(41),t.ALo(42,"translate"),t.qZA(),t.TgZ(43,"div",11),t.TgZ(44,"div",12),t._UZ(45,"input",17),t.ALo(46,"translate"),t.TgZ(47,"div",14),t._UZ(48,"mat-datepicker-toggle",15),t._UZ(49,"mat-datepicker",null,18),t._UZ(51,"br"),t._UZ(52,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(53,"div",19),t.TgZ(54,"section",20),t.TgZ(55,"mat-slide-toggle",21),t.NdJ("change",function(r){return o.checkAll(r)}),t._uU(56,"Select All "),t.qZA(),t.qZA(),t.TgZ(57,"div",22),t.TgZ(58,"input",23),t.NdJ("click",function(){return o.search()}),t.ALo(59,"translate"),t.qZA(),t._uU(60,"\xa0\xa0 "),t._UZ(61,"input",24),t.ALo(62,"translate"),t._uU(63,"\xa0 "),t.TgZ(64,"input",23),t.NdJ("click",function(){return o.closeModel()}),t.ALo(65,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(66,"div",19),t.TgZ(67,"div",25),t._UZ(68,"spinner-loader",26),t.qZA(),t.qZA(),t.YNc(69,mc,20,13,"ng-container",27),t.TgZ(70,"div",28),t.TgZ(71,"div",5),t.TgZ(72,"div",11),t.TgZ(73,"mat-slide-toggle",29),t.NdJ("change",function(r){return o.tramDateChecked(r)}),t.qZA(),t._uU(74,"\xa0 "),t.TgZ(75,"label"),t._uU(76),t.ALo(77,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(78,"div",5),t.TgZ(79,"div",11),t.TgZ(80,"mat-slide-toggle",30),t.NdJ("change",function(r){return o.creditSettledChecked(r)}),t.qZA(),t._uU(81,"\xa0 "),t.TgZ(82,"label"),t._uU(83),t.ALo(84,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(85,"div",4),t.YNc(86,gc,13,11,"div",31),t.YNc(87,hc,9,7,"div",31),t.qZA(),t.qZA(),t.qZA()),2&e){const n=t.MAs(35),r=t.MAs(50);t.xp6(1),t.hij(" ",t.lcZ(2,27,"Bulk_Posting")," "),t.xp6(5),t.Q6J("formGroup",o.form),t.xp6(4),t.Oqu(t.lcZ(11,29,"Customer_Name")),t.xp6(2),t.Q6J("items",o.customerList),t.xp6(3),t.Oqu(t.lcZ(16,31,"Site")),t.xp6(2),t.Q6J("items",o.customerSiteList),t.xp6(3),t.Oqu(t.lcZ(21,33,"Branch")),t.xp6(2),t.Q6J("items",o.branchList),t.xp6(4),t.Oqu(t.lcZ(27,35,"From_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(31,37,"Select_a_Date")),t.Q6J("matDatepicker",n),t.xp6(3),t.Q6J("for",n),t.xp6(8),t.Oqu(t.lcZ(42,39,"To_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(46,41,"Select_a_Date")),t.Q6J("matDatepicker",r),t.xp6(3),t.Q6J("for",r),t.xp6(7),t.Q6J("checked",o.isMainChecked),t.xp6(3),t.s9C("value",t.lcZ(59,43,"Search")),t.xp6(3),t.s9C("value",t.lcZ(62,45,"Post")),t.Q6J("disabled",o.isDisabled),t.xp6(3),t.s9C("value",t.lcZ(65,47,"Cancel")),t.xp6(4),t.Q6J("isLoading",o.isLoading),t.xp6(1),t.Q6J("ngIf",o.invoiceList&&o.invoiceList.length>0),t.xp6(7),t.Oqu(t.lcZ(77,49,"UseTransactionDateAsPostingDate")),t.xp6(7),t.Oqu(t.lcZ(84,51,"SettleAllInvoicesInCredit")),t.xp6(3),t.Q6J("ngIf",o.IstramDateChecked),t.xp6(1),t.Q6J("ngIf",o.isCreditSettled)}},directives:[s._Y,s.JL,s.sg,j.w9,s.JJ,s.u,s.Fj,m.hl,m.nW,U.R9,m.Mq,F.Rr,b.r,d.O5,d.sg,s.EJ,s.YN,s.Kr],pipes:[Z.X$,E,d.uU],encapsulation:2}),i})();function Ac(i,a){1&i&&(t.TgZ(0,"th",61),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Sales_InvoiceNumber")," "))}function fc(i,a){if(1&i&&(t.TgZ(0,"td",62),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.invoiceNumber)}}function Tc(i,a){1&i&&(t.TgZ(0,"th",61),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Sales_Invoice_Date")," "))}function vc(i,a){if(1&i&&(t.TgZ(0,"td",62),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.invoiceDate,"dd/MM/yyyy"))}}function qc(i,a){1&i&&(t.TgZ(0,"th",61),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ServiceDate")," "))}function Cc(i,a){if(1&i&&(t.TgZ(0,"td",62),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.serviceDate1,"dd/MM/yyyy"))}}function xc(i,a){1&i&&(t.TgZ(0,"th",61),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Organization")," "))}function bc(i,a){if(1&i&&(t.TgZ(0,"td",62),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.companyName)}}function yc(i,a){1&i&&(t.TgZ(0,"th",61),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Invoice_Reference_Number")," "))}function Uc(i,a){if(1&i&&(t.TgZ(0,"td",62),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.invoiceRefNumber)}}function Lc(i,a){1&i&&(t.TgZ(0,"th",61),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Branch")," "))}function Sc(i,a){if(1&i&&(t.TgZ(0,"td",62),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.branchName)}}function Nc(i,a){1&i&&(t.TgZ(0,"th",61),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Customer")," "))}function Oc(i,a){if(1&i&&(t.TgZ(0,"td",62),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.customerName)}}function wc(i,a){1&i&&(t.TgZ(0,"th",61),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Site_Name")," "))}function kc(i,a){if(1&i&&(t.TgZ(0,"td",62),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.siteName)}}function Ic(i,a){1&i&&(t.TgZ(0,"th",61),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Sales_Invoice_Amount")," (SAR) "))}function Mc(i,a){if(1&i&&(t.TgZ(0,"td",62),t._uU(1),t.ALo(2,"leadingZeros"),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.totalAmount))}}function Jc(i,a){1&i&&(t.TgZ(0,"th",61),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"LPO_Contract")," "))}function Dc(i,a){if(1&i&&(t.TgZ(0,"td",62),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.lpoContract)}}function Pc(i,a){1&i&&(t.TgZ(0,"th",61),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Payment_Terms")," "))}function Yc(i,a){if(1&i&&(t.TgZ(0,"td",62),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.paymentTermId)}}function Qc(i,a){1&i&&(t.TgZ(0,"th",61),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Tax_Id_Number")," "))}function jc(i,a){if(1&i&&(t.TgZ(0,"td",62),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.taxIdNumber)}}function Fc(i,a){1&i&&(t.TgZ(0,"th",61),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Delivery_Date")," "))}function Bc(i,a){if(1&i&&(t.TgZ(0,"td",62),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.invoiceDueDate,"dd/MM/yyyy"))}}function Vc(i,a){1&i&&(t.TgZ(0,"th",63),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Actions")))}function Rc(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"a",64),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit;return t.oxw().schoolview(n.id)}),t.ALo(1,"translate"),t._UZ(2,"i",69),t.qZA()}2&i&&t.s9C("matTooltip",t.lcZ(1,1,"View_Details"))}function Ec(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"a",64),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit;return t.oxw().zatcaClearance(n)}),t.ALo(1,"translate"),t._UZ(2,"i",70),t.qZA()}2&i&&t.s9C("matTooltip",t.lcZ(1,1,"Zatca_Clearance"))}function $c(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"a",71),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit;return t.oxw().edit(n.id)}),t.ALo(1,"translate"),t._UZ(2,"i",72),t.qZA()}if(2&i){const e=t.oxw().$implicit;t.s9C("id","edit_"+e.id),t.s9C("matTooltip",t.lcZ(1,2,"Edit_Item"))}}function zc(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"a",64),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2).$implicit;return t.oxw().approve(n.id,n.invoiceStatus)}),t.ALo(1,"translate"),t._UZ(2,"i",73),t.qZA()}2&i&&t.s9C("matTooltip",t.lcZ(1,1,"Approve_Item"))}function Hc(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"a",64),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2).$implicit;return t.oxw().settlePayment(n)}),t.ALo(1,"translate"),t._UZ(2,"i",74),t.qZA()}2&i&&t.s9C("matTooltip",t.lcZ(1,1,"Posting_Item"))}function Gc(i,a){if(1&i&&(t.ynx(0),t.YNc(1,zc,3,3,"a",66),t._uU(2," \xa0 "),t.YNc(3,Hc,3,3,"a",66),t._uU(4," \xa0 "),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",!e.approvedUser&&!e.isSettled),t.xp6(2),t.Q6J("ngIf",e.canSettle&&!e.isSettled)}}function Xc(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"td",62),t.TgZ(1,"div"),t.TgZ(2,"a",64),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().view(r.id)}),t.ALo(3,"translate"),t._UZ(4,"i",65),t.qZA(),t._uU(5," \xa0 "),t.YNc(6,Rc,3,3,"a",66),t._uU(7," \xa0 "),t.YNc(8,Ec,3,3,"a",66),t._uU(9," \xa0 "),t.YNc(10,$c,3,4,"a",67),t._uU(11," \xa0 "),t.YNc(12,Gc,5,2,"ng-container",68),t.qZA(),t.qZA()}if(2&i){const e=a.$implicit,o=t.oxw();t.xp6(2),t.s9C("matTooltip",t.lcZ(3,5,"View_Details")),t.xp6(4),t.Q6J("ngIf",e.isSettled&&o.dashBoardType),t.xp6(2),t.Q6J("ngIf",e.isSettled&&!o.dashBoardType&&(null==e.zatcaStatus||!e.zatcaStatus)),t.xp6(2),t.Q6J("ngIf",!e.isApproved&&!e.isSettled),t.xp6(2),t.Q6J("ngIf",e.hasAuthority)}}function Wc(i,a){1&i&&t._UZ(0,"tr",75)}function Kc(i,a){1&i&&t._UZ(0,"tr",76)}const tp=function(){return{standalone:!0}};let ep=(()=>{class i extends L.k{constructor(e,o,n,r,l,c,u,g,C,S,w){super(l),this.fb=e,this.http=o,this.router=n,this.apiService=r,this.authService=l,this.utilService=c,this.translate=u,this.notifyService=g,this.validationService=C,this.pageService=S,this.dialog=w,this.displayedColumns=["invoiceNumber","invoiceDate","serviceDate","companyName","invoiceRefNumber","branchName","customerName","siteName","totalAmount","lpoContract","paymentTerms","taxIdNumber","invoiceDueDate","Actions"],this.totalItemsCount=0,this.searchValue="",this.sortingOrder="id desc",this.isLoading=!1,this.IsSettlentOpened=!1,this.IsApproved=!1,this.statusId="",this.approvalStatus="",this.dashBoardType=!1,this.productList=[],this.productId=0,this.isArab=!1}ngOnInit(){this.isArab=this.utilService.isArabic(),this.initialLoading(),this.loadProducts(),this.dashBoardType="school"==st.r}refresh(){this.searchValue="",this.approvalStatus="",this.productId=0,this.sortingOrder="id desc",this.initialLoading()}loadProducts(){this.apiService.getall("product/getSelectProductList").subscribe(e=>{e&&(this.productList=e)})}initialLoading(){this.loadList(0,this.pageService.pageCount,"",this.sortingOrder)}onSortOrder(e){this.sortingOrder=e.active+" "+e.direction,this.totalItemsCount=0,this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder)}onPageSwitch(e){this.pageService.change(e),this.loadList(e.pageIndex,e.pageSize,this.searchValue,this.sortingOrder)}loadList(e,o,n,r,l=""){var c;this.isLoading=!0,this.apiService.getPagination("generateInvoice",this.utilService.getQueryString(e,o,n,r,this.approvalStatus,this.statusId,null!==(c=this.productId)&&void 0!==c?c:0)).subscribe(u=>{this.data=new p.by(u.items),this.totalItemsCount=u.totalCount,setTimeout(()=>{this.paginator.pageIndex=e,this.paginator.length=this.totalItemsCount}),this.data.sort=this.sort,this.isLoading=!1},u=>this.utilService.ShowApiErrorMessage(u))}applyFilter(e,o){(e||o)&&(this.searchValue=e,this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder))}loadApprovals(e){this.approvalStatus=e.target.value,this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder,this.approvalStatus)}loadInvoices(e){document.getElementById("approvalList").value="",this.setStatus(e.target.value),this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder,"")}setStatus(e){this.statusId=`${e}`}openDialogManage(e=0,o,n="",r="",l,c={module:"00",action:"00act"},u=100){let g=this.utilService.openDialogCongif(this.dialog,l,u);g.componentInstance.dbops=o,g.componentInstance.modalTitle=n,g.componentInstance.id=e,g.componentInstance.moduleFile=c,g.afterClosed().subscribe(C=>{C&&!0===C&&this.initialLoading()})}openNormalDialogConfig(e=0,o,n="",r="",l,c={module:"00",action:"00act"},u=100){let g=this.utilService.openNormalDialogConfig(this.dialog,l,u);g.componentInstance.dbops=o,g.componentInstance.modalTitle=n,g.componentInstance.id=e,g.componentInstance.moduleFile=c,g.afterClosed().subscribe(C=>{C&&!0===C&&this.initialLoading()})}openDialogManageApproval(e=0,o,n="",r="",l,c={module:"00",action:"00act"},u=100){let g=this.utilService.openDialogCongif(this.dialog,l,u);g.componentInstance.dbops=o,g.componentInstance.trantype=n,g.componentInstance.id=e,g.componentInstance.modalBtnTitle=r,g.componentInstance.moduleFile=c,g.afterClosed().subscribe(C=>{C&&!0===C&&this.initialLoading()})}create(){this.openDialogManage(0,v.Oi.create,this.translate.instant("Create_New_Sales_Invoice"),"",jl)}edit(e){this.openDialogManage(e,v.Oi.update,this.translate.instant("Create_New_Sales_Invoice"),"",El)}view(e){this.openNormalDialogConfig(e,v.Oi.create,"","",Il,{action:"",module:""},100)}schoolview(e){this.openDialogManage(e,v.Oi.create,"","",rc,{action:"",module:""},100)}bulkpost(){this.openDialogManage(0,v.Oi.create,"","",_c,{action:"",module:""},70)}approve(e,o){this.openDialogManageApproval(e,v.Oi.create,o,"",vt,{action:"",module:""},50)}settlePayment(e){this.openDialogManageApproval(e.id,v.Oi.create,e.trantype,e.invoiceNumber,cc,{action:"",module:""},50)}printInvoice(){this.openDialogManage(0,v.Oi.create,"","",tc)}zatcaClearance_Old(e){let o=this.utilService.openDialogCongif(this.dialog,vt,50);o.componentInstance.zatcaTitle=`Submitting to Zatca (${e.invoiceNumber})?`,o.componentInstance.zatcaField='OTP ( Generate from <a href="https://fatoora.zatca.gov.sa/" target="_blank">https://fatoora.zatca.gov.sa/</a>)',o.componentInstance.zatca="OTP",o.componentInstance.zatcaUrl=`generateInvoice/complianceCSID?companyId=${e.companyId}&invoiceId=${e.id}&otp=`,o.afterClosed().subscribe(n=>{n&&this.initialLoading()})}zatcaClearance(e){const o=this.utilService.openDeleteConfirmDialog(this.dialog,H.a);o.componentInstance.modalTitle=`Submitting to Zatca (${e.invoiceNumber})?`,o.afterClosed().subscribe(n=>{n&&e.id>0&&this.apiService.getall(`generateInvoice/complianceCSID?companyId=${e.companyId}&invoiceId=${e.id}&otp=`).subscribe(r=>{this.initialLoading(),this.utilService.OkMessage()},r=>{console.error(r),this.utilService.ShowApiErrorMessage(r)})})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36($.eN),t.Y36(Q.F0),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(Z.sK),t.Y36(f.g),t.Y36(O.R),t.Y36(k.N),t.Y36(T.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-arsalesinvoice"]],viewQuery:function(e,o){if(1&e&&(t.Gf(q.NW,7),t.Gf(x.YE,7)),2&e){let n;t.iGM(n=t.CRH())&&(o.paginator=n.first),t.iGM(n=t.CRH())&&(o.sort=n.first)}},features:[t.qOj],decls:138,vars:61,consts:[[1,"page-breadcrumb"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],[1,"container-fluid"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"row","pb-3"],[1,"col-md-3"],[1,"form-control",3,"placeholder","ngModel","ngModelChange"],["bindLabel","text","bindValue","value",3,"items","ngModel","ngModelOptions","ngModelChange"],[1,"col-md-4","arabicright"],[1,"btn","btn-primary",3,"click"],[1,"",3,"matTooltip","click"],[1,"btn","btn-primary","icon-refresh"],[1,"mr-sm-2"],["id","approvalList",1,"custom-select","mr-sm-2",3,"change"],["value",""],["value","approval"],["value","unapproval"],["value","settled"],["value","unsettled"],[1,"custom-select","mr-sm-2",3,"change"],["value","1"],["value","2"],[1,"col-md-6","col-lg-6"],[1,"card-title","pt6"],[1,"col-md-6","col-lg-6","text-right"],[1,"nav-item","dropdown"],["data-toggle","modal","data-target","#scrollable-modal","href","#",1,"btn","waves-effect","waves-light","btn-rounded","btn-outline-primary",3,"click"],[1,"icon-plus"],[1,"cardtitle-divider"],[1,"example-table-container","table-responsive","pt-3"],[3,"isLoading"],["mat-table","","matSort","","matSortActive","Id","matSortDisableClear","","matSortDirection","desc",1,"table","table-bordered","no-wrap",3,"dataSource","matSortChange"],["matColumnDef","invoiceNumber"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","invoiceDate"],["matColumnDef","serviceDate"],["matColumnDef","companyName"],["matColumnDef","invoiceRefNumber"],["matColumnDef","branchName"],["matColumnDef","customerName"],["matColumnDef","siteName"],["matColumnDef","totalAmount"],["matColumnDef","lpoContract"],["matColumnDef","paymentTerms"],["matColumnDef","taxIdNumber"],["matColumnDef","invoiceDueDate"],["matColumnDef","Actions","stickyEnd",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions","page"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[1,"tableicons","pcursor",3,"matTooltip","click"],[1,"icon-list"],["class","tableicons pcursor",3,"matTooltip","click",4,"ngIf"],["class","tableicons pcursor",3,"id","matTooltip","click",4,"ngIf"],[4,"ngIf"],[1,"icon-printer"],[1,"fa","fa-life-ring"],[1,"tableicons","pcursor",3,"id","matTooltip","click"],[1,"icon-note"],[1,"icon-arrow-up-circle"],[1,"icon-action-undo"],["mat-header-row",""],["mat-row",""]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"nav",5),t.TgZ(8,"ol",6),t.TgZ(9,"li",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"li",7),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"li",8),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",9),t.TgZ(19,"div",1),t.TgZ(20,"div",10),t.TgZ(21,"div",11),t.TgZ(22,"div",12),t.TgZ(23,"div",13),t._UZ(24,"div",10),t.TgZ(25,"div",14),t.TgZ(26,"input",15),t.NdJ("ngModelChange",function(r){return o.searchValue=r}),t.ALo(27,"translate"),t.qZA(),t.qZA(),t.TgZ(28,"div",14),t.TgZ(29,"ng-select",16),t.NdJ("ngModelChange",function(r){return o.productId=r}),t.qZA(),t.qZA(),t.TgZ(30,"div",17),t.TgZ(31,"button",18),t.NdJ("click",function(){return o.applyFilter(o.searchValue,o.productId)}),t._uU(32),t.ALo(33,"translate"),t.qZA(),t._uU(34," \xa0 "),t.TgZ(35,"a",19),t.NdJ("click",function(){return o.refresh()}),t.ALo(36,"translate"),t._UZ(37,"i",20),t.qZA(),t._uU(38," \xa0 "),t.TgZ(39,"button",18),t.NdJ("click",function(){return o.printInvoice()}),t._uU(40),t.ALo(41,"translate"),t.qZA(),t._uU(42," \xa0 "),t.qZA(),t.qZA(),t.TgZ(43,"div",13),t.TgZ(44,"div",14),t.TgZ(45,"label",21),t._uU(46),t.ALo(47,"translate"),t.qZA(),t.TgZ(48,"select",22),t.NdJ("change",function(r){return o.loadApprovals(r)}),t.TgZ(49,"option",23),t._uU(50),t.ALo(51,"translate"),t.qZA(),t.TgZ(52,"option",24),t._uU(53,"Approval"),t.qZA(),t.TgZ(54,"option",25),t._uU(55,"UnApproval"),t.qZA(),t.TgZ(56,"option",26),t._uU(57,"Settled"),t.qZA(),t.TgZ(58,"option",27),t._uU(59,"UnSettled"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(60,"div",14),t.TgZ(61,"label",21),t._uU(62),t.ALo(63,"translate"),t.qZA(),t.TgZ(64,"select",28),t.NdJ("change",function(r){return o.loadInvoices(r)}),t.TgZ(65,"option",29),t._uU(66),t.ALo(67,"translate"),t.qZA(),t.TgZ(68,"option",30),t._uU(69),t.ALo(70,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(71,"div",1),t.TgZ(72,"div",31),t.TgZ(73,"h4",32),t._uU(74),t.ALo(75,"translate"),t.qZA(),t.qZA(),t.TgZ(76,"div",33),t.TgZ(77,"div",34),t.TgZ(78,"a",35),t.NdJ("click",function(){return o.create()}),t._UZ(79,"i",36),t._uU(80),t.ALo(81,"translate"),t.qZA(),t._uU(82," \xa0\xa0 "),t.TgZ(83,"a",35),t.NdJ("click",function(){return o.bulkpost()}),t._UZ(84,"i",36),t._uU(85),t.ALo(86,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(87,"div",37),t.TgZ(88,"div",38),t._UZ(89,"spinner-loader",39),t.ynx(90),t.TgZ(91,"table",40),t.NdJ("matSortChange",function(r){return o.onSortOrder(r)}),t.ynx(92,41),t.YNc(93,Ac,3,3,"th",42),t.YNc(94,fc,2,1,"td",43),t.BQk(),t.ynx(95,44),t.YNc(96,Tc,3,3,"th",42),t.YNc(97,vc,3,4,"td",43),t.BQk(),t.ynx(98,45),t.YNc(99,qc,3,3,"th",42),t.YNc(100,Cc,3,4,"td",43),t.BQk(),t.ynx(101,46),t.YNc(102,xc,3,3,"th",42),t.YNc(103,bc,2,1,"td",43),t.BQk(),t.ynx(104,47),t.YNc(105,yc,3,3,"th",42),t.YNc(106,Uc,2,1,"td",43),t.BQk(),t.ynx(107,48),t.YNc(108,Lc,3,3,"th",42),t.YNc(109,Sc,2,1,"td",43),t.BQk(),t.ynx(110,49),t.YNc(111,Nc,3,3,"th",42),t.YNc(112,Oc,2,1,"td",43),t.BQk(),t.ynx(113,50),t.YNc(114,wc,3,3,"th",42),t.YNc(115,kc,2,1,"td",43),t.BQk(),t.ynx(116,51),t.YNc(117,Ic,3,3,"th",42),t.YNc(118,Mc,3,3,"td",43),t.BQk(),t.ynx(119,52),t.YNc(120,Jc,3,3,"th",42),t.YNc(121,Dc,2,1,"td",43),t.BQk(),t.ynx(122,53),t.YNc(123,Pc,3,3,"th",42),t.YNc(124,Yc,2,1,"td",43),t.BQk(),t.ynx(125,54),t.YNc(126,Qc,3,3,"th",42),t.YNc(127,jc,2,1,"td",43),t.BQk(),t.ynx(128,55),t.YNc(129,Fc,3,3,"th",42),t.YNc(130,Bc,3,4,"td",43),t.BQk(),t.ynx(131,56),t.YNc(132,Vc,3,3,"th",57),t.YNc(133,Xc,13,7,"td",43),t.BQk(),t.YNc(134,Wc,1,0,"tr",58),t.YNc(135,Kc,1,0,"tr",59),t.qZA(),t.ynx(136),t.TgZ(137,"mat-paginator",60),t.NdJ("page",function(r){return o.onPageSwitch(r)}),t.qZA(),t.BQk(),t.BQk(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.hij(" ",t.lcZ(5,28,"Sales_Invoice")," "),t.xp6(6),t.hij("",t.lcZ(11,30,"Finance")," "),t.xp6(3),t.Oqu(t.lcZ(14,32,"Account_Receivable")),t.xp6(3),t.hij("",t.lcZ(17,34,"Sales_Invoice")," "),t.xp6(10),t.MGl("placeholder","",t.lcZ(27,36,"Search"),"..."),t.Q6J("ngModel",o.searchValue),t.xp6(3),t.Q6J("items",o.productList)("ngModel",o.productId)("ngModelOptions",t.DdM(60,tp)),t.xp6(3),t.Oqu(t.lcZ(33,38,"Search")),t.xp6(3),t.s9C("matTooltip",t.lcZ(36,40,"Refresh")),t.xp6(5),t.Oqu(t.lcZ(41,42,"Print")),t.xp6(6),t.Oqu(t.lcZ(47,44,"Sales_Invoice_List")),t.xp6(4),t.Oqu(t.lcZ(51,46,"Sales_Invoice_List")),t.xp6(12),t.Oqu(t.lcZ(63,48,"Invoice_Type")),t.xp6(4),t.Oqu(t.lcZ(67,50,"Invoice")),t.xp6(3),t.Oqu(t.lcZ(70,52,"Credit")),t.xp6(5),t.Oqu(t.lcZ(75,54,"Sales_Invoice_List")),t.xp6(6),t.hij("",t.lcZ(81,56,"Add_New_Sales_Invoice")," "),t.xp6(5),t.hij("",t.lcZ(86,58,"Bulk_Post")," "),t.xp6(4),t.Q6J("isLoading",o.isLoading),t.xp6(2),t.Q6J("dataSource",o.data),t.xp6(43),t.Q6J("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(2),t.Q6J("length",o.totalItemsCount)("pageSize",o.pageService.pageCount)("pageSizeOptions",o.pageService.selectItemsPerPage))},directives:[s.Fj,s.JJ,s.On,j.w9,z.gM,s.YN,s.Kr,b.r,p.BZ,x.YE,p.w1,p.fO,p.Dz,p.as,p.nj,q.NW,p.ge,x.nU,p.ev,d.O5,p.XQ,p.Gk],pipes:[Z.X$,d.uU,E],encapsulation:2}),i})();function op(i,a){if(1&i&&(t.TgZ(0,"option",41),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function ip(i,a){if(1&i&&(t.TgZ(0,"option",41),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function np(i,a){if(1&i&&(t.TgZ(0,"option",41),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.text),t.xp6(1),t.Oqu(e.text)}}function ap(i,a){if(1&i&&(t.TgZ(0,"option",41),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function rp(i,a){if(1&i&&(t.TgZ(0,"div",8),t.TgZ(1,"div",9),t.TgZ(2,"label",10),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"input",42),t.ALo(6,"translate"),t.ALo(7,"translate"),t._UZ(8,"validation-message",12),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(3),t.hij("",t.lcZ(4,4,"checkNumber")," "),t.xp6(2),t.hYB("placeholder","",t.lcZ(6,6,"Please_Enter"),"  ",t.lcZ(7,8,"checkNumber")," "),t.xp6(3),t.Q6J("control",e.form.controls.checkNumber)}}function sp(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",8),t.TgZ(1,"label",10),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",9),t.TgZ(5,"div",19),t.TgZ(6,"input",43),t.NdJ("dateChange",function(n){return t.CHM(e),t.oxw().checkdateChanged(n)}),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"div",21),t._UZ(9,"mat-datepicker-toggle",22),t._UZ(10,"mat-datepicker",null,44),t._UZ(12,"br"),t._UZ(13,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.MAs(11);t.xp6(2),t.Oqu(t.lcZ(3,4,"checkdate")),t.xp6(4),t.s9C("placeholder",t.lcZ(7,6,"Select_a_Date")),t.Q6J("matDatepicker",e),t.xp6(3),t.Q6J("for",e)}}function lp(i,a){1&i&&(t.TgZ(0,"div",8),t.TgZ(1,"div",9),t.TgZ(2,"label",10),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"mat-slide-toggle",45),t.qZA(),t.qZA()),2&i&&(t.xp6(3),t.hij("",t.lcZ(4,2,"HasPdc")," "),t.xp6(2),t.Q6J("disabled",!0))}function cp(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.ALo(11,"date"),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td"),t._UZ(19,"input",47),t.TgZ(20,"input",48),t.NdJ("keyup",function(n){t.CHM(e);const r=t.oxw().$implicit;return t.oxw().checkAmount(n,r.totalAmount,r.appliedAmount,r.id)})("blur",function(){return t.CHM(e),t.oxw(2).calculateTotal()}),t.qZA(),t.qZA(),t.TgZ(21,"td",49),t.TgZ(22,"a",50),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit;return t.oxw().deleteItem(n)}),t._UZ(23,"i",51),t.qZA(),t.qZA(),t.BQk()}if(2&i){const e=t.oxw().$implicit,o=t.oxw();t.xp6(2),t.Oqu(e.invoiceNumber),t.xp6(2),t.Oqu(e.siteName),t.xp6(2),t.Oqu(o.customerCode),t.xp6(2),t.Oqu(e.customerName),t.xp6(2),t.Oqu(t.xi3(11,13,e.invoiceDate,"dd-MM-yyyy")),t.xp6(3),t.Oqu(e.discountAmount),t.xp6(2),t.Oqu(e.totalAmount),t.xp6(2),t.Oqu(e.appliedAmount),t.xp6(2),t.s9C("id","already_"+e.id),t.Q6J("value",e.appliedAmount),t.xp6(1),t.s9C("id","appliendAmount_"+e.id),t.Q6J("disabled",e.isCreditConverted)("value",(e.totalAmount-e.appliedAmount).toFixed(2))}}function pp(i,a){if(1&i&&(t.TgZ(0,"tr"),t.YNc(1,cp,24,16,"ng-container",46),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",e.isApproved)}}function dp(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"button",52),t.NdJ("click",function(){return t.CHM(e),t.oxw().postAdvancePay()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Save_Post_Advance")))}function up(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"td"),t.TgZ(2,"input",53),t.NdJ("change",function(){t.CHM(e);const n=t.oxw().$implicit;return t.oxw().selectedItem(n)}),t.qZA(),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.ALo(17,"date"),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.qZA(),t.TgZ(20,"td"),t._uU(21),t.qZA(),t.TgZ(22,"td"),t._uU(23),t.qZA(),t.BQk()}if(2&i){const e=t.oxw().$implicit,o=t.oxw();t.xp6(4),t.Oqu(e.invoiceStatus),t.xp6(2),t.Oqu(e.invoiceNumber),t.xp6(2),t.Oqu(e.siteName),t.xp6(2),t.Oqu(e.invoiceRefNumber),t.xp6(2),t.Oqu(o.customerCode),t.xp6(2),t.Oqu(e.customerName),t.xp6(2),t.Oqu(t.xi3(17,10,e.invoiceDate,"dd-MM-yyyy")),t.xp6(3),t.Oqu(e.discountAmount),t.xp6(2),t.Oqu(e.totalAmount),t.xp6(2),t.Oqu(e.appliedAmount)}}function mp(i,a){if(1&i&&(t.TgZ(0,"tr"),t.YNc(1,up,24,13,"ng-container",46),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",!e.isApproved)}}let qt=(()=>{class i{constructor(e,o,n,r,l,c,u,g){this.fb=e,this.apiService=o,this.authService=n,this.utilService=r,this.dialogRef=l,this.dialog=c,this.notifyService=u,this.validationService=g,this.id=0,this.toBePaidAmount="",this.customerSiteList=[],this.customerList=[],this.companyList=[],this.payCodeList=[],this.branchList=[],this.payCodeTypeList=[],this.invoiceItems=[],this.selectedInvoiceItems=[],this.selectedInvoiceIDs=[],this.selectedInvoiceIdList=[],this.IsCheckSelected=!1,this.payType="",this.customerCode="",this.totalAmount=0,this.totalAmountStr="",this.isArab=!1,this.isSiteSelected=!1,this.finsetup={minCutOffShortAmt:0,maxCutOffOverAmr:0,advAmount:0}}ngOnInit(){this.isArab=this.utilService.isArabic(),this.setForm(),this.loadData(),this.loadFinSetupData(),this.id>0&&this.setEditForm()}setForm(){this.form=this.fb.group({custCode:["",s.kI.required],siteCode:[null],companyId:["",s.kI.required],branchCode:["",s.kI.required],tranDate:["",s.kI.required],payCode:["",s.kI.required],payType:["",s.kI.required],amount:[""],preparedby:this.authService.getUserName(),remarks:[""],checkNumber:[""],checkDate:[null],isPdcCleared:!0})}setEditForm(){this.apiService.get("opmArPayment/getOpmSingleItem",this.id).subscribe(e=>{if(e){const o=e.header,n=e.list,r=e.invoiceList;this.invoiceItems=[],this.selectedInvoiceItems=[],this.selectedInvoiceIDs=[],this.selectedInvoiceIDs=[],this.setEditTotalAmount(),r.forEach(l=>{this.invoiceItems.push(l)}),n.forEach(l=>{this.selectedInvoiceItems.push(l),this.selectedInvoiceIDs.push(l.id),this.invoiceItems.push(l)}),this.loadBranchsForCompany(o.companyId,o)}})}loadBranchsForCompany(e,o){e&&this.apiService.getall(`branch/getSelectSysBranchListByComId/${e}`).subscribe(n=>{n&&(this.branchList=n,"1"===o.payType&&(this.IsCheckSelected=!0),this.form.patchValue(o))})}loadFinSetupData(){this.apiService.getall("financialsetup/getFinSetup").subscribe(e=>{e&&(this.finsetup={minCutOffShortAmt:e.minCutOffShortAmt,maxCutOffOverAmr:e.maxCutOffOverAmr,advAmount:0})})}loadData(){this.apiService.getall("paymentcodes/getSelectPaymentCodeList").subscribe(e=>{e&&(this.payCodeList=e)}),this.apiService.getall("customer/getSelectLanCustomerList?isPayment=true").subscribe(e=>{e&&(this.customerList=e,this.customerList.map(n=>(n.text=this.isArab?"("+n.textTwo+") "+n.textAr:"("+n.textTwo+") "+n.text,n)))}),this.apiService.getall("company/getSelectCompanyList").subscribe(e=>{e&&(this.companyList=e)}),this.apiService.getall("paymentcodes/getSelectPaymentTypeList").subscribe(e=>{e&&(this.payCodeTypeList=e)})}setCheckNumber(e){let o=e.target.value;""!==o?this.apiService.getall(`paymentcodes?payCode=${o}`).subscribe(n=>{n&&(this.payType=n.finPayType,this.setCheckNumberInput(this.payType))}):this.setCheckNumberInput("")}setCheckNumberInput(e){""!==e?(this.form.controls.payType.setValue(e),"1"===e?(this.payType=e,this.IsCheckSelected=!0,this.form.controls.checkNumber.setValidators([s.kI.required]),this.form.controls.checkDate.setValidators([s.kI.required])):this.setCheckNumberInputDefault(),this.form.controls.checkNumber.updateValueAndValidity(),this.form.controls.checkDate.updateValueAndValidity()):(this.form.controls.payType.setValue(""),this.setCheckNumberInputDefault())}receiptDateChanged(e){}checkdateChanged(e){}setCheckNumberInputDefault(){this.form.controls.checkNumber.setValue(""),this.form.controls.checkDate.setValue(null),this.form.controls.checkNumber.clearValidators(),this.form.controls.checkDate.clearValidators(),this.IsCheckSelected=!1}resetSiteInfo(){this.isSiteSelected=!1,this.loadCustomerInvoices(this.customerCode)}selectSiteInfo(e){let o=e.value;this.selectedInvoiceItems.forEach(n=>{n.isApproved=!1,-1===this.invoiceItems.findIndex(r=>r.id==n.id)&&this.invoiceItems.push(n),this.selectedInvoiceIDs.splice(this.selectedInvoiceIDs.findIndex(r=>r==n.id),1),this.selectedInvoiceItems.splice(this.selectedInvoiceItems.findIndex(r=>r.id==n.id),1),this.setTotalAmount()}),o?(this.isSiteSelected=!0,this.loadCustomerInvoices(this.customerCode,o)):(this.isSiteSelected=!1,this.loadCustomerInvoices(this.customerCode))}loadProductdata(e){let o=e.textTwo,n=e.value;this.form.controls.siteCode.setValue(null),this.isSiteSelected=!1,o?(this.customerCode=o,this.selectedInvoiceIDs=[],this.selectedInvoiceItems=[],this.totalAmount=0,this.setTotalAmount(),this.loadCustomerInvoices(o),this.loadCustomerWalletPayment(o),this.apiService.getall(`customer/getCustomerSitesSelectList/${n}`).subscribe(r=>{r&&(this.customerSiteList=r,this.customerSiteList.map(l=>(l.text=this.isArab?l.textTwo:l.text,l)))})):this.toBePaidAmount="Amount to be Paid : 0"}loadCustomerInvoices(e,o=""){this.apiService.getall(`opmArPayment/getOpmArInvoiceList?customerCode=${e}&siteCode=${o}`).subscribe(n=>{n&&(this.invoiceItems=n)})}loadCustomerWalletPayment(e,o=""){this.apiService.getall(`opmArPayment/getOpmCustomerwallet?customerCode=${e}&siteCode=${o}`).subscribe(n=>{n&&(this.finsetup.advAmount=parseFloat(n.advAmount))})}calculateTotal(){this.setTotalAmount()}checkAmount(e,o,n,r){parseFloat(e.target.value)>o-n?(document.getElementById("appliendAmount_"+r).value="",this.setTotalAmount()):this.setTotalAmount()}selectedItem(e){e.isApproved=!0,this.selectedInvoiceItems.push(e),this.selectedInvoiceIDs.push(e.id),setTimeout(()=>{this.setTotalAmount()},200)}deleteItem(e){e.isApproved=!1,-1===this.invoiceItems.findIndex(o=>o.id==e.id)&&this.invoiceItems.push(e),this.selectedInvoiceIDs.splice(this.selectedInvoiceIDs.findIndex(o=>o==e.id),1),this.selectedInvoiceItems.splice(this.selectedInvoiceItems.findIndex(o=>o.id==e.id),1),this.setTotalAmount()}setTotalAmount(){this.totalAmount=0,this.selectedInvoiceIDs.forEach(e=>{const o=document.getElementById("appliendAmount_"+e),n=isNaN(parseFloat(o.value.trim()))?0:parseFloat(o.value.trim());this.totalAmount+=n}),this.totalAmountStr=this.totalAmount.toFixed(2),this.form.controls.amount.setValue(parseFloat(this.totalAmount.toFixed(2)))}setEditTotalAmount(){this.totalAmount=0,this.selectedInvoiceItems.forEach(e=>{this.totalAmount+=e.appliedAmount}),this.totalAmountStr=this.totalAmount.toFixed(2),this.form.controls.amount.setValue(parseFloat(this.totalAmount.toFixed(2)))}loadBranchs(e){let o=e.target.value;o&&this.apiService.getall(`branch/getSelectSysBranchListByComId/${o}`).subscribe(n=>{n&&(this.branchList=n)})}calculateamountforinvoices(){if(this.selectedInvoiceIdList=[],this.form.valid){if(this.selectedInvoiceIDs.length<=0)return this.notifyService.showError("Select Invoices"),!1;this.form.value.tranDate=this.utilService.selectedDate(this.form.controls.tranDate.value),this.form.controls.checkDate.value&&(this.form.value.checkDate=this.utilService.selectedDate(this.form.controls.checkDate.value)),this.selectedInvoiceIDs.forEach(o=>{const n=document.getElementById("appliendAmount_"+o),r=document.getElementById("already_"+o);this.selectedInvoiceIdList.push({id:o,amount:n.value,appliedAmount:r.value})});const e=parseFloat(this.form.controls.amount.value);return e<=0?(this.notifyService.showError("Amount should be > 0"),!1):e>this.totalAmount?(this.notifyService.showError("Amount not more than InvoiceAmount"),!1):(this.id>0&&(this.form.value.id=this.id),"1"!==this.payType&&delete this.form.value.checkdate,this.form.value.inviceIds=this.selectedInvoiceIdList,!0)}return this.utilService.FillUpFields(),!1}submitCalculateamountforinvoices(){this.apiService.post("opmArPayment",this.form.value).subscribe(e=>{this.utilService.OkMessage(),this.reset(),this.dialogRef.close(!0)},e=>{console.error(e),this.utilService.ShowApiErrorMessage(e)})}submit(){this.calculateamountforinvoices()&&this.submitCalculateamountforinvoices()}reset(){this.form.controls.custCode.setValue(""),this.form.controls.branchCode.setValue(""),this.form.controls.companyId.setValue("")}closeModel(){this.dialogRef.close()}openDialogManageApproval(e=100){let o=this.utilService.openDialogCongif(this.dialog,ht,e);const n=parseFloat(this.totalAmount.toFixed(2));o.componentInstance.data={arAmount:n,fin:this.finsetup},o.afterClosed().subscribe(r=>{0==r.hasData?this.notifyService.showError("there is no Amount"):1==r.hasData&&("advance"!=r.amountType?(this.form.value.advancePayment=r,this.submitCalculateamountforinvoices()):this.notifyService.showError("No Advance Payment"))})}postAdvancePay(){this.calculateamountforinvoices()&&this.openDialogManageApproval(50)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(T.so),t.Y36(T.uw),t.Y36(f.g),t.Y36(O.R))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-addupdateopmcustomerpayment-component"]],decls:205,vars:164,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-hidden","true",1,"close",3,"click"],["novalidate","",1,"mt-1",3,"formGroup","ngSubmit"],[1,"outer"],[1,"row","rowm0"],[1,"col-md-12","col-lg-12"],[1,"row"],[1,"col-md-3","col-lg-3"],[1,"form-group"],[1,"mr-sm-2"],["bindLabel","text","bindValue","textTwo","formControlName","custCode",3,"items","change"],[3,"control"],[1,"col-md-4","col-lg-4"],["bindLabel","text","bindValue","value","formControlName","siteCode",3,"items","clear","change"],["formControlName","companyId",1,"custom-select","mr-sm-2",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","branchCode",1,"custom-select","mr-sm-2"],[1,"input-group","mb-2"],["formControlName","tranDate",1,"form-control","datapickerinput",3,"placeholder","matDatepicker","dateChange"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["tranDate",""],["formControlName","payCode",1,"custom-select","mr-sm-2",3,"change"],["formControlName","payType","disabled","",1,"custom-select","mr-sm-2"],["type","number","formControlName","amount","readonly","",1,"form-control",3,"placeholder"],["type","text","formControlName","preparedby",1,"form-control",3,"placeholder"],["class","col-md-3 col-lg-3",4,"ngIf"],[1,"col-md-6","col-lg-6"],["formControlName","remarks",1,"form-control",3,"placeholder"],[1,"col-md-2","col-lg-2"],[1,"table-responsive"],["id","zero_config",1,"table","table-bordered","no-wrap"],[4,"ngFor","ngForOf"],[1,"cardtitle-divider","pt-3"],[1,"col-lg-12","col-md-12","text-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","waves-effect","waves-light","btn-primary",3,"value"],["type","button","class","btn waves-effect waves-light   btn-primary",3,"click",4,"ngIf"],[1,"table-responsive","pt-3"],[3,"value"],["type","text","formControlName","checkNumber","maxlength","10",1,"form-control",3,"placeholder"],["type","text","formControlName","checkDate",1,"form-control","datapickerinput",3,"placeholder","matDatepicker","dateChange"],["checkdate",""],["color","primary","formControlName","isPdcCleared",3,"disabled"],[4,"ngIf"],["type","hidden",3,"value","id"],["type","number",2,"width","135px",3,"id","disabled","value","keyup","blur"],[1,"text-center"],["data-toggle","modal","data-target","#scrollable-modal","href","#",1,"tableicons",3,"click"],[1,"icon-trash"],["type","button",1,"btn","waves-effect","waves-light","btn-primary",3,"click"],["type","checkbox",3,"change"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"h2",1),t._uU(2),t.ALo(3,"translate"),t.TgZ(4,"button",2),t.NdJ("click",function(){return o.closeModel()}),t._uU(5," \xd7"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"form",3),t.NdJ("ngSubmit",function(){return o.submit()}),t.TgZ(7,"div",4),t.TgZ(8,"div",5),t.TgZ(9,"div",6),t.TgZ(10,"div",7),t.TgZ(11,"div",8),t.TgZ(12,"div",9),t.TgZ(13,"label",10),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"ng-select",11),t.NdJ("change",function(r){return o.loadProductdata(r)}),t.qZA(),t._UZ(17,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(18,"div",13),t.TgZ(19,"div",9),t.TgZ(20,"label",10),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"ng-select",14),t.NdJ("clear",function(){return o.resetSiteInfo()})("change",function(r){return o.selectSiteInfo(r)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"div",8),t.TgZ(25,"div",9),t.TgZ(26,"label",10),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"select",15),t.NdJ("change",function(r){return o.loadBranchs(r)}),t.TgZ(30,"option",16),t._uU(31),t.ALo(32,"translate"),t.qZA(),t.YNc(33,op,2,2,"option",17),t.qZA(),t._UZ(34,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(35,"div",8),t.TgZ(36,"div",9),t.TgZ(37,"label",10),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"select",18),t.TgZ(41,"option",16),t._uU(42),t.ALo(43,"translate"),t.qZA(),t.YNc(44,ip,2,2,"option",17),t.qZA(),t._UZ(45,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(46,"div",8),t.TgZ(47,"label",10),t._uU(48),t.ALo(49,"translate"),t.qZA(),t.TgZ(50,"div",9),t.TgZ(51,"div",19),t.TgZ(52,"input",20),t.NdJ("dateChange",function(r){return o.receiptDateChanged(r)}),t.ALo(53,"translate"),t.qZA(),t.TgZ(54,"div",21),t._UZ(55,"mat-datepicker-toggle",22),t._UZ(56,"mat-datepicker",null,23),t.qZA(),t.qZA(),t._UZ(58,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(59,"div",8),t.TgZ(60,"div",9),t.TgZ(61,"label",10),t._uU(62),t.ALo(63,"translate"),t.qZA(),t.TgZ(64,"select",24),t.NdJ("change",function(r){return o.setCheckNumber(r)}),t.TgZ(65,"option",16),t._uU(66),t.ALo(67,"translate"),t.qZA(),t.YNc(68,np,2,2,"option",17),t.qZA(),t._UZ(69,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(70,"div",8),t.TgZ(71,"div",9),t.TgZ(72,"label",10),t._uU(73),t.ALo(74,"translate"),t.qZA(),t.TgZ(75,"select",25),t.TgZ(76,"option",16),t._uU(77),t.ALo(78,"translate"),t.qZA(),t.YNc(79,ap,2,2,"option",17),t.qZA(),t._UZ(80,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(81,"div",8),t.TgZ(82,"div",9),t.TgZ(83,"label",10),t._uU(84),t.ALo(85,"translate"),t.qZA(),t._UZ(86,"input",26),t.ALo(87,"translate"),t.ALo(88,"translate"),t.qZA(),t.qZA(),t.TgZ(89,"div",8),t.TgZ(90,"div",9),t.TgZ(91,"label",10),t._uU(92),t.ALo(93,"translate"),t.qZA(),t._UZ(94,"input",27),t.ALo(95,"translate"),t.ALo(96,"translate"),t._UZ(97,"validation-message",12),t.qZA(),t.qZA(),t.YNc(98,rp,9,10,"div",28),t.YNc(99,sp,14,8,"div",28),t.YNc(100,lp,6,4,"div",28),t.TgZ(101,"div",29),t.TgZ(102,"div",9),t.TgZ(103,"label",10),t._uU(104),t.ALo(105,"translate"),t.qZA(),t._UZ(106,"textarea",30),t.ALo(107,"translate"),t.ALo(108,"translate"),t.qZA(),t.qZA(),t.TgZ(109,"div",31),t.TgZ(110,"div",9),t.TgZ(111,"label",10),t._uU(112),t.ALo(113,"translate"),t.qZA(),t.TgZ(114,"span"),t._uU(115),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(116,"div",4),t.TgZ(117,"div",32),t.TgZ(118,"h2",1),t._uU(119),t.ALo(120,"translate"),t.qZA(),t.TgZ(121,"table",33),t.TgZ(122,"thead"),t.TgZ(123,"tr"),t.TgZ(124,"th"),t._uU(125),t.ALo(126,"translate"),t.qZA(),t.TgZ(127,"th"),t._uU(128),t.ALo(129,"translate"),t.qZA(),t.TgZ(130,"th"),t._uU(131),t.ALo(132,"translate"),t.qZA(),t.TgZ(133,"th"),t._uU(134),t.ALo(135,"translate"),t.qZA(),t.TgZ(136,"th"),t._uU(137),t.ALo(138,"translate"),t.qZA(),t.TgZ(139,"th"),t._uU(140),t.ALo(141,"translate"),t.qZA(),t.TgZ(142,"th"),t._uU(143),t.ALo(144,"translate"),t.qZA(),t.TgZ(145,"th"),t._uU(146),t.ALo(147,"translate"),t.qZA(),t.TgZ(148,"th"),t._uU(149),t.ALo(150,"translate"),t.qZA(),t.TgZ(151,"th"),t._uU(152),t.ALo(153,"translate"),t.qZA(),t.qZA(),t.qZA(),t.YNc(154,pp,2,1,"tr",34),t.qZA(),t.qZA(),t._UZ(155,"div",35),t.TgZ(156,"div",7),t.TgZ(157,"div",36),t.TgZ(158,"button",37),t.NdJ("click",function(){return o.closeModel()}),t._uU(159),t.ALo(160,"translate"),t.qZA(),t._uU(161," \xa0\xa0 "),t._UZ(162,"input",38),t.ALo(163,"translate"),t._uU(164," \xa0\xa0 "),t.YNc(165,dp,3,3,"button",39),t.qZA(),t.qZA(),t.TgZ(166,"div",40),t.TgZ(167,"h2",1),t._uU(168),t.ALo(169,"translate"),t.qZA(),t.TgZ(170,"table",33),t.TgZ(171,"thead"),t.TgZ(172,"tr"),t._UZ(173,"th"),t.TgZ(174,"th"),t._uU(175),t.ALo(176,"translate"),t.qZA(),t.TgZ(177,"th"),t._uU(178),t.ALo(179,"translate"),t.qZA(),t.TgZ(180,"th"),t._uU(181),t.ALo(182,"translate"),t.qZA(),t.TgZ(183,"th"),t._uU(184),t.ALo(185,"translate"),t.qZA(),t.TgZ(186,"th"),t._uU(187),t.ALo(188,"translate"),t.qZA(),t.TgZ(189,"th"),t._uU(190),t.ALo(191,"translate"),t.qZA(),t.TgZ(192,"th"),t._uU(193),t.ALo(194,"translate"),t.qZA(),t.TgZ(195,"th"),t._uU(196),t.ALo(197,"translate"),t.qZA(),t.TgZ(198,"th"),t._uU(199),t.ALo(200,"translate"),t.qZA(),t.TgZ(201,"th"),t._uU(202),t.ALo(203,"translate"),t.qZA(),t.qZA(),t.qZA(),t.YNc(204,mp,2,1,"tr",34),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e){const n=t.MAs(57);t.xp6(2),t.hij(" ",t.lcZ(3,70,"Create_New_Customer_Payment")," "),t.xp6(4),t.Q6J("formGroup",o.form),t.xp6(8),t.Oqu(t.lcZ(15,72,"Customer")),t.xp6(2),t.Q6J("items",o.customerList),t.xp6(1),t.Q6J("control",o.form.controls.custCode),t.xp6(4),t.Oqu(t.lcZ(22,74,"Customer_Sites")),t.xp6(2),t.Q6J("items",o.customerSiteList),t.xp6(4),t.Oqu(t.lcZ(28,76,"Organization")),t.xp6(4),t.Oqu(t.lcZ(32,78,"Select_Organization")),t.xp6(2),t.Q6J("ngForOf",o.companyList),t.xp6(1),t.Q6J("control",o.form.controls.companyId),t.xp6(4),t.Oqu(t.lcZ(39,80,"Branch")),t.xp6(4),t.Oqu(t.lcZ(43,82,"Select_Branch")),t.xp6(2),t.Q6J("ngForOf",o.branchList),t.xp6(1),t.Q6J("control",o.form.controls.branchCode),t.xp6(3),t.Oqu(t.lcZ(49,84,"Receipt_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(53,86,"Select_a_Date")),t.Q6J("matDatepicker",n),t.xp6(3),t.Q6J("for",n),t.xp6(3),t.Q6J("control",o.form.controls.tranDate),t.xp6(4),t.Oqu(t.lcZ(63,88,"PayCode")),t.xp6(4),t.Oqu(t.lcZ(67,90,"Select_Organization")),t.xp6(2),t.Q6J("ngForOf",o.payCodeList),t.xp6(1),t.Q6J("control",o.form.controls.payCode),t.xp6(4),t.Oqu(t.lcZ(74,92,"PayType")),t.xp6(4),t.Oqu(t.lcZ(78,94,"Select_Organization")),t.xp6(2),t.Q6J("ngForOf",o.payCodeTypeList),t.xp6(1),t.Q6J("control",o.form.controls.payType),t.xp6(4),t.Oqu(t.lcZ(85,96,"amount")),t.xp6(2),t.hYB("placeholder","",t.lcZ(87,98,"Please_Enter")," ",t.lcZ(88,100,"Invoice_Reference_Number"),""),t.xp6(6),t.hij(" ",t.lcZ(93,102,"preparedby")," "),t.xp6(2),t.hYB("placeholder"," ",t.lcZ(95,104,"Please_Enter"),"  ",t.lcZ(96,106,"LPO_Contract"),""),t.xp6(3),t.Q6J("control",o.form.controls.preparedby),t.xp6(1),t.Q6J("ngIf",o.IsCheckSelected),t.xp6(1),t.Q6J("ngIf",o.IsCheckSelected),t.xp6(1),t.Q6J("ngIf",o.IsCheckSelected),t.xp6(4),t.Oqu(t.lcZ(105,108,"Remarks")),t.xp6(2),t.hYB("placeholder","",t.lcZ(107,110,"PLease_Enter")," ",t.lcZ(108,112,"Remarks"),""),t.xp6(6),t.Oqu(t.lcZ(113,114,"Selected_Customer_Invoices_Amount")),t.xp6(3),t.Oqu(o.totalAmountStr),t.xp6(4),t.hij(" ",t.lcZ(120,116,"Selected_Customer_Invoice_List")," "),t.xp6(6),t.Oqu(t.lcZ(126,118,"Sales_InvoiceNumber")),t.xp6(3),t.Oqu(t.lcZ(129,120,"Site_Name")),t.xp6(3),t.Oqu(t.lcZ(132,122,"Customer_Code")),t.xp6(3),t.Oqu(t.lcZ(135,124,"Customer_Name")),t.xp6(3),t.Oqu(t.lcZ(138,126,"Sales_Invoice_Date")),t.xp6(3),t.Oqu(t.lcZ(141,128,"Discount")),t.xp6(3),t.Oqu(t.lcZ(144,130,"Sales_Invoice_Amount")),t.xp6(3),t.Oqu(t.lcZ(147,132,"Applied_Amount")),t.xp6(3),t.Oqu(t.lcZ(150,134,"Add_Amount")),t.xp6(3),t.Oqu(t.lcZ(153,136,"Actions")),t.xp6(2),t.Q6J("ngForOf",o.selectedInvoiceItems),t.xp6(5),t.hij(" ",t.lcZ(160,138,"Cancel")," "),t.xp6(3),t.s9C("value",t.lcZ(163,140,"Save")),t.xp6(3),t.Q6J("ngIf",o.isSiteSelected),t.xp6(3),t.hij(" ",t.lcZ(169,142,"Customer_Invoice_List")," "),t.xp6(7),t.Oqu(t.lcZ(176,144,"Invoice_Type")),t.xp6(3),t.Oqu(t.lcZ(179,146,"Sales_InvoiceNumber")),t.xp6(3),t.Oqu(t.lcZ(182,148,"Site_Name")),t.xp6(3),t.Oqu(t.lcZ(185,150,"Doc_Number")),t.xp6(3),t.Oqu(t.lcZ(188,152,"Customer_Code")),t.xp6(3),t.Oqu(t.lcZ(191,154,"Customer_Name")),t.xp6(3),t.Oqu(t.lcZ(194,156,"Sales_Invoice_Date")),t.xp6(3),t.Oqu(t.lcZ(197,158,"Discount")),t.xp6(3),t.Oqu(t.lcZ(200,160,"Sales_Invoice_Amount")),t.xp6(3),t.Oqu(t.lcZ(203,162,"Applied_Amount")),t.xp6(2),t.Q6J("ngForOf",o.invoiceItems)}},directives:[s._Y,s.JL,s.sg,j.w9,s.JJ,s.u,M.s,s.EJ,s.YN,s.Kr,d.sg,s.Fj,m.hl,m.nW,U.R9,m.Mq,s.wV,d.O5,s.nD,F.Rr],pipes:[Z.X$,d.uU],encapsulation:2}),i})();function gp(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.Oqu(e.invoiceNumber),t.xp6(2),t.Oqu(e.invoiceDate),t.xp6(2),t.Oqu(e.invoiceDueDate),t.xp6(2),t.Oqu(e.totalAmount),t.xp6(2),t.Oqu(e.isCreditConverted?"Credit":"Invoice")}}let Zp=(()=>{class i{constructor(e,o,n,r,l,c){this.fb=e,this.apiService=o,this.authService=n,this.utilService=r,this.dialogRef=l,this.notifyService=c,this.id=0,this.paidInvoices=[],this.unPaidInvoices=[],this.isLoading=!1}ngOnInit(){this.id>0&&this.loadVoucher()}loadVoucher(){this.isLoading=!0,this.apiService.getall(`opmArPayment/getOpmCustomerpaymentvoucher?id=${this.id}`).subscribe(e=>{this.isLoading=!1,this.voucher=e,this.paidInvoices=e.paidList,this.unPaidInvoices=e.unPaidList})}printVoucher(){const e=document.getElementById("printcontainer"),o=window.open("","","left=0,top=0,width=2000,height=1000,toolbar=0,scrollbars=0,status=0");setTimeout(()=>{o.document.write(e.innerHTML),o.document.close(),o.focus(),o.print(),o.close()},50)}closeModel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(T.so),t.Y36(f.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-opmcustomerreceiptvoucher"]],decls:140,vars:41,consts:[[3,"isLoading"],[3,"click"],["type","button","aria-hidden","true",1,"",3,"click"],["type","button","aria-hidden","true",1,"close",3,"click"],["id","printcontainer",1,"container-fluid","invoice-container","print-container",2,"width","850px","margin","auto"],["rel","stylesheet","href","https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,500,600,700,800,900","type","text/css"],["border","0","cellpadding","0","cellspacing","0","width","100%",2,"width","100%"],[2,"font-size","1.5rem !important","color","#0c2f54","font-family","'Poppins', sans-serif","font-weight","500","line-height","1.2","margin","0","padding-top","15px","text-align","center"],[2,"padding-top","10px","padding-bottom","5px"],[2,"width","100%","text-align","center"],[2,"border","2px solid #878787","border-radius","5px","padding","10PX"],[2,"padding","5px","width","50%","text-align","left","vertical-align","top"],[2,"font-family","'Poppins', sans-serif","font-weight","500","font-size","0.875rem !important","color","#878787"],[2,"font-family","'Poppins', sans-serif","font-weight","600","font-size","0.875rem !important","color","#000000"],[2,"vertical-align","top"],[2,"vertical-align","top","font-family","'Poppins', sans-serif","font-weight","600","font-size","0.875rem !important","color","#000000","width","130px"],[2,"width","50%","text-align","left"],[2,"padding","5px","text-align","left","vertical-align","top"],[2,"font-family","'Poppins', sans-serif","font-weight","500","font-size","0.875rem !important","color","#878787","float","right"],[2,"text-align","center"],[2,"float","right"],[2,"width","200px","height","150px",3,"src"],[2,"font-family","'Poppins', sans-serif","font-weight","500","font-size","0.875rem !important","color","#000000"],[2,"padding","5px","width","50%","text-align","left"],[2,"padding","5px","text-align","left"],[2,"padding","2px 5px 2px 5px","width","50%","text-align","left"],["border","1","cellpadding","0","cellspacing","0","width","100%",2,"width","100%"],[4,"ngFor","ngForOf"],[2,"width","40%","padding-top","30px"],[2,"margin","0"],[2,"font-family","'Poppins', sans-serif","font-weight","500","font-size","0.825rem !important","color","#000000"]],template:function(e,o){1&e&&(t._UZ(0,"spinner-loader",0),t.TgZ(1,"div"),t.TgZ(2,"button",1),t.NdJ("click",function(){return o.printVoucher()}),t._uU(3,"print"),t.qZA(),t._uU(4," \xa0 "),t._uU(5," \xa0 "),t.TgZ(6,"button",2),t.NdJ("click",function(){return o.closeModel()}),t._uU(7," Close"),t.qZA(),t._UZ(8,"br"),t.TgZ(9,"button",3),t.NdJ("click",function(){return o.closeModel()}),t._uU(10," \xd7"),t.qZA(),t.qZA(),t._UZ(11,"br"),t.TgZ(12,"div",4),t._UZ(13,"link",5),t.TgZ(14,"table",6),t.TgZ(15,"tr"),t.TgZ(16,"td",7),t._uU(17," Customer Receipt Voucher "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",8),t.TgZ(19,"table",6),t.TgZ(20,"tr"),t.TgZ(21,"td",9),t.TgZ(22,"div",10),t.TgZ(23,"table",6),t.TgZ(24,"tr"),t.TgZ(25,"td",11),t.TgZ(26,"table",6),t.TgZ(27,"tr"),t.TgZ(28,"td",12),t.TgZ(29,"span",13),t._uU(30,"Customer Voucher#:"),t.qZA(),t._uU(31),t.qZA(),t.qZA(),t.TgZ(32,"tr"),t.TgZ(33,"td",14),t.TgZ(34,"table",6),t.TgZ(35,"tr"),t.TgZ(36,"td",15),t._uU(37," Customer Details: "),t.qZA(),t.TgZ(38,"td",12),t._uU(39),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(40,"tr"),t.TgZ(41,"td",16),t.TgZ(42,"div",12),t.TgZ(43,"span",13),t._uU(44,"Document Num:"),t.qZA(),t._uU(45),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(46,"td",17),t.TgZ(47,"div",18),t.TgZ(48,"table"),t.TgZ(49,"tr"),t.TgZ(50,"td"),t.TgZ(51,"span",13),t._uU(52," Date:"),t.qZA(),t._uU(53),t.ALo(54,"date"),t.qZA(),t.qZA(),t.TgZ(55,"tr"),t.TgZ(56,"td",19),t.TgZ(57,"div",20),t._UZ(58,"img",21),t._UZ(59,"br"),t._UZ(60,"div",22),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(61,"div",8),t.TgZ(62,"table",6),t.TgZ(63,"tr"),t.TgZ(64,"td",9),t.TgZ(65,"div",10),t.TgZ(66,"table",6),t.TgZ(67,"tr"),t.TgZ(68,"td",23),t.TgZ(69,"div",12),t.TgZ(70,"span",13),t._uU(71,"Received From:"),t.qZA(),t._uU(72),t.qZA(),t.qZA(),t.TgZ(73,"td",24),t.TgZ(74,"div",18),t.TgZ(75,"span",13),t._uU(76,"Voucher Date:"),t.qZA(),t._uU(77),t.ALo(78,"date"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(79,"tr"),t.TgZ(80,"td",25),t.TgZ(81,"div",12),t.TgZ(82,"span",13),t._uU(83,"Branch:"),t.qZA(),t._uU(84),t.qZA(),t.qZA(),t.TgZ(85,"td",25),t.TgZ(86,"div",18),t.TgZ(87,"span",13),t._uU(88,"Payment Mode:"),t.qZA(),t._uU(89),t.qZA(),t.qZA(),t.qZA(),t.TgZ(90,"tr"),t.TgZ(91,"td",25),t.TgZ(92,"div",12),t.TgZ(93,"span",13),t._uU(94,"Bank:"),t.qZA(),t._uU(95),t.qZA(),t.qZA(),t.TgZ(96,"td",25),t.TgZ(97,"div",18),t.TgZ(98,"span",13),t._uU(99,"Amount:"),t.qZA(),t._uU(100),t.qZA(),t.qZA(),t.qZA(),t.TgZ(101,"tr"),t.TgZ(102,"td",25),t.TgZ(103,"div",12),t.TgZ(104,"span",13),t._uU(105,"Cheque:"),t.qZA(),t._uU(106),t.qZA(),t.qZA(),t.TgZ(107,"td",25),t.TgZ(108,"div",18),t.TgZ(109,"span",13),t._uU(110,"Check Date:"),t.qZA(),t._uU(111),t.ALo(112,"date"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(113,"div",8),t.TgZ(114,"table",6),t.TgZ(115,"tr"),t.TgZ(116,"td",7),t._uU(117," Paid Invoices "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(118,"table",26),t.TgZ(119,"tr"),t.TgZ(120,"th"),t._uU(121),t.ALo(122,"translate"),t.qZA(),t.TgZ(123,"th"),t._uU(124),t.ALo(125,"translate"),t.qZA(),t.TgZ(126,"th"),t._uU(127),t.ALo(128,"translate"),t.qZA(),t.TgZ(129,"th"),t._uU(130),t.ALo(131,"translate"),t.qZA(),t.TgZ(132,"th"),t._uU(133),t.ALo(134,"translate"),t.qZA(),t.qZA(),t.YNc(135,gp,11,5,"tr",27),t.qZA(),t.qZA(),t.TgZ(136,"div",28),t._UZ(137,"hr",29),t.TgZ(138,"div",30),t._uU(139," Prepared by "),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.Q6J("isLoading",o.isLoading),t.xp6(31),t.hij(" ",o.voucher.voucherNumber," "),t.xp6(8),t.lnq(" ",o.voucher.company,", ",o.voucher.customerName,", ",o.voucher.address," "),t.xp6(6),t.hij(" ",o.voucher.docNum," "),t.xp6(8),t.hij(" ",t.xi3(54,22,o.voucher.date,"dd/MM/yyyy")," "),t.xp6(5),t.s9C("src",o.voucher.logo,t.LSH),t.xp6(14),t.hij(" ",o.voucher.receivedFrom," "),t.xp6(5),t.hij(" ",t.xi3(78,25,o.voucher.voucherDate,"dd/MM/yyyy")," "),t.xp6(7),t.hij(" ",o.voucher.branchName," "),t.xp6(5),t.hij(" ",o.voucher.payType," "),t.xp6(6),t.hij(" ",o.voucher.branchName," "),t.xp6(5),t.hij(" ",o.voucher.amount," "),t.xp6(6),t.hij(" ",o.voucher.checkNumber," "),t.xp6(5),t.hij(" ",t.xi3(112,28,o.voucher.checkdate,"dd/MM/yyyy")," "),t.xp6(10),t.Oqu(t.lcZ(122,31,"Invoice_InvoiceGrid_InvoiceNumber")),t.xp6(3),t.Oqu(t.lcZ(125,33,"Invoice_Date")),t.xp6(3),t.Oqu(t.lcZ(128,35,"Delivery_Date")),t.xp6(3),t.Oqu(t.lcZ(131,37,"Total_Amount")),t.xp6(3),t.Oqu(t.lcZ(134,39,"Type")),t.xp6(2),t.Q6J("ngForOf",o.paidInvoices))},directives:[b.r,d.sg],pipes:[d.uU,Z.X$],encapsulation:2}),i})(),hp=(()=>{class i{constructor(e,o,n,r,l,c){this.fb=e,this.apiService=o,this.authService=n,this.utilService=r,this.dialogRef=l,this.notifyService=c,this.id=0,this.trantype="Invoice",this.customerCode="",this.modalBtnTitle="Invoice",this.selectedPayment="",this.paymentTermId="",this.paymentTermsList=[],this.payCodeList=[],this.isCreditSelected=!0}ngOnInit(){}submit(){let e=this.createdOn;if(e&&this.customerCode.length>0&&this.id>0){let o={customerCode:this.customerCode,createdOn:this.utilService.selectedDateTime(e),id:this.id};this.apiService.post("opmArPayment/customerPaymentApproval",o).subscribe(n=>{this.utilService.OkMessage(),this.dialogRef.close(!0)},n=>{console.error(n),this.utilService.ShowApiErrorMessage(n)})}else this.utilService.FillUpFields()}closeModel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(T.so),t.Y36(f.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-paymentsettlementmode"]],decls:28,vars:18,consts:[["type","button","aria-hidden","true",1,"close",3,"click"],[1,"row","rowm0"],[1,"col-md-12","col-lg-12"],[1,"mr-sm-2"],[1,"form-group"],[1,"input-group","mb-2"],[1,"form-control","datapickerinput",3,"placeholder","ngModel","matDatepicker","ngModelChange"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker",""],[1,"row"],[1,"col-lg-12","col-md-12","text-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","waves-effect","waves-light","btn-primary",3,"value","click"]],template:function(e,o){if(1&e&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"button",0),t.NdJ("click",function(){return o.closeModel()}),t._uU(4," \xd7"),t.qZA(),t.qZA(),t.TgZ(5,"div",1),t.TgZ(6,"div",2),t.TgZ(7,"label",3),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"div",4),t.TgZ(11,"div",5),t.TgZ(12,"input",6),t.NdJ("ngModelChange",function(r){return o.createdOn=r}),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"div",7),t._UZ(15,"mat-datepicker-toggle",8),t._UZ(16,"mat-datepicker",null,9),t._UZ(18,"br"),t._UZ(19,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"div",10),t.TgZ(21,"div",11),t.TgZ(22,"button",12),t.NdJ("click",function(){return o.closeModel()}),t._uU(23),t.ALo(24,"translate"),t.qZA(),t._uU(25," \xa0\xa0 "),t.TgZ(26,"input",13),t.NdJ("click",function(){return o.submit()}),t.ALo(27,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e){const n=t.MAs(17);t.xp6(1),t.hij(" ",t.lcZ(2,8,"Posting_Collection")," "),t.xp6(7),t.Oqu(t.lcZ(9,10,"Posting_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(13,12,"Select_a_Date")),t.Q6J("ngModel",o.createdOn)("matDatepicker",n),t.xp6(3),t.Q6J("for",n),t.xp6(8),t.hij(" ",t.lcZ(24,14,"Cancel")," "),t.xp6(3),t.s9C("value",t.lcZ(27,16,"Save"))}},directives:[s.Fj,m.hl,s.JJ,s.On,m.nW,U.R9,m.Mq],pipes:[Z.X$],encapsulation:2}),i})();function _p(i,a){1&i&&(t.TgZ(0,"th",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Voucher")," "))}function Ap(i,a){if(1&i&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.voucherNumber)}}function fp(i,a){1&i&&(t.TgZ(0,"th",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Customer")," "))}function Tp(i,a){if(1&i&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.custName)}}function vp(i,a){1&i&&(t.TgZ(0,"th",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Branch")," "))}function qp(i,a){if(1&i&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.branchName)}}function Cp(i,a){1&i&&(t.TgZ(0,"th",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Trans_Date")," "))}function xp(i,a){if(1&i&&(t.TgZ(0,"td",46),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.tranDate,"dd/MM/yyyy"))}}function bp(i,a){1&i&&(t.TgZ(0,"th",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Document")," "))}function yp(i,a){if(1&i&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.docNum)}}function Up(i,a){1&i&&(t.TgZ(0,"th",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Check_Number")," "))}function Lp(i,a){if(1&i&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.checkNumber)}}function Sp(i,a){1&i&&(t.TgZ(0,"th",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Check_Date")," "))}function Np(i,a){if(1&i&&(t.TgZ(0,"td",46),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.checkDate,"dd/MM/yyyy"))}}function Op(i,a){1&i&&(t.TgZ(0,"th",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Receipt_Amount")," "))}function wp(i,a){if(1&i&&(t.TgZ(0,"td",46),t._uU(1),t.ALo(2,"decimalpipe"),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.amount))}}function kp(i,a){1&i&&(t.TgZ(0,"th",47),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Actions")))}function Ip(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"a",49),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit;return t.oxw().post(n)}),t.ALo(1,"translate"),t._UZ(2,"i",51),t.qZA()}2&i&&t.s9C("matTooltip",t.lcZ(1,1,"Posting_Item"))}function Mp(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"td",46),t.YNc(1,Ip,3,3,"a",48),t.TgZ(2,"a",49),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().customerReceipt(r.id)}),t.ALo(3,"translate"),t._UZ(4,"i",50),t.qZA(),t._uU(5,"\xa0 "),t.qZA()}if(2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",!e.isPaid),t.xp6(1),t.s9C("matTooltip",t.lcZ(3,2,"Print"))}}function Jp(i,a){1&i&&t._UZ(0,"tr",52)}function Dp(i,a){1&i&&t._UZ(0,"tr",53)}let Pp=(()=>{class i extends L.k{constructor(e,o,n,r,l,c,u,g,C,S){super(r),this.fb=e,this.router=o,this.apiService=n,this.authService=r,this.utilService=l,this.translate=c,this.notifyService=u,this.validationService=g,this.pageService=C,this.dialog=S,this.displayedColumns=["voucherNumber","custName","branchName","tranDate","docNum","checkNumber","checkdate","amount","Actions"],this.searchValue="",this.sortingOrder="id desc",this.isLoading=!1,this.customreCode="",this.customerWidth="98"}ngOnInit(){this.initialLoading()}refresh(){this.searchValue="",this.initialLoading()}initialLoading(){this.loadList(0,this.pageService.pageCount,"",this.sortingOrder)}onSortOrder(e){this.sortingOrder=e.active+" "+e.direction,this.totalItemsCount=0,this.loadList(0,this.pageService.pageCount,"",this.sortingOrder)}onPageSwitch(e){this.pageService.change(e),this.loadList(e.pageIndex,e.pageSize,"",this.sortingOrder)}loadList(e,o,n,r){this.isLoading=!0,this.apiService.getPagination("OpmArPayment",this.utilService.getQueryString(e,o,n,r)).subscribe(l=>{this.totalItemsCount=0,this.data=new p.by(l.items),this.totalItemsCount=l.totalCount,setTimeout(()=>{this.paginator.pageIndex=e,this.paginator.length=this.totalItemsCount}),this.data.sort=this.sort,this.isLoading=!1},l=>this.utilService.ShowApiErrorMessage(l))}applyFilter(e){e&&(this.searchValue=e,this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder))}openDialogManage(e=0,o,n="",r="",l,c={module:"00",action:"00act"}){let u=this.utilService.openCrudDialog(this.dialog,l,this.customerWidth);u.componentInstance.dbops=o,u.componentInstance.modalTitle=n,u.componentInstance.id=e,u.componentInstance.moduleFile=c,u.componentInstance.customerCode=this.customreCode,u.afterClosed().subscribe(g=>{g&&!0===g&&this.initialLoading()})}openDialogManageOne(e="",o,n="",r){let l=this.utilService.openDialogCongif(this.dialog,r);l.componentInstance.dbops=o,l.componentInstance.modalTitle=n,l.componentInstance.customerCode=e}create(){this.customerWidth="98",this.openDialogManage(0,v.Oi.create,this.translate.instant("Create_New_Sales_Invoice"),"",qt)}edit(e){this.customerWidth="98",this.openDialogManage(e,v.Oi.update,this.translate.instant("Create_New_Sales_Invoice"),"",qt)}print(e){this.openDialogManageOne(e,v.Oi.update,this.translate.instant("Create_New_Sales_Invoice"),ct)}customerReceipt(e){this.customerWidth="98",this.openDialogManage(e,v.Oi.update,this.translate.instant("Create_New_Sales_Invoice"),"",Zp)}post(e){this.customreCode=e.custCode,this.customerWidth="50",this.openDialogManage(e.id,v.Oi.update,"","",hp)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(Q.F0),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(Z.sK),t.Y36(f.g),t.Y36(O.R),t.Y36(k.N),t.Y36(T.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-opmarpayment"]],viewQuery:function(e,o){if(1&e&&(t.Gf(q.NW,7),t.Gf(x.YE,7)),2&e){let n;t.iGM(n=t.CRH())&&(o.paginator=n.first),t.iGM(n=t.CRH())&&(o.sort=n.first)}},features:[t.qOj],decls:83,vars:36,consts:[[1,"page-breadcrumb"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],[1,"container-fluid"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"row","pb-3"],[1,"col-md-3"],[1,"form-control",3,"placeholder","ngModel","ngModelChange"],[1,"col-md-4","arabicright"],[1,"btn","btn-primary",3,"click"],[1,"",3,"matTooltip","click"],[1,"btn","btn-primary","icon-refresh"],[1,"col-md-7","col-lg-9"],[1,"card-title","pt6"],[1,"col-md-3","col-lg-3","text-right"],[1,"nav-item","dropdown"],["data-toggle","modal","data-target","#scrollable-modal","href","#",1,"btn","waves-effect","waves-light","btn-rounded","btn-outline-primary",3,"click"],[1,"icon-plus"],[1,"cardtitle-divider"],[1,"example-table-container","table-responsive","pt-3"],[3,"isLoading"],["mat-table","","matSort","","matSortActive","Id","matSortDisableClear","","matSortDirection","desc",1,"table","table-bordered","no-wrap",3,"dataSource","matSortChange"],["matColumnDef","voucherNumber"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","custName"],["matColumnDef","branchName"],["matColumnDef","tranDate"],["matColumnDef","docNum"],["matColumnDef","checkNumber"],["matColumnDef","checkdate"],["matColumnDef","amount"],["matColumnDef","Actions","stickyEnd",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions","page"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["class","tableicons",3,"matTooltip","click",4,"ngIf"],[1,"tableicons",3,"matTooltip","click"],[1,"icon-settings"],[1,"icon-action-redo"],["mat-header-row",""],["mat-row",""]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"nav",5),t.TgZ(8,"ol",6),t.TgZ(9,"li",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"li",7),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"li",8),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",9),t.TgZ(19,"div",1),t.TgZ(20,"div",10),t.TgZ(21,"div",11),t.TgZ(22,"div",12),t.TgZ(23,"div",13),t._UZ(24,"div",10),t.TgZ(25,"div",14),t.TgZ(26,"input",15),t.NdJ("ngModelChange",function(r){return o.searchValue=r}),t.ALo(27,"translate"),t.qZA(),t.qZA(),t.TgZ(28,"div",16),t.TgZ(29,"button",17),t.NdJ("click",function(){return o.applyFilter(o.searchValue)}),t._uU(30),t.ALo(31,"translate"),t.qZA(),t._uU(32," \xa0 "),t.TgZ(33,"a",18),t.NdJ("click",function(){return o.refresh()}),t.ALo(34,"translate"),t._UZ(35,"i",19),t.qZA(),t.qZA(),t.qZA(),t.TgZ(36,"div",1),t.TgZ(37,"div",20),t.TgZ(38,"h4",21),t._uU(39),t.ALo(40,"translate"),t.qZA(),t.qZA(),t.TgZ(41,"div",22),t.TgZ(42,"div",23),t.TgZ(43,"a",24),t.NdJ("click",function(){return o.create()}),t._UZ(44,"i",25),t._uU(45),t.ALo(46,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(47,"div",26),t.TgZ(48,"div",27),t._UZ(49,"spinner-loader",28),t.ynx(50),t.TgZ(51,"table",29),t.NdJ("matSortChange",function(r){return o.onSortOrder(r)}),t.ynx(52,30),t.YNc(53,_p,3,3,"th",31),t.YNc(54,Ap,2,1,"td",32),t.BQk(),t.ynx(55,33),t.YNc(56,fp,3,3,"th",31),t.YNc(57,Tp,2,1,"td",32),t.BQk(),t.ynx(58,34),t.YNc(59,vp,3,3,"th",31),t.YNc(60,qp,2,1,"td",32),t.BQk(),t.ynx(61,35),t.YNc(62,Cp,3,3,"th",31),t.YNc(63,xp,3,4,"td",32),t.BQk(),t.ynx(64,36),t.YNc(65,bp,3,3,"th",31),t.YNc(66,yp,2,1,"td",32),t.BQk(),t.ynx(67,37),t.YNc(68,Up,3,3,"th",31),t.YNc(69,Lp,2,1,"td",32),t.BQk(),t.ynx(70,38),t.YNc(71,Sp,3,3,"th",31),t.YNc(72,Np,3,4,"td",32),t.BQk(),t.ynx(73,39),t.YNc(74,Op,3,3,"th",31),t.YNc(75,wp,3,3,"td",32),t.BQk(),t.ynx(76,40),t.YNc(77,kp,3,3,"th",41),t.YNc(78,Mp,6,4,"td",32),t.BQk(),t.YNc(79,Jp,1,0,"tr",42),t.YNc(80,Dp,1,0,"tr",43),t.qZA(),t.ynx(81),t.TgZ(82,"mat-paginator",44),t.NdJ("page",function(r){return o.onPageSwitch(r)}),t.qZA(),t.BQk(),t.BQk(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.hij(" ",t.lcZ(5,18,"Customer_Payment")," "),t.xp6(6),t.hij("",t.lcZ(11,20,"Finance")," "),t.xp6(3),t.Oqu(t.lcZ(14,22,"Account_Receivable")),t.xp6(3),t.hij("",t.lcZ(17,24,"Customer_Payment")," "),t.xp6(10),t.MGl("placeholder","",t.lcZ(27,26,"Search"),"..."),t.Q6J("ngModel",o.searchValue),t.xp6(4),t.Oqu(t.lcZ(31,28,"Search")),t.xp6(3),t.s9C("matTooltip",t.lcZ(34,30,"Refresh")),t.xp6(6),t.hij(" ",t.lcZ(40,32,"Customer_Payment_List")," "),t.xp6(6),t.hij("",t.lcZ(46,34,"Add_New_Receipt")," "),t.xp6(4),t.Q6J("isLoading",o.isLoading),t.xp6(2),t.Q6J("dataSource",o.data),t.xp6(28),t.Q6J("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(2),t.Q6J("length",o.totalItemsCount)("pageSize",o.pageService.pageCount)("pageSizeOptions",o.pageService.selectItemsPerPage))},directives:[s.Fj,s.JJ,s.On,z.gM,b.r,p.BZ,x.YE,p.w1,p.fO,p.Dz,p.as,p.nj,q.NW,p.ge,x.nU,p.ev,d.O5,p.XQ,p.Gk],pipes:[Z.X$,d.uU,I.J],encapsulation:2}),i})();function Yp(i,a){if(1&i&&(t.TgZ(0,"option",23),t._uU(1),t.qZA()),2&i){const e=a.$implicit,o=t.oxw(2);t.s9C("value",e.id),t.xp6(1),t.Oqu(o.isArab?e.nameAR:e.nameEN)}}function Qp(i,a){if(1&i&&(t.ynx(0),t.YNc(1,Yp,2,2,"option",22),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.productTypeList)}}function jp(i,a){if(1&i&&(t.TgZ(0,"option",23),t._uU(1),t.qZA()),2&i){const e=a.$implicit,o=t.oxw(2);t.s9C("value",e.id),t.xp6(1),t.Oqu(o.isArab?e.nameAR:e.nameEN)}}function Fp(i,a){if(1&i&&(t.ynx(0),t.YNc(1,jp,2,2,"option",22),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.unitTypeList)}}let Bp=(()=>{class i{constructor(e,o,n,r,l,c,u){this.fb=e,this.apiService=o,this.authService=n,this.utilService=r,this.validationService=l,this.dialogRef=c,this.notifyService=u,this.id=0,this.selectedPayment="",this.paymentTermId="",this.unitTypeList=[],this.productTypeList=[],this.isArab=!1}ngOnInit(){this.isArab=this.utilService.isArabic(),this.setForm(),this.loadData(),this.row&&(this.id=parseInt(this.row.id),this.form.patchValue(this.row))}setForm(){this.form=this.fb.group({nameEN:["",s.kI.required],nameAR:["",s.kI.required],productTypeId:["",s.kI.required],unitTypeId:["",s.kI.required],description:["",s.kI.required],unitPrice:["",s.kI.compose([s.kI.required,this.validationService.decimalValidator])],costPrice:["",s.kI.compose([s.kI.required,this.validationService.decimalValidator])]})}loadData(){this.apiService.getall("unitType/getForCompany").subscribe(e=>{e&&(this.unitTypeList=e)}),this.apiService.getall("productType/getForCompany").subscribe(e=>{e&&(this.productTypeList=e)})}submit(){this.form.valid?(this.id>0&&(this.form.value.id=this.id),this.apiService.post("product",this.form.value).subscribe(e=>{this.utilService.OkMessage(),this.reset(),this.dialogRef.close(!0)},e=>{console.error(e),this.utilService.ShowApiErrorMessage(e)})):this.utilService.FillUpFields()}reset(){this.selectedPayment=this.paymentTermId=""}closeModel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(O.R),t.Y36(T.so),t.Y36(f.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-addupdateproduct"]],decls:79,vars:67,consts:[["type","button","aria-hidden","true",1,"close",3,"click"],["novalidate","",1,"mt-1",3,"formGroup","ngSubmit"],[1,"row","rowm0"],[1,"col-md-6","col-lg-6"],[1,"form-group"],[1,"mr-sm-2"],["type","text","formControlName","nameEN",1,"form-control",3,"placeholder"],[3,"control"],["type","text","formControlName","nameAR",1,"form-control",3,"placeholder"],[1,"form-group","mb-4"],["for","city",1,"mr-sm-2"],["id","coty","formControlName","productTypeId",1,"custom-select","mr-sm-2"],["value",""],[4,"ngIf"],["id","coty","formControlName","unitTypeId",1,"custom-select","mr-sm-2"],["type","text","formControlName","description",1,"form-control",3,"placeholder"],["type","text","formControlName","costPrice",1,"form-control",3,"placeholder"],["type","text","formControlName","unitPrice",1,"form-control",3,"placeholder"],[1,"row"],[1,"col-lg-12","col-md-12","text-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","waves-effect","waves-light","btn-primary",3,"value"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,o){1&e&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"button",0),t.NdJ("click",function(){return o.closeModel()}),t._uU(4," \xd7"),t.qZA(),t.qZA(),t.TgZ(5,"form",1),t.NdJ("ngSubmit",function(){return o.submit()}),t.TgZ(6,"div",2),t.TgZ(7,"div",3),t.TgZ(8,"div",4),t.TgZ(9,"label",5),t._uU(10),t.ALo(11,"translate"),t.qZA(),t._UZ(12,"input",6),t.ALo(13,"translate"),t._UZ(14,"validation-message",7),t.qZA(),t.qZA(),t.TgZ(15,"div",3),t.TgZ(16,"div",4),t.TgZ(17,"label",5),t._uU(18),t.ALo(19,"translate"),t.qZA(),t._UZ(20,"input",8),t.ALo(21,"translate"),t._UZ(22,"validation-message",7),t.qZA(),t.qZA(),t.TgZ(23,"div",3),t.TgZ(24,"div",9),t.TgZ(25,"label",10),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"select",11),t.TgZ(29,"option",12),t._uU(30),t.ALo(31,"translate"),t.ALo(32,"translate"),t.qZA(),t.YNc(33,Qp,2,1,"ng-container",13),t.qZA(),t._UZ(34,"validation-message",7),t.qZA(),t.qZA(),t.TgZ(35,"div",3),t.TgZ(36,"div",9),t.TgZ(37,"label",10),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"select",14),t.TgZ(41,"option",12),t._uU(42),t.ALo(43,"translate"),t.ALo(44,"translate"),t.qZA(),t.YNc(45,Fp,2,1,"ng-container",13),t.qZA(),t._UZ(46,"validation-message",7),t.qZA(),t.qZA(),t.TgZ(47,"div",3),t.TgZ(48,"div",4),t.TgZ(49,"label",5),t._uU(50),t.ALo(51,"translate"),t.qZA(),t._UZ(52,"textarea",15),t.ALo(53,"translate"),t._UZ(54,"validation-message",7),t.qZA(),t.qZA(),t.TgZ(55,"div",3),t.TgZ(56,"div",4),t.TgZ(57,"label",5),t._uU(58),t.ALo(59,"translate"),t.qZA(),t._UZ(60,"input",16),t.ALo(61,"translate"),t._UZ(62,"validation-message",7),t.qZA(),t.qZA(),t.TgZ(63,"div",3),t.TgZ(64,"div",4),t.TgZ(65,"label",5),t._uU(66),t.ALo(67,"translate"),t.qZA(),t._UZ(68,"input",17),t.ALo(69,"translate"),t._UZ(70,"validation-message",7),t.qZA(),t.qZA(),t.qZA(),t.TgZ(71,"div",18),t.TgZ(72,"div",19),t.TgZ(73,"button",20),t.NdJ("click",function(){return o.closeModel()}),t._uU(74),t.ALo(75,"translate"),t.qZA(),t._uU(76," \xa0\xa0 "),t._UZ(77,"input",21),t.ALo(78,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,29,"Create_New_Product")," "),t.xp6(4),t.Q6J("formGroup",o.form),t.xp6(5),t.hij(" ",t.lcZ(11,31,"Name")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(13,33,"Name")),t.xp6(2),t.Q6J("control",o.form.controls.nameEN),t.xp6(4),t.hij(" ",t.lcZ(19,35,"Name_Ar")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(21,37,"Name_Ar")),t.xp6(2),t.Q6J("control",o.form.controls.nameAR),t.xp6(4),t.Oqu(t.lcZ(27,39,"Product_Type")),t.xp6(4),t.AsE("",t.lcZ(31,41,"Choose")," ",t.lcZ(32,43,"Zone"),""),t.xp6(3),t.Q6J("ngIf",o.productTypeList),t.xp6(1),t.Q6J("control",o.form.controls.productTypeId),t.xp6(4),t.Oqu(t.lcZ(39,45,"Unit_Type")),t.xp6(4),t.AsE("",t.lcZ(43,47,"Choose")," ",t.lcZ(44,49,"Zone"),""),t.xp6(3),t.Q6J("ngIf",o.unitTypeList),t.xp6(1),t.Q6J("control",o.form.controls.unitTypeId),t.xp6(4),t.hij(" ",t.lcZ(51,51,"Description")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(53,53,"Description")),t.xp6(2),t.Q6J("control",o.form.controls.description),t.xp6(4),t.hij(" ",t.lcZ(59,55,"Cost_Price")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(61,57,"Cost_Price")),t.xp6(2),t.Q6J("control",o.form.controls.costPrice),t.xp6(4),t.hij(" ",t.lcZ(67,59,"Unit_Price")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(69,61,"Unit_Price")),t.xp6(2),t.Q6J("control",o.form.controls.unitPrice),t.xp6(4),t.hij(" ",t.lcZ(75,63,"Cancel")," "),t.xp6(3),t.s9C("value",t.lcZ(78,65,"Save")))},directives:[s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,M.s,s.EJ,s.YN,s.Kr,d.O5,d.sg],pipes:[Z.X$],encapsulation:2}),i})();function Vp(i,a){1&i&&(t.TgZ(0,"th",30),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"NameEN")," "))}function Rp(i,a){if(1&i&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.nameEN)}}function Ep(i,a){1&i&&(t.TgZ(0,"th",30),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"NameAR")," "))}function $p(i,a){if(1&i&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.nameAR)}}function zp(i,a){1&i&&(t.TgZ(0,"th",32),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Actions")))}function Hp(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"td",31),t.TgZ(1,"a",33),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().edit(r)}),t.ALo(2,"translate"),t._UZ(3,"i",34),t.qZA(),t.qZA()}2&i&&(t.xp6(1),t.s9C("matTooltip",t.lcZ(2,1,"Edit_Item")))}function Gp(i,a){1&i&&t._UZ(0,"tr",35)}function Xp(i,a){1&i&&t._UZ(0,"tr",36)}let Wp=(()=>{class i extends L.k{constructor(e,o,n,r,l,c,u){super(o),this.apiService=e,this.translate=n,this.utilService=r,this.notifyService=l,this.dialog=c,this.pageService=u,this.displayedColumns=["nameEN","nameAR","Actions"],this.data=new p.by,this.totalItemsCount=0,this.searchValue="",this.sortingOrder="id desc",this.isLoading=!1}ngOnInit(){this.initialLoading()}refresh(){this.searchValue="",this.initialLoading()}initialLoading(){this.loadList(0,this.pageService.pageCount,"",this.sortingOrder)}onSortOrder(e){this.sortingOrder=e.active+" "+e.direction,this.totalItemsCount=0,this.loadList(0,this.pageService.pageCount,"",this.sortingOrder)}onPageSwitch(e){this.pageService.change(e),this.loadList(e.pageIndex,e.pageSize,"",this.sortingOrder)}loadList(e,o,n,r){this.isLoading=!0,this.apiService.getPagination("product",this.utilService.getQueryString(e,o,n,r)).subscribe(l=>{this.totalItemsCount=0,this.data=new p.by(l.items),this.totalItemsCount=l.totalCount,setTimeout(()=>{this.paginator.pageIndex=e,this.paginator.length=this.totalItemsCount}),this.data.sort=this.sort,this.isLoading=!1},l=>this.utilService.ShowApiErrorMessage(l))}applyFilter(e){e&&(this.searchValue=e,this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder))}openDialogManage(e){let o=this.utilService.openCrudDialog(this.dialog,Bp);o.componentInstance.row=e,o.afterClosed().subscribe(n=>{n&&!0===n&&this.initialLoading()})}create(){this.openDialogManage(null)}edit(e){this.openDialogManage(e)}delete(e){this.utilService.openDeleteConfirmDialog(this.dialog,H.a).afterClosed().subscribe(n=>{n&&e>0&&this.apiService.delete("product",e).subscribe(r=>{this.refresh(),this.utilService.OkMessage()})},n=>this.utilService.ShowApiErrorMessage(n))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(h.s),t.Y36(_._),t.Y36(Z.sK),t.Y36(A.t),t.Y36(f.g),t.Y36(T.uw),t.Y36(k.N))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-products"]],viewQuery:function(e,o){if(1&e&&(t.Gf(q.NW,7),t.Gf(x.YE,7)),2&e){let n;t.iGM(n=t.CRH())&&(o.paginator=n.first),t.iGM(n=t.CRH())&&(o.sort=n.first)}},features:[t.qOj],decls:45,vars:24,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"row","pb-3"],[1,"card-title","pt6"],[1,"col-md-3"],[1,"form-control",3,"placeholder","ngModel","ngModelChange"],[1,"col-md-4","arabicright"],[1,"btn","btn-primary",3,"click"],[1,"",3,"matTooltip","click"],[1,"btn","btn-primary","icon-refresh"],[1,"col-md-5","col-lg-5","text-right"],["data-toggle","modal","data-target","#createnewbranch","href","#",1,"btn","waves-effect","waves-light","btn-rounded","btn-outline-primary",3,"click"],[1,"icon-plus"],[1,"cardtitle-divider"],[1,"table-responsive"],[3,"isLoading"],[1,"mat-elevation-z8"],["mat-table","","matSortDisableClear","","matSort","",1,"table","table-bordered","no-wrap",3,"dataSource","matSortChange"],["matColumnDef","nameEN"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nameAR"],["matColumnDef","Actions","stickyEnd",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions","page"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[1,"tableicons",3,"matTooltip","click"],[1,"icon-note"],["mat-header-row",""],["mat-row",""]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"div",2),t.TgZ(7,"h4",6),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.qZA(),t.TgZ(10,"div",7),t.TgZ(11,"input",8),t.NdJ("ngModelChange",function(r){return o.searchValue=r}),t.ALo(12,"translate"),t.qZA(),t.qZA(),t.TgZ(13,"div",9),t.TgZ(14,"button",10),t.NdJ("click",function(){return o.applyFilter(o.searchValue)}),t._uU(15),t.ALo(16,"translate"),t.qZA(),t._uU(17," \xa0 "),t.TgZ(18,"a",11),t.NdJ("click",function(){return o.refresh()}),t.ALo(19,"translate"),t._UZ(20,"i",12),t.qZA(),t.qZA(),t.TgZ(21,"div",13),t.TgZ(22,"a",14),t.NdJ("click",function(){return o.create()}),t._UZ(23,"i",15),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.qZA(),t.qZA(),t._UZ(26,"div",16),t.TgZ(27,"div",17),t._UZ(28,"spinner-loader",18),t.TgZ(29,"div",19),t.ynx(30),t.TgZ(31,"table",20),t.NdJ("matSortChange",function(r){return o.onSortOrder(r)}),t.ynx(32,21),t.YNc(33,Vp,3,3,"th",22),t.YNc(34,Rp,2,1,"td",23),t.BQk(),t.ynx(35,24),t.YNc(36,Ep,3,3,"th",22),t.YNc(37,$p,2,1,"td",23),t.BQk(),t.ynx(38,25),t.YNc(39,zp,3,3,"th",26),t.YNc(40,Hp,4,3,"td",23),t.BQk(),t.YNc(41,Gp,1,0,"tr",27),t.YNc(42,Xp,1,0,"tr",28),t.qZA(),t.ynx(43),t.TgZ(44,"mat-paginator",29),t.NdJ("page",function(r){return o.onPageSwitch(r)}),t.qZA(),t.BQk(),t.BQk(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(8),t.hij("",t.lcZ(9,14,"Product_List")," "),t.xp6(3),t.MGl("placeholder","",t.lcZ(12,16,"Search"),"..."),t.Q6J("ngModel",o.searchValue),t.xp6(4),t.Oqu(t.lcZ(16,18,"Search")),t.xp6(3),t.s9C("matTooltip",t.lcZ(19,20,"Refresh")),t.xp6(6),t.hij("",t.lcZ(25,22,"Create_New_Product")," "),t.xp6(4),t.Q6J("isLoading",o.isLoading),t.xp6(3),t.Q6J("dataSource",o.data),t.xp6(10),t.Q6J("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(2),t.Q6J("length",o.totalItemsCount)("pageSize",o.pageService.pageCount)("pageSizeOptions",o.pageService.selectItemsPerPage))},directives:[s.Fj,s.JJ,s.On,z.gM,b.r,p.BZ,x.YE,p.w1,p.fO,p.Dz,p.as,p.nj,q.NW,p.ge,x.nU,p.ev,p.XQ,p.Gk],pipes:[Z.X$],encapsulation:2}),i})(),Kp=(()=>{class i{constructor(e,o,n,r,l,c){this.fb=e,this.apiService=o,this.authService=n,this.utilService=r,this.dialogRef=l,this.notifyService=c,this.id=0,this.selectedPayment="",this.paymentTermId="",this.paymentTermsList=[]}ngOnInit(){this.setForm(),this.row&&(this.id=parseInt(this.row.id),this.form.patchValue(this.row))}setForm(){this.form=this.fb.group({nameEN:["",s.kI.required],nameAR:["",s.kI.required]})}submit(){this.form.valid?(this.id>0&&(this.form.value.id=this.id),this.apiService.post("productType",this.form.value).subscribe(e=>{this.utilService.OkMessage(),this.reset(),this.dialogRef.close(!0)},e=>{console.error(e),this.utilService.ShowApiErrorMessage(e)})):this.utilService.FillUpFields()}reset(){this.selectedPayment=this.paymentTermId=""}closeModel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(T.so),t.Y36(f.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-addupdateproducttype"]],decls:31,vars:24,consts:[["type","button","aria-hidden","true",1,"close",3,"click"],["novalidate","",1,"mt-1",3,"formGroup","ngSubmit"],[1,"row","rowm0"],[1,"col-md-12","col-lg-12"],[1,"form-group"],[1,"mr-sm-2"],["type","text","formControlName","nameEN",1,"form-control",3,"placeholder"],[3,"control"],["type","text","formControlName","nameAR",1,"form-control",3,"placeholder"],[1,"row"],[1,"col-lg-12","col-md-12","text-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","waves-effect","waves-light","btn-primary",3,"value"]],template:function(e,o){1&e&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"button",0),t.NdJ("click",function(){return o.closeModel()}),t._uU(4," \xd7"),t.qZA(),t.qZA(),t.TgZ(5,"form",1),t.NdJ("ngSubmit",function(){return o.submit()}),t.TgZ(6,"div",2),t.TgZ(7,"div",3),t.TgZ(8,"div",4),t.TgZ(9,"label",5),t._uU(10),t.ALo(11,"translate"),t.qZA(),t._UZ(12,"input",6),t.ALo(13,"translate"),t._UZ(14,"validation-message",7),t.qZA(),t.qZA(),t.TgZ(15,"div",3),t.TgZ(16,"div",4),t.TgZ(17,"label",5),t._uU(18),t.ALo(19,"translate"),t.qZA(),t._UZ(20,"input",8),t.ALo(21,"translate"),t._UZ(22,"validation-message",7),t.qZA(),t.qZA(),t.qZA(),t.TgZ(23,"div",9),t.TgZ(24,"div",10),t.TgZ(25,"button",11),t.NdJ("click",function(){return o.closeModel()}),t._uU(26),t.ALo(27,"translate"),t.qZA(),t._uU(28," \xa0\xa0 "),t._UZ(29,"input",12),t.ALo(30,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,10,"Create_New_ProductType")," "),t.xp6(4),t.Q6J("formGroup",o.form),t.xp6(5),t.hij(" ",t.lcZ(11,12,"Name")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(13,14,"Name")),t.xp6(2),t.Q6J("control",o.form.controls.nameEN),t.xp6(4),t.hij(" ",t.lcZ(19,16,"Name_Ar")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(21,18,"Name_Ar")),t.xp6(2),t.Q6J("control",o.form.controls.nameAR),t.xp6(4),t.hij(" ",t.lcZ(27,20,"Cancel")," "),t.xp6(3),t.s9C("value",t.lcZ(30,22,"Save")))},directives:[s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,M.s],pipes:[Z.X$],encapsulation:2}),i})();function td(i,a){1&i&&(t.TgZ(0,"th",30),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"NameEN")," "))}function ed(i,a){if(1&i&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.nameEN)}}function od(i,a){1&i&&(t.TgZ(0,"th",30),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"NameAR")," "))}function id(i,a){if(1&i&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.nameAR)}}function nd(i,a){1&i&&(t.TgZ(0,"th",32),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Actions")))}function ad(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"td",31),t.TgZ(1,"a",33),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().edit(r)}),t.ALo(2,"translate"),t._UZ(3,"i",34),t.qZA(),t.qZA()}2&i&&(t.xp6(1),t.s9C("matTooltip",t.lcZ(2,1,"Edit_Item")))}function rd(i,a){1&i&&t._UZ(0,"tr",35)}function sd(i,a){1&i&&t._UZ(0,"tr",36)}let ld=(()=>{class i extends L.k{constructor(e,o,n,r,l,c,u){super(o),this.apiService=e,this.translate=n,this.utilService=r,this.notifyService=l,this.dialog=c,this.pageService=u,this.displayedColumns=["nameEN","nameAR","Actions"],this.data=new p.by,this.totalItemsCount=0,this.searchValue="",this.sortingOrder="id desc",this.isLoading=!1}ngOnInit(){this.initialLoading()}refresh(){this.searchValue="",this.initialLoading()}initialLoading(){this.loadList(0,this.pageService.pageCount,"",this.sortingOrder)}onSortOrder(e){this.sortingOrder=e.active+" "+e.direction,this.totalItemsCount=0,this.loadList(0,this.pageService.pageCount,"",this.sortingOrder)}onPageSwitch(e){this.pageService.change(e),this.loadList(e.pageIndex,e.pageSize,"",this.sortingOrder)}loadList(e,o,n,r){this.isLoading=!0,this.apiService.getPagination("productType",this.utilService.getQueryString(e,o,n,r)).subscribe(l=>{this.totalItemsCount=0,this.data=new p.by(l.items),this.totalItemsCount=l.totalCount,setTimeout(()=>{this.paginator.pageIndex=e,this.paginator.length=this.totalItemsCount}),this.data.sort=this.sort,this.isLoading=!1},l=>this.utilService.ShowApiErrorMessage(l))}applyFilter(e){e&&(this.searchValue=e,this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder))}openDialogManage(e){let o=this.utilService.openCrudDialog(this.dialog,Kp);o.componentInstance.row=e,o.afterClosed().subscribe(n=>{n&&!0===n&&this.initialLoading()})}create(){this.openDialogManage(null)}edit(e){this.openDialogManage(e)}delete(e){this.utilService.openDeleteConfirmDialog(this.dialog,H.a).afterClosed().subscribe(n=>{n&&e>0&&this.apiService.delete("productType",e).subscribe(r=>{this.refresh(),this.utilService.OkMessage()})},n=>this.utilService.ShowApiErrorMessage(n))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(h.s),t.Y36(_._),t.Y36(Z.sK),t.Y36(A.t),t.Y36(f.g),t.Y36(T.uw),t.Y36(k.N))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-producttypes"]],viewQuery:function(e,o){if(1&e&&(t.Gf(q.NW,7),t.Gf(x.YE,7)),2&e){let n;t.iGM(n=t.CRH())&&(o.paginator=n.first),t.iGM(n=t.CRH())&&(o.sort=n.first)}},features:[t.qOj],decls:45,vars:24,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"row","pb-3"],[1,"card-title","pt6"],[1,"col-md-3"],[1,"form-control",3,"placeholder","ngModel","ngModelChange"],[1,"col-md-4","arabicright"],[1,"btn","btn-primary",3,"click"],[1,"",3,"matTooltip","click"],[1,"btn","btn-primary","icon-refresh"],[1,"col-md-5","col-lg-5","text-right"],["data-toggle","modal","data-target","#createnewbranch","href","#",1,"btn","waves-effect","waves-light","btn-rounded","btn-outline-primary",3,"click"],[1,"icon-plus"],[1,"cardtitle-divider"],[1,"table-responsive"],[3,"isLoading"],[1,"mat-elevation-z8"],["mat-table","","matSortDisableClear","","matSort","",1,"table","table-bordered","no-wrap",3,"dataSource","matSortChange"],["matColumnDef","nameEN"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nameAR"],["matColumnDef","Actions","stickyEnd",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions","page"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[1,"tableicons",3,"matTooltip","click"],[1,"icon-note"],["mat-header-row",""],["mat-row",""]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"div",2),t.TgZ(7,"h4",6),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.qZA(),t.TgZ(10,"div",7),t.TgZ(11,"input",8),t.NdJ("ngModelChange",function(r){return o.searchValue=r}),t.ALo(12,"translate"),t.qZA(),t.qZA(),t.TgZ(13,"div",9),t.TgZ(14,"button",10),t.NdJ("click",function(){return o.applyFilter(o.searchValue)}),t._uU(15),t.ALo(16,"translate"),t.qZA(),t._uU(17," \xa0 "),t.TgZ(18,"a",11),t.NdJ("click",function(){return o.refresh()}),t.ALo(19,"translate"),t._UZ(20,"i",12),t.qZA(),t.qZA(),t.TgZ(21,"div",13),t.TgZ(22,"a",14),t.NdJ("click",function(){return o.create()}),t._UZ(23,"i",15),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.qZA(),t.qZA(),t._UZ(26,"div",16),t.TgZ(27,"div",17),t._UZ(28,"spinner-loader",18),t.TgZ(29,"div",19),t.ynx(30),t.TgZ(31,"table",20),t.NdJ("matSortChange",function(r){return o.onSortOrder(r)}),t.ynx(32,21),t.YNc(33,td,3,3,"th",22),t.YNc(34,ed,2,1,"td",23),t.BQk(),t.ynx(35,24),t.YNc(36,od,3,3,"th",22),t.YNc(37,id,2,1,"td",23),t.BQk(),t.ynx(38,25),t.YNc(39,nd,3,3,"th",26),t.YNc(40,ad,4,3,"td",23),t.BQk(),t.YNc(41,rd,1,0,"tr",27),t.YNc(42,sd,1,0,"tr",28),t.qZA(),t.ynx(43),t.TgZ(44,"mat-paginator",29),t.NdJ("page",function(r){return o.onPageSwitch(r)}),t.qZA(),t.BQk(),t.BQk(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(8),t.hij("",t.lcZ(9,14,"ProductType_List")," "),t.xp6(3),t.MGl("placeholder","",t.lcZ(12,16,"Search"),"..."),t.Q6J("ngModel",o.searchValue),t.xp6(4),t.Oqu(t.lcZ(16,18,"Search")),t.xp6(3),t.s9C("matTooltip",t.lcZ(19,20,"Refresh")),t.xp6(6),t.hij("",t.lcZ(25,22,"Create_New_ProductType")," "),t.xp6(4),t.Q6J("isLoading",o.isLoading),t.xp6(3),t.Q6J("dataSource",o.data),t.xp6(10),t.Q6J("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(2),t.Q6J("length",o.totalItemsCount)("pageSize",o.pageService.pageCount)("pageSizeOptions",o.pageService.selectItemsPerPage))},directives:[s.Fj,s.JJ,s.On,z.gM,b.r,p.BZ,x.YE,p.w1,p.fO,p.Dz,p.as,p.nj,q.NW,p.ge,x.nU,p.ev,p.XQ,p.Gk],pipes:[Z.X$],encapsulation:2}),i})(),cd=(()=>{class i{constructor(e,o,n,r,l,c){this.fb=e,this.apiService=o,this.authService=n,this.utilService=r,this.dialogRef=l,this.notifyService=c,this.id=0,this.selectedPayment="",this.paymentTermId="",this.paymentTermsList=[]}ngOnInit(){this.setForm(),this.row&&(this.id=parseInt(this.row.id),this.form.patchValue(this.row))}setForm(){this.form=this.fb.group({nameEN:["",s.kI.required],nameAR:["",s.kI.required]})}submit(){this.form.valid?(this.id>0&&(this.form.value.id=this.id),this.apiService.post("unitType",this.form.value).subscribe(e=>{this.utilService.OkMessage(),this.reset(),this.dialogRef.close(!0)},e=>{console.error(e),this.utilService.ShowApiErrorMessage(e)})):this.utilService.FillUpFields()}reset(){this.selectedPayment=this.paymentTermId=""}closeModel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(T.so),t.Y36(f.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-addupdateunittype"]],decls:31,vars:24,consts:[["type","button","aria-hidden","true",1,"close",3,"click"],["novalidate","",1,"mt-1",3,"formGroup","ngSubmit"],[1,"row","rowm0"],[1,"col-md-12","col-lg-12"],[1,"form-group"],[1,"mr-sm-2"],["type","text","formControlName","nameEN",1,"form-control",3,"placeholder"],[3,"control"],["type","text","formControlName","nameAR",1,"form-control",3,"placeholder"],[1,"row"],[1,"col-lg-12","col-md-12","text-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","waves-effect","waves-light","btn-primary",3,"value"]],template:function(e,o){1&e&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"button",0),t.NdJ("click",function(){return o.closeModel()}),t._uU(4," \xd7"),t.qZA(),t.qZA(),t.TgZ(5,"form",1),t.NdJ("ngSubmit",function(){return o.submit()}),t.TgZ(6,"div",2),t.TgZ(7,"div",3),t.TgZ(8,"div",4),t.TgZ(9,"label",5),t._uU(10),t.ALo(11,"translate"),t.qZA(),t._UZ(12,"input",6),t.ALo(13,"translate"),t._UZ(14,"validation-message",7),t.qZA(),t.qZA(),t.TgZ(15,"div",3),t.TgZ(16,"div",4),t.TgZ(17,"label",5),t._uU(18),t.ALo(19,"translate"),t.qZA(),t._UZ(20,"input",8),t.ALo(21,"translate"),t._UZ(22,"validation-message",7),t.qZA(),t.qZA(),t.qZA(),t.TgZ(23,"div",9),t.TgZ(24,"div",10),t.TgZ(25,"button",11),t.NdJ("click",function(){return o.closeModel()}),t._uU(26),t.ALo(27,"translate"),t.qZA(),t._uU(28," \xa0\xa0 "),t._UZ(29,"input",12),t.ALo(30,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,10,"Create_New_UnitType")," "),t.xp6(4),t.Q6J("formGroup",o.form),t.xp6(5),t.hij(" ",t.lcZ(11,12,"Name")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(13,14,"Name")),t.xp6(2),t.Q6J("control",o.form.controls.nameEN),t.xp6(4),t.hij(" ",t.lcZ(19,16,"Name_Ar")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(21,18,"Name_Ar")),t.xp6(2),t.Q6J("control",o.form.controls.nameAR),t.xp6(4),t.hij(" ",t.lcZ(27,20,"Cancel")," "),t.xp6(3),t.s9C("value",t.lcZ(30,22,"Save")))},directives:[s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,M.s],pipes:[Z.X$],encapsulation:2}),i})();function pd(i,a){1&i&&(t.TgZ(0,"th",30),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"NameEN")," "))}function dd(i,a){if(1&i&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.nameEN)}}function ud(i,a){1&i&&(t.TgZ(0,"th",30),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"NameAR")," "))}function md(i,a){if(1&i&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.nameAR)}}function gd(i,a){1&i&&(t.TgZ(0,"th",32),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Actions")))}function Zd(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"td",31),t.TgZ(1,"a",33),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().edit(r)}),t.ALo(2,"translate"),t._UZ(3,"i",34),t.qZA(),t.qZA()}2&i&&(t.xp6(1),t.s9C("matTooltip",t.lcZ(2,1,"Edit_Item")))}function hd(i,a){1&i&&t._UZ(0,"tr",35)}function _d(i,a){1&i&&t._UZ(0,"tr",36)}let Ad=(()=>{class i extends L.k{constructor(e,o,n,r,l,c,u){super(o),this.apiService=e,this.translate=n,this.utilService=r,this.notifyService=l,this.dialog=c,this.pageService=u,this.displayedColumns=["nameEN","nameAR","Actions"],this.data=new p.by,this.totalItemsCount=0,this.searchValue="",this.sortingOrder="id desc",this.isLoading=!1}ngOnInit(){this.initialLoading()}refresh(){this.searchValue="",this.initialLoading()}initialLoading(){this.loadList(0,this.pageService.pageCount,"",this.sortingOrder)}onSortOrder(e){this.sortingOrder=e.active+" "+e.direction,this.totalItemsCount=0,this.loadList(0,this.pageService.pageCount,"",this.sortingOrder)}onPageSwitch(e){this.pageService.change(e),this.loadList(e.pageIndex,e.pageSize,"",this.sortingOrder)}loadList(e,o,n,r){this.isLoading=!0,this.apiService.getPagination("UnitType",this.utilService.getQueryString(e,o,n,r)).subscribe(l=>{this.totalItemsCount=0,this.data=new p.by(l.items),this.totalItemsCount=l.totalCount,setTimeout(()=>{this.paginator.pageIndex=e,this.paginator.length=this.totalItemsCount}),this.data.sort=this.sort,this.isLoading=!1},l=>this.utilService.ShowApiErrorMessage(l))}applyFilter(e){e&&(this.searchValue=e,this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder))}openDialogManage(e){let o=this.utilService.openCrudDialog(this.dialog,cd);o.componentInstance.row=e,o.afterClosed().subscribe(n=>{n&&!0===n&&this.initialLoading()})}create(){this.openDialogManage(null)}edit(e){this.openDialogManage(e)}delete(e){this.utilService.openDeleteConfirmDialog(this.dialog,H.a).afterClosed().subscribe(n=>{n&&e>0&&this.apiService.delete("UnitType",e).subscribe(r=>{this.refresh(),this.utilService.OkMessage()})},n=>this.utilService.ShowApiErrorMessage(n))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(h.s),t.Y36(_._),t.Y36(Z.sK),t.Y36(A.t),t.Y36(f.g),t.Y36(T.uw),t.Y36(k.N))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-unittypes"]],viewQuery:function(e,o){if(1&e&&(t.Gf(q.NW,7),t.Gf(x.YE,7)),2&e){let n;t.iGM(n=t.CRH())&&(o.paginator=n.first),t.iGM(n=t.CRH())&&(o.sort=n.first)}},features:[t.qOj],decls:45,vars:24,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"row","pb-3"],[1,"card-title","pt6"],[1,"col-md-3"],[1,"form-control",3,"placeholder","ngModel","ngModelChange"],[1,"col-md-4","arabicright"],[1,"btn","btn-primary",3,"click"],[1,"",3,"matTooltip","click"],[1,"btn","btn-primary","icon-refresh"],[1,"col-md-5","col-lg-5","text-right"],["data-toggle","modal","data-target","#createnewbranch","href","#",1,"btn","waves-effect","waves-light","btn-rounded","btn-outline-primary",3,"click"],[1,"icon-plus"],[1,"cardtitle-divider"],[1,"table-responsive"],[3,"isLoading"],[1,"mat-elevation-z8"],["mat-table","","matSortDisableClear","","matSort","",1,"table","table-bordered","no-wrap",3,"dataSource","matSortChange"],["matColumnDef","nameEN"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nameAR"],["matColumnDef","Actions","stickyEnd",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions","page"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[1,"tableicons",3,"matTooltip","click"],[1,"icon-note"],["mat-header-row",""],["mat-row",""]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"div",2),t.TgZ(7,"h4",6),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.qZA(),t.TgZ(10,"div",7),t.TgZ(11,"input",8),t.NdJ("ngModelChange",function(r){return o.searchValue=r}),t.ALo(12,"translate"),t.qZA(),t.qZA(),t.TgZ(13,"div",9),t.TgZ(14,"button",10),t.NdJ("click",function(){return o.applyFilter(o.searchValue)}),t._uU(15),t.ALo(16,"translate"),t.qZA(),t._uU(17," \xa0 "),t.TgZ(18,"a",11),t.NdJ("click",function(){return o.refresh()}),t.ALo(19,"translate"),t._UZ(20,"i",12),t.qZA(),t.qZA(),t.TgZ(21,"div",13),t.TgZ(22,"a",14),t.NdJ("click",function(){return o.create()}),t._UZ(23,"i",15),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.qZA(),t.qZA(),t._UZ(26,"div",16),t.TgZ(27,"div",17),t._UZ(28,"spinner-loader",18),t.TgZ(29,"div",19),t.ynx(30),t.TgZ(31,"table",20),t.NdJ("matSortChange",function(r){return o.onSortOrder(r)}),t.ynx(32,21),t.YNc(33,pd,3,3,"th",22),t.YNc(34,dd,2,1,"td",23),t.BQk(),t.ynx(35,24),t.YNc(36,ud,3,3,"th",22),t.YNc(37,md,2,1,"td",23),t.BQk(),t.ynx(38,25),t.YNc(39,gd,3,3,"th",26),t.YNc(40,Zd,4,3,"td",23),t.BQk(),t.YNc(41,hd,1,0,"tr",27),t.YNc(42,_d,1,0,"tr",28),t.qZA(),t.ynx(43),t.TgZ(44,"mat-paginator",29),t.NdJ("page",function(r){return o.onPageSwitch(r)}),t.qZA(),t.BQk(),t.BQk(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(8),t.hij("",t.lcZ(9,14,"UnitType_List")," "),t.xp6(3),t.MGl("placeholder","",t.lcZ(12,16,"Search"),"..."),t.Q6J("ngModel",o.searchValue),t.xp6(4),t.Oqu(t.lcZ(16,18,"Search")),t.xp6(3),t.s9C("matTooltip",t.lcZ(19,20,"Refresh")),t.xp6(6),t.hij("",t.lcZ(25,22,"Create_New_UnitType")," "),t.xp6(4),t.Q6J("isLoading",o.isLoading),t.xp6(3),t.Q6J("dataSource",o.data),t.xp6(10),t.Q6J("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(2),t.Q6J("length",o.totalItemsCount)("pageSize",o.pageService.pageCount)("pageSizeOptions",o.pageService.selectItemsPerPage))},directives:[s.Fj,s.JJ,s.On,z.gM,b.r,p.BZ,x.YE,p.w1,p.fO,p.Dz,p.as,p.nj,q.NW,p.ge,x.nU,p.ev,p.XQ,p.Gk],pipes:[Z.X$],encapsulation:2}),i})();function fd(i,a){if(1&i&&(t.TgZ(0,"option",63),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function Td(i,a){if(1&i&&(t.TgZ(0,"option",63),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function vd(i,a){if(1&i&&(t.TgZ(0,"option",63),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.text),t.xp6(1),t.Oqu(e.text)}}function qd(i,a){1&i&&(t.TgZ(0,"th",64),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Branch")))}function Cd(i,a){1&i&&(t.ynx(0),t.TgZ(1,"th",64),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"th",64),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.BQk()),2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,2,"Service")),t.xp6(3),t.Oqu(t.lcZ(6,4,"Branch")))}function xd(i,a){1&i&&(t.ynx(0),t.TgZ(1,"th",64),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.BQk()),2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Service")))}function bd(i,a){1&i&&(t.TgZ(0,"th",65),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Dr_Amount")))}function yd(i,a){1&i&&(t.TgZ(0,"th",65),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Cr_Amount")," "))}function Ud(i,a){if(1&i&&(t.TgZ(0,"option",63),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}const tt=function(){return{standalone:!0}};function Ld(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"td"),t.TgZ(1,"select",66),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().branchCode=n})("change",function(n){return t.CHM(e),t.oxw().loadAccountCodes(n)}),t.TgZ(2,"option",19),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.YNc(5,Ud,2,2,"option",20),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngModel",e.branchCode)("ngModelOptions",t.DdM(7,tt))("disabled",1==e.branchList.length),t.xp6(2),t.Oqu(t.lcZ(4,5,"Branch")),t.xp6(2),t.Q6J("ngForOf",e.branchList)}}function Sd(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"td"),t.TgZ(2,"ng-select",67),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().batch=n}),t.qZA(),t.qZA(),t.TgZ(3,"td"),t.TgZ(4,"ng-select",67),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().batch2=n}),t.qZA(),t.qZA(),t.BQk()}if(2&i){const e=t.oxw();t.xp6(2),t.Q6J("items",e.segmentSetupList)("ngModel",e.batch)("ngModelOptions",t.DdM(6,tt)),t.xp6(2),t.Q6J("items",e.segmentTwoSetupList)("ngModel",e.batch2)("ngModelOptions",t.DdM(7,tt))}}function Nd(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"td"),t.TgZ(2,"ng-select",67),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().batch=n}),t.qZA(),t.qZA(),t.BQk()}if(2&i){const e=t.oxw();t.xp6(2),t.Q6J("items",e.segmentSetupList)("ngModel",e.batch)("ngModelOptions",t.DdM(3,tt))}}function Od(i,a){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.branchName)}}function wd(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.batch),t.xp6(2),t.Oqu(e.batch2)}}function kd(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.batch)}}function Id(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"tr"),t.YNc(1,Od,2,1,"td",48),t.YNc(2,wd,5,2,"ng-container",48),t.YNc(3,kd,3,1,"ng-container",48),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td",51),t.TgZ(17,"i",69),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).editInvoiceItem(r)}),t.qZA(),t._uU(18," \xa0 "),t.TgZ(19,"i",70),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).deleteInvoiceItem(r)}),t.qZA(),t._uU(20," \xa0 "),t.qZA(),t.qZA()}if(2&i){const e=a.$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("ngIf",o.hasBranchHidden),t.xp6(1),t.Q6J("ngIf",o.isSeg2),t.xp6(1),t.Q6J("ngIf",o.isSeg1),t.xp6(2),t.Oqu(e.finAcCode),t.xp6(2),t.Oqu(e.description),t.xp6(2),t.Oqu(e.remarks),t.xp6(2),t.Oqu(e.costAllocationName),t.xp6(2),t.Oqu(e.costSegCodeName),t.xp6(2),t.Oqu(e.payment)}}function Md(i,a){if(1&i&&(t.TgZ(0,"tbody"),t.YNc(1,Id,21,9,"tr",68),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.itemList)}}let Ct=(()=>{class i{constructor(e,o,n,r,l,c,u){this.fb=e,this.apiService=o,this.authService=n,this.utilService=r,this.dialogRef=l,this.notifyService=c,this.validationService=u,this.id=0,this.isEdit=!1,this.customerSiteList=[],this.customerList=[],this.companyList=[],this.branchList=[],this.accountCodeList=[],this.segmentSetupList=[],this.segmentTwoSetupList=[],this.costAllocationList=[],this.costSegCodeList=[],this.batchSetupList=[],this.isSeg1=!1,this.isSeg2=!1,this.payCodeList=[],this.itemList=[],this.isPaymentType=!1,this.isArab=!1,this.isCodeSegmentReadonly=!1,this.isEditingRecord=!1,this.hasBranchHidden=!1,this.branchName="",this.branchCode="",this.finAcCode="",this.description="",this.remarks="",this.batch="",this.batch2="",this.costAllocation=0,this.costAllocationName="",this.costSegCode="",this.costSegCodeName="",this.payment=0,this.sequence=1,this.editsequence=0}ngOnInit(){this.isArab=this.utilService.isArabic(),this.setForm(),this.loadData(),this.id>0&&(this.isEdit=!0,this.setEditForm())}setForm(){this.form=this.fb.group({jvDate:[this.utilService.getCurrentDate(),s.kI.required],amount:["",s.kI.required],customerId:[""],siteCode:[""],companyId:["",s.kI.required],branchCode:["",s.kI.required],docNum:["",s.kI.required],batch:"",bankCode:["",s.kI.required],trnMode:["",s.kI.required],chequeNumber:["",s.kI.required],chequeDate:["",s.kI.required],accountPayee:[!1],pdc:[!1],voucherType:["",s.kI.required],remarks:[""],narration:[""]})}loadData(){this.apiService.getall("customer/getSelectLanCustomerList").subscribe(e=>{e&&(this.customerList=e,this.customerList.map(n=>(n.text=this.isArab?n.textAr:n.text,n)))}),this.apiService.getall("mainAccounts/financesetup").subscribe(e=>{if(e){const o=e.numOfSeg;this.isSeg1=1==o,this.isSeg2=2==o,(this.isSeg1||this.isSeg2)&&this.apiService.getall("segmentSetup/getSegmentSetupSelectList").subscribe(n=>{n&&(this.segmentSetupList=n)}),this.isSeg2&&this.apiService.getall("segmentTwoSetup/getSegmentTwoSetupSelectList").subscribe(n=>{n&&(this.segmentTwoSetupList=n)})}}),this.apiService.getall("costAllocationSetup/getCostAllocationSetupSelectList").subscribe(e=>{e&&(this.costAllocationList=e)}),this.apiService.getall("batchSetup/getBatchSetupSelectList").subscribe(e=>{e&&(this.batchSetupList=e)}),this.apiService.getall("paymentcodes/getSelectPaymentBankCodeList").subscribe(e=>{e&&(console.log(e),this.payCodeList=e)}),this.apiService.getall("company/getSelectCompanyList").subscribe(e=>{e&&(this.companyList=e)})}hasBranchHiddenChecked(e){this.hasBranchHidden=e.checked}loadSegCodedata(e){const o=e.value;this.costAllocationName=e.text,o>0&&(this.costSegCode="",this.costSegCodeName="",this.apiService.getall(`costAllocationSetup/getCostSegmentCodeSelectList/${o}`).subscribe(n=>{n&&(this.costSegCodeList=n),this.costSegCodeList.map(l=>(l.text=this.isArab?l.textTwo+" "+l.textAr:l.text+" "+l.textTwo,l)),this.costSegCode=e.custCode}))}selectSegCodedata(e){this.costSegCodeName=e.text}loadBranchs(e){let o=e.target.value;o&&this.apiService.getall(`branch/getSelectSysBranchListByComId/${o}`).subscribe(n=>{n&&(this.branchList=n),1==this.branchList.length&&this.loadAccountCodesForBranch(this.branchList[0].value)})}selectBranch(e){this.branchCode=e.target.value,this.loadAccountCodesForBranch(this.branchCode)}loadAccountCodes(e){this.loadAccountCodesForBranch(e.target.value)}loadAccountCodesForBranch(e){e&&(this.finAcCode="",this.apiService.getall(`accountsbranchmapping/getSelectAccountMappingList?branchCode=${e}`).subscribe(o=>{o&&(this.accountCodeList=o)}))}setEditForm(){this.apiService.get("bankVoucher",this.id).subscribe(e=>{e&&(this.loadBranchsForCompany(e.companyId,e),this.displayJvItems(e.itemList),e.siteCode&&(this.isEditingRecord=!0,this.customerSiteList=[{text:e.siteCode,value:e.siteCode,textAr:"",textTwo:""}]),this.form.patchValue(e))})}displayJvItems(e){e.forEach(o=>{var n;this.branchName=o.branchName,this.branchCode=o.branchCode,this.description=o.description,this.finAcCode=o.finAcCode,this.remarks=o.remarks,this.batch=o.batch,this.batch2=o.batch2,this.costAllocation=o.costAllocation,this.costAllocationName=o.costAllocation?null===(n=this.costAllocationList.find(r=>r.value==o.costAllocation))||void 0===n?void 0:n.text:"",this.costSegCode=o.costSegCode,this.costSegCodeName=o.costSegCode,this.payment=o.payment,this.fillITems()})}loadBranchsForCompany(e,o){e&&this.apiService.getall(`branch/getSelectSysBranchListByComId/${e}`).subscribe(n=>{n&&(this.branchList=n)})}loadAccountCodeForBranch(e,o){e&&this.apiService.getall(`accountsbranchmapping/getSelectAccountMappingList?branchCode=${e}`).subscribe(n=>{n&&(this.accountCodeList=n,this.finAcCode=o)})}fillITems(){this.itemList.push({sequence:this.getSequence(),branchName:this.branchName,branchCode:this.branchCode,finAcCode:this.finAcCode,description:this.description,remarks:this.remarks,batch:this.batch,batch2:this.batch2,costAllocation:this.costAllocation,costSegCode:this.costSegCode,costAllocationName:this.costAllocationName,costSegCodeName:this.costSegCodeName,payment:this.payment}),this.setToDefault()}addItem(){this.payment>0&&(this.editsequence>0&&(this.removeInvoiceList(this.editsequence),this.editsequence=0),this.itemList.push({sequence:this.getSequence(),branchName:this.getBranchName(this.branchCode),branchCode:this.branchCode,finAcCode:this.finAcCode,description:this.description,remarks:this.remarks,batch:this.batch,batch2:this.batch2,costAllocation:this.costAllocation,costSegCode:this.costSegCode,costAllocationName:this.costAllocationName,costSegCodeName:this.costSegCodeName,payment:this.payment}),this.setToDefault())}getSequence(){return this.sequence+=this.sequence+1}deleteInvoiceItem(e){this.removeInvoiceList(e.sequence)}removeInvoiceList(e){let o=this.itemList.findIndex(n=>n.sequence===e);this.itemList.splice(o,1)}getBranchName(e){var o;return null===(o=this.branchList.find(n=>n.value===e))||void 0===o?void 0:o.text}editInvoiceItem(e){this.editsequence=e.sequence,this.branchCode=e.branchCode,this.loadAccountCodeForBranch(this.branchCode,e.finAcCode),this.description=e.description,this.remarks=e.remarks,this.batch=e.batch,this.batch2=e.batch2,this.costAllocation=e.costAllocation,this.costAllocationName=e.costAllocationName,this.costSegCode=e.costSegCode,this.costSegCodeName=e.costSegCodeName,this.payment=e.payment}setToDefault(){this.editsequence=0,this.hasBranchHidden&&(this.branchCode=""),this.finAcCode="",this.description="",this.remarks="",this.batch="",this.batch2="",this.isCodeSegmentReadonly||(this.costAllocation=0,this.costAllocationName="",this.costSegCode="",this.costSegCodeName=""),this.payment=0}selectVoucherType(e){""!==e.target.value&&(this.isPaymentType="Payment"==e.target.value)}resetCodeSegmentReadonly(){this.isCodeSegmentReadonly=!1,this.costSegCode="",this.costAllocation=0,this.form.controls.siteCode.setValue(null)}customerChange(e){var o;let n=e.value,r=e.textTwo;this.form.controls.siteCode.setValue(null),this.isCodeSegmentReadonly=!0,this.isEditingRecord=!1,this.costAllocation=null===(o=this.costAllocationList.find(l=>"customer"==l.textTwo.toLowerCase()))||void 0===o?void 0:o.value,this.loadSegCodedata({value:this.costAllocation,custCode:r}),this.apiService.getall(`customer/getCustomerSitesSelectList/${n}`).subscribe(l=>{l&&(this.customerSiteList=l,this.customerSiteList.map(c=>(c.text=this.isArab?c.textTwo:c.text,c)))})}submit(){this.itemList.length<=0?this.utilService.FillUpFields():this.form.valid?(this.hasBranchHidden||this.itemList.forEach(e=>{e.branchCode=this.form.value.branchCode}),this.form.value.jvDate=this.utilService.selectedDateTime(this.form.controls.jvDate.value),this.id>0&&(this.form.value.id=this.id),this.form.value.itemList=this.itemList,this.apiService.post("bankVoucher",this.form.value).subscribe(e=>{this.utilService.OkMessage(),this.reset(),this.dialogRef.close(!0)},e=>{this.utilService.ShowApiErrorMessage(e)})):this.utilService.FillUpFields()}reset(){this.form.controls.jvDate.setValue(""),this.form.controls.companyId.setValue(""),this.form.controls.branchCode.setValue("")}closeModel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(T.so),t.Y36(f.g),t.Y36(O.R))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-addupdatebankvoucher"]],decls:239,vars:182,consts:[["type","button","aria-hidden","true",1,"close",3,"click"],["novalidate","",1,"mt-4",3,"formGroup","ngSubmit"],[1,"modal-body","p-0"],[1,"outer"],[1,"row"],[1,"col-md-6","col-lg-6"],[1,"form-group"],[1,"input-group","mb-2"],["formControlName","jvDate",1,"form-control","datapickerinput",3,"placeholder","matDatepicker"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker",""],[3,"control"],["type","number","formControlName","amount",1,"form-control",3,"placeholder"],[1,"col-md-6","col-lg-6","d-none"],[1,"mr-sm-2"],["bindLabel","text","bindValue","textTwo","formControlName","customerId",3,"items","clear","change"],["bindLabel","text","bindValue","value","formControlName","siteCode",3,"items"],["formControlName","companyId",1,"custom-select","mr-sm-2",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-group","mb-4"],["color","primary",3,"change"],["formControlName","branchCode",1,"custom-select","mr-sm-2",3,"change"],["type","text","formControlName","docNum",1,"form-control",3,"placeholder"],[1,"col-md-3","col-lg-3"],["formControlName","bankCode",1,"custom-select","mr-sm-2"],["formControlName","trnMode",1,"custom-select","mr-sm-2"],["value","Cheque"],["value","RTGS"],["value","NEFT"],["value","IMPS"],["type","text","formControlName","chequeNumber","maxlength","10",1,"form-control",3,"placeholder"],["formControlName","chequeDate",1,"form-control","datapickerinput",3,"placeholder","matDatepicker"],["chequeDate",""],["for","IsActive"],["color","primary","formControlName","accountPayee"],["color","primary","formControlName","pdc"],["formControlName","voucherType",1,"custom-select","mr-sm-2",3,"change"],["value","Receipts"],["value","Payment"],["bindLabel","text","bindValue","value","formControlName","batch",3,"items"],[1,"col-md-12","col-lg-12"],["formControlName","remarks",1,"form-control",3,"placeholder"],["formControlName","narration",1,"form-control",3,"placeholder"],[1,""],["id","zero_config",1,"table","table-bordered","no-wrap"],["width","10%",4,"ngIf"],[4,"ngIf"],[2,"width","25%"],["width","9%",4,"ngIf"],[1,"text-center"],["bindLabel","text","bindValue","value",1,"voucher-width-250",3,"items","ngModel","ngModelOptions","ngModelChange"],["rows","5","type","text","value","Nil",1,"form-control","voucher-width-200",3,"ngModel","ngModelOptions","ngModelChange"],["rows","5","type","text","value","Travelling",1,"form-control","voucher-width-200",3,"ngModel","ngModelOptions","ngModelChange"],["bindLabel","text","bindValue","value",1,"voucher-width-180",3,"items","ngModel","ngModelOptions","readonly","ngModelChange","change"],["bindLabel","text","bindValue","textTwo",1,"voucher-width-230",3,"items","ngModel","ngModelOptions","readonly","ngModelChange","change"],["type","number","value","",1,"form-control","voucher-width-120",3,"ngModel","ngModelOptions","ngModelChange"],[1,"fas","fa-plus-circle",3,"click"],[1,"fas","fa-eraser","text-danger",3,"click"],[1,"col-lg-12","col-md-12","text-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","waves-effect","waves-light","btn-primary",3,"value"],[3,"value"],["width","10%"],["width","9%"],[1,"custom-select","mr-sm-2","voucher-width-120",3,"ngModel","ngModelOptions","disabled","ngModelChange","change"],["bindLabel","text","bindValue","value",1,"voucher-width-180",3,"items","ngModel","ngModelOptions","ngModelChange"],[4,"ngFor","ngForOf"],[1,"icon-note","cpointer",3,"click"],[1,"icon-trash","cpointer",3,"click"]],template:function(e,o){if(1&e&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"button",0),t.NdJ("click",function(){return o.closeModel()}),t._uU(4," \xd7"),t.qZA(),t.qZA(),t.TgZ(5,"form",1),t.NdJ("ngSubmit",function(){return o.submit()}),t.TgZ(6,"div",2),t.TgZ(7,"div",3),t.TgZ(8,"div",4),t.TgZ(9,"div",5),t.TgZ(10,"div",6),t.TgZ(11,"label"),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"div",7),t._UZ(15,"input",8),t.ALo(16,"translate"),t.TgZ(17,"div",9),t._UZ(18,"mat-datepicker-toggle",10),t._UZ(19,"mat-datepicker",null,11),t._UZ(21,"br"),t._UZ(22,"br"),t.qZA(),t.qZA(),t._UZ(23,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(24,"div",5),t.TgZ(25,"div",6),t.TgZ(26,"label"),t._uU(27),t.ALo(28,"translate"),t.qZA(),t._UZ(29,"input",13),t.ALo(30,"translate"),t.ALo(31,"translate"),t._UZ(32,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(33,"div",14),t.TgZ(34,"div",6),t.TgZ(35,"label",15),t._uU(36),t.ALo(37,"translate"),t.qZA(),t.TgZ(38,"ng-select",16),t.NdJ("clear",function(){return o.resetCodeSegmentReadonly()})("change",function(r){return o.customerChange(r)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(39,"div",14),t.TgZ(40,"div",6),t.TgZ(41,"label",15),t._uU(42),t.ALo(43,"translate"),t.qZA(),t._UZ(44,"ng-select",17),t.qZA(),t.qZA(),t.TgZ(45,"div",5),t.TgZ(46,"div",6),t.TgZ(47,"label"),t._uU(48),t.ALo(49,"translate"),t.qZA(),t.TgZ(50,"select",18),t.NdJ("change",function(r){return o.loadBranchs(r)}),t.TgZ(51,"option",19),t._uU(52),t.ALo(53,"translate"),t.qZA(),t.YNc(54,fd,2,2,"option",20),t.qZA(),t._UZ(55,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(56,"div",5),t.TgZ(57,"div",21),t.TgZ(58,"label",15),t._uU(59),t.ALo(60,"translate"),t.qZA(),t._uU(61," \xa0\xa0 "),t.TgZ(62,"mat-slide-toggle",22),t.NdJ("change",function(r){return o.hasBranchHiddenChecked(r)}),t.qZA(),t.TgZ(63,"select",23),t.NdJ("change",function(r){return o.selectBranch(r)}),t.TgZ(64,"option",19),t._uU(65),t.ALo(66,"translate"),t.qZA(),t.YNc(67,Td,2,2,"option",20),t.qZA(),t._UZ(68,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(69,"div",5),t.TgZ(70,"div",6),t.TgZ(71,"label"),t._uU(72),t.ALo(73,"translate"),t.qZA(),t._UZ(74,"input",24),t.ALo(75,"translate"),t.ALo(76,"translate"),t._UZ(77,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(78,"div",25),t.TgZ(79,"div",6),t.TgZ(80,"label",15),t._uU(81),t.ALo(82,"translate"),t.qZA(),t.TgZ(83,"select",26),t.TgZ(84,"option",19),t._uU(85),t.ALo(86,"translate"),t.qZA(),t.YNc(87,vd,2,2,"option",20),t.qZA(),t._UZ(88,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(89,"div",5),t.TgZ(90,"div",21),t.TgZ(91,"label",15),t._uU(92),t.ALo(93,"translate"),t.qZA(),t.TgZ(94,"select",27),t.TgZ(95,"option",19),t._uU(96,"Choose Transaction Mode "),t.qZA(),t.TgZ(97,"option",28),t._uU(98,"Cheque"),t.qZA(),t.TgZ(99,"option",29),t._uU(100,"RTGS"),t.qZA(),t.TgZ(101,"option",30),t._uU(102,"NEFT"),t.qZA(),t.TgZ(103,"option",31),t._uU(104,"IMPS"),t.qZA(),t.qZA(),t._UZ(105,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(106,"div",5),t.TgZ(107,"div",6),t.TgZ(108,"label"),t._uU(109),t.ALo(110,"translate"),t.qZA(),t._UZ(111,"input",32),t.ALo(112,"translate"),t.ALo(113,"translate"),t._UZ(114,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(115,"div",5),t.TgZ(116,"div",6),t.TgZ(117,"label"),t._uU(118),t.ALo(119,"translate"),t.qZA(),t.TgZ(120,"div",7),t._UZ(121,"input",33),t.ALo(122,"translate"),t.TgZ(123,"div",9),t._UZ(124,"mat-datepicker-toggle",10),t._UZ(125,"mat-datepicker",null,34),t._UZ(127,"br"),t._UZ(128,"br"),t.qZA(),t.qZA(),t._UZ(129,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(130,"div",5),t.TgZ(131,"div",6),t.TgZ(132,"label",35),t._uU(133),t.ALo(134,"translate"),t.qZA(),t.TgZ(135,"div"),t._UZ(136,"mat-slide-toggle",36),t.qZA(),t.qZA(),t.qZA(),t.TgZ(137,"div",5),t.TgZ(138,"div",6),t.TgZ(139,"label",35),t._uU(140),t.ALo(141,"translate"),t.qZA(),t.TgZ(142,"div"),t._UZ(143,"mat-slide-toggle",37),t.qZA(),t.qZA(),t.qZA(),t.TgZ(144,"div",5),t.TgZ(145,"div",21),t.TgZ(146,"label",15),t._uU(147),t.ALo(148,"translate"),t.qZA(),t.TgZ(149,"select",38),t.NdJ("change",function(r){return o.selectVoucherType(r)}),t.TgZ(150,"option",19),t._uU(151),t.ALo(152,"translate"),t.qZA(),t.TgZ(153,"option",39),t._uU(154),t.ALo(155,"translate"),t.qZA(),t.TgZ(156,"option",40),t._uU(157),t.ALo(158,"translate"),t.qZA(),t.qZA(),t._UZ(159,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(160,"div",5),t.TgZ(161,"div",6),t.TgZ(162,"label"),t._uU(163),t.ALo(164,"translate"),t.qZA(),t._UZ(165,"ng-select",41),t.qZA(),t.qZA(),t.TgZ(166,"div",42),t.TgZ(167,"div",6),t.TgZ(168,"label"),t._uU(169),t.ALo(170,"translate"),t.qZA(),t.TgZ(171,"textarea",43),t.ALo(172,"translate"),t.ALo(173,"translate"),t._uU(174,"                  "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(175,"div",42),t.TgZ(176,"div",6),t.TgZ(177,"label"),t._uU(178),t.ALo(179,"translate"),t.qZA(),t.TgZ(180,"textarea",44),t.ALo(181,"translate"),t.ALo(182,"translate"),t._uU(183,"                  "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(184,"div",45),t.TgZ(185,"table",46),t.TgZ(186,"thead"),t.TgZ(187,"tr"),t.YNc(188,qd,3,3,"th",47),t.YNc(189,Cd,7,6,"ng-container",48),t.YNc(190,xd,4,3,"ng-container",48),t.TgZ(191,"th",49),t._uU(192),t.ALo(193,"translate"),t.qZA(),t.TgZ(194,"th"),t._uU(195),t.ALo(196,"translate"),t.qZA(),t.TgZ(197,"th"),t._uU(198),t.ALo(199,"translate"),t.qZA(),t.TgZ(200,"th"),t._uU(201),t.ALo(202,"translate"),t.qZA(),t.TgZ(203,"th"),t._uU(204),t.ALo(205,"translate"),t.qZA(),t.YNc(206,bd,3,3,"th",50),t.YNc(207,yd,3,3,"th",50),t._UZ(208,"th",51),t.qZA(),t.qZA(),t.TgZ(209,"tbody"),t.TgZ(210,"tr"),t.YNc(211,Ld,6,8,"td",48),t.YNc(212,Sd,5,8,"ng-container",48),t.YNc(213,Nd,3,4,"ng-container",48),t.TgZ(214,"td"),t.TgZ(215,"ng-select",52),t.NdJ("ngModelChange",function(r){return o.finAcCode=r}),t.qZA(),t.qZA(),t.TgZ(216,"td"),t.TgZ(217,"textarea",53),t.NdJ("ngModelChange",function(r){return o.description=r}),t.qZA(),t.qZA(),t.TgZ(218,"td"),t.TgZ(219,"textarea",54),t.NdJ("ngModelChange",function(r){return o.remarks=r}),t.qZA(),t.qZA(),t.TgZ(220,"td"),t.TgZ(221,"ng-select",55),t.NdJ("ngModelChange",function(r){return o.costAllocation=r})("change",function(r){return o.loadSegCodedata(r)}),t.qZA(),t.qZA(),t.TgZ(222,"td"),t.TgZ(223,"ng-select",56),t.NdJ("ngModelChange",function(r){return o.costSegCode=r})("change",function(r){return o.selectSegCodedata(r)}),t.qZA(),t.qZA(),t.TgZ(224,"td"),t.TgZ(225,"input",57),t.NdJ("ngModelChange",function(r){return o.payment=r}),t.qZA(),t.qZA(),t.TgZ(226,"td"),t.TgZ(227,"i",58),t.NdJ("click",function(){return o.addItem()}),t.qZA(),t._uU(228," \xa0\xa0 "),t.TgZ(229,"i",59),t.NdJ("click",function(){return o.setToDefault()}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(230,Md,2,1,"tbody",48),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(231,"div",4),t.TgZ(232,"div",60),t.TgZ(233,"button",61),t.NdJ("click",function(){return o.closeModel()}),t._uU(234),t.ALo(235,"translate"),t.qZA(),t._uU(236," \xa0\xa0 "),t._UZ(237,"input",62),t.ALo(238,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e){const n=t.MAs(20),r=t.MAs(126);t.xp6(1),t.hij(" ",t.lcZ(2,90,"CreateNewBankVoucher")," "),t.xp6(4),t.Q6J("formGroup",o.form),t.xp6(7),t.Oqu(t.lcZ(13,92,"Date")),t.xp6(3),t.s9C("placeholder",t.lcZ(16,94,"Select_a_Date")),t.Q6J("matDatepicker",n),t.xp6(3),t.Q6J("for",n),t.xp6(5),t.Q6J("control",o.form.controls.jvDate),t.xp6(4),t.Oqu(t.lcZ(28,96,"Amount")),t.xp6(2),t.hYB("placeholder","",t.lcZ(30,98,"PleaseEnter")," ",t.lcZ(31,100,"Amount")," "),t.xp6(3),t.Q6J("control",o.form.controls.amount),t.xp6(4),t.Oqu(t.lcZ(37,102,"Customer")),t.xp6(2),t.Q6J("items",o.customerList),t.xp6(4),t.Oqu(t.lcZ(43,104,"Customer_Sites")),t.xp6(2),t.Q6J("items",o.customerSiteList),t.xp6(4),t.Oqu(t.lcZ(49,106,"Company")),t.xp6(4),t.Oqu(t.lcZ(53,108,"Select_Organization")),t.xp6(2),t.Q6J("ngForOf",o.companyList),t.xp6(1),t.Q6J("control",o.form.controls.companyId),t.xp6(4),t.Oqu(t.lcZ(60,110,"Branch")),t.xp6(6),t.Oqu(t.lcZ(66,112,"Select_Branch")),t.xp6(2),t.Q6J("ngForOf",o.branchList),t.xp6(1),t.Q6J("control",o.form.controls.branchCode),t.xp6(4),t.Oqu(t.lcZ(73,114,"DocumentNumber")),t.xp6(2),t.hYB("placeholder","",t.lcZ(75,116,"PleaseEnter")," ",t.lcZ(76,118,"DocumentNumber")," "),t.xp6(3),t.Q6J("control",o.form.controls.docNum),t.xp6(4),t.Oqu(t.lcZ(82,120,"Cash_Book_Code")),t.xp6(4),t.Oqu(t.lcZ(86,122,"Cash_Book_Code")),t.xp6(2),t.Q6J("ngForOf",o.payCodeList),t.xp6(1),t.Q6J("control",o.form.controls.bankCode),t.xp6(4),t.hij("",t.lcZ(93,124,"TransactionMode")," "),t.xp6(13),t.Q6J("control",o.form.controls.trnMode),t.xp6(4),t.Oqu(t.lcZ(110,126,"ChequeNumber")),t.xp6(2),t.hYB("placeholder","",t.lcZ(112,128,"PleaseEnter")," ",t.lcZ(113,130,"ChequeNumber"),""),t.xp6(3),t.Q6J("control",o.form.controls.chequeNumber),t.xp6(4),t.Oqu(t.lcZ(119,132,"ChequeDate")),t.xp6(3),t.s9C("placeholder",t.lcZ(122,134,"ChequeDate")),t.Q6J("matDatepicker",r),t.xp6(3),t.Q6J("for",r),t.xp6(5),t.Q6J("control",o.form.controls.chequeDate),t.xp6(4),t.hij("",t.lcZ(134,136,"AccountPayee")," "),t.xp6(7),t.hij("",t.lcZ(141,138,"PDC")," "),t.xp6(7),t.hij("",t.lcZ(148,140,"VoucherType")," "),t.xp6(4),t.hij("",t.lcZ(152,142,"Choose_Voucher_Type")," "),t.xp6(3),t.Oqu(t.lcZ(155,144,"Receipts")),t.xp6(3),t.Oqu(t.lcZ(158,146,"Payment")),t.xp6(2),t.Q6J("control",o.form.controls.voucherType),t.xp6(4),t.Oqu(t.lcZ(164,148,"Batch")),t.xp6(2),t.Q6J("items",o.batchSetupList),t.xp6(4),t.Oqu(t.lcZ(170,150,"Remarks")),t.xp6(2),t.hYB("placeholder","",t.lcZ(172,152,"PleaseEnter")," ",t.lcZ(173,154,"Remarks"),""),t.xp6(7),t.Oqu(t.lcZ(179,156,"Narration")),t.xp6(2),t.hYB("placeholder","",t.lcZ(181,158,"PleaseEnter")," ",t.lcZ(182,160,"Narration"),""),t.xp6(8),t.Q6J("ngIf",o.hasBranchHidden),t.xp6(1),t.Q6J("ngIf",o.isSeg2),t.xp6(1),t.Q6J("ngIf",o.isSeg1),t.xp6(2),t.hij("",t.lcZ(193,162,"A_C_Code")," "),t.xp6(3),t.Oqu(t.lcZ(196,164,"Description")),t.xp6(3),t.Oqu(t.lcZ(199,166,"Line_Remarks")),t.xp6(3),t.Oqu(t.lcZ(202,168,"CostAllocation")),t.xp6(3),t.Oqu(t.lcZ(205,170,"CostSegCode")),t.xp6(2),t.Q6J("ngIf",o.isPaymentType),t.xp6(1),t.Q6J("ngIf",!o.isPaymentType),t.xp6(4),t.Q6J("ngIf",o.hasBranchHidden),t.xp6(1),t.Q6J("ngIf",o.isSeg2),t.xp6(1),t.Q6J("ngIf",o.isSeg1),t.xp6(2),t.Q6J("items",o.accountCodeList)("ngModel",o.finAcCode)("ngModelOptions",t.DdM(176,tt)),t.xp6(2),t.Q6J("ngModel",o.description)("ngModelOptions",t.DdM(177,tt)),t.xp6(2),t.Q6J("ngModel",o.remarks)("ngModelOptions",t.DdM(178,tt)),t.xp6(2),t.Q6J("items",o.costAllocationList)("ngModel",o.costAllocation)("ngModelOptions",t.DdM(179,tt))("readonly",o.isCodeSegmentReadonly),t.xp6(2),t.Q6J("items",o.costSegCodeList)("ngModel",o.costSegCode)("ngModelOptions",t.DdM(180,tt))("readonly",o.isCodeSegmentReadonly),t.xp6(2),t.Q6J("ngModel",o.payment)("ngModelOptions",t.DdM(181,tt)),t.xp6(5),t.Q6J("ngIf",o.itemList.length>0),t.xp6(4),t.hij(" ",t.lcZ(235,172,"Cancel")," "),t.xp6(3),t.s9C("value",t.lcZ(238,174,"Save"))}},directives:[s._Y,s.JL,s.sg,s.Fj,m.hl,s.JJ,s.u,m.nW,U.R9,m.Mq,M.s,s.wV,j.w9,s.EJ,s.YN,s.Kr,d.sg,F.Rr,s.nD,d.O5,s.On],pipes:[Z.X$],encapsulation:2}),i})();function Jd(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",40),t._uU(2),t.qZA(),t.TgZ(3,"td",40),t._uU(4),t.qZA(),t.TgZ(5,"td",40),t._uU(6),t.qZA(),t.TgZ(7,"td",41),t._uU(8),t.qZA(),t.TgZ(9,"td",42),t._uU(10),t.qZA(),t.TgZ(11,"td",43),t._uU(12),t.qZA(),t.TgZ(13,"td",43),t._uU(14),t.qZA(),t.TgZ(15,"td",44),t._uU(16),t.qZA(),t.TgZ(17,"td",44),t._uU(18),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.hij(" ",e.id," "),t.xp6(2),t.hij(" ",e.batch," "),t.xp6(2),t.hij(" ",e.batch2," "),t.xp6(2),t.AsE(" (",e.finAcCode,") ",e.description," "),t.xp6(2),t.hij(" ",e.remarks," "),t.xp6(2),t.hij(" ",e.costAllocationName," "),t.xp6(2),t.hij(" ",e.costSegCodeName," "),t.xp6(2),t.hij(" ",e.drAmount," "),t.xp6(2),t.hij(" ",e.crAmount," ")}}function Dd(i,a){if(1&i&&(t.TgZ(0,"div",4),t.TgZ(1,"div",5),t.TgZ(2,"table",6),t.TgZ(3,"tr"),t.TgZ(4,"td",7),t.TgZ(5,"h4",8),t._uU(6),t.qZA(),t.TgZ(7,"h4",8),t._uU(8),t.qZA(),t.qZA(),t.TgZ(9,"td",9),t._UZ(10,"img",10),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",11),t.TgZ(12,"table",6),t.TgZ(13,"tr"),t.TgZ(14,"td",12),t.TgZ(15,"table",13),t.TgZ(16,"tr"),t.TgZ(17,"td",14),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"td",15),t._uU(21),t.ALo(22,"date"),t.qZA(),t.qZA(),t.TgZ(23,"tr"),t.TgZ(24,"td",14),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.TgZ(27,"td",15),t._uU(28),t.qZA(),t.qZA(),t.TgZ(29,"tr"),t.TgZ(30,"td",14),t._uU(31),t.ALo(32,"translate"),t.qZA(),t.TgZ(33,"td",15),t._uU(34),t.qZA(),t.qZA(),t.TgZ(35,"tr"),t.TgZ(36,"td",14),t._uU(37),t.ALo(38,"translate"),t.qZA(),t.TgZ(39,"td",15),t._uU(40),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(41,"td",16),t.TgZ(42,"td",17),t.TgZ(43,"table",13),t.TgZ(44,"tr"),t.TgZ(45,"td",18),t._uU(46),t.ALo(47,"translate"),t.qZA(),t.TgZ(48,"td",15),t._uU(49),t.qZA(),t.qZA(),t.TgZ(50,"tr"),t.TgZ(51,"td",19),t._uU(52),t.ALo(53,"translate"),t.qZA(),t.TgZ(54,"td",15),t._uU(55),t.qZA(),t.qZA(),t.TgZ(56,"tr"),t.TgZ(57,"td",19),t._uU(58),t.ALo(59,"translate"),t.qZA(),t.TgZ(60,"td",15),t._uU(61),t.qZA(),t.qZA(),t.TgZ(62,"tr"),t.TgZ(63,"td",19),t._uU(64),t.ALo(65,"translate"),t.qZA(),t.TgZ(66,"td",15),t._uU(67),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(68,"div",20),t.TgZ(69,"table",13),t.TgZ(70,"tr"),t.TgZ(71,"td",21),t.TgZ(72,"span",22),t._uU(73),t.ALo(74,"translate"),t.qZA(),t._uU(75),t.qZA(),t.TgZ(76,"td",23),t._uU(77),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(78,"div",20),t.TgZ(79,"table",6),t.TgZ(80,"tr"),t.TgZ(81,"td",12),t.TgZ(82,"table",13),t.TgZ(83,"tr"),t.TgZ(84,"td",14),t._uU(85),t.ALo(86,"translate"),t.qZA(),t.TgZ(87,"td",15),t._uU(88),t.qZA(),t.TgZ(89,"td",15),t._uU(90),t.qZA(),t.qZA(),t.TgZ(91,"tr"),t.TgZ(92,"td",14),t._uU(93),t.ALo(94,"translate"),t.qZA(),t.TgZ(95,"td",15),t._uU(96),t.ALo(97,"date"),t.qZA(),t.TgZ(98,"td",15),t._uU(99),t.ALo(100,"translate"),t.qZA(),t.qZA(),t.TgZ(101,"tr"),t.TgZ(102,"td",14),t._uU(103),t.ALo(104,"translate"),t.qZA(),t.TgZ(105,"td",15),t._uU(106," MOHSIN "),t.qZA(),t.qZA(),t.TgZ(107,"tr"),t.TgZ(108,"td",14),t._uU(109),t.ALo(110,"translate"),t.qZA(),t.TgZ(111,"td",15),t._uU(112),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(113,"td",16),t.TgZ(114,"td",17),t.TgZ(115,"table",13),t.TgZ(116,"tr"),t.TgZ(117,"td",18),t._uU(118),t.ALo(119,"translate"),t.qZA(),t.TgZ(120,"td",15),t._uU(121),t.qZA(),t.qZA(),t.TgZ(122,"tr"),t.TgZ(123,"td",19),t._uU(124),t.ALo(125,"translate"),t.qZA(),t.TgZ(126,"td",15),t._uU(127," 1212 "),t.qZA(),t.qZA(),t.TgZ(128,"tr"),t._UZ(129,"td",19),t._UZ(130,"td",15),t.qZA(),t.TgZ(131,"tr"),t._UZ(132,"td",24),t._UZ(133,"td",15),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(134,"table",6),t.TgZ(135,"tr"),t.TgZ(136,"td",25),t._uU(137),t.ALo(138,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(139,"div",20),t.TgZ(140,"table",6),t.TgZ(141,"tr"),t.TgZ(142,"td",26),t._uU(143),t.ALo(144,"translate"),t.qZA(),t.TgZ(145,"td",27),t._uU(146),t.ALo(147,"translate"),t.qZA(),t.TgZ(148,"td",28),t._uU(149),t.ALo(150,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(151,"div",20),t.TgZ(152,"table",6),t.TgZ(153,"tr"),t.TgZ(154,"th",29),t._uU(155),t.ALo(156,"translate"),t.qZA(),t.TgZ(157,"th",29),t._uU(158),t.ALo(159,"translate"),t.qZA(),t.TgZ(160,"th",29),t._uU(161),t.ALo(162,"translate"),t.qZA(),t.TgZ(163,"th",30),t._uU(164),t.ALo(165,"translate"),t.qZA(),t.TgZ(166,"th",30),t._uU(167),t.ALo(168,"translate"),t.qZA(),t.TgZ(169,"th",30),t._uU(170),t.ALo(171,"translate"),t.qZA(),t.TgZ(172,"th",30),t._uU(173),t.ALo(174,"translate"),t.qZA(),t.TgZ(175,"th",30),t._uU(176),t.ALo(177,"translate"),t.qZA(),t.TgZ(178,"th",30),t._uU(179),t.ALo(180,"translate"),t.qZA(),t.qZA(),t.YNc(181,Jd,19,10,"tr",31),t.TgZ(182,"tr"),t.TgZ(183,"td",32),t.TgZ(184,"div",33),t._uU(185),t.ALo(186,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(187,"tr"),t.TgZ(188,"td",34),t._uU(189),t.qZA(),t.TgZ(190,"td",34),t._uU(191),t.qZA(),t.qZA(),t.TgZ(192,"tr"),t.TgZ(193,"td",35),t._uU(194),t.qZA(),t.qZA(),t.qZA(),t.TgZ(195,"div",36),t.TgZ(196,"table",6),t.TgZ(197,"tr"),t.TgZ(198,"td",37),t._uU(199),t.ALo(200,"translate"),t.qZA(),t.TgZ(201,"td",38),t._uU(202),t.ALo(203,"translate"),t.qZA(),t.TgZ(204,"td",39),t._uU(205),t.ALo(206,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.s9C("dir",e.utilService.getDir()),t.xp6(5),t.hij(" ",e.printItem.companyName," "),t.xp6(2),t.hij(" ",e.printItem.address," "),t.xp6(2),t.s9C("src",e.printItem.logo,t.LSH),t.xp6(8),t.hij(" ",t.lcZ(19,58,"Voucher_Date"),": "),t.xp6(3),t.hij(" ",t.xi3(22,60,e.printItem.cDate,"MM-dd-yyyy")," "),t.xp6(4),t.hij(" ",t.lcZ(26,63,"Branch"),": "),t.xp6(3),t.hij(" ",e.printItem.branchName," "),t.xp6(3),t.hij(" ",t.lcZ(32,65,"Paycode")," "),t.xp6(3),t.hij(" ",e.printItem.bankCode," "),t.xp6(3),t.hij(" ",t.lcZ(38,67,"Transaction")," "),t.xp6(3),t.hij(" ",e.printItem.trnMode," "),t.xp6(6),t.hij(" ",t.lcZ(47,69,"User"),": "),t.xp6(3),t.hij(" ",e.user," "),t.xp6(3),t.hij(" ",t.lcZ(53,71,"DOC#"),": "),t.xp6(3),t.hij(" ",e.printItem.docNum," "),t.xp6(3),t.hij(" ",t.lcZ(59,73,"Remarks"),": "),t.xp6(3),t.hij(" ",e.printItem.remarks," "),t.xp6(3),t.hij(" ",t.lcZ(65,75,"Batch_ID"),": "),t.xp6(3),t.hij(" ",e.printItem.batch," "),t.xp6(6),t.hij("",t.lcZ(74,77,"Amount"),":"),t.xp6(2),t.hij(" ",e.printItem.amount," "),t.xp6(2),t.hij(" ",e.printItem.totalAmountText," "),t.xp6(8),t.hij(" ",t.lcZ(86,79,"Check_Number"),": "),t.xp6(3),t.hij(" ",e.printItem.chequeNumber," "),t.xp6(2),t.hij(" PDC ",e.printItem.pdc," "),t.xp6(3),t.hij(" ",t.lcZ(94,81,"Check_Date"),": "),t.xp6(3),t.hij(" ",t.xi3(97,83,e.printItem.chequeDate,"MM-dd-yyyy")," "),t.xp6(3),t.hij(" ",t.lcZ(100,86,"Account_Payee")," "),t.xp6(4),t.hij(" ",t.lcZ(104,88,"Pay_To"),": "),t.xp6(6),t.hij(" ",t.lcZ(110,90,"Transaction")," "),t.xp6(3),t.hij(" ",e.printItem.trnMode," "),t.xp6(6),t.hij(" ",t.lcZ(119,92,"Bank"),": "),t.xp6(3),t.hij(" ",e.printItem.branchName," "),t.xp6(3),t.hij(" ",t.lcZ(125,94,"test"),": "),t.xp6(13),t.AsE(" ",t.lcZ(138,96,"Bank_Voucher")," : ",e.printItem.voucherType," "),t.xp6(6),t.AsE(" ",t.lcZ(144,98,"Voucher")," # : ",e.printItem.voucherNumber," "),t.xp6(3),t.hij(" ",t.lcZ(147,100,"Unapproved_Voucher")," "),t.xp6(3),t.hij(" ",t.lcZ(150,102,"Page")," 1 of 1 "),t.xp6(6),t.hij(" ",t.lcZ(156,104,"SNO")," "),t.xp6(3),t.hij(" ",t.lcZ(159,106,"Seg1")," "),t.xp6(3),t.hij(" ",t.lcZ(162,108,"Seg2")," "),t.xp6(3),t.hij(" ",t.lcZ(165,110,"Ac_Code")," "),t.xp6(3),t.hij(" ",t.lcZ(168,112,"Remarks")," "),t.xp6(3),t.hij(" ",t.lcZ(171,114,"CostAllocation")," "),t.xp6(3),t.hij(" ",t.lcZ(174,116,"CostSegCode")," "),t.xp6(3),t.hij(" ",t.lcZ(177,118,"Dr_Amount")," "),t.xp6(3),t.hij(" ",t.lcZ(180,120,"Cr_Amount")," "),t.xp6(2),t.Q6J("ngForOf",e.printItem.itemList),t.xp6(4),t.hij(" ",t.lcZ(186,122,"Total_Amount"),":"),t.xp6(4),t.hij(" ",e.printItem.totalDrPayment," "),t.xp6(2),t.hij(" ",e.printItem.totalCrPayment," "),t.xp6(3),t.hij(" ",e.printItem.totalPaymentText," "),t.xp6(5),t.hij(" ",t.lcZ(200,124,"Signature_Accountant"),": "),t.xp6(3),t.hij(" ",t.lcZ(203,126,"Signature_Approval_Authority"),": "),t.xp6(3),t.hij(" ",t.lcZ(206,128,"Signature_Received_By"),": ")}}let Pd=(()=>{class i{constructor(e,o,n,r,l){this.apiService=e,this.authService=o,this.utilService=n,this.dialogRef=r,this.notifyService=l,this.id=0,this.user=""}ngOnInit(){this.user=this.authService.getUserName(),this.loadData()}loadData(){this.apiService.getall(`bankVoucher/bankVoucherPrint/${this.id}`).subscribe(e=>{e&&(this.printItem=e)})}printInvoice(){this.openPrint()}openPrint(){const e=document.getElementById("printcontainer");this.utilService.printForLocale(e)}closeModel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(T.so),t.Y36(f.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-bvprint"]],decls:12,vars:7,consts:[[2,"position","fixed"],[3,"click"],["type","button","aria-hidden","true",1,"",3,"click"],["class","container-fluid invoice-container print-container","style","width: 935px; margin: auto; padding: 35px; border:1px solid #ccc;","id","printcontainer",4,"ngIf"],["id","printcontainer",1,"container-fluid","invoice-container","print-container",2,"width","935px","margin","auto","padding","35px","border","1px solid #ccc"],[3,"dir"],["border","0","cellpadding","0","cellspacing","0","width","100%",2,"width","100%"],[2,"text-align","left","width","60%"],[2,"font-size","1rem !important","color","#0c2f54","font-family","'Poppins', sans-serif","font-weight","500","line-height","1.2","margin","0","padding-top","4px"],[2,"text-align","right","vertical-align","middle"],["id","logo","title","invoice","alt","invoice",2,"width","120px",3,"src"],[2,"padding-top","10px","padding-bottom","5px"],[2,"width","47%","text-align","center","vertical-align","top"],["border","0","cellpadding","0","cellspacing","0","width","100%",2,"width","100%","border","2px solid #878787"],[2,"padding","5px","width","33%","text-align","left","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[2,"padding","5px","text-align","left","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"width","4%"],[2,"width","47%","vertical-align","top"],[2,"width","60px","padding","5px","text-align","left","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[2,"padding","5px","text-align","left","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[2,"padding-bottom","5px"],[2,"padding","5px","width","30%","text-align","left","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"font-weight","600"],[2,"border-left","2px solid #878787","padding","5px","text-align","left","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[2,"padding","5px","height","40px","text-align","left","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[2,"font-size","1.5rem !important","color","#0c2f54","font-family","'Poppins', sans-serif","font-weight","500","line-height","1.2","margin","0","padding-top","15px","text-align","center"],[2,"border","2px solid #878787","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[2,"border","2px solid #878787","width","33%","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[2,"width","33%","border","2px solid #878787","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[2,"width","5%","border","2px solid #878787","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[2,"width","15%","border","2px solid #878787","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[4,"ngFor","ngForOf"],["rowspan","2","colspan","7",2,"border","2px solid #878787","padding","5px","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"text-align","right","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[2,"border","2px solid #878787","padding","5px","text-align","right","font-size","0.975rem !important","color","#706f6f","font-family","'Poppins', sans-serif","font-weight","700"],["colspan","11",2,"border","2px solid #878787","padding","5px","text-align","left","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","700"],[2,"padding-top","5px"],[2,"width","33%","height","70px","text-align","left","vertical-align","top","border","2px solid #878787","padding","5px","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"text-align","left","vertical-align","top","border","2px solid #878787","border-left","0","padding","5px","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"width","33%","text-align","left","vertical-align","top","border","2px solid #878787","border-left","0","padding","5px","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","2px solid #878787","padding","5px","text-align","center","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","2px solid #878787","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"width","15%","border","2px solid #878787","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"width","15%","border","2px solid #878787","padding","5px","text-align","center","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"width","15%","border","2px solid #878787","padding","5px","text-align","right","font-size","0.875rem !important","color","#706f6f","font-family","'Poppins', sans-serif","font-weight","600"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"button",1),t.NdJ("click",function(){return o.printInvoice()}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._uU(4," \xa0 "),t.TgZ(5,"button",2),t.NdJ("click",function(){return o.closeModel()}),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.qZA(),t._UZ(8,"br"),t._UZ(9,"br"),t._UZ(10,"br"),t.YNc(11,Dd,207,130,"div",3)),2&e&&(t.xp6(2),t.hij(" ",t.lcZ(3,3,"Print"),""),t.xp6(4),t.hij(" ",t.lcZ(7,5,"Close"),""),t.xp6(5),t.Q6J("ngIf",o.printItem))},directives:[d.O5,nt.Lv,d.sg],pipes:[Z.X$,d.uU],encapsulation:2}),i})(),xt=(()=>{class i{constructor(e,o,n,r,l,c){this.fb=e,this.apiService=o,this.authService=n,this.utilService=r,this.dialogRef=l,this.notifyService=c,this.id=0,this.modalTitle="",this.selectedPayment="",this.paymentTermId="",this.paymentTermsList=[]}ngOnInit(){this.setForm()}setForm(){this.form=this.fb.group({paymentType:this.modalTitle,trantype:["Invoice",s.kI.required],tranSource:["GL",s.kI.required],remarks1:"-",remarks2:"-",createdOn:""})}submit(){this.form.valid&&this.id>0&&(this.form.value.id=this.id,this.form.controls.createdOn.value&&(this.form.value.createdOn=this.utilService.selectedDateTime(this.form.controls.createdOn.value)),this.apiService.post("bankVoucher/createbankVoucherPosting",this.form.value).subscribe(e=>{this.utilService.OkMessage(),this.reset(),this.dialogRef.close(!0)},e=>{console.error(e),this.utilService.ShowApiErrorMessage(e)}))}reset(){this.selectedPayment=this.paymentTermId=""}closeModel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(T.so),t.Y36(f.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-bvposting"]],decls:43,vars:30,consts:[["type","button","aria-hidden","true",1,"close",3,"click"],["novalidate","",1,"mt-1",3,"formGroup","ngSubmit"],[1,"row","rowm0"],[1,"col-md-12","col-lg-12"],[1,"form-group"],[1,"mr-sm-2"],["type","text","formControlName","remarks1",1,"form-control",3,"placeholder"],["type","text","formControlName","remarks2",1,"form-control",3,"placeholder"],[1,"input-group","mb-2"],["formControlName","createdOn",1,"form-control","datapickerinput",3,"placeholder","matDatepicker"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker",""],[1,"row"],[1,"col-lg-12","col-md-12","text-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","waves-effect","waves-light","btn-primary",3,"value"]],template:function(e,o){if(1&e&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"button",0),t.NdJ("click",function(){return o.closeModel()}),t._uU(4," \xd7"),t.qZA(),t.qZA(),t.TgZ(5,"form",1),t.NdJ("ngSubmit",function(){return o.submit()}),t.TgZ(6,"div",2),t.TgZ(7,"div",3),t.TgZ(8,"div",4),t.TgZ(9,"label",5),t._uU(10),t.ALo(11,"translate"),t.qZA(),t._UZ(12,"input",6),t.ALo(13,"translate"),t.qZA(),t.qZA(),t.TgZ(14,"div",3),t.TgZ(15,"div",4),t.TgZ(16,"label",5),t._uU(17),t.ALo(18,"translate"),t.qZA(),t._UZ(19,"input",7),t.ALo(20,"translate"),t.qZA(),t.qZA(),t.TgZ(21,"div",3),t.TgZ(22,"label",5),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"div",4),t.TgZ(26,"div",8),t._UZ(27,"input",9),t.ALo(28,"translate"),t.TgZ(29,"div",10),t._UZ(30,"mat-datepicker-toggle",11),t._UZ(31,"mat-datepicker",null,12),t._UZ(33,"br"),t._UZ(34,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(35,"div",13),t.TgZ(36,"div",14),t.TgZ(37,"button",15),t.NdJ("click",function(){return o.closeModel()}),t._uU(38),t.ALo(39,"translate"),t.qZA(),t._uU(40," \xa0\xa0 "),t._UZ(41,"input",16),t.ALo(42,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e){const n=t.MAs(32);t.xp6(1),t.hij(" ",t.lcZ(2,12,"Bank_Voucher")," "),t.xp6(4),t.Q6J("formGroup",o.form),t.xp6(5),t.hij(" ",t.lcZ(11,14,"Remarks1")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(13,16,"Remarks1")),t.xp6(5),t.hij(" ",t.lcZ(18,18,"Remarks2")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(20,20,"Remarks2")),t.xp6(4),t.Oqu(t.lcZ(24,22,"Posting_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(28,24,"Select_a_Date")),t.Q6J("matDatepicker",n),t.xp6(3),t.Q6J("for",n),t.xp6(8),t.hij(" ",t.lcZ(39,26,"Cancel")," "),t.xp6(3),t.s9C("value",t.lcZ(42,28,"Save"))}},directives:[s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,m.hl,m.nW,U.R9,m.Mq],pipes:[Z.X$],encapsulation:2}),i})(),Yd=(()=>{class i{constructor(e,o,n,r,l,c){this.fb=e,this.apiService=o,this.authService=n,this.utilService=r,this.dialogRef=l,this.notifyService=c,this.id=0}ngOnInit(){this.setForm()}setForm(){this.form=this.fb.group({appRemarks:["-",s.kI.required],trantype:["Invoice",s.kI.required],tranSource:["GL",s.kI.required]})}submit(){this.form.valid&&this.id>0&&(this.form.value.id=this.id,this.apiService.post("bankVoucher/createbankVoucherApproval",this.form.value).subscribe(e=>{this.utilService.OkMessage(),this.reset(),this.dialogRef.close(!0)},e=>{this.utilService.ShowApiErrorMessage(e)}))}reset(){this.form.reset()}closeModel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(T.so),t.Y36(f.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-bvuserapproval"]],decls:23,vars:17,consts:[["type","button","aria-hidden","true",1,"close",3,"click"],["novalidate","",1,"mt-1",3,"formGroup","ngSubmit"],[1,"row","rowm0"],[1,"col-md-4","col-lg-4"],[1,"form-group"],[1,"mr-sm-2"],["type","text","formControlName","appRemarks",1,"form-control",3,"placeholder"],[3,"control"],[1,"row"],[1,"col-lg-12","col-md-12","text-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","waves-effect","waves-light","btn-primary",3,"value"]],template:function(e,o){1&e&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"button",0),t.NdJ("click",function(){return o.closeModel()}),t._uU(4," \xd7"),t.qZA(),t.qZA(),t.TgZ(5,"form",1),t.NdJ("ngSubmit",function(){return o.submit()}),t.TgZ(6,"div",2),t.TgZ(7,"div",3),t.TgZ(8,"div",4),t.TgZ(9,"label",5),t._uU(10),t.ALo(11,"translate"),t.qZA(),t._UZ(12,"input",6),t.ALo(13,"translate"),t._UZ(14,"validation-message",7),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"div",8),t.TgZ(16,"div",9),t.TgZ(17,"button",10),t.NdJ("click",function(){return o.closeModel()}),t._uU(18),t.ALo(19,"translate"),t.qZA(),t._uU(20," \xa0\xa0 "),t._UZ(21,"input",11),t.ALo(22,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,7,"User_Approval")," "),t.xp6(4),t.Q6J("formGroup",o.form),t.xp6(5),t.hij(" ",t.lcZ(11,9,"Remarks")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(13,11,"Remarks")),t.xp6(2),t.Q6J("control",o.form.controls.appRemarks),t.xp6(4),t.hij(" ",t.lcZ(19,13,"Cancel")," "),t.xp6(3),t.s9C("value",t.lcZ(22,15,"Save")))},directives:[s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,M.s],pipes:[Z.X$],encapsulation:2}),i})();function Qd(i,a){1&i&&(t.TgZ(0,"th",51),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"BVNumber")," "))}function jd(i,a){if(1&i&&(t.TgZ(0,"td",52),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.voucherNumber)}}function Fd(i,a){1&i&&(t.TgZ(0,"th",51),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Date")," "))}function Bd(i,a){if(1&i&&(t.TgZ(0,"td",52),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.jvDate,"dd-MM-yyyy"))}}function Vd(i,a){1&i&&(t.TgZ(0,"th",51),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Branch")," "))}function Rd(i,a){if(1&i&&(t.TgZ(0,"td",52),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.branchName)}}function Ed(i,a){1&i&&(t.TgZ(0,"th",51),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Amount")," "))}function $d(i,a){if(1&i&&(t.TgZ(0,"td",52),t._uU(1),t.ALo(2,"leadingZeros"),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.amount))}}function zd(i,a){1&i&&(t.TgZ(0,"th",51),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Check_Number")," "))}function Hd(i,a){if(1&i&&(t.TgZ(0,"td",52),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.chequeNumber)}}function Gd(i,a){1&i&&(t.TgZ(0,"th",51),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"TrnMode")," "))}function Xd(i,a){if(1&i&&(t.TgZ(0,"td",52),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.trnMode)}}function Wd(i,a){1&i&&(t.TgZ(0,"th",51),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Source")," "))}function Kd(i,a){if(1&i&&(t.TgZ(0,"td",52),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.source)}}function tu(i,a){1&i&&(t.TgZ(0,"th",51),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Document")," "))}function eu(i,a){if(1&i&&(t.TgZ(0,"td",52),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.docNum)}}function ou(i,a){1&i&&(t.TgZ(0,"th",51),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Remarks")," "))}function iu(i,a){if(1&i&&(t.TgZ(0,"td",52),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.remarks)}}function nu(i,a){1&i&&(t.TgZ(0,"th",51),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Approved")," "))}function au(i,a){if(1&i&&(t.TgZ(0,"td",52),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.approvedUser)}}function ru(i,a){1&i&&(t.TgZ(0,"th",51),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Posted")," "))}function su(i,a){if(1&i&&(t.TgZ(0,"td",52),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.posted)}}function lu(i,a){1&i&&(t.TgZ(0,"th",51),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Void")," "))}function cu(i,a){if(1&i&&(t.TgZ(0,"td",52),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.isVoid)}}function pu(i,a){1&i&&(t.TgZ(0,"th",51),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"PostedDate")," "))}function du(i,a){if(1&i&&(t.TgZ(0,"td",52),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.postedDate,"dd-MM-yyyy"))}}function uu(i,a){1&i&&(t.TgZ(0,"th",53),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Actions"),""))}function mu(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"a",59),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit;return t.oxw().edit(n.id)}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Edit")))}function gu(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"a",59),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2).$implicit;return t.oxw().approve(n.id)}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Approve")))}function Zu(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"a",59),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2).$implicit;return t.oxw().posting(n.id)}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Post")))}function hu(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"a",59),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2).$implicit;return t.oxw().voidStatus(n.id)}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Void")))}function _u(i,a){if(1&i&&(t.ynx(0),t.YNc(1,gu,3,3,"a",58),t.YNc(2,Zu,3,3,"a",58),t.YNc(3,hu,3,3,"a",58),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",!e.approvedUser&&!e.isSettled),t.xp6(1),t.Q6J("ngIf",e.canSettle&&!e.isSettled),t.xp6(1),t.Q6J("ngIf",e.canSettle&&!e.isSettled)}}function Au(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"td",54),t.TgZ(1,"div",23),t.TgZ(2,"a",55),t._UZ(3,"i",56),t.qZA(),t.TgZ(4,"div",57),t.YNc(5,mu,3,3,"a",58),t.TgZ(6,"a",59),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().print(r.id)}),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.YNc(9,_u,4,3,"ng-container",60),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=a.$implicit;t.xp6(5),t.Q6J("ngIf",!e.isApproved&&!e.isSettled),t.xp6(2),t.Oqu(t.lcZ(8,3,"Print")),t.xp6(2),t.Q6J("ngIf",e.hasAuthority&&e.isDrCrAmtSame)}}function fu(i,a){1&i&&t._UZ(0,"tr",61)}function Tu(i,a){1&i&&t._UZ(0,"tr",62)}function vu(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"mat-paginator",63),t.NdJ("page",function(n){return t.CHM(e),t.oxw().onPageSwitch(n)}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("length",e.totalItemsCount)("pageSize",e.pageService.pageCount)("pageSizeOptions",e.pageService.selectItemsPerPage)}}let qu=(()=>{class i extends L.k{constructor(e,o,n,r,l,c,u,g,C,S){super(r),this.http=e,this.router=o,this.apiService=n,this.authService=r,this.utilService=l,this.translate=c,this.notifyService=u,this.validationService=g,this.pageService=C,this.dialog=S,this.displayedColumns=["VoucherNumber","JvDate","ChequeNumber","TrnMode","BranchCode","Amount","Source","DocNum","Remarks","Approved","Posted","Void","PostedDate","Actions"],this.searchValue="",this.sortingOrder="id desc",this.isLoading=!1}ngOnInit(){this.initialLoading()}refresh(){this.searchValue="",this.sortingOrder="id desc",this.initialLoading()}initialLoading(){this.loadList(0,this.pageService.pageCount,"",this.sortingOrder)}onSortOrder(e){this.sortingOrder=e.active+" "+e.direction,this.totalItemsCount=0,this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder)}onPageSwitch(e){this.pageService.change(e),this.loadList(e.pageIndex,e.pageSize,this.searchValue,this.sortingOrder)}loadList(e,o,n,r){this.isLoading=!0,this.apiService.getPagination("bankVoucher",this.utilService.getQueryString(e,o,n,r)).subscribe(l=>{this.totalItemsCount=0,this.data=new p.by(l.items),this.totalItemsCount=l.totalCount,setTimeout(()=>{this.paginator.pageIndex=e,this.paginator.length=this.totalItemsCount}),this.data.sort=this.sort,this.isLoading=!1},l=>this.utilService.ShowApiErrorMessage(l))}applyFilter(e){e&&(this.searchValue=e,this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder))}openDialogManage(e=0,o,n="",r="",l,c=100){let u=this.utilService.openDialogCongif(this.dialog,l,c);u.componentInstance.dbops=o,u.componentInstance.modalTitle=n,u.componentInstance.id=e,u.afterClosed().subscribe(g=>{g&&!0===g&&this.initialLoading()})}create(){this.openDialogManage(0,v.Oi.create,this.translate.instant("Create_New_Sales_Invoice"),"",Ct)}edit(e){this.openDialogManage(e,v.Oi.update,this.translate.instant("Create_New_Sales_Invoice"),"",Ct)}print(e){this.openDialogManage(e,v.Oi.update,this.translate.instant("Create_New_Sales_Invoice"),"",Pd)}printList(e){alert(e)}approve(e){this.openDialogManage(e,v.Oi.create,"","",Yd,50)}posting(e){this.openDialogManage(e,v.Oi.create,"posting","",xt,50)}voidStatus(e){this.openDialogManage(e,v.Oi.create,"void","",xt,50)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36($.eN),t.Y36(Q.F0),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(Z.sK),t.Y36(f.g),t.Y36(O.R),t.Y36(k.N),t.Y36(T.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-bankvoucher"]],viewQuery:function(e,o){if(1&e&&(t.Gf(q.NW,7),t.Gf(x.YE,7)),2&e){let n;t.iGM(n=t.CRH())&&(o.paginator=n.first),t.iGM(n=t.CRH())&&(o.sort=n.first)}},features:[t.qOj],decls:96,vars:31,consts:[[1,"page-breadcrumb"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],[1,"container-fluid"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"row","pb-3"],[1,"col-md-3"],[1,"form-control",3,"placeholder","ngModel","ngModelChange"],[1,"col-md-4","arabicright"],[1,"btn","btn-primary",3,"click"],[1,"",3,"click"],[1,"btn","btn-primary","icon-refresh"],[1,"col-md-7","col-lg-9"],[1,"card-title","pt6"],[1,"col-md-3","col-lg-3","text-right"],[1,"nav-item","dropdown"],["data-toggle","modal","data-target","#scrollable-modal","href","#",1,"btn","waves-effect","waves-light","btn-rounded","btn-outline-primary",3,"click"],[1,"icon-plus"],[1,"cardtitle-divider"],[3,"isLoading"],[1,"table-responsive"],["mat-table","","matSort","","matSortActive","Id","matSortDisableClear","","matSortDirection","desc",1,"table","table-bordered","no-wrap",3,"dataSource","matSortChange"],["matColumnDef","VoucherNumber"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","JvDate"],["matColumnDef","BranchCode"],["matColumnDef","Amount"],["matColumnDef","ChequeNumber"],["matColumnDef","TrnMode"],["matColumnDef","Source"],["matColumnDef","DocNum"],["matColumnDef","Remarks"],["matColumnDef","Approved"],["matColumnDef","Posted"],["matColumnDef","Void"],["matColumnDef","PostedDate"],["matColumnDef","Actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","text-center",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions","page",4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-cell","",1,"text-center"],["href","#","id","navbarDropdown","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false"],[1,"icon-options-vertical"],["aria-labelledby","navbarDropdown",1,"dropdown-menu","dropdown-menu-custom",2,"transform","translate3d(0px, -61px, 0px)!important"],["data-toggle","modal","class","dropdown-item","href","#",3,"click",4,"ngIf"],["data-toggle","modal","href","#",1,"dropdown-item",3,"click"],[4,"ngIf"],["mat-header-row",""],["mat-row",""],[3,"length","pageSize","pageSizeOptions","page"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"nav",5),t.TgZ(8,"ol",6),t.TgZ(9,"li",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"li",7),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"li",8),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",9),t.TgZ(19,"div",1),t.TgZ(20,"div",10),t.TgZ(21,"div",11),t.TgZ(22,"div",12),t.TgZ(23,"div",13),t._UZ(24,"div",10),t.TgZ(25,"div",14),t.TgZ(26,"input",15),t.NdJ("ngModelChange",function(r){return o.searchValue=r}),t.ALo(27,"translate"),t.qZA(),t.qZA(),t.TgZ(28,"div",16),t.TgZ(29,"button",17),t.NdJ("click",function(){return o.applyFilter(o.searchValue)}),t._uU(30),t.ALo(31,"translate"),t.qZA(),t._uU(32," \xa0 "),t.TgZ(33,"a",18),t.NdJ("click",function(){return o.refresh()}),t._UZ(34,"i",19),t.qZA(),t.qZA(),t.qZA(),t.TgZ(35,"div",1),t.TgZ(36,"div",20),t.TgZ(37,"h4",21),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.qZA(),t.TgZ(40,"div",22),t.TgZ(41,"div",23),t.TgZ(42,"a",24),t.NdJ("click",function(){return o.create()}),t._UZ(43,"i",25),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(46,"div",26),t._UZ(47,"spinner-loader",27),t.TgZ(48,"div",28),t.TgZ(49,"table",29),t.NdJ("matSortChange",function(r){return o.onSortOrder(r)}),t.ynx(50,30),t.YNc(51,Qd,3,3,"th",31),t.YNc(52,jd,2,1,"td",32),t.BQk(),t.ynx(53,33),t.YNc(54,Fd,3,3,"th",31),t.YNc(55,Bd,3,4,"td",32),t.BQk(),t.ynx(56,34),t.YNc(57,Vd,3,3,"th",31),t.YNc(58,Rd,2,1,"td",32),t.BQk(),t.ynx(59,35),t.YNc(60,Ed,3,3,"th",31),t.YNc(61,$d,3,3,"td",32),t.BQk(),t.ynx(62,36),t.YNc(63,zd,3,3,"th",31),t.YNc(64,Hd,2,1,"td",32),t.BQk(),t.ynx(65,37),t.YNc(66,Gd,3,3,"th",31),t.YNc(67,Xd,2,1,"td",32),t.BQk(),t.ynx(68,38),t.YNc(69,Wd,3,3,"th",31),t.YNc(70,Kd,2,1,"td",32),t.BQk(),t.ynx(71,39),t.YNc(72,tu,3,3,"th",31),t.YNc(73,eu,2,1,"td",32),t.BQk(),t.ynx(74,40),t.YNc(75,ou,3,3,"th",31),t.YNc(76,iu,2,1,"td",32),t.BQk(),t.ynx(77,41),t.YNc(78,nu,3,3,"th",31),t.YNc(79,au,2,1,"td",32),t.BQk(),t.ynx(80,42),t.YNc(81,ru,3,3,"th",31),t.YNc(82,su,2,1,"td",32),t.BQk(),t.ynx(83,43),t.YNc(84,lu,3,3,"th",31),t.YNc(85,cu,2,1,"td",32),t.BQk(),t.ynx(86,44),t.YNc(87,pu,3,3,"th",31),t.YNc(88,du,3,4,"td",32),t.BQk(),t.ynx(89,45),t.YNc(90,uu,3,3,"th",46),t.YNc(91,Au,10,5,"td",47),t.BQk(),t.YNc(92,fu,1,0,"tr",48),t.YNc(93,Tu,1,0,"tr",49),t.qZA(),t.ynx(94),t.YNc(95,vu,1,3,"mat-paginator",50),t.BQk(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.hij(" ",t.lcZ(5,15,"Bank_Voucher")," "),t.xp6(6),t.hij(" ",t.lcZ(11,17,"Financial_Transaction")," "),t.xp6(3),t.Oqu(t.lcZ(14,19,"General_Ledger")),t.xp6(3),t.Oqu(t.lcZ(17,21,"Bank_Voucher")),t.xp6(10),t.MGl("placeholder","",t.lcZ(27,23,"Search"),"..."),t.Q6J("ngModel",o.searchValue),t.xp6(4),t.Oqu(t.lcZ(31,25,"Search")),t.xp6(8),t.hij("",t.lcZ(39,27,"Bank_Voucher_List")," "),t.xp6(6),t.hij("",t.lcZ(45,29,"New")," "),t.xp6(3),t.Q6J("isLoading",o.isLoading),t.xp6(2),t.Q6J("dataSource",o.data),t.xp6(43),t.Q6J("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(2),t.Q6J("ngIf",o.totalItemsCount>0))},directives:[s.Fj,s.JJ,s.On,b.r,p.BZ,x.YE,p.w1,p.fO,p.Dz,p.as,p.nj,d.O5,p.ge,x.nU,p.ev,p.XQ,p.Gk,q.NW],pipes:[Z.X$,d.uU,E],encapsulation:2}),i})();function Cu(i,a){if(1&i&&(t.TgZ(0,"option",40),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.text),t.xp6(1),t.Oqu(e.text)}}function xu(i,a){1&i&&(t.TgZ(0,"th",41),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Branch")))}function bu(i,a){1&i&&(t.ynx(0),t.TgZ(1,"th",41),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"th",41),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.BQk()),2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,2,"Service")),t.xp6(3),t.Oqu(t.lcZ(6,4,"Branch")))}function yu(i,a){1&i&&(t.ynx(0),t.TgZ(1,"th",41),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.BQk()),2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Service")))}function Uu(i,a){if(1&i&&(t.TgZ(0,"option",40),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}const X=function(){return{standalone:!0}};function Lu(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"td"),t.TgZ(1,"select",42),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().branchCode=n})("change",function(n){return t.CHM(e),t.oxw().loadAccountCodes(n)}),t.TgZ(2,"option",17),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.YNc(5,Uu,2,2,"option",18),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngModel",e.branchCode)("ngModelOptions",t.DdM(7,X))("disabled",1==e.branchList.length),t.xp6(2),t.Oqu(t.lcZ(4,5,"Branch")),t.xp6(2),t.Q6J("ngForOf",e.branchList)}}function Su(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"td"),t.TgZ(2,"ng-select",43),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().batch=n}),t.qZA(),t.qZA(),t.TgZ(3,"td"),t.TgZ(4,"ng-select",43),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().batch2=n}),t.qZA(),t.qZA(),t.BQk()}if(2&i){const e=t.oxw();t.xp6(2),t.Q6J("items",e.segmentSetupList)("ngModel",e.batch)("ngModelOptions",t.DdM(6,X)),t.xp6(2),t.Q6J("items",e.segmentTwoSetupList)("ngModel",e.batch2)("ngModelOptions",t.DdM(7,X))}}function Nu(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"td"),t.TgZ(2,"ng-select",43),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().batch=n}),t.qZA(),t.qZA(),t.BQk()}if(2&i){const e=t.oxw();t.xp6(2),t.Q6J("items",e.segmentSetupList)("ngModel",e.batch)("ngModelOptions",t.DdM(3,X))}}function Ou(i,a){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.branchName)}}function wu(i,a){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(e.batch2Name)}}function ku(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.YNc(5,wu,2,1,"span",26),t.qZA(),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.batch),t.xp6(2),t.hij("",e.batch2," "),t.xp6(1),t.Q6J("ngIf",e.batch2Name)}}function Iu(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.batch)}}function Mu(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"tr"),t.YNc(1,Ou,2,1,"td",26),t.YNc(2,ku,6,3,"ng-container",26),t.YNc(3,Iu,3,1,"ng-container",26),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.ALo(16,"leadingZeros"),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.ALo(19,"leadingZeros"),t.qZA(),t.TgZ(20,"td",29),t.TgZ(21,"i",47),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).editInvoiceItem(r)}),t.qZA(),t._uU(22," \xa0 "),t.TgZ(23,"i",48),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).deleteInvoiceItem(r)}),t.qZA(),t._uU(24," \xa0 "),t.qZA(),t.qZA()}if(2&i){const e=a.$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("ngIf",o.hasBranchHidden),t.xp6(1),t.Q6J("ngIf",o.isSeg2),t.xp6(1),t.Q6J("ngIf",o.isSeg1),t.xp6(2),t.Oqu(e.finAcCode),t.xp6(2),t.Oqu(e.description),t.xp6(2),t.Oqu(e.remarks),t.xp6(2),t.Oqu(e.costAllocationName),t.xp6(2),t.Oqu(e.costSegCodeName),t.xp6(2),t.Oqu(t.lcZ(16,10,e.drAmount)),t.xp6(3),t.Oqu(t.lcZ(19,12,e.crAmount))}}function Ju(i,a){1&i&&t._UZ(0,"td",49)}function Du(i,a){1&i&&t._UZ(0,"td",50)}function Pu(i,a){if(1&i&&(t.TgZ(0,"tbody"),t.YNc(1,Mu,25,14,"tr",44),t.TgZ(2,"tr"),t.YNc(3,Ju,1,0,"td",45),t.YNc(4,Du,1,0,"td",46),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"leadingZeros"),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.ALo(10,"leadingZeros"),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.ALo(13,"leadingZeros"),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.itemList),t.xp6(2),t.Q6J("ngIf",e.hasBranchHidden),t.xp6(1),t.Q6J("ngIf",!e.hasBranchHidden),t.xp6(2),t.Oqu(t.lcZ(7,6,e.totalDrAmount)),t.xp6(3),t.Oqu(t.lcZ(10,8,e.totalCrAmount)),t.xp6(3),t.Oqu(t.lcZ(13,10,e.totalAmount))}}let bt=(()=>{class i{constructor(e,o,n,r,l,c,u){this.fb=e,this.apiService=o,this.authService=n,this.utilService=r,this.dialogRef=l,this.notifyService=c,this.validationService=u,this.id=0,this.isEdit=!1,this.customerSiteList=[],this.customerList=[],this.companyList=[],this.payCodeList=[],this.branchList=[],this.accountCodeList=[],this.segmentSetupList=[],this.segmentTwoSetupList=[],this.costAllocationList=[],this.costSegCodeList=[],this.batchSetupList=[],this.itemList=[],this.isSeg1=!1,this.isSeg2=!1,this.isArab=!1,this.isCodeSegmentReadonly=!1,this.isEditingRecord=!1,this.hasBranchHidden=!1,this.branchName="",this.branchCode="",this.finAcCode="",this.description="",this.remarks="",this.batch="",this.batch2="",this.costAllocation=0,this.costAllocationName="",this.costSegCode="",this.costSegCodeName="",this.drAmount=0,this.crAmount=0,this.sequence=1,this.editsequence=0,this.totalDrAmount=0,this.totalCrAmount=0,this.totalAmount=0}ngOnInit(){this.isArab=this.utilService.isArabic(),this.setForm(),this.loadData(),this.id>0&&(this.isEdit=!0,this.setEditForm())}setForm(){this.form=this.fb.group({date:[this.utilService.getCurrentDate(),s.kI.required],amount:["",s.kI.required],payCode:["",s.kI.required],branchCode:["",s.kI.required],docNum:["",s.kI.required],batch:"",remarks:[""],narration:[""]})}loadData(){this.apiService.getall("mainAccounts/financesetup").subscribe(e=>{if(e){const o=e.numOfSeg;this.isSeg1=1==o,this.isSeg2=2==o,(this.isSeg1||this.isSeg2)&&this.apiService.getall("segmentSetup/getSegmentSetupSelectList").subscribe(n=>{n&&(this.segmentSetupList=n)}),this.isSeg2&&this.apiService.getall("segmentTwoSetup/getSegmentTwoSetupSelectList").subscribe(n=>{n&&(this.segmentTwoSetupList=n)})}}),this.apiService.getall("paymentcodes/getSelectPaymentCodeList").subscribe(e=>{e&&(this.payCodeList=e)}),this.apiService.getall("costAllocationSetup/getCostAllocationSetupSelectList").subscribe(e=>{e&&(this.costAllocationList=e)}),this.apiService.getall("batchSetup/getBatchSetupSelectList").subscribe(e=>{e&&(this.batchSetupList=e)})}setCheckNumber(e){let o=e.target.value;""!==o&&this.apiService.getall(`paymentcodes?payCode=${o}`).subscribe(n=>{n&&(this.form.controls.branchCode.setValue(n.finBranchCode),this.loadAccountCodesForBranch(n.finBranchCode))})}loadSegCodedata(e){const o=e.value;this.costAllocationName=e.text,o>0&&(this.costSegCode="",this.costSegCodeName="",this.apiService.getall(`costAllocationSetup/getCostSegmentCodeSelectList/${o}`).subscribe(n=>{n&&(this.costSegCodeList=n),this.costSegCodeList.map(l=>(l.text=this.isArab?l.textTwo+" "+l.textAr:l.text+" "+l.textTwo,l)),this.costSegCode=e.custCode}))}selectSegCodedata(e){this.costSegCodeName=e.text}loadBranchs(e){let o=e.target.value;this.branchCode="",o&&this.apiService.getall(`branch/getSelectSysBranchListByComId/${o}`).subscribe(n=>{n&&(this.branchList=n),1==this.branchList.length&&this.loadAccountCodesForBranch(this.branchList[0].value)})}selectBranch(e){this.branchCode=e.target.value,this.loadAccountCodesForBranch(this.branchCode)}loadAccountCodes(e){this.loadAccountCodesForBranch(e.target.value)}loadAccountCodesForBranch(e){e&&(this.finAcCode="",this.apiService.getall(`accountsbranchmapping/getSelectAccountMappingList?branchCode=${e}`).subscribe(o=>{o&&(this.accountCodeList=o)}))}setEditForm(){this.apiService.get("brsVoucher",this.id).subscribe(e=>{e&&(this.displayJvItems(e.itemList),e.siteCode&&(this.isEditingRecord=!0,this.customerSiteList=[{text:e.siteCode,value:e.siteCode,textAr:"",textTwo:""}]),this.form.patchValue(e))})}displayJvItems(e){e.forEach(o=>{var n;this.branchName=o.branchName,this.branchCode=o.branchCode,this.description=o.description,this.finAcCode=o.finAcCode,this.remarks=o.remarks,this.batch=o.batch,this.batch2=o.batch2,this.batch2=o.batch2,this.costAllocation=o.costAllocation,this.costAllocationName=o.costAllocation?null===(n=this.costAllocationList.find(r=>r.value==o.costAllocation))||void 0===n?void 0:n.text:"",this.costSegCode=o.costSegCode,this.costSegCodeName=o.costSegCode,this.drAmount=o.drAmount,this.crAmount=o.crAmount,this.fillITems()}),this.setVarience()}loadAccountCodeForBranch(e,o){e&&this.apiService.getall(`accountsbranchmapping/getSelectAccountMappingList?branchCode=${e}`).subscribe(n=>{n&&(this.accountCodeList=n,this.finAcCode=o)})}fillITems(){this.itemList.push({sequence:this.getSequence(),branchName:this.branchName,branchCode:this.branchCode,finAcCode:this.finAcCode,description:this.description,remarks:this.remarks,batch:this.batch,batch2:this.batch2,costAllocation:this.costAllocation,costSegCode:this.costSegCode,costAllocationName:this.costAllocationName,costSegCodeName:this.costSegCodeName,drAmount:this.drAmount,crAmount:this.crAmount}),this.setToDefault()}setVarience(){this.totalDrAmount=this.totalCrAmount=0,this.itemList.forEach(e=>{this.totalDrAmount+=e.drAmount,this.totalCrAmount+=e.crAmount}),this.totalAmount=this.totalDrAmount-this.totalCrAmount}addItem(){(this.drAmount>0||this.crAmount>0)&&this.utilService.hasValue(this.form.controls.branchCode.value)&&this.utilService.hasValue(this.finAcCode)&&(this.editsequence>0&&(this.removeInvoiceList(this.editsequence),this.editsequence=0),this.itemList.push({sequence:this.getSequence(),branchName:this.getBranchName(this.branchCode),branchCode:this.branchCode,finAcCode:this.finAcCode,description:this.description,remarks:this.remarks,batch:this.batch,batch2:this.batch2,costAllocation:this.costAllocation,costSegCode:this.costSegCode,costAllocationName:this.costAllocationName,costSegCodeName:this.costSegCodeName,drAmount:this.drAmount,crAmount:this.crAmount}),this.setVarience(),this.setToDefault())}getSequence(){return this.sequence+=this.sequence+1}deleteInvoiceItem(e){this.removeInvoiceList(e.sequence),this.setVarience()}removeInvoiceList(e){let o=this.itemList.findIndex(n=>n.sequence===e);this.itemList.splice(o,1)}getBranchName(e){var o;return null===(o=this.branchList.find(n=>n.value===e))||void 0===o?void 0:o.text}editInvoiceItem(e){console.log(e),this.editsequence=e.sequence,this.branchCode=e.branchCode,this.loadAccountCodeForBranch(this.branchCode,e.finAcCode),this.description=e.description,this.remarks=e.remarks,this.batch=e.batch,this.batch2=e.batch2,this.costAllocation=e.costAllocation,this.costAllocationName=e.costAllocationName,this.costSegCode=e.costSegCode,this.costSegCodeName=e.costSegCodeName,this.drAmount=e.drAmount,this.crAmount=e.crAmount}setToDefault(){this.editsequence=0,this.hasBranchHidden&&(this.branchCode=""),this.finAcCode="",this.description="",this.remarks="",this.batch="",this.batch2="",this.isCodeSegmentReadonly||(this.costAllocation=0,this.costAllocationName="",this.costSegCode="",this.costSegCodeName=""),this.drAmount=0,this.crAmount=0}resetCodeSegmentReadonly(){this.isCodeSegmentReadonly=!1,this.costSegCode="",this.costAllocation=0}customerChange(e){var o;let n=e.value,r=e.textTwo;this.form.controls.siteCode.setValue(null),this.isCodeSegmentReadonly=!0,this.costAllocation=null===(o=this.costAllocationList.find(l=>"customer"==l.textTwo.toLowerCase()))||void 0===o?void 0:o.value,this.loadSegCodedata({value:this.costAllocation,custCode:r}),this.apiService.getall(`customer/getCustomerSitesSelectList/${n}`).subscribe(l=>{l&&(this.customerSiteList=l,this.customerSiteList.map(c=>(c.text=this.isArab?c.textTwo:c.text,c)))})}submit(){this.itemList.length<=0?this.utilService.FillUpFields():this.form.valid?(this.hasBranchHidden||this.itemList.forEach(e=>{e.branchCode=this.form.value.branchCode}),this.form.value.date=this.utilService.selectedDateTime(this.form.controls.date.value),this.id>0&&(this.form.value.id=this.id),this.form.value.itemList=this.itemList,this.apiService.post("brsVoucher",this.form.value).subscribe(e=>{this.utilService.OkMessage(),this.reset(),this.dialogRef.close(!0)},e=>{this.utilService.ShowApiErrorMessage(e)})):this.utilService.FillUpFields()}reset(){this.form.controls.date.setValue(""),this.form.controls.branchCode.setValue("")}closeModel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(T.so),t.Y36(f.g),t.Y36(O.R))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-addupdatebrsstatement"]],decls:141,vars:126,consts:[["type","button","aria-hidden","true",1,"close",3,"click"],["novalidate","",1,"mt-4",3,"formGroup","ngSubmit"],[1,"modal-body","p-0"],[1,"outer"],[1,"row"],[1,"col-md-6","col-lg-6"],[1,"form-group"],[1,"input-group","mb-2"],["formControlName","date",1,"form-control","datapickerinput",3,"placeholder","matDatepicker"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker",""],[3,"control"],["type","number","formControlName","amount",1,"form-control",3,"placeholder"],[1,"form-group","mb-4"],[1,"mr-sm-2"],["formControlName","payCode",1,"custom-select","mr-sm-2",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","branchCode","readonly","",1,"form-control",3,"placeholder"],["type","text","formControlName","docNum",1,"form-control",3,"placeholder"],["formControlName","remarks",1,"form-control",3,"placeholder"],["formControlName","narration",1,"form-control",3,"placeholder"],[1,""],["id","zero_config",1,"table","table-bordered","no-wrap",2,"width","120%"],["width","10%",4,"ngIf"],[4,"ngIf"],[2,"width","25%"],["width","9%"],[1,"text-center"],["bindLabel","text","bindValue","value",1,"voucher-width-250",3,"items","ngModel","ngModelOptions","ngModelChange"],["rows","5","type","text",1,"form-control","voucher-width-200",3,"ngModel","ngModelOptions","ngModelChange"],["bindLabel","text","bindValue","value",1,"voucher-width-180",3,"items","ngModel","ngModelOptions","readonly","ngModelChange","change"],["bindLabel","text","bindValue","textTwo",1,"voucher-width-230",3,"items","ngModel","ngModelOptions","readonly","ngModelChange","change"],["type","number",1,"form-control","voucher-width-120",3,"ngModel","ngModelOptions","ngModelChange","keyup"],[1,"fas","fa-plus-circle",3,"click"],[1,"fas","fa-eraser","text-danger",3,"click"],[1,"col-lg-12","col-md-12","text-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","waves-effect","waves-light","btn-primary",3,"value"],[3,"value"],["width","10%"],[1,"custom-select","mr-sm-2","voucher-width-120",3,"ngModel","ngModelOptions","disabled","ngModelChange","change"],["bindLabel","text","bindValue","value",1,"voucher-width-180",3,"items","ngModel","ngModelOptions","ngModelChange"],[4,"ngFor","ngForOf"],["colspan","8",4,"ngIf"],["colspan","7",4,"ngIf"],[1,"icon-note","cpointer",3,"click"],[1,"icon-trash","cpointer",3,"click"],["colspan","8"],["colspan","7"]],template:function(e,o){if(1&e&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"button",0),t.NdJ("click",function(){return o.closeModel()}),t._uU(4," \xd7"),t.qZA(),t.qZA(),t.TgZ(5,"form",1),t.NdJ("ngSubmit",function(){return o.submit()}),t.TgZ(6,"div",2),t.TgZ(7,"div",3),t.TgZ(8,"div",4),t.TgZ(9,"div",5),t.TgZ(10,"div",6),t.TgZ(11,"label"),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"div",7),t._UZ(15,"input",8),t.ALo(16,"translate"),t.TgZ(17,"div",9),t._UZ(18,"mat-datepicker-toggle",10),t._UZ(19,"mat-datepicker",null,11),t._UZ(21,"br"),t._UZ(22,"br"),t.qZA(),t.qZA(),t._UZ(23,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(24,"div",5),t.TgZ(25,"div",6),t.TgZ(26,"label"),t._uU(27),t.ALo(28,"translate"),t.qZA(),t._UZ(29,"input",13),t.ALo(30,"translate"),t.ALo(31,"translate"),t._UZ(32,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(33,"div",5),t.TgZ(34,"div",14),t.TgZ(35,"label",15),t._uU(36),t.ALo(37,"translate"),t.qZA(),t._uU(38," \xa0\xa0 "),t.TgZ(39,"select",16),t.NdJ("change",function(r){return o.setCheckNumber(r)}),t.TgZ(40,"option",17),t._uU(41),t.ALo(42,"translate"),t.qZA(),t.YNc(43,Cu,2,2,"option",18),t.qZA(),t._UZ(44,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(45,"div",5),t.TgZ(46,"div",6),t.TgZ(47,"label"),t._uU(48),t.ALo(49,"translate"),t.qZA(),t._UZ(50,"input",19),t.ALo(51,"translate"),t._UZ(52,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(53,"div",5),t.TgZ(54,"div",6),t.TgZ(55,"label"),t._uU(56),t.ALo(57,"translate"),t.qZA(),t._UZ(58,"input",20),t.ALo(59,"translate"),t.ALo(60,"translate"),t._UZ(61,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(62,"div",5),t.TgZ(63,"div",6),t.TgZ(64,"label"),t._uU(65),t.ALo(66,"translate"),t.qZA(),t.TgZ(67,"textarea",21),t.ALo(68,"translate"),t.ALo(69,"translate"),t._uU(70,"                  "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(71,"div",5),t.TgZ(72,"div",6),t.TgZ(73,"label"),t._uU(74),t.ALo(75,"translate"),t.qZA(),t.TgZ(76,"textarea",22),t.ALo(77,"translate"),t.ALo(78,"translate"),t._uU(79," "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(80,"div",23),t.TgZ(81,"table",24),t.TgZ(82,"thead"),t.TgZ(83,"tr"),t.YNc(84,xu,3,3,"th",25),t.YNc(85,bu,7,6,"ng-container",26),t.YNc(86,yu,4,3,"ng-container",26),t.TgZ(87,"th",27),t._uU(88),t.ALo(89,"translate"),t.qZA(),t.TgZ(90,"th"),t._uU(91),t.ALo(92,"translate"),t.qZA(),t.TgZ(93,"th"),t._uU(94),t.ALo(95,"translate"),t.qZA(),t.TgZ(96,"th"),t._uU(97),t.ALo(98,"translate"),t.qZA(),t.TgZ(99,"th"),t._uU(100),t.ALo(101,"translate"),t.qZA(),t.TgZ(102,"th",28),t._uU(103),t.ALo(104,"translate"),t.qZA(),t.TgZ(105,"th",28),t._uU(106),t.ALo(107,"translate"),t.qZA(),t._UZ(108,"th",29),t.qZA(),t.qZA(),t.TgZ(109,"tbody"),t.TgZ(110,"tr"),t.YNc(111,Lu,6,8,"td",26),t.YNc(112,Su,5,8,"ng-container",26),t.YNc(113,Nu,3,4,"ng-container",26),t.TgZ(114,"td"),t.TgZ(115,"ng-select",30),t.NdJ("ngModelChange",function(r){return o.finAcCode=r}),t.qZA(),t.qZA(),t.TgZ(116,"td"),t.TgZ(117,"textarea",31),t.NdJ("ngModelChange",function(r){return o.description=r}),t.qZA(),t.qZA(),t.TgZ(118,"td"),t.TgZ(119,"textarea",31),t.NdJ("ngModelChange",function(r){return o.remarks=r}),t.qZA(),t.qZA(),t.TgZ(120,"td"),t.TgZ(121,"ng-select",32),t.NdJ("ngModelChange",function(r){return o.costAllocation=r})("change",function(r){return o.loadSegCodedata(r)}),t.qZA(),t.qZA(),t.TgZ(122,"td"),t.TgZ(123,"ng-select",33),t.NdJ("ngModelChange",function(r){return o.costSegCode=r})("change",function(r){return o.selectSegCodedata(r)}),t.qZA(),t.qZA(),t.TgZ(124,"td"),t.TgZ(125,"input",34),t.NdJ("ngModelChange",function(r){return o.drAmount=r})("keyup",function(){return o.crAmount=0}),t.qZA(),t.qZA(),t.TgZ(126,"td"),t.TgZ(127,"input",34),t.NdJ("ngModelChange",function(r){return o.crAmount=r})("keyup",function(){return o.drAmount=0}),t.qZA(),t.qZA(),t.TgZ(128,"td"),t.TgZ(129,"i",35),t.NdJ("click",function(){return o.addItem()}),t.qZA(),t._uU(130," \xa0\xa0 "),t.TgZ(131,"i",36),t.NdJ("click",function(){return o.setToDefault()}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(132,Pu,14,12,"tbody",26),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(133,"div",4),t.TgZ(134,"div",37),t.TgZ(135,"button",38),t.NdJ("click",function(){return o.closeModel()}),t._uU(136),t.ALo(137,"translate"),t.qZA(),t._uU(138," \xa0\xa0 "),t._UZ(139,"input",39),t.ALo(140,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e){const n=t.MAs(20);t.xp6(1),t.hij(" ",t.lcZ(2,63,"Create_New_BRS_Voucher")," "),t.xp6(4),t.Q6J("formGroup",o.form),t.xp6(7),t.Oqu(t.lcZ(13,65,"BRS_Date")),t.xp6(3),t.s9C("placeholder",t.lcZ(16,67,"Select_a_Date")),t.Q6J("matDatepicker",n),t.xp6(3),t.Q6J("for",n),t.xp6(5),t.Q6J("control",o.form.controls.date),t.xp6(4),t.Oqu(t.lcZ(28,69,"Amount")),t.xp6(2),t.hYB("placeholder","",t.lcZ(30,71,"PleaseEnter")," ",t.lcZ(31,73,"Amount")," "),t.xp6(3),t.Q6J("control",o.form.controls.amount),t.xp6(4),t.Oqu(t.lcZ(37,75,"PayCode")),t.xp6(5),t.Oqu(t.lcZ(42,77,"Select_Organization")),t.xp6(2),t.Q6J("ngForOf",o.payCodeList),t.xp6(1),t.Q6J("control",o.form.controls.payCode),t.xp6(4),t.Oqu(t.lcZ(49,79,"Branch")),t.xp6(2),t.s9C("placeholder",t.lcZ(51,81,"PleaseEnter")),t.xp6(2),t.Q6J("control",o.form.controls.branchCode),t.xp6(4),t.Oqu(t.lcZ(57,83,"DocumentNumber")),t.xp6(2),t.hYB("placeholder","",t.lcZ(59,85,"PleaseEnter")," ",t.lcZ(60,87,"DocumentNumber")," "),t.xp6(3),t.Q6J("control",o.form.controls.docNum),t.xp6(4),t.Oqu(t.lcZ(66,89,"Remarks")),t.xp6(2),t.hYB("placeholder","",t.lcZ(68,91,"PleaseEnter")," ",t.lcZ(69,93,"Remarks"),""),t.xp6(7),t.Oqu(t.lcZ(75,95,"Narration")),t.xp6(2),t.hYB("placeholder","",t.lcZ(77,97,"PleaseEnter")," ",t.lcZ(78,99,"Narration"),""),t.xp6(8),t.Q6J("ngIf",o.hasBranchHidden),t.xp6(1),t.Q6J("ngIf",o.isSeg2),t.xp6(1),t.Q6J("ngIf",o.isSeg1),t.xp6(2),t.hij("",t.lcZ(89,101,"A_C_Code")," "),t.xp6(3),t.Oqu(t.lcZ(92,103,"Description")),t.xp6(3),t.Oqu(t.lcZ(95,105,"Line_Remarks")),t.xp6(3),t.Oqu(t.lcZ(98,107,"CostAllocation")),t.xp6(3),t.Oqu(t.lcZ(101,109,"CostSegCode")),t.xp6(3),t.Oqu(t.lcZ(104,111,"Dr_Amount")),t.xp6(3),t.Oqu(t.lcZ(107,113,"Cr_Amount")),t.xp6(5),t.Q6J("ngIf",o.hasBranchHidden),t.xp6(1),t.Q6J("ngIf",o.isSeg2),t.xp6(1),t.Q6J("ngIf",o.isSeg1),t.xp6(2),t.Q6J("items",o.accountCodeList)("ngModel",o.finAcCode)("ngModelOptions",t.DdM(119,X)),t.xp6(2),t.Q6J("ngModel",o.description)("ngModelOptions",t.DdM(120,X)),t.xp6(2),t.Q6J("ngModel",o.remarks)("ngModelOptions",t.DdM(121,X)),t.xp6(2),t.Q6J("items",o.costAllocationList)("ngModel",o.costAllocation)("ngModelOptions",t.DdM(122,X))("readonly",o.isCodeSegmentReadonly),t.xp6(2),t.Q6J("items",o.costSegCodeList)("ngModel",o.costSegCode)("ngModelOptions",t.DdM(123,X))("readonly",o.isCodeSegmentReadonly),t.xp6(2),t.Q6J("ngModel",o.drAmount)("ngModelOptions",t.DdM(124,X)),t.xp6(2),t.Q6J("ngModel",o.crAmount)("ngModelOptions",t.DdM(125,X)),t.xp6(5),t.Q6J("ngIf",o.itemList.length>0),t.xp6(4),t.hij(" ",t.lcZ(137,115,"Cancel")," "),t.xp6(3),t.s9C("value",t.lcZ(140,117,"Save"))}},directives:[s._Y,s.JL,s.sg,s.Fj,m.hl,s.JJ,s.u,m.nW,U.R9,m.Mq,M.s,s.wV,s.EJ,s.YN,s.Kr,d.sg,d.O5,j.w9,s.On],pipes:[Z.X$,E],encapsulation:2}),i})(),Yu=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-brsprint"]],decls:2,vars:0,template:function(e,o){1&e&&(t.TgZ(0,"p"),t._uU(1,"brsprint works!"),t.qZA())},encapsulation:2}),i})();function Qu(i,a){if(1&i&&(t.TgZ(0,"div",1),t.TgZ(1,"div",50),t._uU(2),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(2),t.hij(" ",e.brsMessage," ")}}function ju(i,a){1&i&&(t.TgZ(0,"th",51),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"BRS_Number")," "))}function Fu(i,a){if(1&i&&(t.TgZ(0,"td",52),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.voucherNumber)}}function Bu(i,a){1&i&&(t.TgZ(0,"th",51),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Date")," "))}function Vu(i,a){if(1&i&&(t.TgZ(0,"td",52),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.date,"dd-MM-yyyy"))}}function Ru(i,a){1&i&&(t.TgZ(0,"th",51),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Branch")," "))}function Eu(i,a){if(1&i&&(t.TgZ(0,"td",52),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.branchName)}}function $u(i,a){1&i&&(t.TgZ(0,"th",51),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Amount")," "))}function zu(i,a){if(1&i&&(t.TgZ(0,"td",52),t._uU(1),t.ALo(2,"leadingZeros"),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.amount))}}function Hu(i,a){1&i&&(t.TgZ(0,"th",51),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Source")," "))}function Gu(i,a){if(1&i&&(t.TgZ(0,"td",52),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.source)}}function Xu(i,a){1&i&&(t.TgZ(0,"th",51),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Document")," "))}function Wu(i,a){if(1&i&&(t.TgZ(0,"td",52),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.docNum)}}function Ku(i,a){1&i&&(t.TgZ(0,"th",51),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Remarks")," "))}function tm(i,a){if(1&i&&(t.TgZ(0,"td",52),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.remarks)}}function em(i,a){1&i&&(t.TgZ(0,"th",51),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Approved")," "))}function om(i,a){if(1&i&&(t.TgZ(0,"td",52),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.approved)}}function im(i,a){1&i&&(t.TgZ(0,"th",51),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Posted")," "))}function nm(i,a){if(1&i&&(t.TgZ(0,"td",52),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.posted)}}function am(i,a){1&i&&(t.TgZ(0,"th",51),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Void")," "))}function rm(i,a){if(1&i&&(t.TgZ(0,"td",52),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.void)}}function sm(i,a){1&i&&(t.TgZ(0,"th",51),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"PostedDate")," "))}function lm(i,a){if(1&i&&(t.TgZ(0,"td",52),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.postedDate,"dd-MM-yyyy"))}}function cm(i,a){1&i&&(t.TgZ(0,"th",53),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Actions")," "))}function pm(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"a",59),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit;return t.oxw().edit(n.id)}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Edit")))}function dm(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"a",59),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit;return t.oxw().approve(n.id)}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Approve")))}function um(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"a",59),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit;return t.oxw().posting(n.id)}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",59),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit;return t.oxw().voidStatus(n.id)}),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.BQk()}2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,2,"Post")),t.xp6(3),t.Oqu(t.lcZ(6,4,"Void")))}function mm(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"td",54),t.TgZ(1,"div",23),t.TgZ(2,"a",55),t._UZ(3,"i",56),t.qZA(),t.TgZ(4,"div",57),t.YNc(5,pm,3,3,"a",58),t.TgZ(6,"a",59),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().print(r.id)}),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.ynx(9),t.YNc(10,dm,3,3,"a",58),t.YNc(11,um,7,6,"ng-container",60),t.BQk(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=a.$implicit;t.xp6(5),t.Q6J("ngIf",!e.approved&&!e.isSettled),t.xp6(2),t.Oqu(t.lcZ(8,4,"Print")),t.xp6(3),t.Q6J("ngIf",!e.approved&&!e.posted),t.xp6(1),t.Q6J("ngIf",e.approved&&!e.posted&&!e.void)}}function gm(i,a){1&i&&t._UZ(0,"tr",61)}function Zm(i,a){1&i&&t._UZ(0,"tr",62)}function hm(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"mat-paginator",63),t.NdJ("page",function(n){return t.CHM(e),t.oxw().onPageSwitch(n)}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("length",e.totalItemsCount)("pageSize",e.pageService.pageCount)("pageSizeOptions",e.pageService.selectItemsPerPage)}}let _m=(()=>{class i extends L.k{constructor(e,o,n,r,l,c,u,g,C,S){super(r),this.http=e,this.router=o,this.apiService=n,this.authService=r,this.utilService=l,this.translate=c,this.notifyService=u,this.validationService=g,this.pageService=C,this.dialog=S,this.displayedColumns=["VoucherNumber","JvDate","BranchCode","Amount","Source","DocNum","Remarks","Approved","Posted","Void","PostedDate","Actions"],this.searchValue="",this.sortingOrder="id desc",this.isLoading=!1,this.brsMessage=""}ngOnInit(){this.initialLoading()}refresh(){this.searchValue="",this.sortingOrder="id desc",this.initialLoading()}initialLoading(){this.loadList(0,this.pageService.pageCount,"",this.sortingOrder)}onSortOrder(e){this.sortingOrder=e.active+" "+e.direction,this.totalItemsCount=0,this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder)}onPageSwitch(e){this.pageService.change(e),this.loadList(e.pageIndex,e.pageSize,this.searchValue,this.sortingOrder)}loadList(e,o,n,r){this.isLoading=!0,this.apiService.getPagination("brsVoucher",this.utilService.getQueryString(e,o,n,r)).subscribe(l=>{this.totalItemsCount=0,this.data=new p.by(l.items),this.totalItemsCount=l.totalCount,setTimeout(()=>{this.paginator.pageIndex=e,this.paginator.length=this.totalItemsCount}),this.data.sort=this.sort,this.isLoading=!1},l=>this.utilService.ShowApiErrorMessage(l))}applyFilter(e){e&&(this.searchValue=e,this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder))}openDialogManage(e=0,o,n="",r="",l,c=100){let u=this.utilService.openDialogCongif(this.dialog,l,c);u.componentInstance.dbops=o,u.componentInstance.modalTitle=n,u.componentInstance.id=e,u.afterClosed().subscribe(g=>{g&&!0===g&&this.initialLoading()})}create(){this.openDialogManage(0,v.Oi.create,this.translate.instant("Create_New"),"",bt)}edit(e){this.openDialogManage(e,v.Oi.update,this.translate.instant("Create_New"),"",bt)}print(e){this.openDialogManage(e,v.Oi.update,this.translate.instant("Print_Preview"),"",Yu)}showVoucherNumbers(e,o){switch(e){case 1:this.brsMessage=`Customers Collections : ${o}`;break;case 2:this.brsMessage=`Vendors Payments : ${o}`;break;case 3:this.brsMessage=`Bank Vouchers :  ${o}`;break;case 4:this.brsMessage=`Customers PDC :  ${o}`;break;case 5:this.brsMessage=`Vendors PDC :  ${o}`;break;default:this.brsMessage=""}this.brsMessage.length>0&&(this.brsMessage+=4==e||5==e?" need to be cleared first and try approving":" need to be posted first and try approving",this.notifyService.showError(this.brsMessage))}actionStatus(e,o){const n=this.utilService.openDeleteConfirmDialog(this.dialog,H.a);n.componentInstance.modalTitle=`Are you sure to ${o} ?`,n.afterClosed().subscribe(r=>{r&&e>0&&("approve"==o?this.apiService.post("brsVoucher/createBrsVoucherApproval",{tranSource:"GL",id:e}).subscribe(l=>{l&&(l.isSuccess?(this.brsMessage="",this.utilService.OkMessage()):this.showVoucherNumbers(parseInt(l.status),l.vouchers))},l=>{this.utilService.ShowApiErrorMessage(l)}):("posting"==o||"void"==o)&&this.apiService.post("brsVoucher/createBrsVoucherPosting",{paymentType:o,id:e}).subscribe(l=>{this.utilService.OkMessage()},l=>{this.utilService.ShowApiErrorMessage(l)}))})}approve(e){this.actionStatus(e,"approve")}posting(e){this.actionStatus(e,"posting")}voidStatus(e){this.actionStatus(e,"void")}}return i.\u0275fac=function(e){return new(e||i)(t.Y36($.eN),t.Y36(Q.F0),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(Z.sK),t.Y36(f.g),t.Y36(O.R),t.Y36(k.N),t.Y36(T.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-brsstatement"]],viewQuery:function(e,o){if(1&e&&(t.Gf(q.NW,7),t.Gf(x.YE,7)),2&e){let n;t.iGM(n=t.CRH())&&(o.paginator=n.first),t.iGM(n=t.CRH())&&(o.sort=n.first)}},features:[t.qOj],decls:91,vars:32,consts:[[1,"page-breadcrumb"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],[1,"container-fluid"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"row","pb-3"],[1,"col-md-3"],[1,"form-control",3,"placeholder","ngModel","ngModelChange"],[1,"col-md-4","arabicright"],[1,"btn","btn-primary",3,"click"],[1,"",3,"click"],[1,"btn","btn-primary","icon-refresh"],[1,"col-md-7","col-lg-9"],[1,"card-title","pt6"],[1,"col-md-3","col-lg-3","text-right"],[1,"nav-item","dropdown"],["data-toggle","modal","data-target","#scrollable-modal","href","#",1,"btn","waves-effect","waves-light","btn-rounded","btn-outline-primary",3,"click"],[1,"icon-plus"],["class","row",4,"ngIf"],[1,"cardtitle-divider"],[3,"isLoading"],[1,"table-responsive"],["mat-table","","matSort","","matSortActive","Id","matSortDisableClear","","matSortDirection","desc",1,"table","table-bordered","no-wrap",3,"dataSource","matSortChange"],["matColumnDef","VoucherNumber"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","JvDate"],["matColumnDef","BranchCode"],["matColumnDef","Amount"],["matColumnDef","Source"],["matColumnDef","DocNum"],["matColumnDef","Remarks"],["matColumnDef","Approved"],["matColumnDef","Posted"],["matColumnDef","Void"],["matColumnDef","PostedDate"],["matColumnDef","Actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","text-center",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions","page",4,"ngIf"],[1,"col-md-12","col-lg-12","text-danger","font-weight-bold"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-cell","",1,"text-center"],["href","#","id","navbarDropdown","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false"],[1,"icon-options-vertical"],["aria-labelledby","navbarDropdown",1,"dropdown-menu","dropdown-menu-custom",2,"transform","translate3d(0px, -61px, 0px)!important"],["data-toggle","modal","class","dropdown-item","href","#",3,"click",4,"ngIf"],["data-toggle","modal","href","#",1,"dropdown-item",3,"click"],[4,"ngIf"],["mat-header-row",""],["mat-row",""],[3,"length","pageSize","pageSizeOptions","page"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"nav",5),t.TgZ(8,"ol",6),t.TgZ(9,"li",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"li",7),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"li",8),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",9),t.TgZ(19,"div",1),t.TgZ(20,"div",10),t.TgZ(21,"div",11),t.TgZ(22,"div",12),t.TgZ(23,"div",13),t._UZ(24,"div",10),t.TgZ(25,"div",14),t.TgZ(26,"input",15),t.NdJ("ngModelChange",function(r){return o.searchValue=r}),t.ALo(27,"translate"),t.qZA(),t.qZA(),t.TgZ(28,"div",16),t.TgZ(29,"button",17),t.NdJ("click",function(){return o.applyFilter(o.searchValue)}),t._uU(30),t.ALo(31,"translate"),t.qZA(),t._uU(32," \xa0 "),t.TgZ(33,"a",18),t.NdJ("click",function(){return o.refresh()}),t._UZ(34,"i",19),t.qZA(),t.qZA(),t.qZA(),t.TgZ(35,"div",1),t.TgZ(36,"div",20),t.TgZ(37,"h4",21),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.qZA(),t.TgZ(40,"div",22),t.TgZ(41,"div",23),t.TgZ(42,"a",24),t.NdJ("click",function(){return o.create()}),t._UZ(43,"i",25),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(46,Qu,3,1,"div",26),t._UZ(47,"div",27),t._UZ(48,"spinner-loader",28),t.TgZ(49,"div",29),t.TgZ(50,"table",30),t.NdJ("matSortChange",function(r){return o.onSortOrder(r)}),t.ynx(51,31),t.YNc(52,ju,3,3,"th",32),t.YNc(53,Fu,2,1,"td",33),t.BQk(),t.ynx(54,34),t.YNc(55,Bu,3,3,"th",32),t.YNc(56,Vu,3,4,"td",33),t.BQk(),t.ynx(57,35),t.YNc(58,Ru,3,3,"th",32),t.YNc(59,Eu,2,1,"td",33),t.BQk(),t.ynx(60,36),t.YNc(61,$u,3,3,"th",32),t.YNc(62,zu,3,3,"td",33),t.BQk(),t.ynx(63,37),t.YNc(64,Hu,3,3,"th",32),t.YNc(65,Gu,2,1,"td",33),t.BQk(),t.ynx(66,38),t.YNc(67,Xu,3,3,"th",32),t.YNc(68,Wu,2,1,"td",33),t.BQk(),t.ynx(69,39),t.YNc(70,Ku,3,3,"th",32),t.YNc(71,tm,2,1,"td",33),t.BQk(),t.ynx(72,40),t.YNc(73,em,3,3,"th",32),t.YNc(74,om,2,1,"td",33),t.BQk(),t.ynx(75,41),t.YNc(76,im,3,3,"th",32),t.YNc(77,nm,2,1,"td",33),t.BQk(),t.ynx(78,42),t.YNc(79,am,3,3,"th",32),t.YNc(80,rm,2,1,"td",33),t.BQk(),t.ynx(81,43),t.YNc(82,sm,3,3,"th",32),t.YNc(83,lm,3,4,"td",33),t.BQk(),t.ynx(84,44),t.YNc(85,cm,3,3,"th",45),t.YNc(86,mm,12,6,"td",46),t.BQk(),t.YNc(87,gm,1,0,"tr",47),t.YNc(88,Zm,1,0,"tr",48),t.qZA(),t.ynx(89),t.YNc(90,hm,1,3,"mat-paginator",49),t.BQk(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.hij(" ",t.lcZ(5,16,"BRS_Voucher")," "),t.xp6(6),t.hij(" ",t.lcZ(11,18,"Financial_Transaction")," "),t.xp6(3),t.Oqu(t.lcZ(14,20,"General_Ledger")),t.xp6(3),t.Oqu(t.lcZ(17,22,"BRS_Voucher")),t.xp6(10),t.MGl("placeholder","",t.lcZ(27,24,"Search"),"..."),t.Q6J("ngModel",o.searchValue),t.xp6(4),t.Oqu(t.lcZ(31,26,"Search")),t.xp6(8),t.hij("",t.lcZ(39,28,"BRS_Voucher_List")," "),t.xp6(6),t.hij("",t.lcZ(45,30,"New")," "),t.xp6(2),t.Q6J("ngIf",o.brsMessage.length>0),t.xp6(2),t.Q6J("isLoading",o.isLoading),t.xp6(2),t.Q6J("dataSource",o.data),t.xp6(37),t.Q6J("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(2),t.Q6J("ngIf",o.totalItemsCount>0))},directives:[s.Fj,s.JJ,s.On,d.O5,b.r,p.BZ,x.YE,p.w1,p.fO,p.Dz,p.as,p.nj,p.ge,x.nU,p.ev,p.XQ,p.Gk,q.NW],pipes:[Z.X$,d.uU,E],encapsulation:2}),i})();function Am(i,a){if(1&i&&(t.TgZ(0,"option",52),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function fm(i,a){if(1&i&&(t.TgZ(0,"option",52),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function Tm(i,a){if(1&i&&(t.TgZ(0,"option",52),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.text),t.xp6(1),t.Oqu(e.text)}}function vm(i,a){1&i&&(t.TgZ(0,"th",53),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Branch")))}function qm(i,a){1&i&&(t.ynx(0),t.TgZ(1,"th",53),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"th",53),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.BQk()),2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,2,"Service")),t.xp6(3),t.Oqu(t.lcZ(6,4,"Branch")))}function Cm(i,a){1&i&&(t.ynx(0),t.TgZ(1,"th",53),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.BQk()),2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Service")))}function xm(i,a){1&i&&(t.TgZ(0,"th",54),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Dr_Amount")))}function bm(i,a){1&i&&(t.TgZ(0,"th",54),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Cr_Amount")," "))}function ym(i,a){if(1&i&&(t.TgZ(0,"option",52),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}const et=function(){return{standalone:!0}};function Um(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"td"),t.TgZ(1,"select",55),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().branchCode=n})("change",function(n){return t.CHM(e),t.oxw().loadAccountCodes(n)}),t.TgZ(2,"option",19),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.YNc(5,ym,2,2,"option",20),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngModel",e.branchCode)("ngModelOptions",t.DdM(7,et))("disabled",1==e.branchList.length),t.xp6(2),t.Oqu(t.lcZ(4,5,"Branch")),t.xp6(2),t.Q6J("ngForOf",e.branchList)}}function Lm(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"td"),t.TgZ(2,"ng-select",56),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().batch=n}),t.qZA(),t.qZA(),t.TgZ(3,"td"),t.TgZ(4,"ng-select",56),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().batch2=n}),t.qZA(),t.qZA(),t.BQk()}if(2&i){const e=t.oxw();t.xp6(2),t.Q6J("items",e.segmentSetupList)("ngModel",e.batch)("ngModelOptions",t.DdM(6,et)),t.xp6(2),t.Q6J("items",e.segmentTwoSetupList)("ngModel",e.batch2)("ngModelOptions",t.DdM(7,et))}}function Sm(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"td"),t.TgZ(2,"ng-select",56),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().batch=n}),t.qZA(),t.qZA(),t.BQk()}if(2&i){const e=t.oxw();t.xp6(2),t.Q6J("items",e.segmentSetupList)("ngModel",e.batch)("ngModelOptions",t.DdM(3,et))}}function Nm(i,a){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.branchName)}}function Om(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.batch),t.xp6(2),t.Oqu(e.batch2)}}function wm(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.batch)}}function km(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"tr"),t.YNc(1,Nm,2,1,"td",37),t.YNc(2,Om,5,2,"ng-container",37),t.YNc(3,wm,3,1,"ng-container",37),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td",40),t.TgZ(17,"i",58),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).editInvoiceItem(r)}),t.qZA(),t._uU(18," \xa0 "),t.TgZ(19,"i",59),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).deleteInvoiceItem(r)}),t.qZA(),t._uU(20," \xa0 "),t.qZA(),t.qZA()}if(2&i){const e=a.$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("ngIf",o.hasBranchHidden),t.xp6(1),t.Q6J("ngIf",o.isSeg2),t.xp6(1),t.Q6J("ngIf",o.isSeg1),t.xp6(2),t.Oqu(e.finAcCode),t.xp6(2),t.Oqu(e.description),t.xp6(2),t.Oqu(e.remarks),t.xp6(2),t.Oqu(e.costAllocationName),t.xp6(2),t.Oqu(e.costSegCodeName),t.xp6(2),t.Oqu(e.payment)}}function Im(i,a){if(1&i&&(t.TgZ(0,"tbody"),t.YNc(1,km,21,9,"tr",57),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.itemList)}}let yt=(()=>{class i{constructor(e,o,n,r,l,c,u){this.fb=e,this.apiService=o,this.authService=n,this.utilService=r,this.dialogRef=l,this.notifyService=c,this.validationService=u,this.id=0,this.isEdit=!1,this.customerSiteList=[],this.customerList=[],this.companyList=[],this.branchList=[],this.accountCodeList=[],this.segmentSetupList=[],this.segmentTwoSetupList=[],this.costAllocationList=[],this.costSegCodeList=[],this.batchSetupList=[],this.isSeg1=!1,this.isSeg2=!1,this.payCodeList=[],this.itemList=[],this.isPaymentType=!1,this.isArab=!1,this.isCodeSegmentReadonly=!1,this.isEditingRecord=!1,this.hasBranchHidden=!1,this.branchName="",this.branchCode="",this.finAcCode="",this.description="",this.remarks="",this.batch="",this.batch2="",this.costAllocation=0,this.costAllocationName="",this.costSegCode="",this.costSegCodeName="",this.payment=0,this.sequence=1,this.editsequence=0}ngOnInit(){this.isArab=this.utilService.isArabic(),this.setForm(),this.loadData(),this.id>0&&(this.isEdit=!0,this.setEditForm())}setForm(){this.form=this.fb.group({jvDate:[this.utilService.getCurrentDate(),s.kI.required],amount:["",s.kI.required],customerId:[""],siteCode:[""],companyId:["",s.kI.required],branchCode:["",s.kI.required],docNum:["",s.kI.required],batch:"",cBookCode:["",s.kI.required],voucherType:["",s.kI.required],remarks:[""],narration:[""]})}loadData(){this.apiService.getall("customer/getSelectLanCustomerList").subscribe(e=>{e&&(this.customerList=e,this.customerList.map(n=>(n.text=this.isArab?n.textAr:n.text,n)))}),this.apiService.getall("mainAccounts/financesetup").subscribe(e=>{if(e){const o=e.numOfSeg;this.isSeg1=1==o,this.isSeg2=2==o,(this.isSeg1||this.isSeg2)&&this.apiService.getall("segmentSetup/getSegmentSetupSelectList").subscribe(n=>{n&&(this.segmentSetupList=n)}),this.isSeg2&&this.apiService.getall("segmentTwoSetup/getSegmentTwoSetupSelectList").subscribe(n=>{n&&(this.segmentTwoSetupList=n)})}}),this.apiService.getall("costAllocationSetup/getCostAllocationSetupSelectList").subscribe(e=>{e&&(this.costAllocationList=e)}),this.apiService.getall("batchSetup/getBatchSetupSelectList").subscribe(e=>{e&&(this.batchSetupList=e)}),this.apiService.getall("paymentcodes/getSelectPaymentCashCodeList").subscribe(e=>{e&&(console.log(e),this.payCodeList=e)}),this.apiService.getall("company/getSelectCompanyList").subscribe(e=>{e&&(this.companyList=e)})}hasBranchHiddenChecked(e){this.hasBranchHidden=e.checked}loadSegCodedata(e){const o=e.value;this.costAllocationName=e.text,o>0&&(this.costSegCode="",this.costSegCodeName="",this.apiService.getall(`costAllocationSetup/getCostSegmentCodeSelectList/${o}`).subscribe(n=>{n&&(this.costSegCodeList=n),this.costSegCodeList.map(l=>(l.text=this.isArab?l.textTwo+" "+l.textAr:l.text+" "+l.textTwo,l)),this.costSegCode=e.custCode}))}selectSegCodedata(e){this.costSegCodeName=e.text}loadBranchs(e){let o=e.target.value;o&&this.apiService.getall(`branch/getSelectSysBranchListByComId/${o}`).subscribe(n=>{n&&(this.branchList=n),1==this.branchList.length&&this.loadAccountCodesForBranch(this.branchList[0].value)})}selectBranch(e){this.branchCode=e.target.value,this.loadAccountCodesForBranch(this.branchCode)}loadAccountCodes(e){this.loadAccountCodesForBranch(e.target.value)}loadAccountCodesForBranch(e){e&&(this.finAcCode="",this.apiService.getall(`accountsbranchmapping/getSelectAccountMappingList?branchCode=${e}`).subscribe(o=>{o&&(this.accountCodeList=o)}))}setEditForm(){this.apiService.get("cashVoucher",this.id).subscribe(e=>{e&&(this.loadBranchsForCompany(e.companyId,e),this.displayJvItems(e.itemList),e.siteCode&&(this.isEditingRecord=!0,this.customerSiteList=[{text:e.siteCode,value:e.siteCode,textAr:"",textTwo:""}]),this.form.patchValue(e))})}displayJvItems(e){e.forEach(o=>{var n;this.branchName=o.branchName,this.branchCode=o.branchCode,this.description=o.description,this.finAcCode=o.finAcCode,this.remarks=o.remarks,this.batch=o.batch,this.batch2=o.batch2,this.costAllocation=o.costAllocation,this.costAllocationName=o.costAllocation?null===(n=this.costAllocationList.find(r=>r.value==o.costAllocation))||void 0===n?void 0:n.text:"",this.costSegCode=o.costSegCode,this.costSegCodeName=o.costSegCode,this.payment=o.payment,this.fillITems()})}loadBranchsForCompany(e,o){e&&this.apiService.getall(`branch/getSelectSysBranchListByComId/${e}`).subscribe(n=>{n&&(this.branchList=n)})}loadAccountCodeForBranch(e,o){e&&this.apiService.getall(`accountsbranchmapping/getSelectAccountMappingList?branchCode=${e}`).subscribe(n=>{n&&(this.accountCodeList=n,this.finAcCode=o)})}fillITems(){this.itemList.push({sequence:this.getSequence(),branchName:this.branchName,branchCode:this.branchCode,finAcCode:this.finAcCode,description:this.description,remarks:this.remarks,batch:this.batch,batch2:this.batch2,costAllocation:this.costAllocation,costSegCode:this.costSegCode,costAllocationName:this.costAllocationName,costSegCodeName:this.costSegCodeName,payment:this.payment}),this.setToDefault()}addItem(){this.payment>0&&(this.editsequence>0&&(this.removeInvoiceList(this.editsequence),this.editsequence=0),this.itemList.push({sequence:this.getSequence(),branchName:this.getBranchName(this.branchCode),branchCode:this.branchCode,finAcCode:this.finAcCode,description:this.description,remarks:this.remarks,batch:this.batch,batch2:this.batch2,costAllocation:this.costAllocation,costSegCode:this.costSegCode,costAllocationName:this.costAllocationName,costSegCodeName:this.costSegCodeName,payment:this.payment}),this.setToDefault())}getSequence(){return this.sequence+=this.sequence+1}deleteInvoiceItem(e){this.removeInvoiceList(e.sequence)}removeInvoiceList(e){let o=this.itemList.findIndex(n=>n.sequence===e);this.itemList.splice(o,1)}getBranchName(e){var o;return null===(o=this.branchList.find(n=>n.value===e))||void 0===o?void 0:o.text}editInvoiceItem(e){this.editsequence=e.sequence,this.branchCode=e.branchCode,this.loadAccountCodeForBranch(this.branchCode,e.finAcCode),this.description=e.description,this.remarks=e.remarks,this.batch=e.batch,this.batch2=e.batch2,this.costAllocation=e.costAllocation,this.costAllocationName=e.costAllocationName,this.costSegCode=e.costSegCode,this.costSegCodeName=e.costSegCodeName,this.payment=e.payment}setToDefault(){this.editsequence=0,this.hasBranchHidden&&(this.branchCode=""),this.finAcCode="",this.description="",this.remarks="",this.batch="",this.batch2="",this.isCodeSegmentReadonly||(this.costAllocation=0,this.costAllocationName="",this.costSegCode="",this.costSegCodeName=""),this.payment=0}selectVoucherType(e){""!==e.target.value&&(this.isPaymentType="Payment"==e.target.value)}resetCodeSegmentReadonly(){this.isCodeSegmentReadonly=!1,this.costSegCode="",this.costAllocation=0,this.form.controls.siteCode.setValue(null)}customerChange(e){var o;let n=e.value,r=e.textTwo;this.form.controls.siteCode.setValue(null),this.isCodeSegmentReadonly=!0,this.costAllocation=null===(o=this.costAllocationList.find(l=>"customer"==l.textTwo.toLowerCase()))||void 0===o?void 0:o.value,this.loadSegCodedata({value:this.costAllocation,custCode:r}),this.apiService.getall(`customer/getCustomerSitesSelectList/${n}`).subscribe(l=>{l&&(this.customerSiteList=l,this.customerSiteList.map(c=>(c.text=this.isArab?c.textTwo:c.text,c)))})}submit(){this.itemList.length<=0?this.utilService.FillUpFields():this.form.valid?(this.hasBranchHidden||this.itemList.forEach(e=>{e.branchCode=this.form.value.branchCode}),this.form.value.jvDate=this.utilService.selectedDateTime(this.form.controls.jvDate.value),this.id>0&&(this.form.value.id=this.id),this.form.value.itemList=this.itemList,this.apiService.post("cashVoucher",this.form.value).subscribe(e=>{this.utilService.OkMessage(),this.reset(),this.dialogRef.close(!0)},e=>{this.utilService.ShowApiErrorMessage(e)})):this.utilService.FillUpFields()}reset(){this.form.controls.jvDate.setValue(""),this.form.controls.companyId.setValue(""),this.form.controls.branchCode.setValue("")}closeModel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(T.so),t.Y36(f.g),t.Y36(O.R))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-addupdatecashvoucher"]],decls:185,vars:156,consts:[["type","button","aria-hidden","true",1,"close",3,"click"],["novalidate","",1,"mt-4",3,"formGroup","ngSubmit"],[1,"modal-body"],[1,"outer"],[1,"row"],[1,"col-md-6","col-lg-6"],[1,"form-group"],[1,"input-group","mb-2"],["formControlName","jvDate",1,"form-control","datapickerinput",3,"placeholder","matDatepicker"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker",""],[3,"control"],["type","number","formControlName","amount",1,"form-control",3,"placeholder"],[1,"col-md-6","col-lg-6","d-none"],[1,"mr-sm-2"],["bindLabel","text","bindValue","textTwo","formControlName","customerId",3,"items","clear","change"],["bindLabel","text","bindValue","value","formControlName","siteCode",3,"items"],["formControlName","companyId",1,"custom-select","mr-sm-2",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-group","mb-4"],["color","primary",3,"change"],["formControlName","branchCode",1,"custom-select","mr-sm-2",3,"change"],["type","text","formControlName","docNum",1,"form-control",3,"placeholder"],[1,"col-md-3","col-lg-3"],["formControlName","cBookCode",1,"custom-select","mr-sm-2"],["formControlName","voucherType",1,"custom-select","mr-sm-2",3,"change"],["value","Receipts"],["value","Payment"],["bindLabel","text","bindValue","value","formControlName","batch",3,"items"],[1,"col-md-12","col-lg-12"],["formControlName","remarks",1,"form-control",3,"placeholder"],["formControlName","narration",1,"form-control",3,"placeholder"],[1,""],["id","zero_config",1,"table","table-bordered","no-wrap"],["width","10%",4,"ngIf"],[4,"ngIf"],[2,"width","25%"],["width","9%",4,"ngIf"],[1,"text-center"],["bindLabel","text","bindValue","value",1,"voucher-width-250",3,"items","ngModel","ngModelOptions","ngModelChange"],["rows","5","type","text","value","Nil",1,"form-control","voucher-width-200",3,"ngModel","ngModelOptions","ngModelChange"],["rows","5","type","text","value","Travelling",1,"form-control","voucher-width-200",3,"ngModel","ngModelOptions","ngModelChange"],["bindLabel","text","bindValue","value",1,"voucher-width-180",3,"items","ngModel","ngModelOptions","readonly","ngModelChange","change"],["bindLabel","text","bindValue","textTwo",1,"voucher-width-230",3,"items","ngModel","ngModelOptions","readonly","ngModelChange","change"],["type","number","value","",1,"form-control","voucher-width-120",3,"ngModel","ngModelOptions","ngModelChange"],[1,"fas","fa-plus-circle",3,"click"],[1,"fas","fa-eraser","text-danger",3,"click"],[1,"col-lg-12","col-md-12","text-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","waves-effect","waves-light","btn-primary",3,"value"],[3,"value"],["width","10%"],["width","9%"],[1,"custom-select","mr-sm-2","voucher-width-120",3,"ngModel","ngModelOptions","disabled","ngModelChange","change"],["bindLabel","text","bindValue","value",1,"voucher-width-180",3,"items","ngModel","ngModelOptions","ngModelChange"],[4,"ngFor","ngForOf"],[1,"icon-note","cpointer",3,"click"],[1,"icon-trash","cpointer",3,"click"]],template:function(e,o){if(1&e&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"button",0),t.NdJ("click",function(){return o.closeModel()}),t._uU(4," \xd7"),t.qZA(),t.qZA(),t.TgZ(5,"form",1),t.NdJ("ngSubmit",function(){return o.submit()}),t.TgZ(6,"div",2),t.TgZ(7,"div",3),t.TgZ(8,"div",4),t.TgZ(9,"div",5),t.TgZ(10,"div",6),t.TgZ(11,"label"),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"div",7),t._UZ(15,"input",8),t.ALo(16,"translate"),t.TgZ(17,"div",9),t._UZ(18,"mat-datepicker-toggle",10),t._UZ(19,"mat-datepicker",null,11),t._UZ(21,"br"),t._UZ(22,"br"),t.qZA(),t.qZA(),t._UZ(23,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(24,"div",5),t.TgZ(25,"div",6),t.TgZ(26,"label"),t._uU(27),t.ALo(28,"translate"),t.qZA(),t._UZ(29,"input",13),t.ALo(30,"translate"),t.ALo(31,"translate"),t._UZ(32,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(33,"div",14),t.TgZ(34,"div",6),t.TgZ(35,"label",15),t._uU(36),t.ALo(37,"translate"),t.qZA(),t.TgZ(38,"ng-select",16),t.NdJ("clear",function(){return o.resetCodeSegmentReadonly()})("change",function(r){return o.customerChange(r)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(39,"div",14),t.TgZ(40,"div",6),t.TgZ(41,"label",15),t._uU(42),t.ALo(43,"translate"),t.qZA(),t._UZ(44,"ng-select",17),t.qZA(),t.qZA(),t.TgZ(45,"div",5),t.TgZ(46,"div",6),t.TgZ(47,"label"),t._uU(48),t.ALo(49,"translate"),t.qZA(),t.TgZ(50,"select",18),t.NdJ("change",function(r){return o.loadBranchs(r)}),t.TgZ(51,"option",19),t._uU(52),t.ALo(53,"translate"),t.qZA(),t.YNc(54,Am,2,2,"option",20),t.qZA(),t._UZ(55,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(56,"div",5),t.TgZ(57,"div",21),t.TgZ(58,"label",15),t._uU(59),t.ALo(60,"translate"),t.qZA(),t._uU(61," \xa0\xa0 "),t.TgZ(62,"mat-slide-toggle",22),t.NdJ("change",function(r){return o.hasBranchHiddenChecked(r)}),t.qZA(),t.TgZ(63,"select",23),t.NdJ("change",function(r){return o.selectBranch(r)}),t.TgZ(64,"option",19),t._uU(65),t.ALo(66,"translate"),t.qZA(),t.YNc(67,fm,2,2,"option",20),t.qZA(),t._UZ(68,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(69,"div",5),t.TgZ(70,"div",6),t.TgZ(71,"label"),t._uU(72),t.ALo(73,"translate"),t.qZA(),t._UZ(74,"input",24),t.ALo(75,"translate"),t.ALo(76,"translate"),t._UZ(77,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(78,"div",25),t.TgZ(79,"div",6),t.TgZ(80,"label",15),t._uU(81),t.ALo(82,"translate"),t.qZA(),t.TgZ(83,"select",26),t.TgZ(84,"option",19),t._uU(85),t.ALo(86,"translate"),t.qZA(),t.YNc(87,Tm,2,2,"option",20),t.qZA(),t._UZ(88,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(89,"div",5),t.TgZ(90,"div",21),t.TgZ(91,"label",15),t._uU(92),t.ALo(93,"translate"),t.qZA(),t.TgZ(94,"select",27),t.NdJ("change",function(r){return o.selectVoucherType(r)}),t.TgZ(95,"option",19),t._uU(96),t.ALo(97,"translate"),t.ALo(98,"translate"),t.qZA(),t.TgZ(99,"option",28),t._uU(100),t.ALo(101,"translate"),t.qZA(),t.TgZ(102,"option",29),t._uU(103),t.ALo(104,"translate"),t.qZA(),t.qZA(),t._UZ(105,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(106,"div",5),t.TgZ(107,"div",6),t.TgZ(108,"label"),t._uU(109),t.ALo(110,"translate"),t.qZA(),t._UZ(111,"ng-select",30),t.qZA(),t.qZA(),t.TgZ(112,"div",31),t.TgZ(113,"div",6),t.TgZ(114,"label"),t._uU(115),t.ALo(116,"translate"),t.qZA(),t.TgZ(117,"textarea",32),t.ALo(118,"translate"),t.ALo(119,"translate"),t._uU(120,"                  "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(121,"div",31),t.TgZ(122,"div",6),t.TgZ(123,"label"),t._uU(124),t.ALo(125,"translate"),t.qZA(),t.TgZ(126,"textarea",33),t.ALo(127,"translate"),t.ALo(128,"translate"),t._uU(129,"                  "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(130,"div",34),t.TgZ(131,"table",35),t.TgZ(132,"thead"),t.TgZ(133,"tr"),t.YNc(134,vm,3,3,"th",36),t.YNc(135,qm,7,6,"ng-container",37),t.YNc(136,Cm,4,3,"ng-container",37),t.TgZ(137,"th",38),t._uU(138),t.ALo(139,"translate"),t.qZA(),t.TgZ(140,"th"),t._uU(141),t.ALo(142,"translate"),t.qZA(),t.TgZ(143,"th"),t._uU(144),t.ALo(145,"translate"),t.qZA(),t.TgZ(146,"th"),t._uU(147),t.ALo(148,"translate"),t.qZA(),t.TgZ(149,"th"),t._uU(150),t.ALo(151,"translate"),t.qZA(),t.YNc(152,xm,3,3,"th",39),t.YNc(153,bm,3,3,"th",39),t._UZ(154,"th",40),t.qZA(),t.qZA(),t.TgZ(155,"tbody"),t.TgZ(156,"tr"),t.YNc(157,Um,6,8,"td",37),t.YNc(158,Lm,5,8,"ng-container",37),t.YNc(159,Sm,3,4,"ng-container",37),t.TgZ(160,"td"),t.TgZ(161,"ng-select",41),t.NdJ("ngModelChange",function(r){return o.finAcCode=r}),t.qZA(),t.qZA(),t.TgZ(162,"td"),t.TgZ(163,"textarea",42),t.NdJ("ngModelChange",function(r){return o.description=r}),t.qZA(),t.qZA(),t.TgZ(164,"td"),t.TgZ(165,"textarea",43),t.NdJ("ngModelChange",function(r){return o.remarks=r}),t.qZA(),t.qZA(),t.TgZ(166,"td"),t.TgZ(167,"ng-select",44),t.NdJ("ngModelChange",function(r){return o.costAllocation=r})("change",function(r){return o.loadSegCodedata(r)}),t.qZA(),t.qZA(),t.TgZ(168,"td"),t.TgZ(169,"ng-select",45),t.NdJ("ngModelChange",function(r){return o.costSegCode=r})("change",function(r){return o.selectSegCodedata(r)}),t.qZA(),t.qZA(),t.TgZ(170,"td"),t.TgZ(171,"input",46),t.NdJ("ngModelChange",function(r){return o.payment=r}),t.qZA(),t.qZA(),t.TgZ(172,"td"),t.TgZ(173,"i",47),t.NdJ("click",function(){return o.addItem()}),t.qZA(),t._uU(174," \xa0\xa0 "),t.TgZ(175,"i",48),t.NdJ("click",function(){return o.setToDefault()}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(176,Im,2,1,"tbody",37),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(177,"div",4),t.TgZ(178,"div",49),t.TgZ(179,"button",50),t.NdJ("click",function(){return o.closeModel()}),t._uU(180),t.ALo(181,"translate"),t.qZA(),t._uU(182," \xa0\xa0 "),t._UZ(183,"input",51),t.ALo(184,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e){const n=t.MAs(20);t.xp6(1),t.hij(" ",t.lcZ(2,78,"Create_New_Cash_Voucher")," "),t.xp6(4),t.Q6J("formGroup",o.form),t.xp6(7),t.Oqu(t.lcZ(13,80,"Date")),t.xp6(3),t.s9C("placeholder",t.lcZ(16,82,"Select_a_Date")),t.Q6J("matDatepicker",n),t.xp6(3),t.Q6J("for",n),t.xp6(5),t.Q6J("control",o.form.controls.jvDate),t.xp6(4),t.Oqu(t.lcZ(28,84,"Amount")),t.xp6(2),t.hYB("placeholder","",t.lcZ(30,86,"PleaseEnter")," ",t.lcZ(31,88,"Amount")," "),t.xp6(3),t.Q6J("control",o.form.controls.amount),t.xp6(4),t.Oqu(t.lcZ(37,90,"Customer")),t.xp6(2),t.Q6J("items",o.customerList),t.xp6(4),t.Oqu(t.lcZ(43,92,"Customer_Sites")),t.xp6(2),t.Q6J("items",o.customerSiteList),t.xp6(4),t.Oqu(t.lcZ(49,94,"Company")),t.xp6(4),t.Oqu(t.lcZ(53,96,"Select_Organization")),t.xp6(2),t.Q6J("ngForOf",o.companyList),t.xp6(1),t.Q6J("control",o.form.controls.companyId),t.xp6(4),t.Oqu(t.lcZ(60,98,"Branch")),t.xp6(6),t.Oqu(t.lcZ(66,100,"Select_Branch")),t.xp6(2),t.Q6J("ngForOf",o.branchList),t.xp6(1),t.Q6J("control",o.form.controls.branchCode),t.xp6(4),t.Oqu(t.lcZ(73,102,"DocumentNumber")),t.xp6(2),t.hYB("placeholder","",t.lcZ(75,104,"PleaseEnter")," ",t.lcZ(76,106,"DocumentNumber")," "),t.xp6(3),t.Q6J("control",o.form.controls.docNum),t.xp6(4),t.Oqu(t.lcZ(82,108,"Cash_Book_Code")),t.xp6(4),t.Oqu(t.lcZ(86,110,"Cash_Book_Code")),t.xp6(2),t.Q6J("ngForOf",o.payCodeList),t.xp6(1),t.Q6J("control",o.form.controls.cBookCode),t.xp6(4),t.Oqu(t.lcZ(93,112,"VoucherType")),t.xp6(4),t.AsE("",t.lcZ(97,114,"Choose")," ",t.lcZ(98,116,"VoucherType"),""),t.xp6(4),t.Oqu(t.lcZ(101,118,"Receipts")),t.xp6(3),t.Oqu(t.lcZ(104,120,"Payment")),t.xp6(2),t.Q6J("control",o.form.controls.voucherType),t.xp6(4),t.Oqu(t.lcZ(110,122,"Batch")),t.xp6(2),t.Q6J("items",o.batchSetupList),t.xp6(4),t.Oqu(t.lcZ(116,124,"Remarks")),t.xp6(2),t.hYB("placeholder","",t.lcZ(118,126,"PleaseEnter")," ",t.lcZ(119,128,"Remarks"),""),t.xp6(7),t.Oqu(t.lcZ(125,130,"Narration")),t.xp6(2),t.hYB("placeholder","",t.lcZ(127,132,"PleaseEnter")," ",t.lcZ(128,134,"Narration"),""),t.xp6(8),t.Q6J("ngIf",o.hasBranchHidden),t.xp6(1),t.Q6J("ngIf",o.isSeg2),t.xp6(1),t.Q6J("ngIf",o.isSeg1),t.xp6(2),t.hij("",t.lcZ(139,136,"A_C_Code")," "),t.xp6(3),t.Oqu(t.lcZ(142,138,"Description")),t.xp6(3),t.Oqu(t.lcZ(145,140,"Line_Remarks")),t.xp6(3),t.Oqu(t.lcZ(148,142,"CostAllocation")),t.xp6(3),t.Oqu(t.lcZ(151,144,"CostSegCode")),t.xp6(2),t.Q6J("ngIf",o.isPaymentType),t.xp6(1),t.Q6J("ngIf",!o.isPaymentType),t.xp6(4),t.Q6J("ngIf",o.hasBranchHidden),t.xp6(1),t.Q6J("ngIf",o.isSeg2),t.xp6(1),t.Q6J("ngIf",o.isSeg1),t.xp6(2),t.Q6J("items",o.accountCodeList)("ngModel",o.finAcCode)("ngModelOptions",t.DdM(150,et)),t.xp6(2),t.Q6J("ngModel",o.description)("ngModelOptions",t.DdM(151,et)),t.xp6(2),t.Q6J("ngModel",o.remarks)("ngModelOptions",t.DdM(152,et)),t.xp6(2),t.Q6J("items",o.costAllocationList)("ngModel",o.costAllocation)("ngModelOptions",t.DdM(153,et))("readonly",o.isCodeSegmentReadonly),t.xp6(2),t.Q6J("items",o.costSegCodeList)("ngModel",o.costSegCode)("ngModelOptions",t.DdM(154,et))("readonly",o.isCodeSegmentReadonly),t.xp6(2),t.Q6J("ngModel",o.payment)("ngModelOptions",t.DdM(155,et)),t.xp6(5),t.Q6J("ngIf",o.itemList.length>0),t.xp6(4),t.hij(" ",t.lcZ(181,146,"Cancel")," "),t.xp6(3),t.s9C("value",t.lcZ(184,148,"Save"))}},directives:[s._Y,s.JL,s.sg,s.Fj,m.hl,s.JJ,s.u,m.nW,U.R9,m.Mq,M.s,s.wV,j.w9,s.EJ,s.YN,s.Kr,d.sg,F.Rr,d.O5,s.On],pipes:[Z.X$],encapsulation:2}),i})();function Mm(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",38),t._uU(2),t.qZA(),t.TgZ(3,"td",38),t._uU(4),t.qZA(),t.TgZ(5,"td",38),t._uU(6),t.qZA(),t.TgZ(7,"td",39),t._uU(8),t.qZA(),t.TgZ(9,"td",40),t._uU(10),t.qZA(),t.TgZ(11,"td",41),t._uU(12),t.qZA(),t.TgZ(13,"td",40),t._uU(14),t.qZA(),t.TgZ(15,"td",40),t._uU(16),t.qZA(),t.TgZ(17,"td",42),t._uU(18),t.qZA(),t.TgZ(19,"td",42),t._uU(20),t.qZA(),t.qZA()),2&i){const e=a.$implicit,o=t.oxw();t.xp6(2),t.hij(" ",e.id," "),t.xp6(2),t.hij(" ",e.batch," "),t.xp6(2),t.hij(" ",e.batch2," "),t.xp6(2),t.AsE(" (",e.finAcCode,") ",e.description," "),t.xp6(2),t.hij(" ",o.printItem.voucherType," "),t.xp6(2),t.hij(" ",e.remarks," "),t.xp6(2),t.hij(" ",e.costAllocationName," "),t.xp6(2),t.hij(" ",e.costSegCodeName," "),t.xp6(2),t.hij(" ",e.drAmount," "),t.xp6(2),t.hij(" ",e.crAmount," ")}}let Jm=(()=>{class i{constructor(e,o,n,r,l){this.apiService=e,this.authService=o,this.utilService=n,this.dialogRef=r,this.notifyService=l,this.id=0,this.user=""}ngOnInit(){this.user=this.authService.getUserName(),this.loadData()}loadData(){this.apiService.getall(`cashVoucher/CashVoucherPrint/${this.id}`).subscribe(e=>{e&&(this.printItem=e)})}printInvoice(){this.openPrint()}openPrint(){const e=document.getElementById("printcontainer");this.utilService.printForLocale(e)}closeModel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(T.so),t.Y36(f.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-cvprint"]],decls:165,vars:110,consts:[[2,"position","fixed"],[3,"click"],["type","button","aria-hidden","true",1,"",3,"click"],["id","printcontainer",1,"container-fluid","invoice-container","print-container",2,"width","935px","margin","auto","padding","35px","border","1px solid #ccc"],[3,"dir"],["border","0","cellpadding","0","cellspacing","0","width","100%",2,"width","100%"],[2,"text-align","left","width","60%"],[2,"font-size","1rem !important","color","#0c2f54","font-family","'Poppins', sans-serif","font-weight","500","line-height","1.2","margin","0","padding-top","4px"],[2,"text-align","right","vertical-align","middle"],["id","logo","title","invoice","alt","invoice",2,"width","120px",3,"src"],[2,"padding-top","10px","padding-bottom","5px"],[2,"width","47%","text-align","center","vertical-align","top"],["border","0","cellpadding","0","cellspacing","0","width","100%",2,"width","100%","border","2px solid #878787"],[2,"padding","5px","width","33%","text-align","left","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[2,"padding","5px","text-align","left","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"width","4%"],[2,"width","47%","vertical-align","top"],[2,"width","60px","padding","5px","text-align","left","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[2,"padding","5px","text-align","left","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[2,"padding-bottom","5px"],[2,"padding","5px","width","30%","text-align","left","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"font-weight","600"],[2,"border-left","2px solid #878787","padding","5px","text-align","left","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[2,"font-size","1.5rem !important","color","#0c2f54","font-family","'Poppins', sans-serif","font-weight","500","line-height","1.2","margin","0","padding-top","15px","text-align","center"],[2,"border","2px solid #878787","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[2,"border","2px solid #878787","width","33%","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[2,"width","33%","border","2px solid #878787","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[2,"width","5%","border","2px solid #878787","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[2,"width","15%","border","2px solid #878787","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[4,"ngFor","ngForOf"],["rowspan","2","colspan","8",2,"border","2px solid #878787","padding","5px","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"text-align","right","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[2,"border","2px solid #878787","padding","5px","text-align","right","font-size","0.975rem !important","color","#706f6f","font-family","'Poppins', sans-serif","font-weight","700"],["colspan","11",2,"border","2px solid #878787","padding","5px","text-align","left","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","700"],[2,"padding-top","5px"],[2,"width","33%","height","70px","text-align","left","vertical-align","top","border","2px solid #878787","padding","5px","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"text-align","left","vertical-align","top","border","2px solid #878787","border-left","0","padding","5px","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"width","33%","text-align","left","vertical-align","top","border","2px solid #878787","border-left","0","padding","5px","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","2px solid #878787","padding","5px","text-align","center","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","2px solid #878787","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"width","15%","border","2px solid #878787","padding","5px","text-align","center","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"width","15%","border","2px solid #878787","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"width","15%","border","2px solid #878787","padding","5px","text-align","right","font-size","0.875rem !important","color","#706f6f","font-family","'Poppins', sans-serif","font-weight","600"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"button",1),t.NdJ("click",function(){return o.printInvoice()}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._uU(4," \xa0 "),t.TgZ(5,"button",2),t.NdJ("click",function(){return o.closeModel()}),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.qZA(),t._UZ(8,"br"),t._UZ(9,"br"),t._UZ(10,"br"),t.TgZ(11,"div",3),t.TgZ(12,"div",4),t.TgZ(13,"table",5),t.TgZ(14,"tr"),t.TgZ(15,"td",6),t.TgZ(16,"h4",7),t._uU(17),t.qZA(),t.TgZ(18,"h4",7),t._uU(19),t.qZA(),t.qZA(),t.TgZ(20,"td",8),t._UZ(21,"img",9),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"div",10),t.TgZ(23,"table",5),t.TgZ(24,"tr"),t.TgZ(25,"td",11),t.TgZ(26,"table",12),t.TgZ(27,"tr"),t.TgZ(28,"td",13),t._uU(29),t.ALo(30,"translate"),t.qZA(),t.TgZ(31,"td",14),t._uU(32),t.ALo(33,"date"),t.qZA(),t.qZA(),t.TgZ(34,"tr"),t.TgZ(35,"td",13),t._uU(36),t.ALo(37,"translate"),t.qZA(),t.TgZ(38,"td",14),t._uU(39),t.qZA(),t.qZA(),t.TgZ(40,"tr"),t.TgZ(41,"td",13),t._uU(42),t.ALo(43,"translate"),t.qZA(),t.TgZ(44,"td",14),t._uU(45),t.qZA(),t.qZA(),t.TgZ(46,"tr"),t.TgZ(47,"td",13),t._uU(48),t.ALo(49,"translate"),t.qZA(),t.TgZ(50,"td",14),t._uU(51),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(52,"td",15),t.TgZ(53,"td",16),t.TgZ(54,"table",12),t.TgZ(55,"tr"),t.TgZ(56,"td",17),t._uU(57),t.ALo(58,"translate"),t.qZA(),t.TgZ(59,"td",14),t._uU(60),t.qZA(),t.qZA(),t.TgZ(61,"tr"),t.TgZ(62,"td",18),t._uU(63),t.ALo(64,"translate"),t.qZA(),t.TgZ(65,"td",14),t._uU(66),t.qZA(),t.qZA(),t.TgZ(67,"tr"),t.TgZ(68,"td",18),t._uU(69),t.ALo(70,"translate"),t.qZA(),t.TgZ(71,"td",14),t._uU(72),t.qZA(),t.qZA(),t.TgZ(73,"tr"),t.TgZ(74,"td",18),t._uU(75),t.ALo(76,"translate"),t.qZA(),t.TgZ(77,"td",14),t._uU(78),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(79,"div",19),t.TgZ(80,"table",12),t.TgZ(81,"tr"),t.TgZ(82,"td",20),t.TgZ(83,"span",21),t._uU(84),t.ALo(85,"translate"),t.qZA(),t._uU(86),t.qZA(),t.TgZ(87,"td",22),t._uU(88),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(89,"table",5),t.TgZ(90,"tr"),t.TgZ(91,"td",23),t._uU(92),t.ALo(93,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(94,"div",19),t.TgZ(95,"table",5),t.TgZ(96,"tr"),t.TgZ(97,"td",24),t._uU(98),t.ALo(99,"translate"),t.qZA(),t.TgZ(100,"td",25),t._uU(101),t.ALo(102,"translate"),t.qZA(),t.TgZ(103,"td",26),t._uU(104),t.ALo(105,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(106,"div",19),t.TgZ(107,"table",5),t.TgZ(108,"tr"),t.TgZ(109,"th",27),t._uU(110),t.ALo(111,"translate"),t.qZA(),t.TgZ(112,"th",27),t._uU(113),t.ALo(114,"translate"),t.qZA(),t.TgZ(115,"th",27),t._uU(116),t.ALo(117,"translate"),t.qZA(),t.TgZ(118,"th",28),t._uU(119),t.ALo(120,"translate"),t.qZA(),t.TgZ(121,"th",28),t._uU(122),t.ALo(123,"translate"),t.qZA(),t.TgZ(124,"th",28),t._uU(125),t.ALo(126,"translate"),t.qZA(),t.TgZ(127,"th",28),t._uU(128),t.ALo(129,"translate"),t.qZA(),t.TgZ(130,"th",28),t._uU(131),t.ALo(132,"translate"),t.qZA(),t.TgZ(133,"th",28),t._uU(134),t.ALo(135,"translate"),t.qZA(),t.TgZ(136,"th",28),t._uU(137),t.ALo(138,"translate"),t.qZA(),t.qZA(),t.YNc(139,Mm,21,11,"tr",29),t.TgZ(140,"tr"),t.TgZ(141,"td",30),t.TgZ(142,"div",31),t._uU(143),t.ALo(144,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(145,"tr"),t.TgZ(146,"td",32),t._uU(147),t.qZA(),t.TgZ(148,"td",32),t._uU(149),t.qZA(),t.qZA(),t.TgZ(150,"tr"),t.TgZ(151,"td",33),t._uU(152),t.qZA(),t.qZA(),t.qZA(),t.TgZ(153,"div",34),t.TgZ(154,"table",5),t.TgZ(155,"tr"),t.TgZ(156,"td",35),t._uU(157),t.ALo(158,"translate"),t.qZA(),t.TgZ(159,"td",36),t._uU(160),t.ALo(161,"translate"),t.qZA(),t.TgZ(162,"td",37),t._uU(163),t.ALo(164,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.hij(" ",t.lcZ(3,49,"Print"),""),t.xp6(4),t.hij(" ",t.lcZ(7,51,"Close"),""),t.xp6(6),t.s9C("dir",o.utilService.getDir()),t.xp6(5),t.hij(" ",o.printItem.companyName," "),t.xp6(2),t.hij(" ",o.printItem.address," "),t.xp6(2),t.s9C("src",o.printItem.logo,t.LSH),t.xp6(8),t.hij(" ",t.lcZ(30,53,"Voucher_Date"),": "),t.xp6(3),t.hij(" ",t.xi3(33,55,o.printItem.cDate,"MM-dd-yyyy")," "),t.xp6(4),t.hij(" ",t.lcZ(37,58,"Branch"),":: "),t.xp6(3),t.hij(" ",o.printItem.branchName," "),t.xp6(3),t.hij(" ",t.lcZ(43,60,"PayCode"),": "),t.xp6(3),t.hij(" ",o.printItem.cBookCode," "),t.xp6(3),t.hij(" ",t.lcZ(49,62,"Transaction"),": "),t.xp6(3),t.hij(" ",o.printItem.source," "),t.xp6(6),t.hij(" ",t.lcZ(58,64,"User"),":: "),t.xp6(3),t.hij(" ",o.user," "),t.xp6(3),t.hij(" ",t.lcZ(64,66,"DOC_#"),":: "),t.xp6(3),t.hij(" ",o.printItem.docNum," "),t.xp6(3),t.hij(" ",t.lcZ(70,68,"Remarks"),":: "),t.xp6(3),t.hij(" ",o.printItem.remarks," "),t.xp6(3),t.hij(" ",t.lcZ(76,70,"Batch_ID"),":: "),t.xp6(3),t.hij(" ",o.printItem.batch," "),t.xp6(6),t.hij(" ",t.lcZ(85,72,"Amount"),"::"),t.xp6(2),t.hij(" ",o.printItem.amount," "),t.xp6(2),t.hij(" ",o.printItem.totalAmountText," "),t.xp6(4),t.AsE(" ",t.lcZ(93,74,"Cash_Voucher"),": ",o.printItem.voucherType," "),t.xp6(6),t.AsE(" ",t.lcZ(99,76,"Voucher"),": : ",o.printItem.voucherNumber," "),t.xp6(3),t.hij(" ",t.lcZ(102,78,"Unapproved_Voucher")," "),t.xp6(3),t.hij(" ",t.lcZ(105,80,"Page")," 1 of 1 "),t.xp6(6),t.hij(" ",t.lcZ(111,82,"SNO")," "),t.xp6(3),t.hij(" ",t.lcZ(114,84,"Seg1")," "),t.xp6(3),t.hij(" ",t.lcZ(117,86,"Seg2")," "),t.xp6(3),t.hij(" ",t.lcZ(120,88,"Ac_Code")," "),t.xp6(3),t.hij(" ",t.lcZ(123,90,"Receipt")," "),t.xp6(3),t.hij(" ",t.lcZ(126,92,"Remarks")," "),t.xp6(3),t.hij(" ",t.lcZ(129,94,"CostAllocation")," "),t.xp6(3),t.hij(" ",t.lcZ(132,96,"CostSegCode")," "),t.xp6(3),t.hij(" ",t.lcZ(135,98,"Dr_Amount")," "),t.xp6(3),t.hij(" ",t.lcZ(138,100,"Cr_Amount")," "),t.xp6(2),t.Q6J("ngForOf",o.printItem.itemList),t.xp6(4),t.hij(" ",t.lcZ(144,102,"Total_Amount"),":"),t.xp6(4),t.hij(" ",o.printItem.totalDrPayment," "),t.xp6(2),t.hij(" ",o.printItem.totalCrPayment," "),t.xp6(3),t.hij(" ",o.printItem.totalPaymentText," "),t.xp6(5),t.hij(" ",t.lcZ(158,104,"Signature_Accountant"),": "),t.xp6(3),t.hij(" ",t.lcZ(161,106,"Signature_Approval_Authority"),": "),t.xp6(3),t.hij(" ",t.lcZ(164,108,"Signature_Received_By"),": "))},directives:[nt.Lv,d.sg],pipes:[Z.X$,d.uU],encapsulation:2}),i})(),Ut=(()=>{class i{constructor(e,o,n,r,l,c){this.fb=e,this.apiService=o,this.authService=n,this.utilService=r,this.dialogRef=l,this.notifyService=c,this.id=0,this.modalTitle="",this.selectedPayment="",this.paymentTermId="",this.paymentTermsList=[]}ngOnInit(){this.setForm()}setForm(){this.form=this.fb.group({paymentType:this.modalTitle,trantype:["Invoice",s.kI.required],tranSource:["GL",s.kI.required],remarks1:"-",remarks2:"-",createdOn:""})}submit(){this.form.valid&&this.id>0&&(this.form.value.id=this.id,this.form.controls.createdOn.value&&(this.form.value.createdOn=this.utilService.selectedDateTime(this.form.controls.createdOn.value)),this.apiService.post("cashVoucher/createcashVoucherPosting",this.form.value).subscribe(e=>{this.utilService.OkMessage(),this.reset(),this.dialogRef.close(!0)},e=>{console.error(e),this.utilService.ShowApiErrorMessage(e)}))}reset(){this.selectedPayment=this.paymentTermId=""}closeModel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(T.so),t.Y36(f.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-chposting"]],decls:43,vars:30,consts:[["type","button","aria-hidden","true",1,"close",3,"click"],["novalidate","",1,"mt-1",3,"formGroup","ngSubmit"],[1,"row","rowm0"],[1,"col-md-12","col-lg-12"],[1,"form-group"],[1,"mr-sm-2"],["type","text","formControlName","remarks1",1,"form-control",3,"placeholder"],["type","text","formControlName","remarks2",1,"form-control",3,"placeholder"],[1,"input-group","mb-2"],["formControlName","createdOn",1,"form-control","datapickerinput",3,"placeholder","matDatepicker"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker",""],[1,"row"],[1,"col-lg-12","col-md-12","text-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","waves-effect","waves-light","btn-primary",3,"value"]],template:function(e,o){if(1&e&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"button",0),t.NdJ("click",function(){return o.closeModel()}),t._uU(4," \xd7"),t.qZA(),t.qZA(),t.TgZ(5,"form",1),t.NdJ("ngSubmit",function(){return o.submit()}),t.TgZ(6,"div",2),t.TgZ(7,"div",3),t.TgZ(8,"div",4),t.TgZ(9,"label",5),t._uU(10),t.ALo(11,"translate"),t.qZA(),t._UZ(12,"input",6),t.ALo(13,"translate"),t.qZA(),t.qZA(),t.TgZ(14,"div",3),t.TgZ(15,"div",4),t.TgZ(16,"label",5),t._uU(17),t.ALo(18,"translate"),t.qZA(),t._UZ(19,"input",7),t.ALo(20,"translate"),t.qZA(),t.qZA(),t.TgZ(21,"div",3),t.TgZ(22,"label",5),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"div",4),t.TgZ(26,"div",8),t._UZ(27,"input",9),t.ALo(28,"translate"),t.TgZ(29,"div",10),t._UZ(30,"mat-datepicker-toggle",11),t._UZ(31,"mat-datepicker",null,12),t._UZ(33,"br"),t._UZ(34,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(35,"div",13),t.TgZ(36,"div",14),t.TgZ(37,"button",15),t.NdJ("click",function(){return o.closeModel()}),t._uU(38),t.ALo(39,"translate"),t.qZA(),t._uU(40," \xa0\xa0 "),t._UZ(41,"input",16),t.ALo(42,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e){const n=t.MAs(32);t.xp6(1),t.hij(" ",t.lcZ(2,12,"Cash_Voucher")," "),t.xp6(4),t.Q6J("formGroup",o.form),t.xp6(5),t.hij(" ",t.lcZ(11,14,"Remarks1")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(13,16,"Remarks1")),t.xp6(5),t.hij(" ",t.lcZ(18,18,"Remarks2")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(20,20,"Remarks2")),t.xp6(4),t.Oqu(t.lcZ(24,22,"Posting_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(28,24,"Select_a_Date")),t.Q6J("matDatepicker",n),t.xp6(3),t.Q6J("for",n),t.xp6(8),t.hij(" ",t.lcZ(39,26,"Cancel")," "),t.xp6(3),t.s9C("value",t.lcZ(42,28,"Save"))}},directives:[s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,m.hl,m.nW,U.R9,m.Mq],pipes:[Z.X$],encapsulation:2}),i})(),Dm=(()=>{class i{constructor(e,o,n,r,l,c){this.fb=e,this.apiService=o,this.authService=n,this.utilService=r,this.dialogRef=l,this.notifyService=c,this.id=0}ngOnInit(){this.setForm()}setForm(){this.form=this.fb.group({appRemarks:["-",s.kI.required],trantype:["Invoice",s.kI.required],tranSource:["GL",s.kI.required]})}submit(){this.form.valid&&this.id>0&&(this.form.value.id=this.id,this.apiService.post("cashVoucher/createcashVoucherApproval",this.form.value).subscribe(e=>{this.utilService.OkMessage(),this.reset(),this.dialogRef.close(!0)},e=>{this.utilService.ShowApiErrorMessage(e)}))}reset(){this.form.reset()}closeModel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(T.so),t.Y36(f.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-chuserapproval"]],decls:23,vars:17,consts:[["type","button","aria-hidden","true",1,"close",3,"click"],["novalidate","",1,"mt-1",3,"formGroup","ngSubmit"],[1,"row","rowm0"],[1,"col-md-4","col-lg-4"],[1,"form-group"],[1,"mr-sm-2"],["type","text","formControlName","appRemarks",1,"form-control",3,"placeholder"],[3,"control"],[1,"row"],[1,"col-lg-12","col-md-12","text-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","waves-effect","waves-light","btn-primary",3,"value"]],template:function(e,o){1&e&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"button",0),t.NdJ("click",function(){return o.closeModel()}),t._uU(4," \xd7"),t.qZA(),t.qZA(),t.TgZ(5,"form",1),t.NdJ("ngSubmit",function(){return o.submit()}),t.TgZ(6,"div",2),t.TgZ(7,"div",3),t.TgZ(8,"div",4),t.TgZ(9,"label",5),t._uU(10),t.ALo(11,"translate"),t.qZA(),t._UZ(12,"input",6),t.ALo(13,"translate"),t._UZ(14,"validation-message",7),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"div",8),t.TgZ(16,"div",9),t.TgZ(17,"button",10),t.NdJ("click",function(){return o.closeModel()}),t._uU(18),t.ALo(19,"translate"),t.qZA(),t._uU(20," \xa0\xa0 "),t._UZ(21,"input",11),t.ALo(22,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,7,"User_Approval")," "),t.xp6(4),t.Q6J("formGroup",o.form),t.xp6(5),t.hij(" ",t.lcZ(11,9,"Remarks")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(13,11,"Remarks")),t.xp6(2),t.Q6J("control",o.form.controls.appRemarks),t.xp6(4),t.hij(" ",t.lcZ(19,13,"Cancel")," "),t.xp6(3),t.s9C("value",t.lcZ(22,15,"Save")))},directives:[s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,M.s],pipes:[Z.X$],encapsulation:2}),i})();function Pm(i,a){1&i&&(t.TgZ(0,"th",49),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"JV_Number")," "))}function Ym(i,a){if(1&i&&(t.TgZ(0,"td",50),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.voucherNumber)}}function Qm(i,a){1&i&&(t.TgZ(0,"th",49),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Date")," "))}function jm(i,a){if(1&i&&(t.TgZ(0,"td",50),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.jvDate,"dd-MM-yyyy"))}}function Fm(i,a){1&i&&(t.TgZ(0,"th",49),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Branch")," "))}function Bm(i,a){if(1&i&&(t.TgZ(0,"td",50),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.branchName)}}function Vm(i,a){1&i&&(t.TgZ(0,"th",49),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Amount")," "))}function Rm(i,a){if(1&i&&(t.TgZ(0,"td",50),t._uU(1),t.ALo(2,"leadingZeros"),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.amount))}}function Em(i,a){1&i&&(t.TgZ(0,"th",49),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Source")," "))}function $m(i,a){if(1&i&&(t.TgZ(0,"td",50),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.source)}}function zm(i,a){1&i&&(t.TgZ(0,"th",49),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Document")," "))}function Hm(i,a){if(1&i&&(t.TgZ(0,"td",50),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.docNum)}}function Gm(i,a){1&i&&(t.TgZ(0,"th",49),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Remarks")," "))}function Xm(i,a){if(1&i&&(t.TgZ(0,"td",50),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.remarks)}}function Wm(i,a){1&i&&(t.TgZ(0,"th",49),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Approved")," "))}function Km(i,a){if(1&i&&(t.TgZ(0,"td",50),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.approvedUser)}}function tg(i,a){1&i&&(t.TgZ(0,"th",49),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Posted")," "))}function eg(i,a){if(1&i&&(t.TgZ(0,"td",50),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.posted)}}function og(i,a){1&i&&(t.TgZ(0,"th",49),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Void")," "))}function ig(i,a){if(1&i&&(t.TgZ(0,"td",50),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.isVoid)}}function ng(i,a){1&i&&(t.TgZ(0,"th",49),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"PostedDate")," "))}function ag(i,a){if(1&i&&(t.TgZ(0,"td",50),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.postedDate,"dd-MM-yyyy"))}}function rg(i,a){1&i&&(t.TgZ(0,"th",51),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Actions"),""))}function sg(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"a",57),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit;return t.oxw().edit(n.id)}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Edit")))}function lg(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"a",57),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2).$implicit;return t.oxw().approve(n.id)}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Approve")))}function cg(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"a",57),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2).$implicit;return t.oxw().posting(n.id)}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Post")))}function pg(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"a",57),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2).$implicit;return t.oxw().voidStatus(n.id)}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Void")))}function dg(i,a){if(1&i&&(t.ynx(0),t.YNc(1,lg,3,3,"a",56),t.YNc(2,cg,3,3,"a",56),t.YNc(3,pg,3,3,"a",56),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",!e.approvedUser&&!e.isSettled),t.xp6(1),t.Q6J("ngIf",e.canSettle&&!e.isSettled),t.xp6(1),t.Q6J("ngIf",e.canSettle&&!e.isSettled)}}function ug(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"td",52),t.TgZ(1,"div",23),t.TgZ(2,"a",53),t._UZ(3,"i",54),t.qZA(),t.TgZ(4,"div",55),t.YNc(5,sg,3,3,"a",56),t.TgZ(6,"a",57),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().print(r.id)}),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.YNc(9,dg,4,3,"ng-container",58),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=a.$implicit;t.xp6(5),t.Q6J("ngIf",!e.isApproved&&!e.isSettled),t.xp6(2),t.Oqu(t.lcZ(8,3,"Print")),t.xp6(2),t.Q6J("ngIf",e.hasAuthority&&e.isDrCrAmtSame)}}function mg(i,a){1&i&&t._UZ(0,"tr",59)}function gg(i,a){1&i&&t._UZ(0,"tr",60)}function Zg(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"mat-paginator",61),t.NdJ("page",function(n){return t.CHM(e),t.oxw().onPageSwitch(n)}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("length",e.totalItemsCount)("pageSize",e.pageService.pageCount)("pageSizeOptions",e.pageService.selectItemsPerPage)}}let hg=(()=>{class i extends L.k{constructor(e,o,n,r,l,c,u,g,C,S){super(r),this.http=e,this.router=o,this.apiService=n,this.authService=r,this.utilService=l,this.translate=c,this.notifyService=u,this.validationService=g,this.pageService=C,this.dialog=S,this.displayedColumns=["VoucherNumber","JvDate","BranchCode","Amount","Source","DocNum","Remarks","Approved","Posted","Void","PostedDate","Actions"],this.searchValue="",this.sortingOrder="id desc",this.isLoading=!1}ngOnInit(){this.initialLoading()}refresh(){this.searchValue="",this.sortingOrder="id desc",this.initialLoading()}initialLoading(){this.loadList(0,this.pageService.pageCount,"",this.sortingOrder)}onSortOrder(e){this.sortingOrder=e.active+" "+e.direction,this.totalItemsCount=0,this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder)}onPageSwitch(e){this.pageService.change(e),this.loadList(e.pageIndex,e.pageSize,this.searchValue,this.sortingOrder)}loadList(e,o,n,r){this.isLoading=!0,this.apiService.getPagination("cashVoucher",this.utilService.getQueryString(e,o,n,r)).subscribe(l=>{this.totalItemsCount=0,this.data=new p.by(l.items),this.totalItemsCount=l.totalCount,setTimeout(()=>{this.paginator.pageIndex=e,this.paginator.length=this.totalItemsCount}),this.data.sort=this.sort,this.isLoading=!1},l=>this.utilService.ShowApiErrorMessage(l))}applyFilter(e){e&&(this.searchValue=e,this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder))}openDialogManage(e=0,o,n="",r="",l,c=100){let u=this.utilService.openDialogCongif(this.dialog,l,c);u.componentInstance.dbops=o,u.componentInstance.modalTitle=n,u.componentInstance.id=e,u.afterClosed().subscribe(g=>{g&&!0===g&&this.initialLoading()})}create(){this.openDialogManage(0,v.Oi.create,this.translate.instant("Create_New_Sales_Invoice"),"",yt)}edit(e){this.openDialogManage(e,v.Oi.update,this.translate.instant("Create_New_Sales_Invoice"),"",yt)}print(e){this.openDialogManage(e,v.Oi.update,this.translate.instant("Create_New_Sales_Invoice"),"",Jm)}printList(e){alert(e)}approve(e){this.openDialogManage(e,v.Oi.create,"","",Dm,50)}posting(e){this.openDialogManage(e,v.Oi.create,"posting","",Ut,50)}voidStatus(e){this.openDialogManage(e,v.Oi.create,"void","",Ut,50)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36($.eN),t.Y36(Q.F0),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(Z.sK),t.Y36(f.g),t.Y36(O.R),t.Y36(k.N),t.Y36(T.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-cashvoucher"]],viewQuery:function(e,o){if(1&e&&(t.Gf(q.NW,7),t.Gf(x.YE,7)),2&e){let n;t.iGM(n=t.CRH())&&(o.paginator=n.first),t.iGM(n=t.CRH())&&(o.sort=n.first)}},features:[t.qOj],decls:90,vars:31,consts:[[1,"page-breadcrumb"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],[1,"container-fluid"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"row","pb-3"],[1,"col-md-3"],[1,"form-control",3,"placeholder","ngModel","ngModelChange"],[1,"col-md-4","arabicright"],[1,"btn","btn-primary",3,"click"],[1,"",3,"click"],[1,"btn","btn-primary","icon-refresh"],[1,"col-md-7","col-lg-9"],[1,"card-title","pt6"],[1,"col-md-3","col-lg-3","text-right"],[1,"nav-item","dropdown"],["data-toggle","modal","data-target","#scrollable-modal","href","#",1,"btn","waves-effect","waves-light","btn-rounded","btn-outline-primary",3,"click"],[1,"icon-plus"],[1,"cardtitle-divider"],[3,"isLoading"],[1,"table-responsive"],["mat-table","","matSort","","matSortActive","Id","matSortDisableClear","","matSortDirection","desc",1,"table","table-bordered","no-wrap",3,"dataSource","matSortChange"],["matColumnDef","VoucherNumber"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","JvDate"],["matColumnDef","BranchCode"],["matColumnDef","Amount"],["matColumnDef","Source"],["matColumnDef","DocNum"],["matColumnDef","Remarks"],["matColumnDef","Approved"],["matColumnDef","Posted"],["matColumnDef","Void"],["matColumnDef","PostedDate"],["matColumnDef","Actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","text-center",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions","page",4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-cell","",1,"text-center"],["href","#","id","navbarDropdown","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false"],[1,"icon-options-vertical"],["aria-labelledby","navbarDropdown",1,"dropdown-menu","dropdown-menu-custom",2,"transform","translate3d(0px, -61px, 0px)!important"],["data-toggle","modal","class","dropdown-item","href","#",3,"click",4,"ngIf"],["data-toggle","modal","href","#",1,"dropdown-item",3,"click"],[4,"ngIf"],["mat-header-row",""],["mat-row",""],[3,"length","pageSize","pageSizeOptions","page"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"nav",5),t.TgZ(8,"ol",6),t.TgZ(9,"li",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"li",7),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"li",8),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",9),t.TgZ(19,"div",1),t.TgZ(20,"div",10),t.TgZ(21,"div",11),t.TgZ(22,"div",12),t.TgZ(23,"div",13),t._UZ(24,"div",10),t.TgZ(25,"div",14),t.TgZ(26,"input",15),t.NdJ("ngModelChange",function(r){return o.searchValue=r}),t.ALo(27,"translate"),t.qZA(),t.qZA(),t.TgZ(28,"div",16),t.TgZ(29,"button",17),t.NdJ("click",function(){return o.applyFilter(o.searchValue)}),t._uU(30),t.ALo(31,"translate"),t.qZA(),t._uU(32," \xa0 "),t.TgZ(33,"a",18),t.NdJ("click",function(){return o.refresh()}),t._UZ(34,"i",19),t.qZA(),t.qZA(),t.qZA(),t.TgZ(35,"div",1),t.TgZ(36,"div",20),t.TgZ(37,"h4",21),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.qZA(),t.TgZ(40,"div",22),t.TgZ(41,"div",23),t.TgZ(42,"a",24),t.NdJ("click",function(){return o.create()}),t._UZ(43,"i",25),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(46,"div",26),t._UZ(47,"spinner-loader",27),t.TgZ(48,"div",28),t.TgZ(49,"table",29),t.NdJ("matSortChange",function(r){return o.onSortOrder(r)}),t.ynx(50,30),t.YNc(51,Pm,3,3,"th",31),t.YNc(52,Ym,2,1,"td",32),t.BQk(),t.ynx(53,33),t.YNc(54,Qm,3,3,"th",31),t.YNc(55,jm,3,4,"td",32),t.BQk(),t.ynx(56,34),t.YNc(57,Fm,3,3,"th",31),t.YNc(58,Bm,2,1,"td",32),t.BQk(),t.ynx(59,35),t.YNc(60,Vm,3,3,"th",31),t.YNc(61,Rm,3,3,"td",32),t.BQk(),t.ynx(62,36),t.YNc(63,Em,3,3,"th",31),t.YNc(64,$m,2,1,"td",32),t.BQk(),t.ynx(65,37),t.YNc(66,zm,3,3,"th",31),t.YNc(67,Hm,2,1,"td",32),t.BQk(),t.ynx(68,38),t.YNc(69,Gm,3,3,"th",31),t.YNc(70,Xm,2,1,"td",32),t.BQk(),t.ynx(71,39),t.YNc(72,Wm,3,3,"th",31),t.YNc(73,Km,2,1,"td",32),t.BQk(),t.ynx(74,40),t.YNc(75,tg,3,3,"th",31),t.YNc(76,eg,2,1,"td",32),t.BQk(),t.ynx(77,41),t.YNc(78,og,3,3,"th",31),t.YNc(79,ig,2,1,"td",32),t.BQk(),t.ynx(80,42),t.YNc(81,ng,3,3,"th",31),t.YNc(82,ag,3,4,"td",32),t.BQk(),t.ynx(83,43),t.YNc(84,rg,3,3,"th",44),t.YNc(85,ug,10,5,"td",45),t.BQk(),t.YNc(86,mg,1,0,"tr",46),t.YNc(87,gg,1,0,"tr",47),t.qZA(),t.ynx(88),t.YNc(89,Zg,1,3,"mat-paginator",48),t.BQk(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.hij(" ",t.lcZ(5,15,"Cash_Voucher")," "),t.xp6(6),t.hij(" ",t.lcZ(11,17,"Financial_Transaction")," "),t.xp6(3),t.Oqu(t.lcZ(14,19,"General_Ledger")),t.xp6(3),t.Oqu(t.lcZ(17,21,"Cash_Voucher")),t.xp6(10),t.MGl("placeholder","",t.lcZ(27,23,"Search"),"..."),t.Q6J("ngModel",o.searchValue),t.xp6(4),t.Oqu(t.lcZ(31,25,"Search")),t.xp6(8),t.hij("",t.lcZ(39,27,"CashVoucherList")," "),t.xp6(6),t.hij("",t.lcZ(45,29,"New")," "),t.xp6(3),t.Q6J("isLoading",o.isLoading),t.xp6(2),t.Q6J("dataSource",o.data),t.xp6(37),t.Q6J("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(2),t.Q6J("ngIf",o.totalItemsCount>0))},directives:[s.Fj,s.JJ,s.On,b.r,p.BZ,x.YE,p.w1,p.fO,p.Dz,p.as,p.nj,d.O5,p.ge,x.nU,p.ev,p.XQ,p.Gk,q.NW],pipes:[Z.X$,d.uU,E],encapsulation:2}),i})();function _g(i,a){if(1&i&&(t.TgZ(0,"option",46),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function Ag(i,a){if(1&i&&(t.TgZ(0,"option",46),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function fg(i,a){1&i&&(t.TgZ(0,"th",47),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Branch")))}function Tg(i,a){1&i&&(t.ynx(0),t.TgZ(1,"th",47),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"th",47),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.BQk()),2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,2,"Service")),t.xp6(3),t.Oqu(t.lcZ(6,4,"Branch")))}function vg(i,a){1&i&&(t.ynx(0),t.TgZ(1,"th",47),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.BQk()),2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Service")))}function qg(i,a){if(1&i&&(t.TgZ(0,"option",46),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}const W=function(){return{standalone:!0}};function Cg(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"td"),t.TgZ(1,"select",48),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().branchCode=n})("change",function(n){return t.CHM(e),t.oxw().loadAccountCodes(n)}),t.TgZ(2,"option",19),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.YNc(5,qg,2,2,"option",20),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngModel",e.branchCode)("ngModelOptions",t.DdM(7,W))("disabled",1==e.branchList.length),t.xp6(2),t.Oqu(t.lcZ(4,5,"Branch")),t.xp6(2),t.Q6J("ngForOf",e.branchList)}}function xg(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"td"),t.TgZ(2,"ng-select",49),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().batch=n}),t.qZA(),t.qZA(),t.TgZ(3,"td"),t.TgZ(4,"ng-select",49),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().batch2=n}),t.qZA(),t.qZA(),t.BQk()}if(2&i){const e=t.oxw();t.xp6(2),t.Q6J("items",e.segmentSetupList)("ngModel",e.batch)("ngModelOptions",t.DdM(6,W)),t.xp6(2),t.Q6J("items",e.segmentTwoSetupList)("ngModel",e.batch2)("ngModelOptions",t.DdM(7,W))}}function bg(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"td"),t.TgZ(2,"ng-select",49),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().batch=n}),t.qZA(),t.qZA(),t.BQk()}if(2&i){const e=t.oxw();t.xp6(2),t.Q6J("items",e.segmentSetupList)("ngModel",e.batch)("ngModelOptions",t.DdM(3,W))}}function yg(i,a){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.branchName)}}function Ug(i,a){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(e.batch2Name)}}function Lg(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.YNc(5,Ug,2,1,"span",32),t.qZA(),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.batch),t.xp6(2),t.hij("",e.batch2," "),t.xp6(1),t.Q6J("ngIf",e.batch2Name)}}function Sg(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.batch)}}function Ng(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"tr"),t.YNc(1,yg,2,1,"td",32),t.YNc(2,Lg,6,3,"ng-container",32),t.YNc(3,Sg,3,1,"ng-container",32),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.ALo(16,"leadingZeros"),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.ALo(19,"leadingZeros"),t.qZA(),t.TgZ(20,"td",35),t.TgZ(21,"i",53),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).editInvoiceItem(r)}),t.qZA(),t._uU(22," \xa0 "),t.TgZ(23,"i",54),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).deleteInvoiceItem(r)}),t.qZA(),t._uU(24," \xa0 "),t.qZA(),t.qZA()}if(2&i){const e=a.$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("ngIf",o.hasBranchHidden),t.xp6(1),t.Q6J("ngIf",o.isSeg2),t.xp6(1),t.Q6J("ngIf",o.isSeg1),t.xp6(2),t.Oqu(e.finAcCode),t.xp6(2),t.Oqu(e.description),t.xp6(2),t.Oqu(e.remarks),t.xp6(2),t.Oqu(e.costAllocationName),t.xp6(2),t.Oqu(e.costSegCodeName),t.xp6(2),t.Oqu(t.lcZ(16,10,e.drAmount)),t.xp6(3),t.Oqu(t.lcZ(19,12,e.crAmount))}}function Og(i,a){1&i&&t._UZ(0,"td",55)}function wg(i,a){1&i&&t._UZ(0,"td",56)}function kg(i,a){if(1&i&&(t.TgZ(0,"tbody"),t.YNc(1,Ng,25,14,"tr",50),t.TgZ(2,"tr"),t.YNc(3,Og,1,0,"td",51),t.YNc(4,wg,1,0,"td",52),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"leadingZeros"),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.ALo(10,"leadingZeros"),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.ALo(13,"leadingZeros"),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.itemList),t.xp6(2),t.Q6J("ngIf",e.hasBranchHidden),t.xp6(1),t.Q6J("ngIf",!e.hasBranchHidden),t.xp6(2),t.Oqu(t.lcZ(7,6,e.totalDrAmount)),t.xp6(3),t.Oqu(t.lcZ(10,8,e.totalCrAmount)),t.xp6(3),t.Oqu(t.lcZ(13,10,e.totalAmount))}}let Lt=(()=>{class i{constructor(e,o,n,r,l,c,u){this.fb=e,this.apiService=o,this.authService=n,this.utilService=r,this.dialogRef=l,this.notifyService=c,this.validationService=u,this.id=0,this.isEdit=!1,this.customerSiteList=[],this.customerList=[],this.companyList=[],this.branchList=[],this.accountCodeList=[],this.segmentSetupList=[],this.segmentTwoSetupList=[],this.costAllocationList=[],this.costSegCodeList=[],this.batchSetupList=[],this.itemList=[],this.isSeg1=!1,this.isSeg2=!1,this.isArab=!1,this.isCodeSegmentReadonly=!1,this.isEditingRecord=!1,this.hasBranchHidden=!1,this.branchName="",this.branchCode="",this.finAcCode="",this.description="",this.remarks="",this.batch="",this.batch2="",this.costAllocation=0,this.costAllocationName="",this.costSegCode="",this.costSegCodeName="",this.drAmount=0,this.crAmount=0,this.sequence=1,this.editsequence=0,this.totalDrAmount=0,this.totalCrAmount=0,this.totalAmount=0}ngOnInit(){this.isArab=this.utilService.isArabic(),this.setForm(),this.loadData(),this.id>0&&(this.isEdit=!0,this.setEditForm())}setForm(){this.form=this.fb.group({jvDate:[this.utilService.getCurrentDate(),s.kI.required],amount:["",s.kI.required],customerId:[""],siteCode:[""],companyId:["",s.kI.required],branchCode:["",s.kI.required],docNum:["",s.kI.required],batch:"",remarks:[""],narration:[""]})}loadData(){this.apiService.getall("customer/getSelectLanCustomerList").subscribe(e=>{e&&(this.customerList=e,this.customerList.map(n=>(n.text=this.isArab?n.textAr:n.text,n)))}),this.apiService.getall("mainAccounts/financesetup").subscribe(e=>{if(e){const o=e.numOfSeg;this.isSeg1=1==o,this.isSeg2=2==o,(this.isSeg1||this.isSeg2)&&this.apiService.getall("segmentSetup/getSegmentSetupSelectList").subscribe(n=>{n&&(this.segmentSetupList=n)}),this.isSeg2&&this.apiService.getall("segmentTwoSetup/getSegmentTwoSetupSelectList").subscribe(n=>{n&&(this.segmentTwoSetupList=n)})}}),this.apiService.getall("company/getSelectCompanyList").subscribe(e=>{e&&(this.companyList=e)}),this.apiService.getall("costAllocationSetup/getCostAllocationSetupSelectList").subscribe(e=>{e&&(this.costAllocationList=e)}),this.apiService.getall("batchSetup/getBatchSetupSelectList").subscribe(e=>{e&&(this.batchSetupList=e)})}hasBranchHiddenChecked(e){this.hasBranchHidden=e.checked}loadSegCodedata(e){const o=e.value;this.costAllocationName=e.text,o>0&&(this.costSegCode="",this.costSegCodeName="",this.apiService.getall(`costAllocationSetup/getCostSegmentCodeSelectList/${o}`).subscribe(n=>{n&&(this.costSegCodeList=n),this.costSegCodeList.map(l=>(l.text=this.isArab?l.textTwo+" "+l.textAr:l.text+" "+l.textTwo,l)),this.costSegCode=e.custCode}))}selectSegCodedata(e){this.costSegCodeName=e.text}loadBranchs(e){let o=e.target.value;this.branchCode="",o&&this.apiService.getall(`branch/getSelectSysBranchListByComId/${o}`).subscribe(n=>{n&&(this.branchList=n),1==this.branchList.length&&this.loadAccountCodesForBranch(this.branchList[0].value)})}selectBranch(e){this.branchCode=e.target.value,this.loadAccountCodesForBranch(this.branchCode)}loadAccountCodes(e){this.loadAccountCodesForBranch(e.target.value)}loadAccountCodesForBranch(e){e&&(this.finAcCode="",this.apiService.getall(`accountsbranchmapping/getSelectAccountMappingList?branchCode=${e}`).subscribe(o=>{o&&(this.accountCodeList=o)}))}setEditForm(){this.apiService.get("journalVoucher",this.id).subscribe(e=>{e&&(this.loadBranchsForCompany(e.companyId,e),this.displayJvItems(e.itemList),e.siteCode&&(this.isEditingRecord=!0,this.customerSiteList=[{text:e.siteCode,value:e.siteCode,textAr:"",textTwo:""}]),this.form.patchValue(e))})}displayJvItems(e){e.forEach(o=>{var n;this.branchName=o.branchName,this.branchCode=o.branchCode,this.description=o.description,this.finAcCode=o.finAcCode,this.remarks=o.remarks,this.batch=o.batch,this.batch2=o.batch2,this.batch2=o.batch2,this.costAllocation=o.costAllocation,this.costAllocationName=o.costAllocation?null===(n=this.costAllocationList.find(r=>r.value==o.costAllocation))||void 0===n?void 0:n.text:"",this.costSegCode=o.costSegCode,this.costSegCodeName=o.costSegCode,this.drAmount=o.drAmount,this.crAmount=o.crAmount,this.fillITems()}),this.setVarience()}loadBranchsForCompany(e,o){e&&this.apiService.getall(`branch/getSelectSysBranchListByComId/${e}`).subscribe(n=>{n&&(this.branchList=n)})}loadAccountCodeForBranch(e,o){e&&this.apiService.getall(`accountsbranchmapping/getSelectAccountMappingList?branchCode=${e}`).subscribe(n=>{n&&(this.accountCodeList=n,this.finAcCode=o)})}fillITems(){this.itemList.push({sequence:this.getSequence(),branchName:this.branchName,branchCode:this.branchCode,finAcCode:this.finAcCode,description:this.description,remarks:this.remarks,batch:this.batch,batch2:this.batch2,costAllocation:this.costAllocation,costSegCode:this.costSegCode,costAllocationName:this.costAllocationName,costSegCodeName:this.costSegCodeName,drAmount:this.drAmount,crAmount:this.crAmount}),this.setToDefault()}setVarience(){this.totalDrAmount=this.totalCrAmount=0,this.itemList.forEach(e=>{this.totalDrAmount+=e.drAmount,this.totalCrAmount+=e.crAmount}),this.totalAmount=this.totalDrAmount-this.totalCrAmount}addItem(){(this.drAmount>0||this.crAmount>0)&&this.utilService.hasValue(this.branchCode)&&this.utilService.hasValue(this.finAcCode)&&(this.editsequence>0&&(this.removeInvoiceList(this.editsequence),this.editsequence=0),this.itemList.push({sequence:this.getSequence(),branchName:this.getBranchName(this.branchCode),branchCode:this.branchCode,finAcCode:this.finAcCode,description:this.description,remarks:this.remarks,batch:this.batch,batch2:this.batch2,costAllocation:this.costAllocation,costSegCode:this.costSegCode,costAllocationName:this.costAllocationName,costSegCodeName:this.costSegCodeName,drAmount:this.drAmount,crAmount:this.crAmount}),this.setVarience(),this.setToDefault())}getSequence(){return this.sequence+=this.sequence+1}deleteInvoiceItem(e){this.removeInvoiceList(e.sequence),this.setVarience()}removeInvoiceList(e){let o=this.itemList.findIndex(n=>n.sequence===e);this.itemList.splice(o,1)}getBranchName(e){var o;return null===(o=this.branchList.find(n=>n.value===e))||void 0===o?void 0:o.text}editInvoiceItem(e){console.log(e),this.editsequence=e.sequence,this.branchCode=e.branchCode,this.loadAccountCodeForBranch(this.branchCode,e.finAcCode),this.description=e.description,this.remarks=e.remarks,this.batch=e.batch,this.batch2=e.batch2,this.costAllocation=e.costAllocation,this.costAllocationName=e.costAllocationName,this.costSegCode=e.costSegCode,this.costSegCodeName=e.costSegCodeName,this.drAmount=e.drAmount,this.crAmount=e.crAmount}setToDefault(){this.editsequence=0,this.hasBranchHidden&&(this.branchCode=""),this.finAcCode="",this.description="",this.remarks="",this.batch="",this.batch2="",this.isCodeSegmentReadonly||(this.costAllocation=0,this.costAllocationName="",this.costSegCode="",this.costSegCodeName=""),this.drAmount=0,this.crAmount=0}resetCodeSegmentReadonly(){this.isCodeSegmentReadonly=!1,this.costSegCode="",this.costAllocation=0,this.form.controls.siteCode.setValue(null)}customerChange(e){var o;let n=e.value,r=e.textTwo;this.form.controls.siteCode.setValue(null),this.isCodeSegmentReadonly=!0,this.costAllocation=null===(o=this.costAllocationList.find(l=>"customer"==l.textTwo.toLowerCase()))||void 0===o?void 0:o.value,this.loadSegCodedata({value:this.costAllocation,custCode:r}),this.apiService.getall(`customer/getCustomerSitesSelectList/${n}`).subscribe(l=>{l&&(this.customerSiteList=l,this.customerSiteList.map(c=>(c.text=this.isArab?c.textTwo:c.text,c)))})}submit(){this.itemList.length<=0?this.utilService.FillUpFields():this.form.valid?(this.hasBranchHidden||this.itemList.forEach(e=>{e.branchCode=this.form.value.branchCode}),this.form.value.jvDate=this.utilService.selectedDateTime(this.form.controls.jvDate.value),this.id>0&&(this.form.value.id=this.id),this.form.value.itemList=this.itemList,this.apiService.post("journalVoucher",this.form.value).subscribe(e=>{this.utilService.OkMessage(),this.reset(),this.dialogRef.close(!0)},e=>{this.utilService.ShowApiErrorMessage(e)})):this.utilService.FillUpFields()}reset(){this.form.controls.jvDate.setValue(""),this.form.controls.companyId.setValue(""),this.form.controls.branchCode.setValue("")}closeModel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(T.so),t.Y36(f.g),t.Y36(O.R))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-addupdatejournalvoucher"]],decls:163,vars:139,consts:[["type","button","aria-hidden","true",1,"close",3,"click"],["novalidate","",1,"mt-4",3,"formGroup","ngSubmit"],[1,"modal-body","p-0"],[1,"outer"],[1,"row"],[1,"col-md-6","col-lg-6"],[1,"form-group"],[1,"input-group","mb-2"],["formControlName","jvDate",1,"form-control","datapickerinput",3,"placeholder","matDatepicker"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker",""],[3,"control"],["type","number","formControlName","amount",1,"form-control",3,"placeholder"],[1,"col-md-6","col-lg-6","d-none"],[1,"mr-sm-2"],["bindLabel","text","bindValue","textTwo","formControlName","customerId",3,"items","clear","change"],["bindLabel","text","bindValue","value","formControlName","siteCode",3,"items"],["formControlName","companyId",1,"custom-select","mr-sm-2",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-group","mb-4"],["color","primary",3,"change"],["formControlName","branchCode",1,"custom-select","mr-sm-2",3,"change"],["type","text","formControlName","docNum",1,"form-control",3,"placeholder"],["bindLabel","text","bindValue","value","formControlName","batch",3,"items"],[1,"col-md-12","col-lg-12"],["formControlName","remarks",1,"form-control",3,"placeholder"],["formControlName","narration",1,"form-control",3,"placeholder"],[1,""],["id","zero_config",1,"table","table-bordered","no-wrap",2,"width","120%"],["width","10%",4,"ngIf"],[4,"ngIf"],[2,"width","25%"],["width","9%"],[1,"text-center"],["bindLabel","text","bindValue","value",1,"voucher-width-250",3,"items","ngModel","ngModelOptions","ngModelChange"],["rows","5","type","text",1,"form-control","voucher-width-200",3,"ngModel","ngModelOptions","ngModelChange"],["bindLabel","text","bindValue","value",1,"voucher-width-180",3,"items","ngModel","ngModelOptions","readonly","ngModelChange","change"],["bindLabel","text","bindValue","textTwo",1,"voucher-width-230",3,"items","ngModel","ngModelOptions","readonly","ngModelChange","change"],["type","number",1,"form-control","voucher-width-120",3,"ngModel","ngModelOptions","ngModelChange","keyup"],[1,"fas","fa-plus-circle",3,"click"],[1,"fas","fa-eraser","text-danger",3,"click"],[1,"col-lg-12","col-md-12","text-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","waves-effect","waves-light","btn-primary",3,"value"],[3,"value"],["width","10%"],[1,"custom-select","mr-sm-2","voucher-width-120",3,"ngModel","ngModelOptions","disabled","ngModelChange","change"],["bindLabel","text","bindValue","value",1,"voucher-width-180",3,"items","ngModel","ngModelOptions","ngModelChange"],[4,"ngFor","ngForOf"],["colspan","8",4,"ngIf"],["colspan","7",4,"ngIf"],[1,"icon-note","cpointer",3,"click"],[1,"icon-trash","cpointer",3,"click"],["colspan","8"],["colspan","7"]],template:function(e,o){if(1&e&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"button",0),t.NdJ("click",function(){return o.closeModel()}),t._uU(4," \xd7"),t.qZA(),t.qZA(),t.TgZ(5,"form",1),t.NdJ("ngSubmit",function(){return o.submit()}),t.TgZ(6,"div",2),t.TgZ(7,"div",3),t.TgZ(8,"div",4),t.TgZ(9,"div",5),t.TgZ(10,"div",6),t.TgZ(11,"label"),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"div",7),t._UZ(15,"input",8),t.ALo(16,"translate"),t.TgZ(17,"div",9),t._UZ(18,"mat-datepicker-toggle",10),t._UZ(19,"mat-datepicker",null,11),t._UZ(21,"br"),t._UZ(22,"br"),t.qZA(),t.qZA(),t._UZ(23,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(24,"div",5),t.TgZ(25,"div",6),t.TgZ(26,"label"),t._uU(27),t.ALo(28,"translate"),t.qZA(),t._UZ(29,"input",13),t.ALo(30,"translate"),t.ALo(31,"translate"),t._UZ(32,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(33,"div",14),t.TgZ(34,"div",6),t.TgZ(35,"label",15),t._uU(36),t.ALo(37,"translate"),t.qZA(),t.TgZ(38,"ng-select",16),t.NdJ("clear",function(){return o.resetCodeSegmentReadonly()})("change",function(r){return o.customerChange(r)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(39,"div",14),t.TgZ(40,"div",6),t.TgZ(41,"label",15),t._uU(42),t.ALo(43,"translate"),t.qZA(),t._UZ(44,"ng-select",17),t.qZA(),t.qZA(),t.TgZ(45,"div",5),t.TgZ(46,"div",6),t.TgZ(47,"label"),t._uU(48),t.ALo(49,"translate"),t.qZA(),t.TgZ(50,"select",18),t.NdJ("change",function(r){return o.loadBranchs(r)}),t.TgZ(51,"option",19),t._uU(52),t.ALo(53,"translate"),t.qZA(),t.YNc(54,_g,2,2,"option",20),t.qZA(),t._UZ(55,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(56,"div",5),t.TgZ(57,"div",21),t.TgZ(58,"label",15),t._uU(59),t.ALo(60,"translate"),t.qZA(),t._uU(61," \xa0\xa0 "),t.TgZ(62,"mat-slide-toggle",22),t.NdJ("change",function(r){return o.hasBranchHiddenChecked(r)}),t.qZA(),t.TgZ(63,"select",23),t.NdJ("change",function(r){return o.selectBranch(r)}),t.TgZ(64,"option",19),t._uU(65),t.ALo(66,"translate"),t.qZA(),t.YNc(67,Ag,2,2,"option",20),t.qZA(),t._UZ(68,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(69,"div",5),t.TgZ(70,"div",6),t.TgZ(71,"label"),t._uU(72),t.ALo(73,"translate"),t.qZA(),t._UZ(74,"input",24),t.ALo(75,"translate"),t.ALo(76,"translate"),t._UZ(77,"validation-message",12),t.qZA(),t.qZA(),t.TgZ(78,"div",5),t.TgZ(79,"div",6),t.TgZ(80,"label"),t._uU(81),t.ALo(82,"translate"),t.qZA(),t._UZ(83,"ng-select",25),t.qZA(),t.qZA(),t.TgZ(84,"div",26),t.TgZ(85,"div",6),t.TgZ(86,"label"),t._uU(87),t.ALo(88,"translate"),t.qZA(),t.TgZ(89,"textarea",27),t.ALo(90,"translate"),t.ALo(91,"translate"),t._uU(92,"                  "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(93,"div",26),t.TgZ(94,"div",6),t.TgZ(95,"label"),t._uU(96),t.ALo(97,"translate"),t.qZA(),t.TgZ(98,"textarea",28),t.ALo(99,"translate"),t.ALo(100,"translate"),t._uU(101,"                  "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(102,"div",29),t.TgZ(103,"table",30),t.TgZ(104,"thead"),t.TgZ(105,"tr"),t.YNc(106,fg,3,3,"th",31),t.YNc(107,Tg,7,6,"ng-container",32),t.YNc(108,vg,4,3,"ng-container",32),t.TgZ(109,"th",33),t._uU(110),t.ALo(111,"translate"),t.qZA(),t.TgZ(112,"th"),t._uU(113),t.ALo(114,"translate"),t.qZA(),t.TgZ(115,"th"),t._uU(116),t.ALo(117,"translate"),t.qZA(),t.TgZ(118,"th"),t._uU(119),t.ALo(120,"translate"),t.qZA(),t.TgZ(121,"th"),t._uU(122),t.ALo(123,"translate"),t.qZA(),t.TgZ(124,"th",34),t._uU(125),t.ALo(126,"translate"),t.qZA(),t.TgZ(127,"th",34),t._uU(128),t.ALo(129,"translate"),t.qZA(),t._UZ(130,"th",35),t.qZA(),t.qZA(),t.TgZ(131,"tbody"),t.TgZ(132,"tr"),t.YNc(133,Cg,6,8,"td",32),t.YNc(134,xg,5,8,"ng-container",32),t.YNc(135,bg,3,4,"ng-container",32),t.TgZ(136,"td"),t.TgZ(137,"ng-select",36),t.NdJ("ngModelChange",function(r){return o.finAcCode=r}),t.qZA(),t.qZA(),t.TgZ(138,"td"),t.TgZ(139,"textarea",37),t.NdJ("ngModelChange",function(r){return o.description=r}),t.qZA(),t.qZA(),t.TgZ(140,"td"),t.TgZ(141,"textarea",37),t.NdJ("ngModelChange",function(r){return o.remarks=r}),t.qZA(),t.qZA(),t.TgZ(142,"td"),t.TgZ(143,"ng-select",38),t.NdJ("ngModelChange",function(r){return o.costAllocation=r})("change",function(r){return o.loadSegCodedata(r)}),t.qZA(),t.qZA(),t.TgZ(144,"td"),t.TgZ(145,"ng-select",39),t.NdJ("ngModelChange",function(r){return o.costSegCode=r})("change",function(r){return o.selectSegCodedata(r)}),t.qZA(),t.qZA(),t.TgZ(146,"td"),t.TgZ(147,"input",40),t.NdJ("ngModelChange",function(r){return o.drAmount=r})("keyup",function(){return o.crAmount=0}),t.qZA(),t.qZA(),t.TgZ(148,"td"),t.TgZ(149,"input",40),t.NdJ("ngModelChange",function(r){return o.crAmount=r})("keyup",function(){return o.drAmount=0}),t.qZA(),t.qZA(),t.TgZ(150,"td"),t.TgZ(151,"i",41),t.NdJ("click",function(){return o.addItem()}),t.qZA(),t._uU(152," \xa0\xa0 "),t.TgZ(153,"i",42),t.NdJ("click",function(){return o.setToDefault()}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(154,kg,14,12,"tbody",32),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(155,"div",4),t.TgZ(156,"div",43),t.TgZ(157,"button",44),t.NdJ("click",function(){return o.closeModel()}),t._uU(158),t.ALo(159,"translate"),t.qZA(),t._uU(160," \xa0\xa0 "),t._UZ(161,"input",45),t.ALo(162,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e){const n=t.MAs(20);t.xp6(1),t.hij(" ",t.lcZ(2,70,"Create_New_Journal_Voucher")," "),t.xp6(4),t.Q6J("formGroup",o.form),t.xp6(7),t.Oqu(t.lcZ(13,72,"Date")),t.xp6(3),t.s9C("placeholder",t.lcZ(16,74,"Select_a_Date")),t.Q6J("matDatepicker",n),t.xp6(3),t.Q6J("for",n),t.xp6(5),t.Q6J("control",o.form.controls.jvDate),t.xp6(4),t.Oqu(t.lcZ(28,76,"Amount")),t.xp6(2),t.hYB("placeholder","",t.lcZ(30,78,"PleaseEnter")," ",t.lcZ(31,80,"Amount")," "),t.xp6(3),t.Q6J("control",o.form.controls.amount),t.xp6(4),t.Oqu(t.lcZ(37,82,"Customer")),t.xp6(2),t.Q6J("items",o.customerList),t.xp6(4),t.Oqu(t.lcZ(43,84,"Customer_Sites")),t.xp6(2),t.Q6J("items",o.customerSiteList),t.xp6(4),t.Oqu(t.lcZ(49,86,"Company")),t.xp6(4),t.Oqu(t.lcZ(53,88,"Select_Organization")),t.xp6(2),t.Q6J("ngForOf",o.companyList),t.xp6(1),t.Q6J("control",o.form.controls.companyId),t.xp6(4),t.Oqu(t.lcZ(60,90,"Branch")),t.xp6(6),t.Oqu(t.lcZ(66,92,"Select_Branch")),t.xp6(2),t.Q6J("ngForOf",o.branchList),t.xp6(1),t.Q6J("control",o.form.controls.branchCode),t.xp6(4),t.Oqu(t.lcZ(73,94,"DocumentNumber")),t.xp6(2),t.hYB("placeholder","",t.lcZ(75,96,"PleaseEnter")," ",t.lcZ(76,98,"DocumentNumber")," "),t.xp6(3),t.Q6J("control",o.form.controls.docNum),t.xp6(4),t.Oqu(t.lcZ(82,100,"Batch")),t.xp6(2),t.Q6J("items",o.batchSetupList),t.xp6(4),t.Oqu(t.lcZ(88,102,"Remarks")),t.xp6(2),t.hYB("placeholder","",t.lcZ(90,104,"PleaseEnter")," ",t.lcZ(91,106,"Remarks"),""),t.xp6(7),t.Oqu(t.lcZ(97,108,"Narration")),t.xp6(2),t.hYB("placeholder","",t.lcZ(99,110,"PleaseEnter")," ",t.lcZ(100,112,"Narration"),""),t.xp6(8),t.Q6J("ngIf",o.hasBranchHidden),t.xp6(1),t.Q6J("ngIf",o.isSeg2),t.xp6(1),t.Q6J("ngIf",o.isSeg1),t.xp6(2),t.hij("",t.lcZ(111,114,"A_C_Code")," "),t.xp6(3),t.Oqu(t.lcZ(114,116,"Description")),t.xp6(3),t.Oqu(t.lcZ(117,118,"Line_Remarks")),t.xp6(3),t.Oqu(t.lcZ(120,120,"CostAllocation")),t.xp6(3),t.Oqu(t.lcZ(123,122,"CostSegCode")),t.xp6(3),t.Oqu(t.lcZ(126,124,"Dr_Amount")),t.xp6(3),t.Oqu(t.lcZ(129,126,"Cr_Amount")),t.xp6(5),t.Q6J("ngIf",o.hasBranchHidden),t.xp6(1),t.Q6J("ngIf",o.isSeg2),t.xp6(1),t.Q6J("ngIf",o.isSeg1),t.xp6(2),t.Q6J("items",o.accountCodeList)("ngModel",o.finAcCode)("ngModelOptions",t.DdM(132,W)),t.xp6(2),t.Q6J("ngModel",o.description)("ngModelOptions",t.DdM(133,W)),t.xp6(2),t.Q6J("ngModel",o.remarks)("ngModelOptions",t.DdM(134,W)),t.xp6(2),t.Q6J("items",o.costAllocationList)("ngModel",o.costAllocation)("ngModelOptions",t.DdM(135,W))("readonly",o.isCodeSegmentReadonly),t.xp6(2),t.Q6J("items",o.costSegCodeList)("ngModel",o.costSegCode)("ngModelOptions",t.DdM(136,W))("readonly",o.isCodeSegmentReadonly),t.xp6(2),t.Q6J("ngModel",o.drAmount)("ngModelOptions",t.DdM(137,W)),t.xp6(2),t.Q6J("ngModel",o.crAmount)("ngModelOptions",t.DdM(138,W)),t.xp6(5),t.Q6J("ngIf",o.itemList.length>0),t.xp6(4),t.hij(" ",t.lcZ(159,128,"Cancel")," "),t.xp6(3),t.s9C("value",t.lcZ(162,130,"Save"))}},directives:[s._Y,s.JL,s.sg,s.Fj,m.hl,s.JJ,s.u,m.nW,U.R9,m.Mq,M.s,s.wV,j.w9,s.EJ,s.YN,s.Kr,d.sg,F.Rr,d.O5,s.On],pipes:[Z.X$,E],encapsulation:2}),i})();function Ig(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",38),t._uU(2),t.qZA(),t.TgZ(3,"td",38),t._uU(4),t.qZA(),t.TgZ(5,"td",38),t._uU(6),t.qZA(),t.TgZ(7,"td",39),t._uU(8),t.qZA(),t.TgZ(9,"td",40),t._uU(10),t.qZA(),t.TgZ(11,"td",40),t._uU(12),t.qZA(),t.TgZ(13,"td",40),t._uU(14),t.qZA(),t.TgZ(15,"td",41),t._uU(16),t.ALo(17,"leadingZeros"),t.qZA(),t.TgZ(18,"td",42),t._uU(19),t.ALo(20,"leadingZeros"),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.hij(" ",e.id," "),t.xp6(2),t.hij(" ",e.batch," "),t.xp6(2),t.hij(" ",e.batch2," "),t.xp6(2),t.AsE(" (",e.finAcCode,") ",e.description," "),t.xp6(2),t.hij(" ",e.remarks," "),t.xp6(2),t.hij(" ",e.costAllocationName," "),t.xp6(2),t.hij(" ",e.costSegCodeName," "),t.xp6(2),t.hij(" ",t.lcZ(17,10,e.drAmount)," "),t.xp6(3),t.hij(" ",t.lcZ(20,12,e.crAmount)," ")}}function Mg(i,a){if(1&i&&(t.TgZ(0,"div",5),t.TgZ(1,"div",6),t.TgZ(2,"table",7),t.TgZ(3,"tr"),t.TgZ(4,"td",8),t.TgZ(5,"h4",9),t._uU(6),t.qZA(),t.TgZ(7,"h4",9),t._uU(8),t.qZA(),t.qZA(),t.TgZ(9,"td",10),t._UZ(10,"img",11),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",12),t.TgZ(12,"table",7),t.TgZ(13,"tr"),t.TgZ(14,"td",13),t.TgZ(15,"table",14),t.TgZ(16,"tr"),t.TgZ(17,"td",15),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"td",16),t._uU(21),t.ALo(22,"date"),t.qZA(),t.qZA(),t.TgZ(23,"tr"),t.TgZ(24,"td",15),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.TgZ(27,"td",16),t._uU(28),t.qZA(),t.qZA(),t.TgZ(29,"tr"),t.TgZ(30,"td",15),t._uU(31),t.ALo(32,"translate"),t.qZA(),t.TgZ(33,"td",16),t._uU(34),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(35,"td",17),t.TgZ(36,"td",18),t.TgZ(37,"table",14),t.TgZ(38,"tr"),t.TgZ(39,"td",19),t._uU(40),t.ALo(41,"translate"),t.qZA(),t.TgZ(42,"td",16),t._uU(43),t.qZA(),t.qZA(),t.TgZ(44,"tr"),t.TgZ(45,"td",20),t._uU(46),t.ALo(47,"translate"),t.qZA(),t.TgZ(48,"td",16),t._uU(49),t.qZA(),t.qZA(),t.TgZ(50,"tr"),t.TgZ(51,"td",20),t._uU(52),t.ALo(53,"translate"),t.qZA(),t.TgZ(54,"td",16),t._uU(55),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(56,"div",21),t.TgZ(57,"table",14),t.TgZ(58,"tr"),t._UZ(59,"td",22),t.qZA(),t.qZA(),t.qZA(),t.TgZ(60,"table",7),t.TgZ(61,"tr"),t.TgZ(62,"td",23),t._uU(63),t.ALo(64,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(65,"div",21),t.TgZ(66,"table",7),t.TgZ(67,"tr"),t.TgZ(68,"td",24),t._uU(69),t.ALo(70,"translate"),t.qZA(),t.TgZ(71,"td",25),t._uU(72),t.ALo(73,"translate"),t.ALo(74,"date"),t.qZA(),t.TgZ(75,"td",26),t._uU(76),t.ALo(77,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(78,"div",21),t.TgZ(79,"table",7),t.TgZ(80,"tr"),t.TgZ(81,"th",27),t._uU(82),t.ALo(83,"translate"),t.qZA(),t.TgZ(84,"th",27),t._uU(85),t.ALo(86,"translate"),t.qZA(),t.TgZ(87,"th",27),t._uU(88),t.ALo(89,"translate"),t.qZA(),t.TgZ(90,"th",28),t._uU(91),t.ALo(92,"translate"),t.qZA(),t.TgZ(93,"th",28),t._uU(94),t.ALo(95,"translate"),t.qZA(),t.TgZ(96,"th",28),t._uU(97),t.ALo(98,"translate"),t.qZA(),t.TgZ(99,"th",28),t._uU(100),t.ALo(101,"translate"),t.qZA(),t.TgZ(102,"th",28),t._uU(103),t.ALo(104,"translate"),t.qZA(),t.TgZ(105,"th",28),t._uU(106),t.ALo(107,"translate"),t.qZA(),t.qZA(),t.YNc(108,Ig,21,14,"tr",29),t.TgZ(109,"tr"),t.TgZ(110,"td",30),t.TgZ(111,"div",31),t._uU(112),t.ALo(113,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(114,"tr"),t.TgZ(115,"td",32),t._uU(116),t.ALo(117,"leadingZeros"),t.qZA(),t.TgZ(118,"td",32),t._uU(119),t.ALo(120,"leadingZeros"),t.qZA(),t.qZA(),t.TgZ(121,"tr"),t.TgZ(122,"td",33),t._uU(123),t.qZA(),t.qZA(),t.qZA(),t.TgZ(124,"div",34),t.TgZ(125,"table",7),t.TgZ(126,"tr"),t.TgZ(127,"td",35),t._uU(128),t.ALo(129,"translate"),t.qZA(),t.TgZ(130,"td",36),t._uU(131),t.ALo(132,"translate"),t.qZA(),t.TgZ(133,"td",37),t._uU(134),t.ALo(135,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.s9C("dir",e.utilService.getDir()),t.xp6(5),t.hij(" ",e.printItem.companyName," "),t.xp6(2),t.hij(" ",e.printItem.address," "),t.xp6(2),t.s9C("src",e.printItem.logo,t.LSH),t.xp6(8),t.hij(" ",t.lcZ(19,39,"Voucher_Date"),": "),t.xp6(3),t.hij(" ",t.xi3(22,41,e.printItem.cDate,"MM-dd-yyyy")," "),t.xp6(4),t.hij(" ",t.lcZ(26,44,"Branch"),":: "),t.xp6(3),t.hij(" ",e.printItem.branchName," "),t.xp6(3),t.hij(" ",t.lcZ(32,46,"Batch_ID"),": "),t.xp6(3),t.hij(" ",e.printItem.batch," "),t.xp6(6),t.hij(" ",t.lcZ(41,48,"User"),":: "),t.xp6(3),t.hij(" ",e.user," "),t.xp6(3),t.hij(" ",t.lcZ(47,50,"Doc_#"),":: "),t.xp6(3),t.hij(" ",e.printItem.docNum," "),t.xp6(3),t.hij(" ",t.lcZ(53,52,"Remarks"),": "),t.xp6(3),t.hij(" ",e.printItem.remarks," "),t.xp6(8),t.hij(" ",t.lcZ(64,54,"Journal_Voucher")," "),t.xp6(6),t.AsE(" ",t.lcZ(70,56,"JV_Number")," : ",e.printItem.voucherNumber," "),t.xp6(3),t.AsE(" ",t.lcZ(73,58,"Posted_on")," : ",t.xi3(74,60,e.printItem.jvDate,"MM-dd-yyyy")," "),t.xp6(4),t.hij(" ",t.lcZ(77,63,"Page")," 1 of 1 "),t.xp6(6),t.hij(" ",t.lcZ(83,65,"SNO")," "),t.xp6(3),t.hij(" ",t.lcZ(86,67,"Seg1")," "),t.xp6(3),t.hij(" ",t.lcZ(89,69,"Branch")," "),t.xp6(3),t.hij(" ",t.lcZ(92,71,"Ac_Code")," "),t.xp6(3),t.hij(" ",t.lcZ(95,73,"Remarks")," "),t.xp6(3),t.hij(" ",t.lcZ(98,75,"CostAllocation")," "),t.xp6(3),t.hij(" ",t.lcZ(101,77,"CostSegCode")," "),t.xp6(3),t.hij(" ",t.lcZ(104,79,"DrAmt")," "),t.xp6(3),t.hij(" ",t.lcZ(107,81,"CrAmt")," "),t.xp6(2),t.Q6J("ngForOf",e.printItem.itemList),t.xp6(4),t.hij(" ",t.lcZ(113,83,"Total_Amount"),":"),t.xp6(4),t.hij(" ",t.lcZ(117,85,e.printItem.totalDrAmount)," "),t.xp6(3),t.hij(" ",t.lcZ(120,87,e.printItem.totalCrAmount)," "),t.xp6(4),t.hij(" ",e.printItem.totalAmountText," "),t.xp6(5),t.hij(" ",t.lcZ(129,89,"Signature_Accountant"),": "),t.xp6(3),t.hij(" ",t.lcZ(132,91,"Signature_Approval_Authority"),": "),t.xp6(3),t.hij(" ",t.lcZ(135,93,"Signature_Received_By"),": ")}}let Jg=(()=>{class i{constructor(e,o,n,r,l){this.apiService=e,this.authService=o,this.utilService=n,this.dialogRef=r,this.notifyService=l,this.id=0,this.isLoading=!0,this.user=""}ngOnInit(){this.user=this.authService.getUserName(),this.loadData()}loadData(){this.isLoading=!0,this.apiService.getall(`journalVoucher/JournalVoucherPrint/${this.id}`).subscribe(e=>{e&&(this.isLoading=!1,this.printItem=e)})}printInvoice(){this.openPrint()}openPrint(){const e=document.getElementById("printcontainer");this.utilService.printForLocale(e)}closeModel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(T.so),t.Y36(f.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-jvprint"]],decls:13,vars:8,consts:[[2,"position","fixed"],[3,"click"],["type","button","aria-hidden","true",1,"",3,"click"],[3,"isLoading"],["class","container-fluid invoice-container print-container","style","width: 935px; margin: auto; padding: 35px; border: 1px solid #ccc;","id","printcontainer",4,"ngIf"],["id","printcontainer",1,"container-fluid","invoice-container","print-container",2,"width","935px","margin","auto","padding","35px","border","1px solid #ccc"],[3,"dir"],["border","0","cellpadding","0","cellspacing","0","width","100%",2,"width","100%"],[2,"text-align","left","width","60%"],[2,"font-size","1rem !important","color","#0c2f54","font-family","'Poppins', sans-serif","font-weight","500","line-height","1.2","margin","0","padding-top","4px"],[2,"text-align","right","vertical-align","middle"],["id","logo","title","invoice","alt","invoice",2,"width","120px",3,"src"],[2,"padding-top","10px","padding-bottom","5px"],[2,"width","47%","text-align","center","vertical-align","top"],["border","0","cellpadding","0","cellspacing","0","width","100%",2,"width","100%","border","2px solid #878787"],[2,"padding","5px","width","33%","text-align","left","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[2,"padding","5px","text-align","left","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"width","4%"],[2,"width","47%","vertical-align","top"],[2,"width","60px","padding","5px","text-align","left","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[2,"padding","5px","text-align","left","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[2,"padding-bottom","5px"],[2,"padding","5px","width","30%","text-align","left","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"font-size","1.5rem !important","color","#0c2f54","font-family","'Poppins', sans-serif","font-weight","500","line-height","1.2","margin","0","padding-top","15px","text-align","center"],[2,"border","2px solid #878787","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[2,"border","2px solid #878787","width","33%","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[2,"width","33%","border","2px solid #878787","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[2,"width","5%","border","2px solid #878787","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[2,"width","15%","border","2px solid #878787","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[4,"ngFor","ngForOf"],["rowspan","2","colspan","7",2,"border","2px solid #878787","padding","5px","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"text-align","right","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[2,"border","2px solid #878787","padding","5px","text-align","right","font-size","0.975rem !important","color","#706f6f","font-family","'Poppins', sans-serif","font-weight","700"],["colspan","10",2,"border","2px solid #878787","padding","5px","text-align","left","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","700"],[2,"padding-top","5px"],[2,"width","33%","height","70px","text-align","left","vertical-align","top","border","2px solid #878787","padding","5px","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"text-align","left","vertical-align","top","border","2px solid #878787","border-left","0","padding","5px","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"width","33%","text-align","left","vertical-align","top","border","2px solid #878787","border-left","0","padding","5px","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","2px solid #878787","padding","5px","text-align","center","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","2px solid #878787","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"width","15%","border","2px solid #878787","padding","5px","text-align","center","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"width","15%","border","2px solid #878787","padding","5px","text-align","right","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"width","15%","border","2px solid #878787","padding","5px","text-align","right","font-size","0.875rem !important","color","#706f6f","font-family","'Poppins', sans-serif","font-weight","600"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"button",1),t.NdJ("click",function(){return o.printInvoice()}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._uU(4," \xa0 "),t.TgZ(5,"button",2),t.NdJ("click",function(){return o.closeModel()}),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.qZA(),t._UZ(8,"br"),t._UZ(9,"br"),t._UZ(10,"br"),t._UZ(11,"spinner-loader",3),t.YNc(12,Mg,136,95,"div",4)),2&e&&(t.xp6(2),t.hij(" ",t.lcZ(3,4,"Print"),""),t.xp6(4),t.hij(" ",t.lcZ(7,6,"Close"),""),t.xp6(5),t.Q6J("isLoading",o.isLoading),t.xp6(1),t.Q6J("ngIf",o.printItem))},directives:[b.r,d.O5,nt.Lv,d.sg],pipes:[Z.X$,d.uU,E],encapsulation:2}),i})(),St=(()=>{class i{constructor(e,o,n,r,l,c){this.fb=e,this.apiService=o,this.authService=n,this.utilService=r,this.dialogRef=l,this.notifyService=c,this.id=0,this.modalTitle="",this.selectedPayment="",this.paymentTermId="",this.paymentTermsList=[]}ngOnInit(){this.setForm()}setForm(){this.form=this.fb.group({paymentType:this.modalTitle,trantype:["Invoice",s.kI.required],tranSource:["GL",s.kI.required],remarks1:"-",remarks2:"-",createdOn:""})}submit(){this.form.valid&&this.id>0&&(this.form.value.id=this.id,this.form.controls.createdOn.value&&(this.form.value.createdOn=this.utilService.selectedDateTime(this.form.controls.createdOn.value)),this.apiService.post("journalVoucher/createJournalVoucherPosting",this.form.value).subscribe(e=>{this.utilService.OkMessage(),this.reset(),this.dialogRef.close(!0)},e=>{console.error(e),this.utilService.ShowApiErrorMessage(e)}))}reset(){this.selectedPayment=this.paymentTermId=""}closeModel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(T.so),t.Y36(f.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-jvposting"]],decls:43,vars:30,consts:[["type","button","aria-hidden","true",1,"close",3,"click"],["novalidate","",1,"mt-1",3,"formGroup","ngSubmit"],[1,"row","rowm0"],[1,"col-md-12","col-lg-12"],[1,"form-group"],[1,"mr-sm-2"],["type","text","formControlName","remarks1",1,"form-control",3,"placeholder"],["type","text","formControlName","remarks2",1,"form-control",3,"placeholder"],[1,"input-group","mb-2"],["formControlName","createdOn",1,"form-control","datapickerinput",3,"placeholder","matDatepicker"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker",""],[1,"row"],[1,"col-lg-12","col-md-12","text-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","waves-effect","waves-light","btn-primary",3,"value"]],template:function(e,o){if(1&e&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"button",0),t.NdJ("click",function(){return o.closeModel()}),t._uU(4," \xd7"),t.qZA(),t.qZA(),t.TgZ(5,"form",1),t.NdJ("ngSubmit",function(){return o.submit()}),t.TgZ(6,"div",2),t.TgZ(7,"div",3),t.TgZ(8,"div",4),t.TgZ(9,"label",5),t._uU(10),t.ALo(11,"translate"),t.qZA(),t._UZ(12,"input",6),t.ALo(13,"translate"),t.qZA(),t.qZA(),t.TgZ(14,"div",3),t.TgZ(15,"div",4),t.TgZ(16,"label",5),t._uU(17),t.ALo(18,"translate"),t.qZA(),t._UZ(19,"input",7),t.ALo(20,"translate"),t.qZA(),t.qZA(),t.TgZ(21,"div",3),t.TgZ(22,"label",5),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"div",4),t.TgZ(26,"div",8),t._UZ(27,"input",9),t.ALo(28,"translate"),t.TgZ(29,"div",10),t._UZ(30,"mat-datepicker-toggle",11),t._UZ(31,"mat-datepicker",null,12),t._UZ(33,"br"),t._UZ(34,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(35,"div",13),t.TgZ(36,"div",14),t.TgZ(37,"button",15),t.NdJ("click",function(){return o.closeModel()}),t._uU(38),t.ALo(39,"translate"),t.qZA(),t._uU(40," \xa0\xa0 "),t._UZ(41,"input",16),t.ALo(42,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e){const n=t.MAs(32);t.xp6(1),t.hij(" ",t.lcZ(2,12,"Journal_Voucher")," "),t.xp6(4),t.Q6J("formGroup",o.form),t.xp6(5),t.hij(" ",t.lcZ(11,14,"Remarks1")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(13,16,"Remarks1")),t.xp6(5),t.hij(" ",t.lcZ(18,18,"Remarks2")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(20,20,"Remarks2")),t.xp6(4),t.Oqu(t.lcZ(24,22,"Posting_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(28,24,"Select_a_Date")),t.Q6J("matDatepicker",n),t.xp6(3),t.Q6J("for",n),t.xp6(8),t.hij(" ",t.lcZ(39,26,"Cancel")," "),t.xp6(3),t.s9C("value",t.lcZ(42,28,"Save"))}},directives:[s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,m.hl,m.nW,U.R9,m.Mq],pipes:[Z.X$],encapsulation:2}),i})(),Dg=(()=>{class i{constructor(e,o,n,r,l,c){this.fb=e,this.apiService=o,this.authService=n,this.utilService=r,this.dialogRef=l,this.notifyService=c,this.id=0}ngOnInit(){this.setForm()}setForm(){this.form=this.fb.group({appRemarks:["-",s.kI.required],trantype:["Invoice",s.kI.required],tranSource:["GL",s.kI.required]})}submit(){this.form.valid&&this.id>0&&(this.form.value.id=this.id,this.apiService.post("journalVoucher/createJournalVoucherApproval",this.form.value).subscribe(e=>{this.utilService.OkMessage(),this.reset(),this.dialogRef.close(!0)},e=>{this.utilService.ShowApiErrorMessage(e)}))}reset(){this.form.reset()}closeModel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(T.so),t.Y36(f.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-jvuserapproval"]],decls:23,vars:17,consts:[["type","button","aria-hidden","true",1,"close",3,"click"],["novalidate","",1,"mt-1",3,"formGroup","ngSubmit"],[1,"row","rowm0"],[1,"col-md-4","col-lg-4"],[1,"form-group"],[1,"mr-sm-2"],["type","text","formControlName","appRemarks",1,"form-control",3,"placeholder"],[3,"control"],[1,"row"],[1,"col-lg-12","col-md-12","text-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","waves-effect","waves-light","btn-primary",3,"value"]],template:function(e,o){1&e&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"button",0),t.NdJ("click",function(){return o.closeModel()}),t._uU(4," \xd7"),t.qZA(),t.qZA(),t.TgZ(5,"form",1),t.NdJ("ngSubmit",function(){return o.submit()}),t.TgZ(6,"div",2),t.TgZ(7,"div",3),t.TgZ(8,"div",4),t.TgZ(9,"label",5),t._uU(10),t.ALo(11,"translate"),t.qZA(),t._UZ(12,"input",6),t.ALo(13,"translate"),t._UZ(14,"validation-message",7),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"div",8),t.TgZ(16,"div",9),t.TgZ(17,"button",10),t.NdJ("click",function(){return o.closeModel()}),t._uU(18),t.ALo(19,"translate"),t.qZA(),t._uU(20," \xa0\xa0 "),t._UZ(21,"input",11),t.ALo(22,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,7,"User_Approval")," "),t.xp6(4),t.Q6J("formGroup",o.form),t.xp6(5),t.hij(" ",t.lcZ(11,9,"Remarks")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(13,11,"Remarks")),t.xp6(2),t.Q6J("control",o.form.controls.appRemarks),t.xp6(4),t.hij(" ",t.lcZ(19,13,"Cancel")," "),t.xp6(3),t.s9C("value",t.lcZ(22,15,"Save")))},directives:[s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,M.s],pipes:[Z.X$],encapsulation:2}),i})();function Pg(i,a){1&i&&(t.TgZ(0,"th",49),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"JV_Number")," "))}function Yg(i,a){if(1&i&&(t.TgZ(0,"td",50),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.voucherNumber)}}function Qg(i,a){1&i&&(t.TgZ(0,"th",49),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Date")," "))}function jg(i,a){if(1&i&&(t.TgZ(0,"td",50),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.jvDate,"dd-MM-yyyy"))}}function Fg(i,a){1&i&&(t.TgZ(0,"th",49),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Branch")," "))}function Bg(i,a){if(1&i&&(t.TgZ(0,"td",50),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.branchName)}}function Vg(i,a){1&i&&(t.TgZ(0,"th",49),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Amount")," "))}function Rg(i,a){if(1&i&&(t.TgZ(0,"td",50),t._uU(1),t.ALo(2,"leadingZeros"),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.amount))}}function Eg(i,a){1&i&&(t.TgZ(0,"th",49),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Source")," "))}function $g(i,a){if(1&i&&(t.TgZ(0,"td",50),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.source)}}function zg(i,a){1&i&&(t.TgZ(0,"th",49),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Document")," "))}function Hg(i,a){if(1&i&&(t.TgZ(0,"td",50),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.docNum)}}function Gg(i,a){1&i&&(t.TgZ(0,"th",49),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Remarks")," "))}function Xg(i,a){if(1&i&&(t.TgZ(0,"td",50),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.remarks)}}function Wg(i,a){1&i&&(t.TgZ(0,"th",49),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Approved")," "))}function Kg(i,a){if(1&i&&(t.TgZ(0,"td",50),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.approvedUser)}}function t1(i,a){1&i&&(t.TgZ(0,"th",49),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Posted")," "))}function e1(i,a){if(1&i&&(t.TgZ(0,"td",50),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.posted)}}function o1(i,a){1&i&&(t.TgZ(0,"th",49),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Void")," "))}function n1(i,a){if(1&i&&(t.TgZ(0,"td",50),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e.isVoid)}}function a1(i,a){1&i&&(t.TgZ(0,"th",49),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"PostedDate")," "))}function r1(i,a){if(1&i&&(t.TgZ(0,"td",50),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.postedDate,"dd-MM-yyyy"))}}function s1(i,a){1&i&&(t.TgZ(0,"th",51),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Actions")," "))}function l1(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"a",57),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit;return t.oxw().edit(n.id)}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Edit")))}function c1(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"a",57),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2).$implicit;return t.oxw().approve(n.id)}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Approve")))}function p1(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"a",57),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(3).$implicit;return t.oxw().posting(n.id)}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Post")))}function d1(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"a",57),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(3).$implicit;return t.oxw().voidStatus(n.id)}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Void")))}function u1(i,a){if(1&i&&(t.ynx(0),t.YNc(1,p1,3,3,"a",56),t.YNc(2,d1,3,3,"a",56),t.BQk()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",e.canSettle&&!e.isSettled&&!e.isVoid),t.xp6(1),t.Q6J("ngIf",e.canSettle&&!e.isSettled&&!e.isVoid)}}function m1(i,a){if(1&i&&(t.ynx(0),t.YNc(1,c1,3,3,"a",56),t.YNc(2,u1,3,2,"ng-container",58),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",!e.approvedUser&&!e.isSettled),t.xp6(1),t.Q6J("ngIf",e.isDrCrAmtSame)}}function g1(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"td",52),t.TgZ(1,"div",23),t.TgZ(2,"a",53),t._UZ(3,"i",54),t.qZA(),t.TgZ(4,"div",55),t.YNc(5,l1,3,3,"a",56),t.TgZ(6,"a",57),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().print(r.id)}),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"a",57),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().copy(r.id)}),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.YNc(12,m1,3,2,"ng-container",58),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=a.$implicit;t.xp6(5),t.Q6J("ngIf",!e.isApproved&&!e.isSettled),t.xp6(2),t.Oqu(t.lcZ(8,4,"Print")),t.xp6(3),t.Oqu(t.lcZ(11,6,"Copy")),t.xp6(2),t.Q6J("ngIf",e.hasAuthority&&e.isDrCrAmtSame)}}function Z1(i,a){1&i&&t._UZ(0,"tr",59)}function h1(i,a){1&i&&t._UZ(0,"tr",60)}function _1(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"mat-paginator",61),t.NdJ("page",function(n){return t.CHM(e),t.oxw().onPageSwitch(n)}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("length",e.totalItemsCount)("pageSize",e.pageService.pageCount)("pageSizeOptions",e.pageService.selectItemsPerPage)}}let A1=(()=>{class i extends L.k{constructor(e,o,n,r,l,c,u,g,C,S){super(r),this.http=e,this.router=o,this.apiService=n,this.authService=r,this.utilService=l,this.translate=c,this.notifyService=u,this.validationService=g,this.pageService=C,this.dialog=S,this.displayedColumns=["VoucherNumber","JvDate","BranchCode","Amount","Source","DocNum","Remarks","Approved","Posted","Void","PostedDate","Actions"],this.searchValue="",this.sortingOrder="id desc",this.isLoading=!1}ngOnInit(){this.initialLoading()}refresh(){this.searchValue="",this.sortingOrder="id desc",this.initialLoading()}initialLoading(){this.loadList(0,this.pageService.pageCount,"",this.sortingOrder)}onSortOrder(e){this.sortingOrder=e.active+" "+e.direction,this.totalItemsCount=0,this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder)}onPageSwitch(e){this.pageService.change(e),this.loadList(e.pageIndex,e.pageSize,this.searchValue,this.sortingOrder)}loadList(e,o,n,r){this.isLoading=!0,this.apiService.getPagination("journalVoucher",this.utilService.getQueryString(e,o,n,r)).subscribe(l=>{this.totalItemsCount=0,this.data=new p.by(l.items),this.totalItemsCount=l.totalCount,setTimeout(()=>{this.paginator.pageIndex=e,this.paginator.length=this.totalItemsCount}),this.data.sort=this.sort,this.isLoading=!1},l=>this.utilService.ShowApiErrorMessage(l))}applyFilter(e){e&&(this.searchValue=e,this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder))}openDialogManage(e=0,o,n="",r="",l,c=100){let u=this.utilService.openDialogCongif(this.dialog,l,c);u.componentInstance.dbops=o,u.componentInstance.modalTitle=n,u.componentInstance.id=e,u.afterClosed().subscribe(g=>{g&&!0===g&&this.initialLoading()})}create(){this.openDialogManage(0,v.Oi.create,this.translate.instant("Create_New_Sales_Invoice"),"",Lt)}edit(e){this.openDialogManage(e,v.Oi.update,this.translate.instant("Create_New_Sales_Invoice"),"",Lt)}print(e){this.openDialogManage(e,v.Oi.update,this.translate.instant("Create_New_Sales_Invoice"),"",Jg)}copy(e){this.utilService.openDeleteConfirmDialog(this.dialog,H.a).afterClosed().subscribe(n=>{n&&e>0&&this.apiService.post("journalVoucher/createJournalVoucherCopy",{id:e,copy:!0}).subscribe(r=>{this.refresh(),this.utilService.OkMessage()})},n=>this.utilService.ShowApiErrorMessage(n))}printList(e){alert(e)}approve(e){this.openDialogManage(e,v.Oi.create,"","",Dg,50)}posting(e){this.openDialogManage(e,v.Oi.create,"posting","",St,50)}voidStatus(e){this.openDialogManage(e,v.Oi.create,"void","",St,50)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36($.eN),t.Y36(Q.F0),t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(Z.sK),t.Y36(f.g),t.Y36(O.R),t.Y36(k.N),t.Y36(T.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-journalvoucher"]],viewQuery:function(e,o){if(1&e&&(t.Gf(q.NW,7),t.Gf(x.YE,7)),2&e){let n;t.iGM(n=t.CRH())&&(o.paginator=n.first),t.iGM(n=t.CRH())&&(o.sort=n.first)}},features:[t.qOj],decls:90,vars:31,consts:[[1,"page-breadcrumb"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],[1,"container-fluid"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"row","pb-3"],[1,"col-md-3"],[1,"form-control",3,"placeholder","ngModel","ngModelChange"],[1,"col-md-4","arabicright"],[1,"btn","btn-primary",3,"click"],[1,"",3,"click"],[1,"btn","btn-primary","icon-refresh"],[1,"col-md-7","col-lg-9"],[1,"card-title","pt6"],[1,"col-md-3","col-lg-3","text-right"],[1,"nav-item","dropdown"],["data-toggle","modal","data-target","#scrollable-modal","href","#",1,"btn","waves-effect","waves-light","btn-rounded","btn-outline-primary",3,"click"],[1,"icon-plus"],[1,"cardtitle-divider"],[3,"isLoading"],[1,"table-responsive"],["mat-table","","matSort","","matSortActive","Id","matSortDisableClear","","matSortDirection","desc",1,"table","table-bordered","no-wrap",3,"dataSource","matSortChange"],["matColumnDef","VoucherNumber"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","JvDate"],["matColumnDef","BranchCode"],["matColumnDef","Amount"],["matColumnDef","Source"],["matColumnDef","DocNum"],["matColumnDef","Remarks"],["matColumnDef","Approved"],["matColumnDef","Posted"],["matColumnDef","Void"],["matColumnDef","PostedDate"],["matColumnDef","Actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","text-center",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions","page",4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-cell","",1,"text-center"],["href","#","id","navbarDropdown","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false"],[1,"icon-options-vertical"],["aria-labelledby","navbarDropdown",1,"dropdown-menu","dropdown-menu-custom",2,"transform","translate3d(0px, -61px, 0px)!important"],["data-toggle","modal","class","dropdown-item","href","#",3,"click",4,"ngIf"],["data-toggle","modal","href","#",1,"dropdown-item",3,"click"],[4,"ngIf"],["mat-header-row",""],["mat-row",""],[3,"length","pageSize","pageSizeOptions","page"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"nav",5),t.TgZ(8,"ol",6),t.TgZ(9,"li",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"li",7),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"li",8),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",9),t.TgZ(19,"div",1),t.TgZ(20,"div",10),t.TgZ(21,"div",11),t.TgZ(22,"div",12),t.TgZ(23,"div",13),t._UZ(24,"div",10),t.TgZ(25,"div",14),t.TgZ(26,"input",15),t.NdJ("ngModelChange",function(r){return o.searchValue=r}),t.ALo(27,"translate"),t.qZA(),t.qZA(),t.TgZ(28,"div",16),t.TgZ(29,"button",17),t.NdJ("click",function(){return o.applyFilter(o.searchValue)}),t._uU(30),t.ALo(31,"translate"),t.qZA(),t._uU(32," \xa0 "),t.TgZ(33,"a",18),t.NdJ("click",function(){return o.refresh()}),t._UZ(34,"i",19),t.qZA(),t.qZA(),t.qZA(),t.TgZ(35,"div",1),t.TgZ(36,"div",20),t.TgZ(37,"h4",21),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.qZA(),t.TgZ(40,"div",22),t.TgZ(41,"div",23),t.TgZ(42,"a",24),t.NdJ("click",function(){return o.create()}),t._UZ(43,"i",25),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(46,"div",26),t._UZ(47,"spinner-loader",27),t.TgZ(48,"div",28),t.TgZ(49,"table",29),t.NdJ("matSortChange",function(r){return o.onSortOrder(r)}),t.ynx(50,30),t.YNc(51,Pg,3,3,"th",31),t.YNc(52,Yg,2,1,"td",32),t.BQk(),t.ynx(53,33),t.YNc(54,Qg,3,3,"th",31),t.YNc(55,jg,3,4,"td",32),t.BQk(),t.ynx(56,34),t.YNc(57,Fg,3,3,"th",31),t.YNc(58,Bg,2,1,"td",32),t.BQk(),t.ynx(59,35),t.YNc(60,Vg,3,3,"th",31),t.YNc(61,Rg,3,3,"td",32),t.BQk(),t.ynx(62,36),t.YNc(63,Eg,3,3,"th",31),t.YNc(64,$g,2,1,"td",32),t.BQk(),t.ynx(65,37),t.YNc(66,zg,3,3,"th",31),t.YNc(67,Hg,2,1,"td",32),t.BQk(),t.ynx(68,38),t.YNc(69,Gg,3,3,"th",31),t.YNc(70,Xg,2,1,"td",32),t.BQk(),t.ynx(71,39),t.YNc(72,Wg,3,3,"th",31),t.YNc(73,Kg,2,1,"td",32),t.BQk(),t.ynx(74,40),t.YNc(75,t1,3,3,"th",31),t.YNc(76,e1,2,1,"td",32),t.BQk(),t.ynx(77,41),t.YNc(78,o1,3,3,"th",31),t.YNc(79,n1,2,1,"td",32),t.BQk(),t.ynx(80,42),t.YNc(81,a1,3,3,"th",31),t.YNc(82,r1,3,4,"td",32),t.BQk(),t.ynx(83,43),t.YNc(84,s1,3,3,"th",44),t.YNc(85,g1,13,8,"td",45),t.BQk(),t.YNc(86,Z1,1,0,"tr",46),t.YNc(87,h1,1,0,"tr",47),t.qZA(),t.ynx(88),t.YNc(89,_1,1,3,"mat-paginator",48),t.BQk(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.hij(" ",t.lcZ(5,15,"Journal_Voucher")," "),t.xp6(6),t.hij(" ",t.lcZ(11,17,"Financial_Transaction")," "),t.xp6(3),t.Oqu(t.lcZ(14,19,"General_Ledger")),t.xp6(3),t.Oqu(t.lcZ(17,21,"Journal_Voucher")),t.xp6(10),t.MGl("placeholder","",t.lcZ(27,23,"Search"),"..."),t.Q6J("ngModel",o.searchValue),t.xp6(4),t.Oqu(t.lcZ(31,25,"Search")),t.xp6(8),t.hij("",t.lcZ(39,27,"Journal_Voucher_List")," "),t.xp6(6),t.hij("",t.lcZ(45,29,"New")," "),t.xp6(3),t.Q6J("isLoading",o.isLoading),t.xp6(2),t.Q6J("dataSource",o.data),t.xp6(37),t.Q6J("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(2),t.Q6J("ngIf",o.totalItemsCount>0))},directives:[s.Fj,s.JJ,s.On,b.r,p.BZ,x.YE,p.w1,p.fO,p.Dz,p.as,p.nj,d.O5,p.ge,x.nU,p.ev,p.XQ,p.Gk,q.NW],pipes:[Z.X$,d.uU,E],encapsulation:2}),i})();function f1(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",31),t._uU(6),t.ALo(7,"decimalpipe"),t.qZA(),t.TgZ(8,"td",31),t._uU(9),t.ALo(10,"decimalpipe"),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.Oqu(e.acCode),t.xp6(2),t.Oqu(e.finAcName),t.xp6(2),t.Oqu(t.lcZ(7,4,e.drAmount_Bal)),t.xp6(3),t.Oqu(t.lcZ(10,6,e.crAmount_Bal))}}function T1(i,a){if(1&i&&(t.TgZ(0,"tr",27),t.TgZ(1,"td",28),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"td",31),t.TgZ(5,"td",31),t._uU(6),t.ALo(7,"decimalpipe"),t.qZA(),t.qZA()),2&i){const e=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,2,"Profit")),t.xp6(4),t.Oqu(t.lcZ(7,4,e.totalProfitLossAmount))}}function v1(i,a){if(1&i&&(t.TgZ(0,"tr",27),t.TgZ(1,"td",28),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"td",31),t._uU(5),t.ALo(6,"decimalpipe"),t.qZA(),t._UZ(7,"td",31),t.qZA()),2&i){const e=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,2,"Loss")),t.xp6(3),t.Oqu(t.lcZ(6,4,-1*e.totalProfitLossAmount))}}function q1(i,a){if(1&i&&(t.TgZ(0,"table",25),t.TgZ(1,"thead"),t.TgZ(2,"tr"),t.TgZ(3,"th"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"th"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"th"),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"th"),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"tbody"),t.YNc(16,f1,11,8,"tr",26),t.qZA(),t.TgZ(17,"tfoot"),t.TgZ(18,"tr",27),t.TgZ(19,"td",28),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"td",29),t._uU(23),t.ALo(24,"decimalpipe"),t.qZA(),t.TgZ(25,"td",29),t._uU(26),t.ALo(27,"decimalpipe"),t.qZA(),t.qZA(),t.YNc(28,T1,8,6,"tr",30),t.YNc(29,v1,8,6,"tr",30),t.TgZ(30,"tr",27),t.TgZ(31,"td",28),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"td",31),t._uU(35),t.ALo(36,"decimalpipe"),t.qZA(),t.TgZ(37,"td",31),t._uU(38),t.ALo(39,"decimalpipe"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(4),t.Oqu(t.lcZ(5,13,"FinAcCode")),t.xp6(3),t.Oqu(t.lcZ(8,15,"FinAcName")),t.xp6(3),t.Oqu(t.lcZ(11,17,"Dr_Amount")),t.xp6(3),t.Oqu(t.lcZ(14,19,"Cr_Amount")),t.xp6(3),t.Q6J("ngForOf",e.profitLossList),t.xp6(4),t.Oqu(t.lcZ(21,21,"Total_Amount")),t.xp6(3),t.Oqu(t.lcZ(24,23,e.totalDrAmount)),t.xp6(3),t.Oqu(t.lcZ(27,25,e.totalCrAmount)),t.xp6(2),t.Q6J("ngIf",e.totalProfitLossAmount>0),t.xp6(1),t.Q6J("ngIf",e.totalProfitLossAmount<=0),t.xp6(3),t.Oqu(t.lcZ(33,27,"Total_Amount")),t.xp6(3),t.Oqu(t.lcZ(36,29,e.totalDrAmount)),t.xp6(3),t.hij(" ",t.lcZ(39,31,e.totalCrAmount+e.totalProfitLossAmount)," ")}}function C1(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",17),t.TgZ(1,"button",18),t.NdJ("click",function(){return t.CHM(e),t.oxw().openPrint()}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"br"),t._UZ(5,"br"),t.TgZ(6,"div",19),t.TgZ(7,"table",20),t.TgZ(8,"tr"),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.qZA(),t.TgZ(11,"tr"),t.TgZ(12,"td",21),t._UZ(13,"img",22),t.qZA(),t.qZA(),t.TgZ(14,"tr"),t.TgZ(15,"td"),t.TgZ(16,"div",23),t._UZ(17,"br"),t._uU(18),t._UZ(19,"br"),t._uU(20),t._UZ(21,"br"),t._uU(22),t.ALo(23,"translate"),t._UZ(24,"br"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(25,"tr"),t.TgZ(26,"td",21),t.TgZ(27,"p"),t._uU(28),t.ALo(29,"date"),t.ALo(30,"date"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(31,q1,40,33,"table",24),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,10,"Print")," "),t.xp6(8),t.hij(" ",e.company.companyName,""),t.xp6(3),t.s9C("src",e.company.logoURL,t.LSH),t.xp6(5),t.hij(" ",e.company.branchName," "),t.xp6(2),t.hij(" ",e.company.companyAddress," "),t.xp6(2),t.AsE(" ",t.lcZ(23,12,"Tel_Phone")," : ",e.company.phone," "),t.xp6(6),t.AsE(' The Statement of " The Balance Sheet " for ',t.xi3(29,14,e.dateFrom,"dd/MM/yyyy")," to ",t.xi3(30,17,e.dateTo,"dd/MM/yyyy")," "),t.xp6(3),t.Q6J("ngIf",e.profitLossList&&e.profitLossList.length>0)}}let x1=(()=>{class i extends L.k{constructor(e,o,n,r){super(o),this.apiService=e,this.authService=o,this.utilService=n,this.notifyService=r,this.profitLossList=[],this.totalDrAmount=0,this.totalCrAmount=0,this.totalBalance=0,this.totalProfitLossAmount=0,this.isLoading=!1,this.dateFrom="",this.dateTo=""}ngOnInit(){}search(){this.dateFrom&&this.dateTo?(this.isLoading=!0,this.apiService.getall("report/getProfitAndLossList?type=BS").subscribe(e=>{this.isLoading=!1,e&&(this.profitLossList=e.list,this.company=e.company,this.totalCrAmount=e.totalCrAmount,this.totalDrAmount=e.totalDrAmount,this.totalBalance=e.totalBalance,this.totalProfitLossAmount=e.totalProfitLossAmount)})):this.notifyService.showError("Select Dates")}openPrint(){const e=document.getElementById("printcontainer");this.utilService.printForLocale(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(f.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-balancesheet"]],features:[t.qOj],decls:47,vars:23,consts:[[1,"page-breadcrumb"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"modal-body"],[1,"outer"],[1,"col-md-6","col-lg-6"],[1,"form-group"],[1,"input-group","mb-2"],[1,"form-control","datapickerinput",3,"placeholder","ngModel","matDatepicker","ngModelChange"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker2",""],["picker1",""],["type","button",1,"btn","btn-primary",3,"click"],[3,"isLoading"],["class","table-responsive",4,"ngIf"],[1,"table-responsive"],["type","button","data-toggle","modal",1,"btn","waves-effect","waves-light","btn-rounded","btn-primary","btn-midblock",3,"click"],["id","printcontainer",1,"outer"],["cellpadding","0","cellspacing","0","width","100%",1,"ur_tablestyle",2,"width","100%","padding-bottom","5px"],[2,"text-align","center"],[2,"width","200px","height","150px",3,"src"],[1,"font-weight-medium"],["style","width:100%; padding-bottom:5px;","border","1","cellpadding","0","cellspacing","0","width","100%","class","table  table-bordered no-wrap ur_tablestyle",4,"ngIf"],["border","1","cellpadding","0","cellspacing","0","width","100%",1,"table","table-bordered","no-wrap","ur_tablestyle",2,"width","100%","padding-bottom","5px"],[4,"ngFor","ngForOf"],[1,"tfoot"],["colspan","2",1,"text-right"],["colspan","1",1,"text-right"],["class","tfoot",4,"ngIf"],[1,"text-right"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"div",5),t.TgZ(8,"div",5),t.TgZ(9,"div",1),t.TgZ(10,"div",6),t.TgZ(11,"div",7),t.TgZ(12,"label"),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"div",7),t.TgZ(16,"div",8),t.TgZ(17,"input",9),t.NdJ("ngModelChange",function(r){return o.dateFrom=r}),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"div",10),t._UZ(20,"mat-datepicker-toggle",11),t._UZ(21,"mat-datepicker",null,12),t._UZ(23,"br"),t._UZ(24,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(25,"div",6),t.TgZ(26,"div",7),t.TgZ(27,"label"),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.TgZ(30,"div",7),t.TgZ(31,"div",8),t.TgZ(32,"input",9),t.NdJ("ngModelChange",function(r){return o.dateTo=r}),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"div",10),t._UZ(35,"mat-datepicker-toggle",11),t._UZ(36,"mat-datepicker",null,13),t._UZ(38,"br"),t._UZ(39,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(40,"div",6),t.TgZ(41,"div",7),t._UZ(42,"br"),t.TgZ(43,"button",14),t.NdJ("click",function(){return o.search()}),t._uU(44,"Search"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(45,"spinner-loader",15),t.YNc(46,C1,32,20,"div",16),t.qZA(),t.qZA()),2&e){const n=t.MAs(22),r=t.MAs(37);t.xp6(4),t.hij(" ",t.lcZ(5,13,"Balancesheet")," "),t.xp6(9),t.Oqu(t.lcZ(14,15,"From_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(18,17,"Select_a_Date")),t.Q6J("ngModel",o.dateFrom)("matDatepicker",n),t.xp6(3),t.Q6J("for",n),t.xp6(8),t.Oqu(t.lcZ(29,19,"To_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(33,21,"Select_a_Date")),t.Q6J("ngModel",o.dateTo)("matDatepicker",r),t.xp6(3),t.Q6J("for",r),t.xp6(10),t.Q6J("isLoading",o.isLoading),t.xp6(1),t.Q6J("ngIf",o.company)}},directives:[s.Fj,m.hl,s.JJ,s.On,m.nW,U.R9,m.Mq,b.r,d.O5,d.sg],pipes:[Z.X$,d.uU,I.J],encapsulation:2}),i})();function b1(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"ul"),t.TgZ(1,"li"),t.TgZ(2,"span",29),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(8).loadLedger(r.finAcCode,"",r.finAcName)}),t._uU(3),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=a.$implicit,o=t.oxw(2).$implicit;t.Tol("treesubsubsub "+o.finSubCatCode),t.xp6(2),t.s9C("content",e.finAcCode+" "+e.finAcName),t.xp6(1),t.AsE("(",e.finAcCode,") ",e.finAcName,"")}}function y1(i,a){if(1&i&&(t.ynx(0),t.YNc(1,b1,4,6,"ul",28),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",e.list)}}function U1(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"ul"),t.TgZ(1,"li"),t.TgZ(2,"p",24),t.TgZ(3,"input",25),t.NdJ("change",function(n){const l=t.CHM(e).$implicit;return t.oxw(6).itemCategoryCheck(n,l.finSubCatCode)}),t.qZA(),t._uU(4,"\xa0\xa0"),t.TgZ(5,"label",26),t._uU(6,"\u21e9"),t.qZA(),t._uU(7,"\xa0\xa0"),t.TgZ(8,"b",27),t._uU(9),t.qZA(),t.qZA(),t.YNc(10,y1,2,1,"ng-container",18),t.qZA(),t.qZA()}if(2&i){const e=a.$implicit,o=t.oxw(2).$implicit;t.Tol("treesubsub "+o.finCatCode),t.xp6(2),t.s9C("content",e.finSubCatCode),t.xp6(1),t.s9C("id",e.finSubCatCode+"_expan"),t.xp6(2),t.Gre("expansion ",e.finSubCatCode+"_expan",""),t.s9C("for",e.finSubCatCode+"_expan"),t.xp6(4),t.hij(" ",e.finSubCatName," "),t.xp6(1),t.Q6J("ngIf",e.list&&e.list.length>0)}}function L1(i,a){if(1&i&&(t.ynx(0),t.YNc(1,U1,11,11,"ul",28),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",e.list)}}function S1(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"ul"),t.TgZ(1,"li"),t.TgZ(2,"p",24),t.TgZ(3,"input",25),t.NdJ("change",function(n){const l=t.CHM(e).$implicit;return t.oxw(4).subCategoryCheck(n,l.finCatCode)}),t.qZA(),t._uU(4,"\xa0\xa0 "),t.TgZ(5,"label",26),t._uU(6,"\u21e9"),t.qZA(),t._uU(7,"\xa0\xa0"),t.TgZ(8,"b",27),t._uU(9),t.qZA(),t.qZA(),t.YNc(10,L1,2,1,"ng-container",18),t.qZA(),t.qZA()}if(2&i){const e=a.$implicit,o=t.oxw(2).$implicit;t.Tol("treesub "+o.name),t.xp6(2),t.s9C("content",e.finCatCode),t.xp6(1),t.s9C("id",e.finCatCode+"_expan"),t.xp6(2),t.Gre("expansion ",e.finCatCode+"_expan",""),t.s9C("for",e.finCatCode+"_expan"),t.xp6(4),t.hij(" ",e.finCatName," "),t.xp6(1),t.Q6J("ngIf",e.list&&e.list.length>0)}}function N1(i,a){if(1&i&&(t.ynx(0),t.YNc(1,S1,11,11,"ul",28),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",e.list)}}function O1(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"ul",23),t.TgZ(1,"li"),t.TgZ(2,"p",24),t.TgZ(3,"input",25),t.NdJ("change",function(n){const l=t.CHM(e).$implicit;return t.oxw(2).categoryCheck(n,l.name)}),t.qZA(),t._uU(4," \xa0\xa0 "),t.TgZ(5,"label",26),t._uU(6,"\u21e9"),t.qZA(),t._uU(7," \xa0\xa0"),t.TgZ(8,"b",27),t._uU(9),t.qZA(),t.qZA(),t.YNc(10,N1,2,1,"ng-container",18),t.qZA(),t.qZA()}if(2&i){const e=a.$implicit;t.xp6(2),t.s9C("content",e.name),t.xp6(1),t.s9C("id",e.name+"_expan"),t.xp6(2),t.Gre("expansion ",e.name+"_expan",""),t.s9C("for",e.name+"_expan"),t.xp6(4),t.hij(" ",e.name," "),t.xp6(1),t.Q6J("ngIf",e.list&&e.list.length>0)}}function w1(i,a){if(1&i&&(t.ynx(0),t.YNc(1,O1,11,8,"ul",22),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.listOfCategories)}}function k1(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"ul"),t.TgZ(1,"li"),t.TgZ(2,"b",29),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(4).loadLedger(r.text,r.value,r.finAcName)}),t._uU(3),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=a.$implicit,o=t.oxw(2).$implicit;t.Tol("treesubsubsub "+o.branchName),t.xp6(2),t.s9C("content",e.textTwo),t.xp6(1),t.hij("",e.textTwo," ")}}function I1(i,a){if(1&i&&(t.ynx(0),t.YNc(1,k1,4,5,"ul",28),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",e.list)}}function M1(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"ul",31),t.TgZ(1,"li"),t.TgZ(2,"p",24),t.TgZ(3,"input",32),t.NdJ("change",function(n){const l=t.CHM(e).$implicit;return t.oxw(2).categoryCheck(n,l.branchName)}),t.qZA(),t._uU(4,"\xa0\xa0"),t.TgZ(5,"b",27),t.TgZ(6,"span"),t._uU(7,"-"),t.qZA(),t._uU(8),t.qZA(),t.qZA(),t.YNc(9,I1,2,1,"ng-container",18),t.qZA(),t.qZA()}if(2&i){const e=a.$implicit;t.xp6(2),t.s9C("content",e.branchName),t.xp6(4),t.Gre("expansion ",e.branchName+"_expan",""),t.xp6(2),t.hij(" ",e.branchName," "),t.xp6(1),t.Q6J("ngIf",e.list&&e.list.length>0)}}function J1(i,a){if(1&i&&(t.ynx(0),t.YNc(1,M1,10,6,"ul",30),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.listOfBranchLedgers)}}function D1(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",1),t.TgZ(1,"div",33),t.TgZ(2,"div",34),t.TgZ(3,"label"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"ng-select",35),t.NdJ("change",function(n){return t.CHM(e),t.oxw().selectSeg1(n)})("clear",function(){return t.CHM(e),t.oxw().resetSeg1()})("ngModelChange",function(n){return t.CHM(e),t.oxw().Seg1=n}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"div",33),t.TgZ(8,"div",34),t.TgZ(9,"label"),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"ng-select",35),t.NdJ("change",function(n){return t.CHM(e),t.oxw().selectSeg2(n)})("clear",function(){return t.CHM(e),t.oxw().resetSeg2()})("ngModelChange",function(n){return t.CHM(e),t.oxw().Seg2=n}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"div",33),t.TgZ(14,"div",34),t.TgZ(15,"label"),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"ng-select",35),t.NdJ("change",function(n){return t.CHM(e),t.oxw().selectBatch(n)})("clear",function(){return t.CHM(e),t.oxw().resetBatch()})("ngModelChange",function(n){return t.CHM(e),t.oxw().Batch=n}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"div",33),t.TgZ(20,"div",34),t.TgZ(21,"label"),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"ng-select",36),t.NdJ("clear",function(){return t.CHM(e),t.oxw().resetCostAllocation()})("ngModelChange",function(n){return t.CHM(e),t.oxw().CostAllocation=n})("change",function(n){return t.CHM(e),t.oxw().loadSegCodedata(n)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(25,"div",33),t.TgZ(26,"div",34),t.TgZ(27,"label"),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.TgZ(30,"ng-select",37),t.NdJ("change",function(n){return t.CHM(e),t.oxw().selectCostSegCode(n)})("clear",function(){return t.CHM(e),t.oxw().resetCostSegCode()})("ngModelChange",function(n){return t.CHM(e),t.oxw().CostSegCode=n}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(31,"div",38),t.TgZ(32,"div",34),t.TgZ(33,"label"),t._uU(34),t.ALo(35,"translate"),t.qZA(),t.TgZ(36,"div",34),t.TgZ(37,"div",39),t.TgZ(38,"input",40),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().dateFrom=n}),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"div",41),t._UZ(41,"mat-datepicker-toggle",42),t._UZ(42,"mat-datepicker",null,43),t._UZ(44,"br"),t._UZ(45,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(46,"div",38),t.TgZ(47,"div",34),t.TgZ(48,"label"),t._uU(49),t.ALo(50,"translate"),t.qZA(),t.TgZ(51,"div",34),t.TgZ(52,"div",39),t.TgZ(53,"input",40),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().dateTo=n}),t.ALo(54,"translate"),t.qZA(),t.TgZ(55,"div",41),t._UZ(56,"mat-datepicker-toggle",42),t._UZ(57,"mat-datepicker",null,44),t._UZ(59,"br"),t._UZ(60,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(61,"div",38),t.TgZ(62,"div",34),t._UZ(63,"br"),t.TgZ(64,"button",45),t.NdJ("click",function(){return t.CHM(e),t.oxw().search()}),t._uU(65),t.ALo(66,"translate"),t.qZA(),t._uU(67," \xa0 "),t.TgZ(68,"a",46),t.NdJ("click",function(){return t.CHM(e),t.oxw().refresh()}),t._UZ(69,"i",47),t.qZA(),t._uU(70," \xa0 "),t.TgZ(71,"button",48),t.NdJ("click",function(){return t.CHM(e),t.oxw().printInvoice()}),t._uU(72),t.ALo(73,"translate"),t.qZA(),t._uU(74," \xa0 "),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.MAs(43),o=t.MAs(58),n=t.oxw();t.xp6(4),t.Oqu(t.lcZ(5,27,"Service")),t.xp6(2),t.Q6J("items",n.segmentSetupList)("ngModel",n.Seg1),t.xp6(4),t.Oqu(t.lcZ(11,29,"Branch")),t.xp6(2),t.Q6J("items",n.segmentTwoSetupList)("ngModel",n.Seg2),t.xp6(4),t.Oqu(t.lcZ(17,31,"Batch")),t.xp6(2),t.Q6J("items",n.batchSetupList)("ngModel",n.Batch),t.xp6(4),t.Oqu(t.lcZ(23,33,"CostAllocation")),t.xp6(2),t.Q6J("items",n.costAllocationList)("ngModel",n.CostAllocation),t.xp6(4),t.Oqu(t.lcZ(29,35,"CostSegCode")),t.xp6(2),t.Q6J("items",n.costSegCodeList)("ngModel",n.CostSegCode),t.xp6(4),t.Oqu(t.lcZ(35,37,"Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(39,39,"Select_a_Date")),t.Q6J("ngModel",n.dateFrom)("matDatepicker",e),t.xp6(3),t.Q6J("for",e),t.xp6(8),t.Oqu(t.lcZ(50,41,"Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(54,43,"Select_a_Date")),t.Q6J("ngModel",n.dateTo)("matDatepicker",o),t.xp6(3),t.Q6J("for",o),t.xp6(9),t.Oqu(t.lcZ(66,45,"Search")),t.xp6(7),t.hij(" ",t.lcZ(73,47,"Print"),"")}}function P1(i,a){if(1&i&&(t.TgZ(0,"table",56),t.TgZ(1,"tr"),t.TgZ(2,"td"),t.TgZ(3,"div",57),t._uU(4),t._UZ(5,"br"),t._uU(6),t._UZ(7,"br"),t._uU(8),t._UZ(9,"br"),t._uU(10),t.ALo(11,"translate"),t._UZ(12,"br"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"tr"),t.TgZ(14,"td",58),t._UZ(15,"img",59),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(4),t.hij(" ",e.company.companyName," "),t.xp6(2),t.hij(" ",e.company.branchName," "),t.xp6(2),t.hij(" ",e.company.companyAddress," "),t.xp6(2),t.AsE(" ",t.lcZ(11,6,"Tel_Phone")," : ",e.company.phone," "),t.xp6(5),t.s9C("src",e.company.logoURL,t.LSH)}}function Y1(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",60),t.TgZ(2,"h4",61),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.AsE(" ",t.lcZ(4,2,"Service")," : ",e.Seg1Name," ")}}function Q1(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",60),t.TgZ(2,"h4",61),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.AsE(" ",t.lcZ(4,2,"Branch")," : ",e.Seg2Name," ")}}function j1(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",60),t.TgZ(2,"h4",61),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.AsE(" ",t.lcZ(4,2,"Batch")," : ",e.BatchName," ")}}function F1(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",60),t.TgZ(2,"h4",61),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.AsE(" ",t.lcZ(4,2,"CostAllocation")," : ",e.CostAllocationName," ")}}function B1(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",60),t.TgZ(2,"h4",61),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.AsE(" ",t.lcZ(4,2,"CostSegCode")," : ",e.CostSegCodeName," ")}}function V1(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",60),t.TgZ(2,"h4",61),t._uU(3),t.ALo(4,"translate"),t.ALo(5,"date"),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.AsE(" ",t.lcZ(4,2,"dateFrom")," : ",t.xi3(5,4,e.dateFrom,"dd-MM-yyyy")," ")}}function R1(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",60),t.TgZ(2,"h4",61),t._uU(3),t.ALo(4,"translate"),t.ALo(5,"date"),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.AsE(" ",t.lcZ(4,2,"dateTo")," : ",t.xi3(5,4,e.dateTo,"dd-MM-yyyy")," ")}}function E1(i,a){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.transDate,"MM-dd-yyyy")," ")}}function $1(i,a){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.remarks," ")}}function z1(i,a){1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Opening_Balance"),": "))}function H1(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t.YNc(2,E1,3,4,"span",18),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"date"),t.qZA(),t.TgZ(8,"td",62),t.YNc(9,$1,2,1,"span",18),t.YNc(10,z1,3,3,"span",18),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.ALo(13,"decimalpipe"),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.ALo(16,"decimalpipe"),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.ALo(19,"decimalpipe"),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.Q6J("ngIf",!e.isOpening),t.xp6(2),t.Oqu(e.source),t.xp6(2),t.Oqu(t.xi3(7,8,e.postDate,"MM-dd-yyyy")),t.xp6(3),t.Q6J("ngIf",!e.isOpening),t.xp6(1),t.Q6J("ngIf",e.isOpening),t.xp6(2),t.Oqu(t.lcZ(13,11,e.drAmount)),t.xp6(3),t.Oqu(t.lcZ(16,13,e.crAmount)),t.xp6(3),t.Oqu(t.lcZ(19,15,e.balance))}}function G1(i,a){if(1&i&&(t.TgZ(0,"div",49),t.YNc(1,P1,16,8,"table",50),t.TgZ(2,"table",51),t.TgZ(3,"tr"),t.TgZ(4,"td",52),t.TgZ(5,"h5"),t._uU(6),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"tr"),t.TgZ(8,"td"),t.TgZ(9,"table",51),t.YNc(10,Y1,5,4,"tr",18),t.YNc(11,Q1,5,4,"tr",18),t.YNc(12,j1,5,4,"tr",18),t.YNc(13,F1,5,4,"tr",18),t.YNc(14,B1,5,4,"tr",18),t.qZA(),t.qZA(),t.TgZ(15,"td"),t.TgZ(16,"table",51),t.YNc(17,V1,6,7,"tr",18),t.YNc(18,R1,6,7,"tr",18),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(19,"br"),t._UZ(20,"br"),t.TgZ(21,"table",53),t.TgZ(22,"thead"),t.TgZ(23,"tr"),t.TgZ(24,"th"),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.TgZ(27,"th"),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.TgZ(30,"th"),t._uU(31),t.ALo(32,"translate"),t.qZA(),t.TgZ(33,"th"),t._uU(34),t.ALo(35,"translate"),t.qZA(),t.TgZ(36,"th"),t._uU(37),t.ALo(38,"translate"),t.qZA(),t.TgZ(39,"th"),t._uU(40),t.ALo(41,"translate"),t.qZA(),t.TgZ(42,"th"),t._uU(43),t.ALo(44,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(45,"tbody"),t.YNc(46,H1,20,17,"tr",54),t.TgZ(47,"tr"),t.TgZ(48,"td",55),t.TgZ(49,"span"),t._uU(50),t.ALo(51,"translate"),t.qZA(),t.qZA(),t.TgZ(52,"td"),t._uU(53),t.qZA(),t.TgZ(54,"td"),t._uU(55),t.qZA(),t.TgZ(56,"td"),t._uU(57),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.company),t.xp6(5),t.hij(" STATEMENT OF ACCOUNT - ",e.finAcNameHeader," "),t.xp6(4),t.Q6J("ngIf",e.Seg1Name),t.xp6(1),t.Q6J("ngIf",e.Seg2Name),t.xp6(1),t.Q6J("ngIf",e.BatchName),t.xp6(1),t.Q6J("ngIf",e.CostAllocationName),t.xp6(1),t.Q6J("ngIf",e.CostSegCodeName),t.xp6(3),t.Q6J("ngIf",e.dateFrom),t.xp6(1),t.Q6J("ngIf",e.dateTo),t.xp6(7),t.Oqu(t.lcZ(26,21,"Trans_Date")),t.xp6(3),t.Oqu(t.lcZ(29,23,"Type")),t.xp6(3),t.Oqu(t.lcZ(32,25,"Post_Date")),t.xp6(3),t.Oqu(t.lcZ(35,27,"Remarks")),t.xp6(3),t.Oqu(t.lcZ(38,29,"Dr_Amount")),t.xp6(3),t.Oqu(t.lcZ(41,31,"Cr_Amount")),t.xp6(3),t.Oqu(t.lcZ(44,33,"Balance")),t.xp6(3),t.Q6J("ngForOf",e.listOfLedger.list),t.xp6(4),t.hij("",t.lcZ(51,35,"Balance")," : "),t.xp6(3),t.Oqu(e.totalDrAmount),t.xp6(2),t.Oqu(e.totalCrAmount),t.xp6(2),t.Oqu(e.totalBalance)}}let X1=(()=>{class i extends L.k{constructor(e,o,n,r,l){super(o),this.utilService=e,this.authService=o,this.notifyService=n,this.apiService=r,this.dialog=l,this.listOfCategories=[],this.listOfCategoriesNew=[],this.listOfBranchLedgers=[],this.fInSysGenAcCode=!1,this.isLoading=!1,this.isLoading1=!1,this.isCategory=!1,this.finAcNameHeader="",this.pFinAcCode="",this.pFinAcName="",this.pBranchCode="",this.dateFrom="",this.dateTo="",this.Seg1="",this.Seg2="",this.Batch="",this.CostAllocation="",this.CostSegCode="",this.Seg1Name="",this.Seg2Name="",this.BatchName="",this.CostAllocationName="",this.CostSegCodeName="",this.totalDrAmount=0,this.totalCrAmount=0,this.totalBalance=0,this.accountSearch="",this.hasAccountCode=!1,this.segmentSetupList=[],this.segmentTwoSetupList=[],this.costAllocationList=[],this.batchSetupList=[],this.costSegCodeList=[]}ngOnInit(){this.loadCategoryTypeList()}accountSearchChage(){""!==this.accountSearch?this.listOfCategoriesNew.length>0&&[...document.getElementsByClassName("bfinAcCode")].forEach(o=>{const n=o.content;n&&(o.style.display=n.toLocaleLowerCase().trim().indexOf(this.accountSearch.toLocaleLowerCase().trim())>-1?"":"none")}):(this.listOfCategories=this.listOfCategoriesNew,[...document.getElementsByClassName("bfinAcCode")].forEach(o=>{o.style.display="block"}))}test(){}loadCategoryTypeList(){this.isLoading1=!0,this.apiService.getall("accountscategory/getCategoryTypeList").subscribe(e=>{this.isLoading1=!1,e&&(this.listOfCategories=this.listOfCategoriesNew=e.list,this.fInSysGenAcCode=e.fInSysGenAcCode)}),this.apiService.getall("ledgerReport/ledgerBranchViewList").subscribe(e=>{e&&(this.listOfBranchLedgers=e)}),this.apiService.getall("segmentSetup/getSegmentSetupSelectList").subscribe(e=>{e&&(this.segmentSetupList=e)}),this.apiService.getall("segmentTwoSetup/getSegmentTwoSetupSelectList").subscribe(e=>{e&&(this.segmentTwoSetupList=e)}),this.apiService.getall("costAllocationSetup/getCostAllocationSetupSelectList").subscribe(e=>{e&&(this.costAllocationList=e)}),this.apiService.getall("batchSetup/getBatchSetupSelectList").subscribe(e=>{e&&(this.batchSetupList=e)})}resetSeg1(){this.Seg1Name=""}resetSeg2(){this.Seg2Name=""}resetBatch(){this.BatchName=""}resetCostAllocation(){this.CostAllocationName="",this.CostSegCodeName=""}resetCostSegCode(){this.CostSegCodeName=""}selectCostSegCode(e){this.CostSegCodeName=e.textAr}selectBatch(e){this.BatchName=e.text}selectSeg2(e){this.Seg2Name=e.text}selectSeg1(e){this.Seg1Name=e.text}loadSegCodedata(e){const o=e.value;this.CostAllocationName=e.text,this.CostSegCodeName="",this.CostSegCode="",o>0&&this.apiService.getall(`costAllocationSetup/getCostSegmentCodeSelectList/${o}`).subscribe(n=>{n&&(this.costSegCodeList=n),this.costSegCodeList.map(l=>(l.textAr=l.textAr+" "+l.textTwo,l))})}changeCategoryView(){this.isCategory=!this.isCategory}loadLedger(e,o,n){this.finAcNameHeader=`(${e}) ${n}`,this.pFinAcCode=e,this.pFinAcName=n,this.pBranchCode=o,this.setDefaults(),this.hasAccountCode=!0,this.filter(e,o,n)}search(){this.filter(this.pFinAcCode,this.pBranchCode,this.pFinAcName)}refresh(){this.setDefaults(),this.filter(this.pFinAcCode,this.pBranchCode,this.pFinAcName)}setDefaults(){this.Seg1=this.Seg2=this.Batch=this.CostAllocation=this.CostSegCode=this.dateFrom=this.dateTo="",this.Seg1Name=this.Seg2Name=this.BatchName=this.CostAllocationName=this.CostSegCodeName=""}filter(e,o,n){console.log(this.Seg1),this.isLoading=!0,this.apiService.getall(`ledgerReport/viewLedgerReport?seg1=${this.Seg1?this.Seg1:""}&seg2=${this.Seg2?this.Seg2:""}&costAllocation=${this.CostAllocation?this.CostAllocation:""}&costSegCode=${this.CostSegCode?this.CostSegCode:""}&batch=${this.Batch?this.Batch:""}&finAcCode=${e}&branchCode=${o}&from=${this.utilService.getCommonDate(this.dateFrom)}&to=${this.utilService.getCommonDate(this.dateTo)}`).subscribe(r=>{this.isLoading=!1,r&&(this.listOfLedger=r,this.company=r.company,this.totalBalance=r.totalBalance,this.totalDrAmount=r.totalDrAmount,this.totalCrAmount=r.totalCrAmount)})}categoryCheck(e,o){this.expandCollapseMenu(e,o)}subCategoryCheck(e,o){this.expandCollapseMenu(e,o)}itemCategoryCheck(e,o){this.expandCollapseMenu(e,o)}expandCollapseMenu(e,o){let n=document.getElementsByClassName(o),r=document.getElementsByClassName(o+"_expan")[0];e.target.checked?(r.textContent="+",[...n].forEach(l=>{l.style.display="none"})):(r.textContent="\u21e9",[...n].forEach(l=>{l.style.display="block"}))}printInvoice(){const e=document.getElementById("printcontainer");this.utilService.printForLocale(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(A.t),t.Y36(_._),t.Y36(f.g),t.Y36(h.s),t.Y36(T.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-chartofaccounts"]],features:[t.qOj],decls:43,vars:28,consts:[[1,"page-breadcrumb"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],[1,"container-fluid"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"col-md-4","col-lg-4","borderright",2,"max-height","600px","overflow-y","auto"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-4"],[1,"btn","btn-primary","p-1",3,"click"],[1,"form-control","p-3",3,"ngModel","placeholder","ngModelChange","input"],[3,"isLoading"],[4,"ngIf"],[1,"col-md-8","col-lg-8"],["class","row",4,"ngIf"],["class","table-responsive","id","printcontainer",4,"ngIf"],["id","tree2","class","treeupper",4,"ngFor","ngForOf"],["id","tree2",1,"treeupper"],[1,"bfinAcCode",3,"content"],["type","checkbox",1,"toggle_checkbox",3,"id","change"],[3,"for"],[1,"text-info","cu-pointer"],[3,"class",4,"ngFor","ngForOf"],[1,"text-info","cu-pointer","bfinAcCode",3,"content","click"],["class","treesubsubsub",4,"ngFor","ngForOf"],[1,"treesubsubsub"],["type","checkbox",3,"change"],[1,"col-md-5","col-lg-5"],[1,"form-group"],["bindLabel","text","bindValue","value",3,"items","ngModel","change","clear","ngModelChange"],["bindLabel","text","bindValue","value",3,"items","ngModel","clear","ngModelChange","change"],["bindLabel","textAr","bindValue","textTwo",3,"items","ngModel","change","clear","ngModelChange"],[1,"col-md-4","col-lg-4"],[1,"input-group","mb-2"],[1,"form-control","datapickerinput",3,"placeholder","ngModel","matDatepicker","ngModelChange"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker2",""],["picker1",""],["type","button",1,"btn","btn-primary",3,"click"],[1,"",3,"click"],[1,"btn","btn-primary","icon-refresh"],[1,"btn","btn-primary",3,"click"],["id","printcontainer",1,"table-responsive"],["style","width:100%; padding-bottom:5px;","cellpadding","0","cellspacing","0","width","100%","class","ur_tablestyle",4,"ngIf"],["border","0","cellpadding","0","cellspacing","0","width","100%",2,"width","100%"],["colspan","2",2,"text-align","center"],["id","zero_config","border","1","cellpadding","0","cellspacing","0","width","100%",1,"table","table-bordered","no-wrap",2,"width","100%"],[4,"ngFor","ngForOf"],["colspan","4",1,"text-right"],["cellpadding","0","cellspacing","0","width","100%",1,"ur_tablestyle",2,"width","100%","padding-bottom","5px"],[1,"font-weight-medium"],[2,"text-align","center"],[2,"width","200px","height","150px",3,"src"],[2,"text-align","left","width","60%"],[2,"font-size","1rem !important","color","#0c2f54","font-family","'Poppins', sans-serif","font-weight","500","line-height","1.2","margin","0","padding-top","4px"],[1,"text-right"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"nav",5),t.TgZ(8,"ol",6),t.TgZ(9,"li",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"li",7),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"li",8),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",9),t.TgZ(19,"div",1),t.TgZ(20,"div",10),t.TgZ(21,"div",11),t.TgZ(22,"div",12),t.TgZ(23,"div",1),t.TgZ(24,"div",13),t.TgZ(25,"h4",14),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"button",15),t.NdJ("click",function(){return o.changeCategoryView()}),t._uU(29),t.ALo(30,"translate"),t.qZA(),t._UZ(31,"br"),t._UZ(32,"br"),t.TgZ(33,"input",16),t.NdJ("ngModelChange",function(r){return o.accountSearch=r})("input",function(){return o.accountSearchChage()}),t.ALo(34,"translate"),t.qZA(),t._UZ(35,"br"),t._UZ(36,"spinner-loader",17),t.YNc(37,w1,2,1,"ng-container",18),t.YNc(38,J1,2,1,"ng-container",18),t.qZA(),t.TgZ(39,"div",19),t.YNc(40,D1,75,49,"div",20),t._UZ(41,"spinner-loader",17),t.YNc(42,G1,58,37,"div",21),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.hij(" ",t.lcZ(5,14,"View_Journal_Voucher")," "),t.xp6(6),t.Oqu(t.lcZ(11,16,"Financial_Transaction")),t.xp6(3),t.Oqu(t.lcZ(14,18,"General_Ledger")),t.xp6(3),t.Oqu(t.lcZ(17,20,"View_Journal_Voucher")),t.xp6(10),t.hij(" ",t.lcZ(27,22,"Category_View_and_Branch_View")," "),t.xp6(3),t.Oqu(t.lcZ(30,24,"Change_View")),t.xp6(4),t.MGl("placeholder"," ",t.lcZ(34,26,"Search"),""),t.Q6J("ngModel",o.accountSearch),t.xp6(3),t.Q6J("isLoading",o.isLoading1),t.xp6(1),t.Q6J("ngIf",!o.isCategory),t.xp6(1),t.Q6J("ngIf",o.isCategory&&o.listOfBranchLedgers.length>0),t.xp6(2),t.Q6J("ngIf",o.hasAccountCode),t.xp6(1),t.Q6J("isLoading",o.isLoading),t.xp6(1),t.Q6J("ngIf",o.listOfLedger))},directives:[s.Fj,s.JJ,s.On,b.r,d.O5,d.sg,j.w9,m.hl,m.nW,U.R9,m.Mq],pipes:[Z.X$,d.uU,I.J],styles:[".cu-pointer[_ngcontent-%COMP%]{cursor:pointer}","label.expansion[_ngcontent-%COMP%] {\n    font-size: 20px;\n    font-weight: bold;\n    color: #000000;\n  }\n\n  input.toggle_checkbox[_ngcontent-%COMP%] {\n    width: 0px;\n    height: 0px;\n  }"]}),i})();function W1(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"ul"),t.TgZ(1,"li"),t.TgZ(2,"span",29),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(8).loadLedger(r.finAcCode,"",r.finAcName)}),t._uU(3),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=a.$implicit,o=t.oxw(2).$implicit;t.Tol("treesubsubsub "+o.finSubCatCode),t.xp6(2),t.s9C("content",e.finAcCode+" "+e.finAcName),t.xp6(1),t.AsE("(",e.finAcCode,") ",e.finAcName,"")}}function K1(i,a){if(1&i&&(t.ynx(0),t.YNc(1,W1,4,6,"ul",28),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",e.list)}}function tZ(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"ul"),t.TgZ(1,"li"),t.TgZ(2,"p",24),t.TgZ(3,"input",25),t.NdJ("change",function(n){const l=t.CHM(e).$implicit;return t.oxw(6).itemCategoryCheck(n,l.finSubCatCode)}),t.qZA(),t._uU(4,"\xa0\xa0"),t.TgZ(5,"label",26),t._uU(6,"\u21e9"),t.qZA(),t._uU(7,"\xa0\xa0"),t.TgZ(8,"b",27),t._uU(9),t.qZA(),t.qZA(),t.YNc(10,K1,2,1,"ng-container",18),t.qZA(),t.qZA()}if(2&i){const e=a.$implicit,o=t.oxw(2).$implicit;t.Tol("treesubsub "+o.finCatCode),t.xp6(2),t.s9C("content",e.finSubCatCode),t.xp6(1),t.s9C("id",e.finSubCatCode+"_expan"),t.xp6(2),t.Gre("expansion ",e.finSubCatCode+"_expan",""),t.s9C("for",e.finSubCatCode+"_expan"),t.xp6(4),t.hij(" ",e.finSubCatName," "),t.xp6(1),t.Q6J("ngIf",e.list&&e.list.length>0)}}function eZ(i,a){if(1&i&&(t.ynx(0),t.YNc(1,tZ,11,11,"ul",28),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",e.list)}}function oZ(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"ul"),t.TgZ(1,"li"),t.TgZ(2,"p",24),t.TgZ(3,"input",25),t.NdJ("change",function(n){const l=t.CHM(e).$implicit;return t.oxw(4).subCategoryCheck(n,l.finCatCode)}),t.qZA(),t._uU(4,"\xa0\xa0 "),t.TgZ(5,"label",26),t._uU(6,"\u21e9"),t.qZA(),t._uU(7,"\xa0\xa0"),t.TgZ(8,"b",27),t._uU(9),t.qZA(),t.qZA(),t.YNc(10,eZ,2,1,"ng-container",18),t.qZA(),t.qZA()}if(2&i){const e=a.$implicit,o=t.oxw(2).$implicit;t.Tol("treesub "+o.name),t.xp6(2),t.s9C("content",e.finCatCode),t.xp6(1),t.s9C("id",e.finCatCode+"_expan"),t.xp6(2),t.Gre("expansion ",e.finCatCode+"_expan",""),t.s9C("for",e.finCatCode+"_expan"),t.xp6(4),t.hij(" ",e.finCatName," "),t.xp6(1),t.Q6J("ngIf",e.list&&e.list.length>0)}}function iZ(i,a){if(1&i&&(t.ynx(0),t.YNc(1,oZ,11,11,"ul",28),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",e.list)}}function nZ(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"ul",23),t.TgZ(1,"li"),t.TgZ(2,"p",24),t.TgZ(3,"input",25),t.NdJ("change",function(n){const l=t.CHM(e).$implicit;return t.oxw(2).categoryCheck(n,l.name)}),t.qZA(),t._uU(4," \xa0\xa0 "),t.TgZ(5,"label",26),t._uU(6,"\u21e9"),t.qZA(),t._uU(7," \xa0\xa0"),t.TgZ(8,"b",27),t._uU(9),t.qZA(),t.qZA(),t.YNc(10,iZ,2,1,"ng-container",18),t.qZA(),t.qZA()}if(2&i){const e=a.$implicit;t.xp6(2),t.s9C("content",e.name),t.xp6(1),t.s9C("id",e.name+"_expan"),t.xp6(2),t.Gre("expansion ",e.name+"_expan",""),t.s9C("for",e.name+"_expan"),t.xp6(4),t.hij(" ",e.name," "),t.xp6(1),t.Q6J("ngIf",e.list&&e.list.length>0)}}function aZ(i,a){if(1&i&&(t.ynx(0),t.YNc(1,nZ,11,8,"ul",22),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.listOfCategories)}}function rZ(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"ul"),t.TgZ(1,"li"),t.TgZ(2,"b",29),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(4).loadLedger(r.text,r.value,r.finAcName)}),t._uU(3),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=a.$implicit,o=t.oxw(2).$implicit;t.Tol("treesubsubsub "+o.branchName),t.xp6(2),t.s9C("content",e.textTwo),t.xp6(1),t.hij("",e.textTwo," ")}}function sZ(i,a){if(1&i&&(t.ynx(0),t.YNc(1,rZ,4,5,"ul",28),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",e.list)}}function lZ(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"ul",31),t.TgZ(1,"li"),t.TgZ(2,"p",24),t.TgZ(3,"input",32),t.NdJ("change",function(n){const l=t.CHM(e).$implicit;return t.oxw(2).categoryCheck(n,l.branchName)}),t.qZA(),t._uU(4,"\xa0\xa0"),t.TgZ(5,"b",27),t.TgZ(6,"span"),t._uU(7,"-"),t.qZA(),t._uU(8),t.qZA(),t.qZA(),t.YNc(9,sZ,2,1,"ng-container",18),t.qZA(),t.qZA()}if(2&i){const e=a.$implicit;t.xp6(2),t.s9C("content",e.branchName),t.xp6(4),t.Gre("expansion ",e.branchName+"_expan",""),t.xp6(2),t.hij(" ",e.branchName," "),t.xp6(1),t.Q6J("ngIf",e.list&&e.list.length>0)}}function cZ(i,a){if(1&i&&(t.ynx(0),t.YNc(1,lZ,10,6,"ul",30),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.listOfBranchLedgers)}}function pZ(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",1),t.TgZ(1,"div",33),t.TgZ(2,"div",34),t.TgZ(3,"label"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"ng-select",35),t.NdJ("change",function(n){return t.CHM(e),t.oxw().selectSeg1(n)})("clear",function(){return t.CHM(e),t.oxw().resetSeg1()})("ngModelChange",function(n){return t.CHM(e),t.oxw().Seg1=n}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"div",33),t.TgZ(8,"div",34),t.TgZ(9,"label"),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"ng-select",35),t.NdJ("change",function(n){return t.CHM(e),t.oxw().selectSeg2(n)})("clear",function(){return t.CHM(e),t.oxw().resetSeg2()})("ngModelChange",function(n){return t.CHM(e),t.oxw().Seg2=n}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"div",33),t.TgZ(14,"div",34),t.TgZ(15,"label"),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"ng-select",35),t.NdJ("change",function(n){return t.CHM(e),t.oxw().selectBatch(n)})("clear",function(){return t.CHM(e),t.oxw().resetBatch()})("ngModelChange",function(n){return t.CHM(e),t.oxw().Batch=n}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"div",33),t.TgZ(20,"div",34),t.TgZ(21,"label"),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"ng-select",36),t.NdJ("clear",function(){return t.CHM(e),t.oxw().resetCostAllocation()})("ngModelChange",function(n){return t.CHM(e),t.oxw().CostAllocation=n})("change",function(n){return t.CHM(e),t.oxw().loadSegCodedata(n)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(25,"div",33),t.TgZ(26,"div",34),t.TgZ(27,"label"),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.TgZ(30,"ng-select",37),t.NdJ("change",function(n){return t.CHM(e),t.oxw().selectCostSegCode(n)})("clear",function(){return t.CHM(e),t.oxw().resetCostSegCode()})("ngModelChange",function(n){return t.CHM(e),t.oxw().CostSegCode=n}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(31,"div",38),t.TgZ(32,"div",34),t.TgZ(33,"label"),t._uU(34),t.ALo(35,"translate"),t.qZA(),t.TgZ(36,"div",34),t.TgZ(37,"div",39),t.TgZ(38,"input",40),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().dateFrom=n}),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"div",41),t._UZ(41,"mat-datepicker-toggle",42),t._UZ(42,"mat-datepicker",null,43),t._UZ(44,"br"),t._UZ(45,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(46,"div",38),t.TgZ(47,"div",34),t.TgZ(48,"label"),t._uU(49),t.ALo(50,"translate"),t.qZA(),t.TgZ(51,"div",34),t.TgZ(52,"div",39),t.TgZ(53,"input",40),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().dateTo=n}),t.ALo(54,"translate"),t.qZA(),t.TgZ(55,"div",41),t._UZ(56,"mat-datepicker-toggle",42),t._UZ(57,"mat-datepicker",null,44),t._UZ(59,"br"),t._UZ(60,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(61,"div",38),t.TgZ(62,"div",34),t._UZ(63,"br"),t.TgZ(64,"button",45),t.NdJ("click",function(){return t.CHM(e),t.oxw().search()}),t._uU(65),t.ALo(66,"translate"),t.qZA(),t._uU(67," \xa0 "),t.TgZ(68,"a",46),t.NdJ("click",function(){return t.CHM(e),t.oxw().refresh()}),t._UZ(69,"i",47),t.qZA(),t._uU(70," \xa0 "),t.TgZ(71,"button",48),t.NdJ("click",function(){return t.CHM(e),t.oxw().printInvoice()}),t._uU(72),t.ALo(73,"translate"),t.qZA(),t._uU(74," \xa0 "),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.MAs(43),o=t.MAs(58),n=t.oxw();t.xp6(4),t.Oqu(t.lcZ(5,27,"Service")),t.xp6(2),t.Q6J("items",n.segmentSetupList)("ngModel",n.Seg1),t.xp6(4),t.Oqu(t.lcZ(11,29,"Branch")),t.xp6(2),t.Q6J("items",n.segmentTwoSetupList)("ngModel",n.Seg2),t.xp6(4),t.Oqu(t.lcZ(17,31,"Batch")),t.xp6(2),t.Q6J("items",n.batchSetupList)("ngModel",n.Batch),t.xp6(4),t.Oqu(t.lcZ(23,33,"CostAllocation")),t.xp6(2),t.Q6J("items",n.costAllocationList)("ngModel",n.CostAllocation),t.xp6(4),t.Oqu(t.lcZ(29,35,"CostSegCode")),t.xp6(2),t.Q6J("items",n.costSegCodeList)("ngModel",n.CostSegCode),t.xp6(4),t.Oqu(t.lcZ(35,37,"Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(39,39,"Select_a_Date")),t.Q6J("ngModel",n.dateFrom)("matDatepicker",e),t.xp6(3),t.Q6J("for",e),t.xp6(8),t.Oqu(t.lcZ(50,41,"Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(54,43,"Select_a_Date")),t.Q6J("ngModel",n.dateTo)("matDatepicker",o),t.xp6(3),t.Q6J("for",o),t.xp6(9),t.Oqu(t.lcZ(66,45,"Search")),t.xp6(7),t.hij(" ",t.lcZ(73,47,"Print"),"")}}function dZ(i,a){if(1&i&&(t.TgZ(0,"table",56),t.TgZ(1,"tr"),t.TgZ(2,"td"),t.TgZ(3,"div",57),t._uU(4),t._UZ(5,"br"),t._uU(6),t._UZ(7,"br"),t._uU(8),t._UZ(9,"br"),t._uU(10),t.ALo(11,"translate"),t._UZ(12,"br"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"tr"),t.TgZ(14,"td",58),t._UZ(15,"img",59),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(4),t.hij(" ",e.company.companyName," "),t.xp6(2),t.hij(" ",e.company.branchName," "),t.xp6(2),t.hij(" ",e.company.companyAddress," "),t.xp6(2),t.AsE(" ",t.lcZ(11,6,"Tel_Phone")," : ",e.company.phone," "),t.xp6(5),t.s9C("src",e.company.logoURL,t.LSH)}}function uZ(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",60),t.TgZ(2,"h4",61),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.AsE(" ",t.lcZ(4,2,"Service")," : ",e.Seg1Name," ")}}function mZ(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",60),t.TgZ(2,"h4",61),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.AsE(" ",t.lcZ(4,2,"Branch")," : ",e.Seg2Name," ")}}function gZ(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",60),t.TgZ(2,"h4",61),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.AsE(" ",t.lcZ(4,2,"Batch")," : ",e.BatchName," ")}}function ZZ(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",60),t.TgZ(2,"h4",61),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.AsE(" ",t.lcZ(4,2,"CostAllocation")," : ",e.CostAllocationName," ")}}function hZ(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",60),t.TgZ(2,"h4",61),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.AsE(" ",t.lcZ(4,2,"CostSegCode")," : ",e.CostSegCodeName," ")}}function _Z(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",60),t.TgZ(2,"h4",61),t._uU(3),t.ALo(4,"translate"),t.ALo(5,"date"),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.AsE(" ",t.lcZ(4,2,"dateFrom")," : ",t.xi3(5,4,e.dateFrom,"dd-MM-yyyy")," ")}}function AZ(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",60),t.TgZ(2,"h4",61),t._uU(3),t.ALo(4,"translate"),t.ALo(5,"date"),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.AsE(" ",t.lcZ(4,2,"dateTo")," : ",t.xi3(5,4,e.dateTo,"dd-MM-yyyy")," ")}}function fZ(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"date"),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.ALo(13,"decimalpipe"),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.ALo(16,"decimalpipe"),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.ALo(19,"decimalpipe"),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.Oqu(t.xi3(3,7,e.transDate,"MM-dd-yyyy")),t.xp6(3),t.Oqu(e.source),t.xp6(2),t.Oqu(t.xi3(8,10,e.postDate,"MM-dd-yyyy")),t.xp6(3),t.Oqu(e.remarks),t.xp6(2),t.Oqu(t.lcZ(13,13,e.drAmount)),t.xp6(3),t.Oqu(t.lcZ(16,15,e.crAmount)),t.xp6(3),t.Oqu(t.lcZ(19,17,e.balance))}}function TZ(i,a){if(1&i&&(t.TgZ(0,"div",49),t.YNc(1,dZ,16,8,"table",50),t.TgZ(2,"table",51),t.TgZ(3,"tr"),t.TgZ(4,"td",52),t.TgZ(5,"h5"),t._uU(6),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"tr"),t.TgZ(8,"td"),t.TgZ(9,"table",51),t.YNc(10,uZ,5,4,"tr",18),t.YNc(11,mZ,5,4,"tr",18),t.YNc(12,gZ,5,4,"tr",18),t.YNc(13,ZZ,5,4,"tr",18),t.YNc(14,hZ,5,4,"tr",18),t.qZA(),t.qZA(),t.TgZ(15,"td"),t.TgZ(16,"table",51),t.YNc(17,_Z,6,7,"tr",18),t.YNc(18,AZ,6,7,"tr",18),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(19,"br"),t._UZ(20,"br"),t.TgZ(21,"table",53),t.TgZ(22,"thead"),t.TgZ(23,"tr"),t.TgZ(24,"th"),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.TgZ(27,"th"),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.TgZ(30,"th"),t._uU(31),t.ALo(32,"translate"),t.qZA(),t.TgZ(33,"th"),t._uU(34),t.ALo(35,"translate"),t.qZA(),t.TgZ(36,"th"),t._uU(37),t.ALo(38,"translate"),t.qZA(),t.TgZ(39,"th"),t._uU(40),t.ALo(41,"translate"),t.qZA(),t.TgZ(42,"th"),t._uU(43),t.ALo(44,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(45,"tbody"),t.YNc(46,fZ,20,19,"tr",54),t.TgZ(47,"tr"),t.TgZ(48,"td",55),t.TgZ(49,"span"),t._uU(50),t.ALo(51,"translate"),t.qZA(),t.qZA(),t.TgZ(52,"td"),t._uU(53),t.qZA(),t.TgZ(54,"td"),t._uU(55),t.qZA(),t.TgZ(56,"td"),t._uU(57),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.company),t.xp6(5),t.hij(" EMPLOYEE CUSTODY STATEMENT OF ACCOUNT - ",e.finAcNameHeader," "),t.xp6(4),t.Q6J("ngIf",e.Seg1Name),t.xp6(1),t.Q6J("ngIf",e.Seg2Name),t.xp6(1),t.Q6J("ngIf",e.BatchName),t.xp6(1),t.Q6J("ngIf",e.CostAllocationName),t.xp6(1),t.Q6J("ngIf",e.CostSegCodeName),t.xp6(3),t.Q6J("ngIf",e.dateFrom),t.xp6(1),t.Q6J("ngIf",e.dateTo),t.xp6(7),t.Oqu(t.lcZ(26,21,"Trans_Date")),t.xp6(3),t.Oqu(t.lcZ(29,23,"Type")),t.xp6(3),t.Oqu(t.lcZ(32,25,"Post_Date")),t.xp6(3),t.Oqu(t.lcZ(35,27,"Remarks")),t.xp6(3),t.Oqu(t.lcZ(38,29,"Dr_Amount")),t.xp6(3),t.Oqu(t.lcZ(41,31,"Cr_Amount")),t.xp6(3),t.Oqu(t.lcZ(44,33,"Balance")),t.xp6(3),t.Q6J("ngForOf",e.listOfLedger.list),t.xp6(4),t.hij("",t.lcZ(51,35,"Balance")," : "),t.xp6(3),t.Oqu(e.totalDrAmount),t.xp6(2),t.Oqu(e.totalCrAmount),t.xp6(2),t.Oqu(e.totalBalance)}}let vZ=(()=>{class i extends L.k{constructor(e,o,n,r,l){super(o),this.utilService=e,this.authService=o,this.notifyService=n,this.apiService=r,this.dialog=l,this.listOfCategories=[],this.listOfCategoriesNew=[],this.listOfBranchLedgers=[],this.fInSysGenAcCode=!1,this.isLoading=!1,this.isLoading1=!1,this.isCategory=!1,this.finAcNameHeader="",this.pFinAcCode="",this.pFinAcName="",this.pBranchCode="",this.dateFrom="",this.dateTo="",this.Seg1="",this.Seg2="",this.Batch="",this.CostAllocation="",this.CostSegCode="",this.Seg1Name="",this.Seg2Name="",this.BatchName="",this.CostAllocationName="",this.CostSegCodeName="",this.totalDrAmount=0,this.totalCrAmount=0,this.totalBalance=0,this.accountSearch="",this.hasAccountCode=!1,this.segmentSetupList=[],this.segmentTwoSetupList=[],this.costAllocationList=[],this.batchSetupList=[],this.costSegCodeList=[]}ngOnInit(){this.loadCategoryTypeList()}accountSearchChage(){""!==this.accountSearch?this.listOfCategoriesNew.length>0&&[...document.getElementsByClassName("bfinAcCode")].forEach(o=>{const n=o.content;n&&(o.style.display=n.toLocaleLowerCase().trim().indexOf(this.accountSearch.toLocaleLowerCase().trim())>-1?"":"none")}):(this.listOfCategories=this.listOfCategoriesNew,[...document.getElementsByClassName("bfinAcCode")].forEach(o=>{o.style.display="block"}))}test(){}loadCategoryTypeList(){this.isLoading1=!0,this.apiService.getall("accountscategory/getCategoryTypeList").subscribe(e=>{this.isLoading1=!1,e&&(this.listOfCategories=this.listOfCategoriesNew=e.list,this.fInSysGenAcCode=e.fInSysGenAcCode)}),this.apiService.getall("ledgerReport/ledgerBranchViewList").subscribe(e=>{e&&(this.listOfBranchLedgers=e)}),this.apiService.getall("segmentSetup/getSegmentSetupSelectList").subscribe(e=>{e&&(this.segmentSetupList=e)}),this.apiService.getall("segmentTwoSetup/getSegmentTwoSetupSelectList").subscribe(e=>{e&&(this.segmentTwoSetupList=e)}),this.apiService.getall("costAllocationSetup/getCostAllocationSetupSelectList").subscribe(e=>{e&&(this.costAllocationList=e)}),this.apiService.getall("batchSetup/getBatchSetupSelectList").subscribe(e=>{e&&(this.batchSetupList=e)})}resetSeg1(){this.Seg1Name=""}resetSeg2(){this.Seg2Name=""}resetBatch(){this.BatchName=""}resetCostAllocation(){this.CostAllocationName="",this.CostSegCodeName=""}resetCostSegCode(){this.CostSegCodeName=""}selectCostSegCode(e){this.CostSegCodeName=e.textAr}selectBatch(e){this.BatchName=e.text}selectSeg2(e){this.Seg2Name=e.text}selectSeg1(e){this.Seg1Name=e.text}loadSegCodedata(e){const o=e.value;this.CostAllocationName=e.text,this.CostSegCodeName="",this.CostSegCode="",o>0&&this.apiService.getall(`costAllocationSetup/getCostSegmentCodeSelectList/${o}`).subscribe(n=>{n&&(this.costSegCodeList=n),this.costSegCodeList.map(l=>(l.textAr=l.textAr+" "+l.textTwo,l))})}changeCategoryView(){this.isCategory=!this.isCategory}loadLedger(e,o,n){this.finAcNameHeader=`(${e}) ${n}`,this.pFinAcCode=e,this.pFinAcName=n,this.pBranchCode=o,this.setDefaults(),this.hasAccountCode=!0,this.filter(e,o,n)}search(){this.filter(this.pFinAcCode,this.pBranchCode,this.pFinAcName)}refresh(){this.setDefaults(),this.filter(this.pFinAcCode,this.pBranchCode,this.pFinAcName)}setDefaults(){this.Seg1=this.Seg2=this.Batch=this.CostAllocation=this.CostSegCode=this.dateFrom=this.dateTo="",this.Seg1Name=this.Seg2Name=this.BatchName=this.CostAllocationName=this.CostSegCodeName=""}filter(e,o,n){console.log(this.Seg1),this.isLoading=!0,this.apiService.getall(`ledgerReport/viewLedgerReport?seg1=${this.Seg1?this.Seg1:""}&seg2=${this.Seg2?this.Seg2:""}&costAllocation=${this.CostAllocation?this.CostAllocation:""}&costSegCode=${this.CostSegCode?this.CostSegCode:""}&batch=${this.Batch?this.Batch:""}&finAcCode=${e}&branchCode=${o}&from=${this.utilService.getCommonDate(this.dateFrom)}&to=${this.utilService.getCommonDate(this.dateTo)}`).subscribe(r=>{this.isLoading=!1,r&&(this.listOfLedger=r,this.company=r.company,this.totalBalance=r.totalBalance,this.totalDrAmount=r.totalDrAmount,this.totalCrAmount=r.totalCrAmount)})}categoryCheck(e,o){this.expandCollapseMenu(e,o)}subCategoryCheck(e,o){this.expandCollapseMenu(e,o)}itemCategoryCheck(e,o){this.expandCollapseMenu(e,o)}expandCollapseMenu(e,o){let n=document.getElementsByClassName(o),r=document.getElementsByClassName(o+"_expan")[0];e.target.checked?(r.textContent="+",[...n].forEach(l=>{l.style.display="none"})):(r.textContent="\u21e9",[...n].forEach(l=>{l.style.display="block"}))}printInvoice(){const e=document.getElementById("printcontainer");this.utilService.printForLocale(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(A.t),t.Y36(_._),t.Y36(f.g),t.Y36(h.s),t.Y36(T.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-custodyledgeranalysis"]],features:[t.qOj],decls:43,vars:28,consts:[[1,"page-breadcrumb"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],[1,"container-fluid"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"col-md-4","col-lg-4","borderright",2,"max-height","600px","overflow-y","auto"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-4"],[1,"btn","btn-primary","p-1",3,"click"],[1,"form-control","p-3",3,"ngModel","placeholder","ngModelChange","input"],[3,"isLoading"],[4,"ngIf"],[1,"col-md-8","col-lg-8"],["class","row",4,"ngIf"],["class","table-responsive","id","printcontainer",4,"ngIf"],["id","tree2","class","treeupper",4,"ngFor","ngForOf"],["id","tree2",1,"treeupper"],[1,"bfinAcCode",3,"content"],["type","checkbox",1,"toggle_checkbox",3,"id","change"],[3,"for"],[1,"text-info","cu-pointer"],[3,"class",4,"ngFor","ngForOf"],[1,"text-info","cu-pointer","bfinAcCode",3,"content","click"],["class","treesubsubsub",4,"ngFor","ngForOf"],[1,"treesubsubsub"],["type","checkbox",3,"change"],[1,"col-md-5","col-lg-5"],[1,"form-group"],["bindLabel","text","bindValue","value",3,"items","ngModel","change","clear","ngModelChange"],["bindLabel","text","bindValue","value",3,"items","ngModel","clear","ngModelChange","change"],["bindLabel","textAr","bindValue","textTwo",3,"items","ngModel","change","clear","ngModelChange"],[1,"col-md-4","col-lg-4"],[1,"input-group","mb-2"],[1,"form-control","datapickerinput",3,"placeholder","ngModel","matDatepicker","ngModelChange"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker2",""],["picker1",""],["type","button",1,"btn","btn-primary",3,"click"],[1,"",3,"click"],[1,"btn","btn-primary","icon-refresh"],[1,"btn","btn-primary",3,"click"],["id","printcontainer",1,"table-responsive"],["style","width:100%; padding-bottom:5px;","cellpadding","0","cellspacing","0","width","100%","class","ur_tablestyle",4,"ngIf"],["border","0","cellpadding","0","cellspacing","0","width","100%",2,"width","100%"],["colspan","2",2,"text-align","center"],["id","zero_config","border","1","cellpadding","0","cellspacing","0","width","100%",1,"table","table-bordered","no-wrap",2,"width","100%"],[4,"ngFor","ngForOf"],["colspan","4",1,"text-center"],["cellpadding","0","cellspacing","0","width","100%",1,"ur_tablestyle",2,"width","100%","padding-bottom","5px"],[1,"font-weight-medium"],[2,"text-align","center"],[2,"width","200px","height","150px",3,"src"],[2,"text-align","left","width","60%"],[2,"font-size","1rem !important","color","#0c2f54","font-family","'Poppins', sans-serif","font-weight","500","line-height","1.2","margin","0","padding-top","4px"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"nav",5),t.TgZ(8,"ol",6),t.TgZ(9,"li",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"li",7),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"li",8),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",9),t.TgZ(19,"div",1),t.TgZ(20,"div",10),t.TgZ(21,"div",11),t.TgZ(22,"div",12),t.TgZ(23,"div",1),t.TgZ(24,"div",13),t.TgZ(25,"h4",14),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"button",15),t.NdJ("click",function(){return o.changeCategoryView()}),t._uU(29),t.ALo(30,"translate"),t.qZA(),t._UZ(31,"br"),t._UZ(32,"br"),t.TgZ(33,"input",16),t.NdJ("ngModelChange",function(r){return o.accountSearch=r})("input",function(){return o.accountSearchChage()}),t.ALo(34,"translate"),t.qZA(),t._UZ(35,"br"),t._UZ(36,"spinner-loader",17),t.YNc(37,aZ,2,1,"ng-container",18),t.YNc(38,cZ,2,1,"ng-container",18),t.qZA(),t.TgZ(39,"div",19),t.YNc(40,pZ,75,49,"div",20),t._UZ(41,"spinner-loader",17),t.YNc(42,TZ,58,37,"div",21),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.hij(" ",t.lcZ(5,14,"View_Journal_Voucher")," "),t.xp6(6),t.Oqu(t.lcZ(11,16,"Financial_Transaction")),t.xp6(3),t.Oqu(t.lcZ(14,18,"General_Ledger")),t.xp6(3),t.Oqu(t.lcZ(17,20,"View_Journal_Voucher")),t.xp6(10),t.hij(" ",t.lcZ(27,22,"Category_View_and_Branch_View")," "),t.xp6(3),t.Oqu(t.lcZ(30,24,"Change_View")),t.xp6(4),t.MGl("placeholder"," ",t.lcZ(34,26,"Search"),""),t.Q6J("ngModel",o.accountSearch),t.xp6(3),t.Q6J("isLoading",o.isLoading1),t.xp6(1),t.Q6J("ngIf",!o.isCategory),t.xp6(1),t.Q6J("ngIf",o.isCategory&&o.listOfBranchLedgers.length>0),t.xp6(2),t.Q6J("ngIf",o.hasAccountCode),t.xp6(1),t.Q6J("isLoading",o.isLoading),t.xp6(1),t.Q6J("ngIf",o.listOfLedger))},directives:[s.Fj,s.JJ,s.On,b.r,d.O5,d.sg,j.w9,m.hl,m.nW,U.R9,m.Mq],pipes:[Z.X$,d.uU,I.J],styles:["label.expansion[_ngcontent-%COMP%] {\n    font-size: 20px;\n    font-weight: bold;\n    color: #000000;\n  }\n\n  input.toggle_checkbox[_ngcontent-%COMP%] {\n    width: 0px;\n    height: 0px;\n  }"]}),i})();function qZ(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",27),t._uU(6),t.ALo(7,"decimalpipe"),t.qZA(),t.TgZ(8,"td",27),t._uU(9),t.ALo(10,"decimalpipe"),t.qZA(),t.TgZ(11,"td",27),t._uU(12),t.ALo(13,"decimalpipe2"),t.qZA(),t.TgZ(14,"td",27),t._uU(15),t.ALo(16,"decimalpipe"),t.qZA(),t.TgZ(17,"td",27),t._uU(18),t.ALo(19,"decimalpipe"),t.qZA(),t.TgZ(20,"td",27),t._uU(21),t.ALo(22,"decimalpipe2"),t.qZA(),t.TgZ(23,"td",27),t._uU(24),t.ALo(25,"decimalpipe"),t.qZA(),t.TgZ(26,"td",27),t._uU(27),t.ALo(28,"decimalpipe"),t.qZA(),t.TgZ(29,"td",27),t._uU(30),t.ALo(31,"decimalpipe2"),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.hij(" ",e.finAcCode," "),t.xp6(2),t.hij(" ",e.finAcName," "),t.xp6(2),t.hij(" ",t.lcZ(7,11,e.drAmount)," "),t.xp6(3),t.hij(" ",t.lcZ(10,13,e.crAmount)," "),t.xp6(3),t.hij(" ",t.lcZ(13,15,e.balance)," "),t.xp6(3),t.hij(" ",t.lcZ(16,17,e.changeDrAmount)," "),t.xp6(3),t.hij(" ",t.lcZ(19,19,e.changeCrAmount)," "),t.xp6(3),t.hij(" ",t.lcZ(22,21,e.changeBalance)," "),t.xp6(3),t.hij(" ",t.lcZ(25,23,e.closingDrAmount)," "),t.xp6(3),t.hij(" ",t.lcZ(28,25,e.closingCrAmount)," "),t.xp6(3),t.hij(" ",t.lcZ(31,27,e.closingBalance)," ")}}function CZ(i,a){if(1&i&&(t.TgZ(0,"table",25),t.TgZ(1,"tr"),t.TgZ(2,"th"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"th"),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"th"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"th"),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"th"),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"th"),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"th"),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"th"),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"th"),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"th"),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.TgZ(32,"th"),t._uU(33),t.ALo(34,"translate"),t.qZA(),t.qZA(),t.YNc(35,qZ,32,29,"tr",26),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.hij(" ",t.lcZ(4,12,"AcCode")," "),t.xp6(3),t.Oqu(t.lcZ(7,14,"FinName")),t.xp6(3),t.hij("",t.lcZ(10,16,"Opening_DrAmount")," (SR)"),t.xp6(3),t.hij("",t.lcZ(13,18,"Opening_CrAmount")," (SR)"),t.xp6(3),t.hij("",t.lcZ(16,20,"Opening_Balance")," (SR)"),t.xp6(3),t.hij("",t.lcZ(19,22,"ChangingDr")," (SR)"),t.xp6(3),t.hij("",t.lcZ(22,24,"ChangingCr")," (SR)"),t.xp6(3),t.hij("",t.lcZ(25,26,"ChangingBalance")," (SR)"),t.xp6(3),t.hij("",t.lcZ(28,28,"ClosingDr")," (SR)"),t.xp6(3),t.hij("",t.lcZ(31,30,"ClosingCr")," (SR)"),t.xp6(3),t.hij("",t.lcZ(34,32,"ClosingBalance")," (SR)"),t.xp6(2),t.Q6J("ngForOf",e.trailList)}}function xZ(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",17),t.TgZ(1,"button",18),t.NdJ("click",function(){return t.CHM(e),t.oxw().openPrint()}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"br"),t._UZ(5,"br"),t.TgZ(6,"div",19),t.TgZ(7,"table",20),t.TgZ(8,"tr"),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.qZA(),t.TgZ(11,"tr"),t.TgZ(12,"td",21),t._UZ(13,"img",22),t.qZA(),t.qZA(),t.TgZ(14,"tr"),t.TgZ(15,"td"),t.TgZ(16,"div",23),t._UZ(17,"br"),t._uU(18),t._UZ(19,"br"),t._uU(20),t._UZ(21,"br"),t._uU(22),t.ALo(23,"translate"),t._UZ(24,"br"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(25,"tr"),t.TgZ(26,"td",21),t.TgZ(27,"p"),t._uU(28),t.ALo(29,"date"),t.ALo(30,"date"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(31,CZ,36,34,"table",24),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,10,"Print")," "),t.xp6(8),t.hij(" ",e.company.companyName,""),t.xp6(3),t.s9C("src",e.company.logoURL,t.LSH),t.xp6(5),t.hij(" ",e.company.branchName," "),t.xp6(2),t.hij(" ",e.company.companyAddress," "),t.xp6(2),t.AsE(" ",t.lcZ(23,12,"Tel_Phone")," : ",e.company.phone," "),t.xp6(6),t.AsE(' The Statement of " Ledger Reporting " for ',t.xi3(29,14,e.dateFrom,"dd/MM/yyyy")," to ",t.xi3(30,17,e.dateTo,"dd/MM/yyyy")," "),t.xp6(3),t.Q6J("ngIf",e.trailList&&e.trailList.length>0)}}let bZ=(()=>{class i extends L.k{constructor(e,o,n,r){super(o),this.apiService=e,this.authService=o,this.utilService=n,this.notifyService=r,this.trailList=[],this.totalDrBalance="",this.totalCrBalance="",this.totalBalance="",this.dateFrom="",this.dateTo="",this.isLoading=!1}ngOnInit(){}search(){this.dateFrom&&this.dateTo?(this.isLoading=!0,this.apiService.getall(`ledgerReport/ledgerReport?from=${this.utilService.getCommonDate(this.dateFrom)}&to=${this.utilService.getCommonDate(this.dateTo)}`).subscribe(e=>{e&&(this.isLoading=!1,this.trailList=e.list,this.company=e.company,this.totalCrBalance=e.totalCrBalance,this.totalDrBalance=e.totalDrBalance,this.totalBalance=e.totalBalance)})):this.notifyService.showError("Select Dates")}openPrint(){const e=document.getElementById("printcontainer");this.utilService.printForLocale(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(f.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-lederanalysis"]],features:[t.qOj],decls:46,vars:23,consts:[[1,"page-breadcrumb"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"modal-body"],[1,"outer"],[1,"col-md-6","col-lg-6"],[1,"form-group"],[1,"input-group","mb-2"],[1,"form-control","datapickerinput",3,"placeholder","ngModel","matDatepicker","ngModelChange"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker2",""],["picker1",""],["type","button",1,"btn","btn-primary",3,"click"],[3,"isLoading"],["class","table-responsive",4,"ngIf"],[1,"table-responsive"],["type","button","data-toggle","modal",1,"btn","waves-effect","waves-light","btn-rounded","btn-primary","btn-midblock",3,"click"],["id","printcontainer",1,"outer"],["cellpadding","0","cellspacing","0","width","100%",1,"ur_tablestyle",2,"width","100%","padding-bottom","5px"],[2,"text-align","center"],[2,"width","200px","height","150px",3,"src"],[1,"font-weight-medium"],["style","width:100%; padding-bottom:5px;","border","1","cellpadding","0","cellspacing","0","width","100%","class","ur_tablestyle",4,"ngIf"],["border","1","cellpadding","0","cellspacing","0","width","100%",1,"ur_tablestyle",2,"width","100%","padding-bottom","5px"],[4,"ngFor","ngForOf"],[1,"text-right"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"div",5),t.TgZ(8,"div",1),t.TgZ(9,"div",6),t.TgZ(10,"div",7),t.TgZ(11,"label"),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"div",7),t.TgZ(15,"div",8),t.TgZ(16,"input",9),t.NdJ("ngModelChange",function(r){return o.dateFrom=r}),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"div",10),t._UZ(19,"mat-datepicker-toggle",11),t._UZ(20,"mat-datepicker",null,12),t._UZ(22,"br"),t._UZ(23,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"div",6),t.TgZ(25,"div",7),t.TgZ(26,"label"),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"div",7),t.TgZ(30,"div",8),t.TgZ(31,"input",9),t.NdJ("ngModelChange",function(r){return o.dateTo=r}),t.ALo(32,"translate"),t.qZA(),t.TgZ(33,"div",10),t._UZ(34,"mat-datepicker-toggle",11),t._UZ(35,"mat-datepicker",null,13),t._UZ(37,"br"),t._UZ(38,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(39,"div",6),t.TgZ(40,"div",7),t._UZ(41,"br"),t.TgZ(42,"button",14),t.NdJ("click",function(){return o.search()}),t._uU(43,"Search"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(44,"spinner-loader",15),t.YNc(45,xZ,32,20,"div",16),t.qZA()),2&e){const n=t.MAs(21),r=t.MAs(36);t.xp6(4),t.hij(" ",t.lcZ(5,13,"Ledger_Reporting")," "),t.xp6(8),t.Oqu(t.lcZ(13,15,"From_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(17,17,"Select_a_Date")),t.Q6J("ngModel",o.dateFrom)("matDatepicker",n),t.xp6(3),t.Q6J("for",n),t.xp6(8),t.Oqu(t.lcZ(28,19,"To_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(32,21,"Select_a_Date")),t.Q6J("ngModel",o.dateTo)("matDatepicker",r),t.xp6(3),t.Q6J("for",r),t.xp6(10),t.Q6J("isLoading",o.isLoading),t.xp6(1),t.Q6J("ngIf",o.company)}},directives:[s.Fj,m.hl,s.JJ,s.On,m.nW,U.R9,m.Mq,b.r,d.O5,d.sg],pipes:[Z.X$,d.uU,I.J,I.d],encapsulation:2}),i})();function yZ(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",31),t._uU(6),t.ALo(7,"decimalpipe"),t.qZA(),t.TgZ(8,"td",31),t._uU(9),t.ALo(10,"decimalpipe"),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.Oqu(e.acCode),t.xp6(2),t.Oqu(e.finAcName),t.xp6(2),t.Oqu(t.lcZ(7,4,e.drAmount_Bal)),t.xp6(3),t.Oqu(t.lcZ(10,6,e.crAmount_Bal))}}function UZ(i,a){if(1&i&&(t.TgZ(0,"tr",27),t.TgZ(1,"td",29),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"td",31),t.TgZ(5,"td",31),t._uU(6),t.ALo(7,"decimalpipe"),t.qZA(),t.qZA()),2&i){const e=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,2,"Loss")),t.xp6(4),t.Oqu(t.lcZ(7,4,-1*e.totalBalance))}}function LZ(i,a){if(1&i&&(t.TgZ(0,"tr",27),t.TgZ(1,"td",29),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"td",31),t._uU(5),t.ALo(6,"decimalpipe"),t.qZA(),t._UZ(7,"td",31),t.qZA()),2&i){const e=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,2,"Profit")),t.xp6(3),t.Oqu(t.lcZ(6,4,e.totalBalance))}}function SZ(i,a){if(1&i&&(t.TgZ(0,"table",25),t.TgZ(1,"thead"),t.TgZ(2,"tr"),t.TgZ(3,"th"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"th"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"th"),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"th"),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"tbody"),t.YNc(16,yZ,11,8,"tr",26),t.qZA(),t.TgZ(17,"tfoot"),t.TgZ(18,"tr",27),t.TgZ(19,"td",28),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"td",29),t._uU(23),t.ALo(24,"decimalpipe"),t.qZA(),t.TgZ(25,"td",29),t._uU(26),t.ALo(27,"decimalpipe"),t.qZA(),t.qZA(),t.YNc(28,UZ,8,6,"tr",30),t.YNc(29,LZ,8,6,"tr",30),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(4),t.Oqu(t.lcZ(5,10,"FinAcCode")),t.xp6(3),t.Oqu(t.lcZ(8,12,"FinAcName")),t.xp6(3),t.Oqu(t.lcZ(11,14,"Dr_Amount")),t.xp6(3),t.Oqu(t.lcZ(14,16,"Cr_Amount")),t.xp6(3),t.Q6J("ngForOf",e.profitLossList),t.xp6(4),t.Oqu(t.lcZ(21,18,"Total_Amount")),t.xp6(3),t.Oqu(t.lcZ(24,20,e.totalDrAmount)),t.xp6(3),t.Oqu(t.lcZ(27,22,e.totalCrAmount)),t.xp6(2),t.Q6J("ngIf",e.totalBalance<=0),t.xp6(1),t.Q6J("ngIf",e.totalBalance>0)}}function NZ(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",17),t.TgZ(1,"button",18),t.NdJ("click",function(){return t.CHM(e),t.oxw().openPrint()}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"br"),t._UZ(5,"br"),t.TgZ(6,"div",19),t.TgZ(7,"table",20),t.TgZ(8,"tr"),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.qZA(),t.TgZ(11,"tr"),t.TgZ(12,"td",21),t._UZ(13,"img",22),t.qZA(),t.qZA(),t.TgZ(14,"tr"),t.TgZ(15,"td"),t.TgZ(16,"div",23),t._UZ(17,"br"),t._uU(18),t._UZ(19,"br"),t._uU(20),t._UZ(21,"br"),t._uU(22),t.ALo(23,"translate"),t._UZ(24,"br"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(25,"tr"),t.TgZ(26,"td",21),t.TgZ(27,"p"),t._uU(28),t.ALo(29,"date"),t.ALo(30,"date"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(31,SZ,30,24,"table",24),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,10,"Print")," "),t.xp6(8),t.hij(" ",e.company.companyName,""),t.xp6(3),t.s9C("src",e.company.logoURL,t.LSH),t.xp6(5),t.hij(" ",e.company.branchName," "),t.xp6(2),t.hij(" ",e.company.companyAddress," "),t.xp6(2),t.AsE(" ",t.lcZ(23,12,"Tel_Phone")," : ",e.company.phone," "),t.xp6(6),t.AsE(' The Statement of " The Profit and Loss Account " for ',t.xi3(29,14,e.dateFrom,"dd/MM/yyyy")," to ",t.xi3(30,17,e.dateTo,"dd/MM/yyyy")," "),t.xp6(3),t.Q6J("ngIf",e.profitLossList&&e.profitLossList.length>0)}}let OZ=(()=>{class i extends L.k{constructor(e,o,n,r){super(o),this.apiService=e,this.authService=o,this.utilService=n,this.notifyService=r,this.profitLossList=[],this.totalDrAmount=0,this.totalCrAmount=0,this.totalBalance=0,this.isLoading=!1,this.dateFrom="",this.dateTo=""}ngOnInit(){}search(){this.dateFrom&&this.dateTo?(this.isLoading=!0,this.apiService.getall(`report/getProfitAndLossList?type=PL&from=${this.utilService.getCommonDate(this.dateFrom)}&to=${this.utilService.getCommonDate(this.dateTo)}`).subscribe(e=>{this.isLoading=!1,e&&(this.profitLossList=e.list,this.company=e.company,this.totalCrAmount=e.totalCrAmount,this.totalDrAmount=e.totalDrAmount,this.totalBalance=e.totalBalance)})):this.notifyService.showError("Select Dates")}openPrint(){const e=document.getElementById("printcontainer");this.utilService.printForLocale(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(f.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-profitandlossaccount"]],features:[t.qOj],decls:47,vars:23,consts:[[1,"page-breadcrumb"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"modal-body"],[1,"outer"],[1,"col-md-6","col-lg-6"],[1,"form-group"],[1,"input-group","mb-2"],[1,"form-control","datapickerinput",3,"placeholder","ngModel","matDatepicker","ngModelChange"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker2",""],["picker1",""],["type","button",1,"btn","btn-primary",3,"click"],[3,"isLoading"],["class","table-responsive",4,"ngIf"],[1,"table-responsive"],["type","button","data-toggle","modal",1,"btn","waves-effect","waves-light","btn-rounded","btn-primary","btn-midblock",3,"click"],["id","printcontainer",1,"outer"],["cellpadding","0","cellspacing","0","width","100%",1,"ur_tablestyle",2,"width","100%","padding-bottom","5px"],[2,"text-align","center"],[2,"width","200px","height","150px",3,"src"],[1,"font-weight-medium"],["style","width:100%; padding-bottom:5px;","border","1","cellpadding","0","cellspacing","0","width","100%","class","table  table-bordered no-wrap ur_tablestyle",4,"ngIf"],["border","1","cellpadding","0","cellspacing","0","width","100%",1,"table","table-bordered","no-wrap","ur_tablestyle",2,"width","100%","padding-bottom","5px"],[4,"ngFor","ngForOf"],[1,"tfoot"],["colspan","1",1,"text-right"],["colspan","2",1,"text-right"],["class","tfoot",4,"ngIf"],[1,"text-right"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"div",5),t.TgZ(8,"div",5),t.TgZ(9,"div",1),t.TgZ(10,"div",6),t.TgZ(11,"div",7),t.TgZ(12,"label"),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"div",7),t.TgZ(16,"div",8),t.TgZ(17,"input",9),t.NdJ("ngModelChange",function(r){return o.dateFrom=r}),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"div",10),t._UZ(20,"mat-datepicker-toggle",11),t._UZ(21,"mat-datepicker",null,12),t._UZ(23,"br"),t._UZ(24,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(25,"div",6),t.TgZ(26,"div",7),t.TgZ(27,"label"),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.TgZ(30,"div",7),t.TgZ(31,"div",8),t.TgZ(32,"input",9),t.NdJ("ngModelChange",function(r){return o.dateTo=r}),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"div",10),t._UZ(35,"mat-datepicker-toggle",11),t._UZ(36,"mat-datepicker",null,13),t._UZ(38,"br"),t._UZ(39,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(40,"div",6),t.TgZ(41,"div",7),t._UZ(42,"br"),t.TgZ(43,"button",14),t.NdJ("click",function(){return o.search()}),t._uU(44,"Search"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(45,"spinner-loader",15),t.YNc(46,NZ,32,20,"div",16),t.qZA(),t.qZA()),2&e){const n=t.MAs(22),r=t.MAs(37);t.xp6(4),t.hij(" ",t.lcZ(5,13,"ProfitAndLoss")," "),t.xp6(9),t.Oqu(t.lcZ(14,15,"From_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(18,17,"Select_a_Date")),t.Q6J("ngModel",o.dateFrom)("matDatepicker",n),t.xp6(3),t.Q6J("for",n),t.xp6(8),t.Oqu(t.lcZ(29,19,"To_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(33,21,"Select_a_Date")),t.Q6J("ngModel",o.dateTo)("matDatepicker",r),t.xp6(3),t.Q6J("for",r),t.xp6(10),t.Q6J("isLoading",o.isLoading),t.xp6(1),t.Q6J("ngIf",o.company)}},directives:[s.Fj,m.hl,s.JJ,s.On,m.nW,U.R9,m.Mq,b.r,d.O5,d.sg],pipes:[Z.X$,d.uU,I.J],encapsulation:2}),i})();function wZ(i,a){if(1&i&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.value," ")}}function kZ(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"th"),t._uU(2),t.qZA(),t.TgZ(3,"td",33),t._uU(4),t.qZA(),t.TgZ(5,"td",33),t._uU(6),t.qZA(),t.TgZ(7,"td",33),t._uU(8),t.qZA(),t.TgZ(9,"td",33),t._uU(10),t.qZA(),t.TgZ(11,"td",33),t._uU(12),t.qZA(),t.TgZ(13,"td",33),t._uU(14),t.qZA(),t.TgZ(15,"td",33),t._uU(16),t.qZA(),t.TgZ(17,"td",33),t._uU(18),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.hij(" ",e.name," "),t.xp6(2),t.hij(" ",e.rv," "),t.xp6(2),t.hij(" ",e.so," "),t.xp6(2),t.hij(" ",e.de," "),t.xp6(2),t.hij(" ",e.ot," "),t.xp6(2),t.hij(" ",e.expTotal," "),t.xp6(2),t.hij(" ",e.grossTotal," "),t.xp6(2),t.hij(" ",e.ae," "),t.xp6(2),t.hij(" ",e.netTotal," ")}}function IZ(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",20),t.TgZ(1,"button",21),t.NdJ("click",function(){return t.CHM(e),t.oxw().openPrint()}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"br"),t._UZ(5,"br"),t.TgZ(6,"div",22),t.TgZ(7,"table",23),t.TgZ(8,"tr"),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.qZA(),t.TgZ(11,"tr"),t.TgZ(12,"td",24),t._UZ(13,"img",25),t.qZA(),t.qZA(),t.TgZ(14,"tr"),t.TgZ(15,"td"),t.TgZ(16,"div",26),t._UZ(17,"br"),t._uU(18),t._UZ(19,"br"),t._uU(20),t._UZ(21,"br"),t._uU(22),t.ALo(23,"translate"),t._UZ(24,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(25,"table",27),t.TgZ(26,"thead"),t.TgZ(27,"tr"),t.TgZ(28,"td",28),t._uU(29),t.ALo(30,"date"),t.ALo(31,"date"),t.qZA(),t.TgZ(32,"td",29),t._uU(33," Customer RevenueAnalysis Report "),t.qZA(),t.TgZ(34,"td",30),t._uU(35),t.qZA(),t.qZA(),t.TgZ(36,"tr"),t.TgZ(37,"td",31),t.TgZ(38,"strong"),t._uU(39," Customer/Company Name: For All Customers "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(40,"table",27),t.TgZ(41,"thead",32),t.TgZ(42,"tr"),t.TgZ(43,"th"),t._uU(44," Customer "),t.qZA(),t.TgZ(45,"th",33),t._uU(46," Revenues "),t.qZA(),t.TgZ(47,"th",33),t._uU(48," Salaries Ops "),t.qZA(),t.TgZ(49,"th",33),t._uU(50," Depreciation "),t.qZA(),t.TgZ(51,"th",33),t._uU(52," Others "),t.qZA(),t.TgZ(53,"th",33),t._uU(54," Expense Total "),t.qZA(),t.TgZ(55,"th",33),t._uU(56," Gross Profit "),t.qZA(),t.TgZ(57,"th",33),t._uU(58," Admin Expense "),t.qZA(),t.TgZ(59,"th",33),t._uU(60," Net Profit "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(61,"tbody"),t.YNc(62,kZ,19,9,"tr",34),t.TgZ(63,"tr"),t.TgZ(64,"th"),t._uU(65," Total for the Analysis "),t.qZA(),t.TgZ(66,"td",33),t._uU(67),t.qZA(),t.TgZ(68,"td",33),t._uU(69),t.qZA(),t.TgZ(70,"td",33),t._uU(71),t.qZA(),t.TgZ(72,"td",33),t._uU(73),t.qZA(),t.TgZ(74,"td",33),t._uU(75),t.qZA(),t.TgZ(76,"td",33),t._uU(77),t.qZA(),t.TgZ(78,"td",33),t._uU(79),t.qZA(),t.TgZ(80,"td",33),t._uU(81),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,19,"Print")," "),t.xp6(8),t.hij(" ",e.company.companyName,""),t.xp6(3),t.s9C("src",e.company.logoURL,t.LSH),t.xp6(5),t.hij(" ",e.company.branchName," "),t.xp6(2),t.hij(" ",e.company.companyAddress," "),t.xp6(2),t.AsE(" ",t.lcZ(23,21,"Tel_Phone")," : ",e.company.phone," "),t.xp6(7),t.AsE(" Date Range: ",t.xi3(30,23,e.dateFrom,"dd-MM-yyyy")," to ",t.xi3(31,26,e.dateTo,"dd-MM-yyyy")," "),t.xp6(6),t.hij(" Branch: ",e.company.branchName," "),t.xp6(27),t.Q6J("ngForOf",e.List),t.xp6(5),t.hij(" ",e.summary.rv," "),t.xp6(2),t.hij(" ",e.summary.so,""),t.xp6(2),t.hij(" ",e.summary.de,""),t.xp6(2),t.hij(" ",e.summary.ot,""),t.xp6(2),t.hij(" ",e.summary.expTotal,""),t.xp6(2),t.hij(" ",e.summary.grossTotal," "),t.xp6(2),t.hij(" ",e.summary.ae," "),t.xp6(2),t.hij(" ",e.summary.netTotal," ")}}let MZ=(()=>{class i extends L.k{constructor(e,o,n,r){super(o),this.apiService=e,this.authService=o,this.utilService=n,this.notifyService=r,this.List=[],this.isLoading=!1,this.customerList=[],this.dateFrom="",this.dateTo="",this.customerId="",this.totalSaleAmount=0,this.totalPurchaseAmount=0,this.totalInputTaxAomunt=0,this.totalOutputTaxAomunt=0,this.totalTax=0,this.totalAmount=0,this.branchCodeControl=new s.NI,this.options=[],this.isBranchLoading=!1,this.filteredOptions=this.branchCodeControl.valueChanges.pipe((0,J.O)(""),(0,D.b)(n.autoDelay()),(0,P.x)(),(0,Y.w)(l=>(""!==l.trim()&&(this.isBranchLoading=!0),this.filter(l||""))))}ngOnInit(){this.apiService.getall("customer/getSelectLanCustomerList").subscribe(e=>{e&&(this.customerList=e)})}filter(e){return this.apiService.getall(`branch/getSelectSysBranchList?search=${e.trim()}`).pipe((0,B.U)(o=>{const n=o;return this.isBranchLoading=!1,n}))}search(){var e,o;this.dateFrom&&this.dateTo?(this.isLoading=!0,this.apiService.getall(`report/getCustomerRevenueAnalysis?custCode=${null!==(e=this.customerId)&&void 0!==e?e:0}&branchCode=${null!==(o=this.branchCodeControl.value)&&void 0!==o?o:""}&from=${this.utilService.getCommonDate(this.dateFrom)}&to=${this.utilService.getCommonDate(this.dateTo)}`).subscribe(n=>{this.isLoading=!1,n&&(this.List=n.list,this.company=n.company,this.summary=n.summary)})):this.notifyService.showError("Select Dates")}openPrint(){const e=document.getElementById("printcontainer");this.utilService.printForLocale(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(f.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-revenueanalysisreport"]],features:[t.qOj],decls:59,vars:40,consts:[[1,"modal-body"],[1,"outer"],[1,"row"],[1,"col-md-4","col-lg-4"],[1,"form-group"],[3,"isLoading"],["type","text","matInput","",1,"form-control",3,"placeholder","formControl","matAutocomplete"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"mr-sm-2"],["bindLabel","text","bindValue","textTwo",3,"items","ngModel","ngModelChange"],[1,"input-group","mb-2"],[1,"form-control","datapickerinput",3,"placeholder","ngModel","matDatepicker","ngModelChange"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker2",""],["picker1",""],["type","button",1,"btn","btn-primary",3,"click"],["class","p-1","id","Format1",4,"ngIf"],[3,"value"],["id","Format1",1,"p-1"],["type","button","data-toggle","modal",1,"btn","waves-effect","waves-light","btn-rounded","btn-primary","btn-midblock",3,"click"],["id","printcontainer",1,"outer"],["cellpadding","0","cellspacing","0","width","100%",1,"ur_tablestyle",2,"width","100%","padding-bottom","5px"],[2,"text-align","center"],[2,"width","200px","height","150px",3,"src"],[1,"font-weight-medium"],["id","zero_config","border","1","cellpadding","0","cellspacing","0","width","100%",1,"table","table-bordered","no-wrap",2,"width","100%"],[2,"width","33%"],[2,"width","34%","text-align","center"],[2,"width","33%","text-align","right"],[2,"white-space","nowrap"],[1,"alert-dark"],[2,"text-align","right"],[4,"ngFor","ngForOf"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"label"),t._uU(6),t.ALo(7,"translate"),t.qZA(),t._UZ(8,"auto-loader",5),t._UZ(9,"input",6),t.ALo(10,"translate"),t.ALo(11,"translate"),t.TgZ(12,"mat-autocomplete",null,7),t.YNc(14,wZ,2,2,"mat-option",8),t.ALo(15,"async"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"div",3),t.TgZ(17,"div",4),t.TgZ(18,"label",9),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"ng-select",10),t.NdJ("ngModelChange",function(r){return o.customerId=r}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"div",3),t.TgZ(23,"div",4),t.TgZ(24,"label"),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.TgZ(27,"div",4),t.TgZ(28,"div",11),t.TgZ(29,"input",12),t.NdJ("ngModelChange",function(r){return o.dateFrom=r}),t.ALo(30,"translate"),t.qZA(),t.TgZ(31,"div",13),t._UZ(32,"mat-datepicker-toggle",14),t._UZ(33,"mat-datepicker",null,15),t._UZ(35,"br"),t._UZ(36,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(37,"div",3),t.TgZ(38,"div",4),t.TgZ(39,"label"),t._uU(40),t.ALo(41,"translate"),t.qZA(),t.TgZ(42,"div",4),t.TgZ(43,"div",11),t.TgZ(44,"input",12),t.NdJ("ngModelChange",function(r){return o.dateTo=r}),t.ALo(45,"translate"),t.qZA(),t.TgZ(46,"div",13),t._UZ(47,"mat-datepicker-toggle",14),t._UZ(48,"mat-datepicker",null,16),t._UZ(50,"br"),t._UZ(51,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(52,"div",3),t.TgZ(53,"div",4),t._UZ(54,"br"),t.TgZ(55,"button",17),t.NdJ("click",function(){return o.search()}),t._uU(56,"Search"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(57,"spinner-loader",5),t.YNc(58,IZ,82,29,"div",18),t.qZA()),2&e){const n=t.MAs(13),r=t.MAs(34),l=t.MAs(49);t.xp6(6),t.Oqu(t.lcZ(7,22,"Branch_Code")),t.xp6(2),t.Q6J("isLoading",o.isBranchLoading),t.xp6(1),t.hYB("placeholder","",t.lcZ(10,24,"Please_Enter")," ",t.lcZ(11,26,"Branch_Code"),""),t.Q6J("formControl",o.branchCodeControl)("matAutocomplete",n),t.xp6(5),t.Q6J("ngForOf",t.lcZ(15,28,o.filteredOptions)),t.xp6(5),t.Oqu(t.lcZ(20,30,"Customer")),t.xp6(2),t.Q6J("items",o.customerList)("ngModel",o.customerId),t.xp6(4),t.Oqu(t.lcZ(26,32,"From_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(30,34,"Select_a_Date")),t.Q6J("ngModel",o.dateFrom)("matDatepicker",r),t.xp6(3),t.Q6J("for",r),t.xp6(8),t.Oqu(t.lcZ(41,36,"To_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(45,38,"Select_a_Date")),t.Q6J("ngModel",o.dateTo)("matDatepicker",l),t.xp6(3),t.Q6J("for",l),t.xp6(10),t.Q6J("isLoading",o.isLoading),t.xp6(1),t.Q6J("ngIf",o.company)}},directives:[V.z,s.Fj,N.ZL,s.JJ,s.oH,N.XC,d.sg,j.w9,s.On,m.hl,m.nW,U.R9,m.Mq,b.r,d.O5,R.ey],pipes:[Z.X$,d.Ov,d.uU],encapsulation:2}),i})();function JZ(i,a){if(1&i&&(t.TgZ(0,"mat-option",20),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.value," ")}}function DZ(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td",30),t._uU(17),t.qZA(),t.TgZ(18,"td",30),t._uU(19),t.qZA(),t.TgZ(20,"td",30),t._uU(21),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.hij(" ",e.tranNumber," "),t.xp6(2),t.hij(" ",t.xi3(5,10,e.date,"dd-MM-yyyy")," "),t.xp6(3),t.hij(" ",e.type," "),t.xp6(2),t.hij(" ",e.source," "),t.xp6(2),t.hij(" ",e.code," "),t.xp6(2),t.hij(" ",e.name," "),t.xp6(2),t.hij(" ",e.taxIdNumber," "),t.xp6(2),t.hij(" ",e.totalAmount," "),t.xp6(2),t.hij(" ",e.inputTaxAmount," "),t.xp6(2),t.hij(" ",e.outputTaxAmount," ")}}function PZ(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",21),t.TgZ(1,"button",22),t.NdJ("click",function(){return t.CHM(e),t.oxw().openPrint()}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"br"),t._UZ(5,"br"),t.TgZ(6,"div",23),t.TgZ(7,"table",24),t.TgZ(8,"tr"),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.qZA(),t.TgZ(11,"tr"),t.TgZ(12,"td",25),t._UZ(13,"img",26),t.qZA(),t.qZA(),t.TgZ(14,"tr"),t.TgZ(15,"td"),t.TgZ(16,"div",27),t._UZ(17,"br"),t._uU(18),t._UZ(19,"br"),t._uU(20),t._UZ(21,"br"),t._uU(22),t.ALo(23,"translate"),t._UZ(24,"br"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(25,"tr"),t.TgZ(26,"td",25),t.TgZ(27,"p"),t._uU(28),t.ALo(29,"date"),t.ALo(30,"date"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(31,"table",28),t.TgZ(32,"thead",29),t.TgZ(33,"tr"),t.TgZ(34,"th"),t._uU(35," TranNumber "),t.qZA(),t.TgZ(36,"th"),t._uU(37," TranDate "),t.qZA(),t.TgZ(38,"th"),t._uU(39," Type "),t.qZA(),t.TgZ(40,"th"),t._uU(41," Source "),t.qZA(),t.TgZ(42,"th"),t._uU(43," Code "),t.qZA(),t.TgZ(44,"th"),t._uU(45," Vendor "),t._UZ(46,"br"),t._uU(47," Customer Name "),t.qZA(),t.TgZ(48,"th"),t._uU(49," TAXNumber "),t.qZA(),t.TgZ(50,"th",30),t._uU(51," Total "),t.qZA(),t.TgZ(52,"th",30),t._uU(53," Input "),t.qZA(),t.TgZ(54,"th",30),t._uU(55," Output "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(56,"tbody"),t.YNc(57,DZ,22,13,"tr",31),t.TgZ(58,"tr"),t.TgZ(59,"td",32),t.TgZ(60,"strong"),t._uU(61,"Total"),t.qZA(),t.qZA(),t.TgZ(62,"td",33),t.TgZ(63,"strong"),t._uU(64),t.qZA(),t.qZA(),t.TgZ(65,"td",33),t.TgZ(66,"strong"),t._uU(67),t.qZA(),t.qZA(),t.qZA(),t.TgZ(68,"tr"),t.TgZ(69,"td",34),t._uU(70," Summary Of Transaction "),t.qZA(),t.TgZ(71,"td",30),t._uU(72," Total Amount "),t.qZA(),t.TgZ(73,"td",30),t._uU(74," Tax Amount "),t.qZA(),t._UZ(75,"td",35),t.qZA(),t.TgZ(76,"tr"),t.TgZ(77,"td",34),t._uU(78," Total Sales "),t.qZA(),t.TgZ(79,"td",30),t._uU(80),t.qZA(),t.TgZ(81,"td",30),t._uU(82),t.qZA(),t._UZ(83,"td",35),t.qZA(),t.TgZ(84,"tr"),t.TgZ(85,"td",34),t._uU(86," Total Purchases "),t.qZA(),t.TgZ(87,"td",30),t._uU(88),t.qZA(),t.TgZ(89,"td",30),t._uU(90),t.qZA(),t._UZ(91,"td",35),t.qZA(),t.TgZ(92,"tr"),t.TgZ(93,"td",34),t._uU(94," Net Tax Payable "),t.qZA(),t._UZ(95,"td",30),t.TgZ(96,"td",30),t._uU(97),t.qZA(),t._UZ(98,"td",35),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,17,"Print")," "),t.xp6(8),t.hij(" ",e.company.companyName,""),t.xp6(3),t.s9C("src",e.company.logoURL,t.LSH),t.xp6(5),t.hij(" ",e.company.branchName," "),t.xp6(2),t.hij(" ",e.company.companyAddress," "),t.xp6(2),t.AsE(" ",t.lcZ(23,19,"Tel_Phone")," : ",e.company.phone," "),t.xp6(6),t.AsE(' The Statement of " Tax Reporting " for ',t.xi3(29,21,e.dateFrom,"dd/MM/yyyy")," to ",t.xi3(30,24,e.dateTo,"dd/MM/yyyy")," "),t.xp6(29),t.Q6J("ngForOf",e.List),t.xp6(7),t.Oqu(e.totalInputTaxAomunt),t.xp6(3),t.Oqu(e.totalOutputTaxAomunt),t.xp6(13),t.hij(" ",e.totalSaleAmount," "),t.xp6(2),t.hij("",e.totalOutputTaxAomunt," "),t.xp6(6),t.hij(" ",e.totalPurchaseAmount," "),t.xp6(2),t.hij(" ",e.totalInputTaxAomunt," "),t.xp6(7),t.hij(" ",e.totalTax," ")}}let YZ=(()=>{class i extends L.k{constructor(e,o,n,r){super(o),this.apiService=e,this.authService=o,this.utilService=n,this.notifyService=r,this.List=[],this.isLoading=!1,this.dateFrom="",this.dateTo="",this.totalSaleAmount=0,this.totalPurchaseAmount=0,this.totalInputTaxAomunt=0,this.totalOutputTaxAomunt=0,this.totalTax=0,this.totalAmount=0,this.branchCodeControl=new s.NI,this.options=[],this.isBranchLoading=!1,this.filteredOptions=this.branchCodeControl.valueChanges.pipe((0,J.O)(""),(0,D.b)(n.autoDelay()),(0,P.x)(),(0,Y.w)(l=>(""!==l.trim()&&(this.isBranchLoading=!0),this.filter(l||""))))}ngOnInit(){}filter(e){return this.apiService.getall(`branch/getSelectSysBranchList?search=${e.trim()}`).pipe((0,B.U)(o=>{const n=o;return this.isBranchLoading=!1,n}))}search(){var e;this.dateFrom&&this.dateTo?(this.isLoading=!0,this.apiService.getall(`report/getTaxReportingPrintList?branchCode=${null!==(e=this.branchCodeControl.value)&&void 0!==e?e:""}&from=${this.utilService.getCommonDate(this.dateFrom)}&to=${this.utilService.getCommonDate(this.dateTo)}`).subscribe(o=>{this.isLoading=!1,o&&(this.List=o.list,this.company=o.company,this.totalAmount=o.totalAmount,this.totalSaleAmount=o.totalSaleAmount,this.totalPurchaseAmount=o.totalPurchaseAmount,this.totalInputTaxAomunt=o.totalInputTaxAomunt,this.totalOutputTaxAomunt=o.totalOutputTaxAomunt,this.totalTax=o.totalTax)})):this.notifyService.showError("Select Dates")}openPrint(){const e=document.getElementById("printcontainer");this.utilService.printForLocale(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(f.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-taxreporting"]],features:[t.qOj],decls:59,vars:38,consts:[[1,"page-breadcrumb"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"modal-body"],[1,"outer"],[1,"col-md-6","col-lg-6"],[1,"form-group"],[3,"isLoading"],["type","text","matInput","",1,"form-control",3,"placeholder","formControl","matAutocomplete"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"input-group","mb-2"],[1,"form-control","datapickerinput",3,"placeholder","ngModel","matDatepicker","ngModelChange"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker2",""],["picker1",""],["type","button",1,"btn","btn-primary",3,"click"],["class","table-responsive",4,"ngIf"],[3,"value"],[1,"table-responsive"],["type","button","data-toggle","modal",1,"btn","waves-effect","waves-light","btn-rounded","btn-primary","btn-midblock",3,"click"],["id","printcontainer",1,"outer"],["cellpadding","0","cellspacing","0","width","100%",1,"ur_tablestyle",2,"width","100%","padding-bottom","5px"],[2,"text-align","center"],[2,"width","200px","height","150px",3,"src"],[1,"font-weight-medium"],["border","1","cellpadding","0","cellspacing","0","width","100%",1,"table","table-bordered","no-wrap","ur_tablestyle",2,"width","100%","padding-bottom","5px"],[1,"alert-dark"],[2,"text-align","right"],[4,"ngFor","ngForOf"],["colspan","8",2,"text-align","right"],[1,"align-right",2,"text-align","right"],["colspan","5",2,"text-align","right"],["colspan","4"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"div",5),t.TgZ(8,"div",1),t.TgZ(9,"div",6),t.TgZ(10,"div",7),t.TgZ(11,"label"),t._uU(12),t.ALo(13,"translate"),t.qZA(),t._UZ(14,"auto-loader",8),t._UZ(15,"input",9),t.ALo(16,"translate"),t.ALo(17,"translate"),t.TgZ(18,"mat-autocomplete",null,10),t.YNc(20,JZ,2,2,"mat-option",11),t.ALo(21,"async"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"div",6),t.TgZ(23,"div",7),t.TgZ(24,"label"),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.TgZ(27,"div",7),t.TgZ(28,"div",12),t.TgZ(29,"input",13),t.NdJ("ngModelChange",function(r){return o.dateFrom=r}),t.ALo(30,"translate"),t.qZA(),t.TgZ(31,"div",14),t._UZ(32,"mat-datepicker-toggle",15),t._UZ(33,"mat-datepicker",null,16),t._UZ(35,"br"),t._UZ(36,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(37,"div",6),t.TgZ(38,"div",7),t.TgZ(39,"label"),t._uU(40),t.ALo(41,"translate"),t.qZA(),t.TgZ(42,"div",7),t.TgZ(43,"div",12),t.TgZ(44,"input",13),t.NdJ("ngModelChange",function(r){return o.dateTo=r}),t.ALo(45,"translate"),t.qZA(),t.TgZ(46,"div",14),t._UZ(47,"mat-datepicker-toggle",15),t._UZ(48,"mat-datepicker",null,17),t._UZ(50,"br"),t._UZ(51,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(52,"div",6),t.TgZ(53,"div",7),t._UZ(54,"br"),t.TgZ(55,"button",18),t.NdJ("click",function(){return o.search()}),t._uU(56,"Search"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(57,"spinner-loader",8),t.YNc(58,PZ,99,27,"div",19),t.qZA()),2&e){const n=t.MAs(19),r=t.MAs(34),l=t.MAs(49);t.xp6(4),t.hij(" ",t.lcZ(5,20,"Tax_Reporting")," "),t.xp6(8),t.Oqu(t.lcZ(13,22,"Branch_Code")),t.xp6(2),t.Q6J("isLoading",o.isBranchLoading),t.xp6(1),t.hYB("placeholder","",t.lcZ(16,24,"Please_Enter")," ",t.lcZ(17,26,"Branch_Code"),""),t.Q6J("formControl",o.branchCodeControl)("matAutocomplete",n),t.xp6(5),t.Q6J("ngForOf",t.lcZ(21,28,o.filteredOptions)),t.xp6(5),t.Oqu(t.lcZ(26,30,"From_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(30,32,"Select_a_Date")),t.Q6J("ngModel",o.dateFrom)("matDatepicker",r),t.xp6(3),t.Q6J("for",r),t.xp6(8),t.Oqu(t.lcZ(41,34,"To_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(45,36,"Select_a_Date")),t.Q6J("ngModel",o.dateTo)("matDatepicker",l),t.xp6(3),t.Q6J("for",l),t.xp6(10),t.Q6J("isLoading",o.isLoading),t.xp6(1),t.Q6J("ngIf",o.company)}},directives:[V.z,s.Fj,N.ZL,s.JJ,s.oH,N.XC,d.sg,m.hl,s.On,m.nW,U.R9,m.Mq,b.r,d.O5,R.ey],pipes:[Z.X$,d.Ov,d.uU],encapsulation:2}),i})();function QZ(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t.TgZ(4,"div",29),t._uU(5),t.qZA(),t.qZA(),t.TgZ(6,"td",28),t._uU(7),t.ALo(8,"decimalpipe"),t.qZA(),t.TgZ(9,"td",28),t._uU(10),t.ALo(11,"decimalpipe"),t.qZA(),t.TgZ(12,"td",28),t._uU(13),t.ALo(14,"decimalpipe2"),t.qZA(),t.TgZ(15,"td",28),t._uU(16),t.ALo(17,"decimalpipe"),t.qZA(),t.TgZ(18,"td",28),t._uU(19),t.ALo(20,"decimalpipe"),t.qZA(),t.TgZ(21,"td",28),t._uU(22),t.ALo(23,"decimalpipe2"),t.qZA(),t.TgZ(24,"td",28),t._uU(25),t.ALo(26,"decimalpipe"),t.qZA(),t.TgZ(27,"td",28),t._uU(28),t.ALo(29,"decimalpipe"),t.qZA(),t.TgZ(30,"td",28),t._uU(31),t.ALo(32,"decimalpipe2"),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.hij(" ",e.finAcCode," "),t.xp6(2),t.s9C("title",e.finAcName),t.xp6(1),t.Oqu(e.finAcName),t.xp6(2),t.hij(" ",t.lcZ(8,12,e.drAmount)," "),t.xp6(3),t.hij(" ",t.lcZ(11,14,e.crAmount)," "),t.xp6(3),t.hij(" ",t.lcZ(14,16,e.balance)," "),t.xp6(3),t.hij(" ",t.lcZ(17,18,e.changeDrAmount)," "),t.xp6(3),t.hij(" ",t.lcZ(20,20,e.changeCrAmount)," "),t.xp6(3),t.hij(" ",t.lcZ(23,22,e.changeBalance)," "),t.xp6(3),t.hij(" ",t.lcZ(26,24,e.closingDrAmount)," "),t.xp6(3),t.hij(" ",t.lcZ(29,26,e.closingCrAmount)," "),t.xp6(3),t.hij(" ",t.lcZ(32,28,e.closingBalance)," ")}}function jZ(i,a){if(1&i&&(t.TgZ(0,"table",24),t.TgZ(1,"tr"),t.TgZ(2,"th"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"th"),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"th"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"th"),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"th"),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"th"),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"th"),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"th"),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"th"),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"th"),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.TgZ(32,"th"),t._uU(33),t.ALo(34,"translate"),t.qZA(),t.qZA(),t.YNc(35,QZ,33,30,"tr",25),t.TgZ(36,"tfoot"),t.TgZ(37,"tr",26),t._UZ(38,"td",27),t.TgZ(39,"td",28),t._uU(40),t.ALo(41,"decimalpipe2"),t.qZA(),t.TgZ(42,"td",28),t._uU(43),t.ALo(44,"decimalpipe2"),t.qZA(),t.TgZ(45,"td",28),t._uU(46),t.ALo(47,"decimalpipe2"),t.qZA(),t.TgZ(48,"td",28),t._uU(49),t.ALo(50,"decimalpipe2"),t.qZA(),t.TgZ(51,"td",28),t._uU(52),t.ALo(53,"decimalpipe2"),t.qZA(),t.TgZ(54,"td",28),t._uU(55),t.ALo(56,"decimalpipe2"),t.qZA(),t.TgZ(57,"td",28),t._uU(58),t.ALo(59,"decimalpipe2"),t.qZA(),t.TgZ(60,"td",28),t._uU(61),t.ALo(62,"decimalpipe2"),t.qZA(),t.TgZ(63,"td",28),t._uU(64),t.ALo(65,"decimalpipe2"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.Oqu(t.lcZ(4,21,"FinAcCode")),t.xp6(3),t.Oqu(t.lcZ(7,23,"Description")),t.xp6(3),t.hij("",t.lcZ(10,25,"Opening_DrAmount")," "),t.xp6(3),t.hij("",t.lcZ(13,27,"Opening_CrAmount")," "),t.xp6(3),t.hij("",t.lcZ(16,29,"Opening_Balance")," "),t.xp6(3),t.hij("",t.lcZ(19,31,"ChangingDr")," "),t.xp6(3),t.hij("",t.lcZ(22,33,"ChangingCr")," "),t.xp6(3),t.hij("",t.lcZ(25,35,"ChangingBalance")," "),t.xp6(3),t.hij("",t.lcZ(28,37,"ClosingDr")," "),t.xp6(3),t.hij("",t.lcZ(31,39,"ClosingCr")," "),t.xp6(3),t.hij("",t.lcZ(34,41,"ClosingBalance")," "),t.xp6(2),t.Q6J("ngForOf",e.trailList),t.xp6(5),t.Oqu(t.lcZ(41,43,e.total.totalDr)),t.xp6(3),t.Oqu(t.lcZ(44,45,e.total.totalCr)),t.xp6(3),t.Oqu(t.lcZ(47,47,e.total.totalDrBalance)),t.xp6(3),t.Oqu(t.lcZ(50,49,e.total.totalDrCutOff)),t.xp6(3),t.Oqu(t.lcZ(53,51,e.total.totalCrCutOff)),t.xp6(3),t.Oqu(t.lcZ(56,53,e.total.totalCrBalance)),t.xp6(3),t.Oqu(t.lcZ(59,55,e.total.totalDrClosing)),t.xp6(3),t.Oqu(t.lcZ(62,57,e.total.totalCrClosing)),t.xp6(3),t.Oqu(t.lcZ(65,59,e.total.totalBalance))}}function FZ(i,a){if(1&i&&(t.TgZ(0,"div",17),t._UZ(1,"br"),t.TgZ(2,"div",18),t.TgZ(3,"table",19),t.TgZ(4,"tr"),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.qZA(),t.TgZ(7,"tr"),t.TgZ(8,"td",20),t._UZ(9,"img",21),t.qZA(),t.qZA(),t.TgZ(10,"tr"),t.TgZ(11,"td"),t.TgZ(12,"div",22),t._UZ(13,"br"),t._uU(14),t._UZ(15,"br"),t._uU(16),t._UZ(17,"br"),t._uU(18),t.ALo(19,"translate"),t._UZ(20,"br"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"tr"),t.TgZ(22,"td",20),t.TgZ(23,"p"),t._uU(24),t.ALo(25,"date"),t.ALo(26,"date"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(27,jZ,66,61,"table",23),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(6),t.hij(" ",e.company.companyName,""),t.xp6(3),t.s9C("src",e.company.logoURL,t.LSH),t.xp6(5),t.hij(" ",e.company.branchName," "),t.xp6(2),t.hij(" ",e.company.companyAddress," "),t.xp6(2),t.AsE(" ",t.lcZ(19,9,"Tel_Phone")," : ",e.company.phone," "),t.xp6(6),t.AsE(' The Statement of " Trial Balance " for ',t.xi3(25,11,e.dateFrom,"dd/MM/yyyy")," to ",t.xi3(26,14,e.dateTo,"dd/MM/yyyy")," "),t.xp6(3),t.Q6J("ngIf",e.trailList&&e.trailList.length>0)}}let BZ=(()=>{class i extends L.k{constructor(e,o,n,r){super(o),this.apiService=e,this.authService=o,this.utilService=n,this.notifyService=r,this.trailList=[],this.companyName="",this.dateFrom="",this.dateTo="",this.isLoading=!1}ngOnInit(){}search(){this.dateFrom?(this.isLoading=!0,this.apiService.getall(`ledgerReport/trialBalanceCutOffReport?from=${this.utilService.getCommonDate(this.dateFrom)}&to=${this.utilService.getCommonDate(this.dateTo)}`).subscribe(e=>{e&&(this.isLoading=!1,this.trailList=e.list,this.company=e.company,this.companyName=e.companyName,this.total=e)})):this.notifyService.showError("Select Date")}openPrint(){const e=document.getElementById("printcontainer");this.utilService.printForLocale(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(f.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-trialbalance"]],features:[t.qOj],decls:35,vars:17,consts:[[1,"page-breadcrumb"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"modal-body"],[1,"outer"],[1,"col-md-6","col-lg-6"],[1,"form-group"],[1,"input-group","mb-2"],[1,"form-control","datapickerinput",3,"placeholder","ngModel","matDatepicker","ngModelChange"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker2",""],["type","button",1,"btn","btn-primary",3,"click"],["type","button","data-toggle","modal",1,"btn","waves-effect","waves-light","btn-rounded","btn-primary","btn-midblock",3,"click"],[3,"isLoading"],["class","table-responsive",4,"ngIf"],[1,"table-responsive"],["id","printcontainer",1,"outer"],["cellpadding","0","cellspacing","0","width","100%",1,"ur_tablestyle",2,"width","100%","padding-bottom","5px"],[2,"text-align","center"],[2,"width","200px","height","150px",3,"src"],[1,"font-weight-medium"],["style","width:100%; padding-bottom:5px;","border","1","cellpadding","0","cellspacing","0","width","100%","class","table  table-bordered no-wrap ur_tablestyle",4,"ngIf"],["border","1","cellpadding","0","cellspacing","0","width","100%",1,"table","table-bordered","no-wrap","ur_tablestyle",2,"width","100%","padding-bottom","5px"],[4,"ngFor","ngForOf"],[1,"tfoot"],["colspan","2"],[1,"text-right"],[1,"desc-word-breaking",3,"title"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"div",5),t.TgZ(8,"div",1),t.TgZ(9,"div",6),t.TgZ(10,"div",7),t.TgZ(11,"label"),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"div",7),t.TgZ(15,"div",8),t.TgZ(16,"input",9),t.NdJ("ngModelChange",function(r){return o.dateFrom=r}),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"div",10),t._UZ(19,"mat-datepicker-toggle",11),t._UZ(20,"mat-datepicker",null,12),t._UZ(22,"br"),t._UZ(23,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"div",6),t.TgZ(25,"div",7),t._UZ(26,"br"),t.TgZ(27,"button",13),t.NdJ("click",function(){return o.search()}),t._uU(28,"Search"),t.qZA(),t._uU(29," \xa0\xa0 "),t.TgZ(30,"button",14),t.NdJ("click",function(){return o.openPrint()}),t._uU(31),t.ALo(32,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(33,"spinner-loader",15),t.YNc(34,FZ,28,17,"div",16),t.qZA()),2&e){const n=t.MAs(21);t.xp6(4),t.hij(" ",t.lcZ(5,9,"Trial_Balance")," "),t.xp6(8),t.Oqu(t.lcZ(13,11,"CutOff_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(17,13,"Select_a_Date")),t.Q6J("ngModel",o.dateFrom)("matDatepicker",n),t.xp6(3),t.Q6J("for",n),t.xp6(12),t.hij(" ",t.lcZ(32,15,"Print")," "),t.xp6(2),t.Q6J("isLoading",o.isLoading),t.xp6(1),t.Q6J("ngIf",o.company)}},directives:[s.Fj,m.hl,s.JJ,s.On,m.nW,U.R9,m.Mq,b.r,d.O5,d.sg],pipes:[Z.X$,d.uU,I.d,I.J],encapsulation:2}),i})();function VZ(i,a){if(1&i&&(t.TgZ(0,"option",26),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function RZ(i,a){if(1&i&&(t.TgZ(0,"mat-option",26),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.value," ")}}function EZ(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",31),t.TgZ(2,"p"),t._uU(3),t.ALo(4,"date"),t.ALo(5,"date"),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.AsE(' The Statement of " Voucher Reporting " for ',t.xi3(4,2,e.dateFrom,"dd/MM/yyyy")," to ",t.xi3(5,5,e.dateTo,"dd/MM/yyyy")," ")}}function $Z(i,a){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"date"),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.ALo(14,"decimalpipe"),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.qZA(),t.TgZ(19,"td"),t._uU(20),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.Oqu(e.voucherNumber),t.xp6(2),t.Oqu(e.branchName),t.xp6(2),t.Oqu(t.xi3(7,9,e.tranDate,"MM-dd-yyyy")),t.xp6(3),t.Oqu(e.custCode),t.xp6(2),t.Oqu(e.payCode),t.xp6(2),t.Oqu(t.lcZ(14,12,e.amount)),t.xp6(3),t.Oqu(e.docNum),t.xp6(2),t.Oqu(e.remarks),t.xp6(2),t.Oqu(e.narration)}}function zZ(i,a){if(1&i&&(t.TgZ(0,"table",36),t.TgZ(1,"thead"),t.TgZ(2,"tr"),t.TgZ(3,"th"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"th"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"th"),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"th"),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"th"),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"th"),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"th"),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"th"),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.TgZ(27,"th"),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(30,"tbody"),t.YNc(31,$Z,21,14,"tr",37),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(4),t.Oqu(t.lcZ(5,10,"ID")),t.xp6(3),t.Oqu(t.lcZ(8,12,"Branch")),t.xp6(3),t.Oqu(t.lcZ(11,14,"tranDate")),t.xp6(3),t.Oqu(t.lcZ(14,16,"Customer_Code")),t.xp6(3),t.Oqu(t.lcZ(17,18,"PayCode")),t.xp6(3),t.hij("",t.lcZ(20,20,"amount")," (SR)"),t.xp6(3),t.Oqu(t.lcZ(23,22,"DocumentNumber")),t.xp6(3),t.Oqu(t.lcZ(26,24,"Remarks")),t.xp6(3),t.Oqu(t.lcZ(29,26,"Narration")),t.xp6(3),t.Q6J("ngForOf",e.paymentList)}}function HZ(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",27),t.TgZ(1,"button",28),t.NdJ("click",function(){return t.CHM(e),t.oxw().openPrint()}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"br"),t._UZ(5,"br"),t.TgZ(6,"div",29),t.TgZ(7,"table",30),t.TgZ(8,"tr"),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.qZA(),t.TgZ(11,"tr"),t.TgZ(12,"td",31),t._UZ(13,"img",32),t.qZA(),t.qZA(),t.TgZ(14,"tr"),t.TgZ(15,"td"),t.TgZ(16,"div",33),t._UZ(17,"br"),t._uU(18),t._UZ(19,"br"),t._uU(20),t._UZ(21,"br"),t._uU(22),t.ALo(23,"translate"),t._UZ(24,"br"),t.qZA(),t.qZA(),t.qZA(),t.YNc(25,EZ,6,8,"tr",34),t.qZA(),t.YNc(26,zZ,32,28,"table",35),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,9,"Print")," "),t.xp6(8),t.hij(" ",e.company.companyName,""),t.xp6(3),t.s9C("src",e.company.logoURL,t.LSH),t.xp6(5),t.hij(" ",e.company.branchName," "),t.xp6(2),t.hij(" ",e.company.companyAddress," "),t.xp6(2),t.AsE(" ",t.lcZ(23,11,"Tel_Phone")," : ",e.company.phone," "),t.xp6(3),t.Q6J("ngIf",e.dateFrom&&e.dateTo),t.xp6(1),t.Q6J("ngIf",e.paymentList&&e.paymentList.length>0)}}const GZ=[{path:"arcustomer",component:Cr},{path:"arsalesinvoice",component:ep},{path:"aradjustment",component:Wa},{path:"arpayment",component:es},{path:"opmarpayment",component:Pp},{path:"arcustbalancesummary",component:xs},{path:"arcustpaymentsummary",component:Fs},{path:"arcustvouchersummary",component:sl},{path:"opmarcustvouchersummary",component:Zl},{path:"arcustinvoicesummary",component:Ms},{path:"arcustpaymentvoucherhist",component:Ks},{path:"araginganalysis",component:rs},{path:"apvendor",component:yn},{path:"appurchaseinvoice",component:Qo},{path:"apadjustment",component:Gt},{path:"appayment",component:Le},{path:"opmappayment",component:sa},{path:"apvendbalancesummary",component:pi},{path:"apvendpaymentsummary",component:Li},{path:"apvendvouchersummary",component:$i},{path:"opmapvendvouchersummary",component:Ko},{path:"apvendinvoicesummary",component:vi},{path:"apvendpaymentvoucherhist",component:Yi},{path:"apaginganalysis",component:Ro},{path:"pdclist",component:wa},{path:"journalvoucher",component:A1},{path:"cashvoucher",component:hg},{path:"bankvoucher",component:qu},{path:"ledgeraccounts",component:_m},{path:"lederanalysis",component:bZ},{path:"voucherreporting",component:(()=>{class i extends L.k{constructor(e,o,n,r){super(o),this.apiService=e,this.authService=o,this.utilService=n,this.notifyService=r,this.dateFrom="",this.dateTo="",this.remarks="",this.narration="",this.voucherType="",this.transactionType="",this.branchCode="",this.docNum="",this.paymentList=[],this.branchCodeControl=new s.NI,this.isBranchLoading=!1,this.payCodeTypeList=[],this.isLoading=!1,this.filteredOptions=this.branchCodeControl.valueChanges.pipe((0,J.O)(""),(0,D.b)(n.autoDelay()),(0,P.x)(),(0,Y.w)(l=>(""!==l.trim()&&(this.isBranchLoading=!0),this.filter(l||""))))}filter(e){return this.apiService.getall(`branch/getSelectSysBranchList?search=${e.trim()}`).pipe((0,B.U)(o=>{const n=o;return this.isBranchLoading=!1,n}))}ngOnInit(){this.loadData()}loadData(){this.apiService.getall("paymentcodes/getSelectPaymentTypeList").subscribe(e=>{e&&(this.payCodeTypeList=e)}),this.apiService.getall("ledgerReport/accountVoucherPrint").subscribe(e=>{e&&(this.paymentList=e)})}search(){this.isLoading=!0,this.apiService.getall(`ledgerReport/accountVoucherPrint?voucherType=${this.voucherType}&narration=${this.narration}&remarks=${this.remarks}&transactionType=${this.transactionType}&from=${this.dateFrom?this.utilService.getCommonDate(this.dateFrom):""}&to=${this.dateTo?this.utilService.getCommonDate(this.dateTo):""}&branchCode=${this.branchCode}&docNum=${this.docNum}`).subscribe(e=>{e&&(this.isLoading=!1,this.paymentList=e.list,this.company=e.company)})}openPrint(){const e=document.getElementById("printcontainer");this.utilService.printForLocale(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(h.s),t.Y36(_._),t.Y36(A.t),t.Y36(f.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-voucherreporting"]],features:[t.qOj],decls:86,vars:55,consts:[[1,"page-breadcrumb"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"modal-body"],[1,"outer"],[1,"col-md-6","col-lg-6"],[1,"form-group"],[1,"custom-select","mr-sm-2",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"input-group","mb-2"],[1,"form-control","datapickerinput",3,"placeholder","ngModel","matDatepicker","ngModelChange"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker2",""],["picker1",""],[1,"form-group","mb-4"],[1,"mr-sm-2"],[3,"isLoading"],["type","text","matInput","",1,"form-control",3,"placeholder","formControl","matAutocomplete"],["auto","matAutocomplete"],["type","text","placeholder","Please enter Document Number",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"click"],["class","table-responsive",4,"ngIf"],[3,"value"],[1,"table-responsive"],["type","button","data-toggle","modal",1,"btn","waves-effect","waves-light","btn-rounded","btn-primary","btn-midblock",3,"click"],["id","printcontainer",1,"outer"],["cellpadding","0","cellspacing","0","width","100%",1,"ur_tablestyle",2,"width","100%","padding-bottom","5px"],[2,"text-align","center"],[2,"width","200px","height","150px",3,"src"],[1,"font-weight-medium"],[4,"ngIf"],["style","width:100%; padding-bottom:5px;","border","1","cellpadding","0","cellspacing","0","width","100%","class","ur_tablestyle","id","zero_config",4,"ngIf"],["border","1","cellpadding","0","cellspacing","0","width","100%","id","zero_config",1,"ur_tablestyle",2,"width","100%","padding-bottom","5px"],[4,"ngFor","ngForOf"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"div",5),t.TgZ(8,"div",1),t.TgZ(9,"div",6),t.TgZ(10,"div",7),t.TgZ(11,"label"),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"select",8),t.NdJ("ngModelChange",function(r){return o.voucherType=r}),t.TgZ(15,"option",9),t._uU(16,"Choose Transaction Types"),t.qZA(),t.YNc(17,VZ,2,2,"option",10),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",6),t.TgZ(19,"div",7),t.TgZ(20,"label"),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"div",7),t.TgZ(24,"div",11),t.TgZ(25,"input",12),t.NdJ("ngModelChange",function(r){return o.dateFrom=r}),t.ALo(26,"translate"),t.qZA(),t.TgZ(27,"div",13),t._UZ(28,"mat-datepicker-toggle",14),t._UZ(29,"mat-datepicker",null,15),t._UZ(31,"br"),t._UZ(32,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(33,"div",6),t.TgZ(34,"div",7),t.TgZ(35,"label"),t._uU(36),t.ALo(37,"translate"),t.qZA(),t.TgZ(38,"div",7),t.TgZ(39,"div",11),t.TgZ(40,"input",12),t.NdJ("ngModelChange",function(r){return o.dateTo=r}),t.ALo(41,"translate"),t.qZA(),t.TgZ(42,"div",13),t._UZ(43,"mat-datepicker-toggle",14),t._UZ(44,"mat-datepicker",null,16),t._UZ(46,"br"),t._UZ(47,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(48,"div",6),t.TgZ(49,"div",17),t.TgZ(50,"label",18),t._uU(51),t.ALo(52,"translate"),t.qZA(),t._UZ(53,"auto-loader",19),t._UZ(54,"input",20),t.ALo(55,"translate"),t.ALo(56,"translate"),t.TgZ(57,"mat-autocomplete",null,21),t.YNc(59,RZ,2,2,"mat-option",10),t.ALo(60,"async"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(61,"div",6),t.TgZ(62,"div",7),t.TgZ(63,"label"),t._uU(64),t.ALo(65,"translate"),t.qZA(),t.TgZ(66,"input",22),t.NdJ("ngModelChange",function(r){return o.docNum=r}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(67,"div",6),t.TgZ(68,"div",7),t.TgZ(69,"label"),t._uU(70),t.ALo(71,"translate"),t.qZA(),t.TgZ(72,"input",23),t.NdJ("ngModelChange",function(r){return o.remarks=r}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(73,"div",6),t.TgZ(74,"div",7),t.TgZ(75,"label"),t._uU(76),t.ALo(77,"translate"),t.qZA(),t.TgZ(78,"input",23),t.NdJ("ngModelChange",function(r){return o.narration=r}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(79,"div",6),t.TgZ(80,"div",7),t._UZ(81,"br"),t.TgZ(82,"button",24),t.NdJ("click",function(){return o.search()}),t._uU(83,"Search"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(84,"spinner-loader",19),t.YNc(85,HZ,27,13,"div",25),t.qZA()),2&e){const n=t.MAs(30),r=t.MAs(45),l=t.MAs(58);t.xp6(4),t.hij(" ",t.lcZ(5,29,"Voucher_Reporting")," "),t.xp6(8),t.Oqu(t.lcZ(13,31,"VoucherType")),t.xp6(2),t.Q6J("ngModel",o.voucherType),t.xp6(3),t.Q6J("ngForOf",o.payCodeTypeList),t.xp6(4),t.Oqu(t.lcZ(22,33,"From_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(26,35,"Select_a_Date")),t.Q6J("ngModel",o.dateFrom)("matDatepicker",n),t.xp6(3),t.Q6J("for",n),t.xp6(8),t.Oqu(t.lcZ(37,37,"To_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(41,39,"Select_a_Date")),t.Q6J("ngModel",o.dateTo)("matDatepicker",r),t.xp6(3),t.Q6J("for",r),t.xp6(8),t.Oqu(t.lcZ(52,41,"Branch")),t.xp6(2),t.Q6J("isLoading",o.isBranchLoading),t.xp6(1),t.hYB("placeholder","",t.lcZ(55,43,"Please_Enter")," ",t.lcZ(56,45,"Branch_Code"),""),t.Q6J("formControl",o.branchCodeControl)("matAutocomplete",l),t.xp6(5),t.Q6J("ngForOf",t.lcZ(60,47,o.filteredOptions)),t.xp6(5),t.Oqu(t.lcZ(65,49,"DocumentNumber")),t.xp6(2),t.Q6J("ngModel",o.docNum),t.xp6(4),t.Oqu(t.lcZ(71,51,"Remarks")),t.xp6(2),t.Q6J("ngModel",o.remarks),t.xp6(4),t.Oqu(t.lcZ(77,53,"Narration")),t.xp6(2),t.Q6J("ngModel",o.narration),t.xp6(6),t.Q6J("isLoading",o.isLoading),t.xp6(1),t.Q6J("ngIf",o.company)}},directives:[s.EJ,s.JJ,s.On,s.YN,s.Kr,d.sg,s.Fj,m.hl,m.nW,U.R9,m.Mq,V.z,N.ZL,s.oH,N.XC,b.r,d.O5,R.ey],pipes:[Z.X$,d.Ov,d.uU,I.J],encapsulation:2}),i})()},{path:"chartofaccounts",component:X1},{path:"custodychartofaccounts",component:vZ},{path:"trialbalance",component:BZ},{path:"profitandlossaccount",component:OZ},{path:"balancesheet",component:x1},{path:"taxreporting",component:YZ},{path:"revenueanalysisreport",component:MZ},{path:"unittype",component:Ad},{path:"producttype",component:ld},{path:"products",component:Wp}];let XZ=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[Q.Bz.forChild(GZ)],Q.Bz]}),i})(),WZ=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[XZ,Nt.m],d.ez]}),i})()}}]);