"use strict";(self.webpackChunkclient_app=self.webpackChunkclient_app||[]).push([[414],{4414:(P,Z,n)=>{n.r(Z),n.d(Z,{HrmadminsetupModule:()=>z});var a=n(8583),h=n(4655),A=n(9692),u=n(1494),c=n(2789),g=n(8404),d=n(5289),l=n(3679),t=n(7716),v=n(5830),f=n(3048),y=n(7278),S=n(2238),N=n(2013),b=n(7928),x=n(3250),L=n(5396),T=n(9790);let U=(()=>{class e extends g.A{constructor(o,i,s,m,p,C,_){super(s),this.fb=o,this.apiService=i,this.authService=s,this.utilService=m,this.dialogRef=p,this.notifyService=C,this.validationService=_,this.id=0}ngOnInit(){this.setForm(),this.id>0&&this.setEditForm()}setForm(){this.form=this.fb.group({positionCode:["",l.kI.required],positionNameEn:["",l.kI.required],positionNameAr:[""],description:[""],isActive:[!1]})}setEditForm(){this.apiService.get("Position",this.id).subscribe(o=>{o&&this.form.patchValue(o)})}closeModel(){this.dialogRef.close()}submit(){this.form.valid?(this.id>0&&(this.form.value.id=this.id),this.apiService.post("Position",this.form.value).subscribe(o=>{this.utilService.OkMessage(),this.reset(),this.dialogRef.close(!0)},o=>{this.utilService.ShowApiErrorMessage(o)})):this.utilService.FillUpFields()}reset(){this.form.controls.positionCode.setValue(""),this.form.controls.positionNameEn.setValue(""),this.form.controls.positionNameAr.setValue(""),this.form.controls.description.setValue(""),this.form.controls.isActive.setValue("")}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(l.qu),t.Y36(v.s),t.Y36(f._),t.Y36(y.t),t.Y36(S.so),t.Y36(N.g),t.Y36(b.R))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-addupdateposition"]],features:[t.qOj],decls:58,vars:49,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-hidden","true",1,"close",3,"click"],["novalidate","",1,"mt-4",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-6","col-lg-6"],[1,"form-group"],["for","BranchCode"],["id","positionCode","type","text","formControlName","positionCode",1,"form-control",3,"placeholder"],[3,"control"],["for","positionNameEn"],["id","positionNameEn","type","text","formControlName","positionNameEn",1,"form-control",3,"placeholder"],["for","positionNameAr"],["id","positionNameAr","type","text","formControlName","positionNameAr",1,"form-control",3,"placeholder"],[1,"col-md-12","col-lg-12"],["for","description"],["id","description","type","text","formControlName","description",1,"form-control",3,"placeholder"],["for","isActive"],["color","primary","formControlName","isActive"],[1,"row","mt-3"],[1,"col-md-12","col-lg-12","text-center"],["type","button",1,"btn","waves-effect","waves-light","btn-rounded","btn-secondary","btn-midblock",3,"value","click"],["type","submit",1,"btn","waves-effect","waves-light","btn-rounded","btn-primary","btn-midblock",3,"value"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"h3",1),t._uU(2),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return i.closeModel()}),t._uU(4," \xd7"),t.qZA(),t.qZA(),t.TgZ(5,"form",3),t.NdJ("ngSubmit",function(){return i.submit()}),t.TgZ(6,"div",4),t.TgZ(7,"div",5),t.TgZ(8,"div",6),t.TgZ(9,"label",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t._UZ(12,"input",8),t.ALo(13,"translate"),t.ALo(14,"translate"),t._UZ(15,"validation-message",9),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"div",4),t.TgZ(17,"div",5),t.TgZ(18,"div",6),t.TgZ(19,"label",10),t._uU(20),t.ALo(21,"translate"),t.qZA(),t._UZ(22,"input",11),t.ALo(23,"translate"),t.ALo(24,"translate"),t._UZ(25,"validation-message",9),t.qZA(),t.qZA(),t.TgZ(26,"div",5),t.TgZ(27,"div",6),t.TgZ(28,"label",12),t._uU(29),t.ALo(30,"translate"),t.qZA(),t._UZ(31,"input",13),t.ALo(32,"translate"),t.ALo(33,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(34,"div",4),t.TgZ(35,"div",14),t.TgZ(36,"div",6),t.TgZ(37,"label",15),t._uU(38),t.ALo(39,"translate"),t.qZA(),t._UZ(40,"input",16),t.ALo(41,"translate"),t.ALo(42,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(43,"div",4),t.TgZ(44,"div",5),t.TgZ(45,"div",6),t.TgZ(46,"label",17),t._uU(47),t.ALo(48,"translate"),t.qZA(),t._UZ(49,"br"),t._UZ(50,"mat-slide-toggle",18),t.qZA(),t.qZA(),t.qZA(),t.TgZ(51,"div",19),t.TgZ(52,"div",20),t.TgZ(53,"input",21),t.NdJ("click",function(){return i.closeModel()}),t.ALo(54,"translate"),t.qZA(),t._uU(55," \xa0 "),t._UZ(56,"input",22),t.ALo(57,"translate"),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(2),t.Oqu(i.modalTitle),t.xp6(3),t.Q6J("formGroup",i.form),t.xp6(5),t.Oqu(t.lcZ(11,19,"PositionCode")),t.xp6(2),t.hYB("placeholder","",t.lcZ(13,21,"Please_Enter")," ",t.lcZ(14,23,"PositionCode")," "),t.xp6(3),t.Q6J("control",i.form.controls.positionCode),t.xp6(5),t.Oqu(t.lcZ(21,25,"PositionName_EN")),t.xp6(2),t.hYB("placeholder","",t.lcZ(23,27,"Please_Enter")," ",t.lcZ(24,29,"PositionName_EN"),""),t.xp6(3),t.Q6J("control",i.form.controls.positionNameEn),t.xp6(4),t.Oqu(t.lcZ(30,31,"PositionName_AR")),t.xp6(2),t.hYB("placeholder","",t.lcZ(32,33,"Please_Enter")," ",t.lcZ(33,35,"PositionName_AR"),""),t.xp6(7),t.hij("",t.lcZ(39,37,"PositionDescription")," "),t.xp6(2),t.hYB("placeholder","",t.lcZ(41,39,"Please_Enter")," ",t.lcZ(42,41,"PositionDescription"),""),t.xp6(7),t.Oqu(t.lcZ(48,43,"Is_Active")),t.xp6(6),t.s9C("value",t.lcZ(54,45,"Cancel")),t.xp6(3),t.s9C("value",t.lcZ(57,47,"Save")))},directives:[l._Y,l.JL,l.sg,l.Fj,l.JJ,l.u,x.s,L.Rr],pipes:[T.X$],encapsulation:2}),e})();var q=n(4803),D=n(6397),M=n(4041),E=n(8590);function O(e,r){1&e&&(t.TgZ(0,"th",31),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"PositionCode")," "))}function Y(e,r){if(1&e&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&e){const o=r.$implicit;t.xp6(1),t.Oqu(o.positionCode)}}function R(e,r){1&e&&(t.TgZ(0,"th",31),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"PositionName")," "))}function J(e,r){if(1&e&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&e){const o=r.$implicit,i=t.oxw();t.xp6(1),t.Oqu(i.isArab?o.positionNameAr:o.positionNameEn)}}function I(e,r){1&e&&(t.TgZ(0,"th",31),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IsActive")," "))}function w(e,r){if(1&e&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&e){const o=r.$implicit;t.xp6(1),t.Oqu(o.isActive)}}function B(e,r){1&e&&(t.TgZ(0,"th",33),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Actions")))}function k(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"td",32),t.TgZ(1,"a",34),t.NdJ("click",function(){const m=t.CHM(o).$implicit;return t.oxw().edit(m.id)}),t.ALo(2,"translate"),t._UZ(3,"i",35),t.qZA(),t._uU(4," \xa0 "),t.TgZ(5,"a",34),t.NdJ("click",function(){const m=t.CHM(o).$implicit;return t.oxw().delete(m.id)}),t.ALo(6,"translate"),t._UZ(7,"i",36),t.qZA(),t.qZA()}2&e&&(t.xp6(1),t.s9C("matTooltip",t.lcZ(2,2,"Edit_Item")),t.xp6(4),t.s9C("matTooltip",t.lcZ(6,4,"Delete_Item")))}function Q(e,r){1&e&&t._UZ(0,"tr",37)}function H(e,r){1&e&&t._UZ(0,"tr",38)}const V=[{path:"position",component:(()=>{class e extends g.A{constructor(o,i,s,m,p,C,_){super(i),this.apiService=o,this.authService=i,this.translate=s,this.utilService=m,this.notifyService=p,this.dialog=C,this.pageService=_,this.searchValue="",this.sortingOrder="id desc",this.isLoading=!1,this.totalItemsCount=0,this.data=new c.by,this.displayedColumns=["positionCode","positionName","isActive","Actions"],this.isArab=!1}ngOnInit(){this.isArab=this.utilService.isArabic(),this.initialLoading()}refresh(){this.searchValue="",this.initialLoading()}initialLoading(){this.loadList(0,this.pageService.pageCount,"",this.sortingOrder)}loadList(o,i,s,m){this.isLoading=!0,this.apiService.getPagination("Position",this.utilService.getQueryString(o,i,s,m)).subscribe(p=>{this.totalItemsCount=0,this.data=new c.by(p.items),this.totalItemsCount=p.totalCount,setTimeout(()=>{this.paginator.pageIndex=o,this.paginator.length=this.totalItemsCount}),this.data.sort=this.sort,this.isLoading=!1},p=>this.utilService.ShowApiErrorMessage(p))}applyFilter(o){o&&(this.searchValue=o,this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder))}openDialogManage(o=0,i,s,m){let p=this.utilService.openCrudDialog(this.dialog,U);p.componentInstance.dbops=i,p.componentInstance.modalTitle=s,p.componentInstance.modalBtnTitle=m,p.componentInstance.id=o,p.afterClosed().subscribe(C=>{C&&!0===C&&this.initialLoading()})}create(){this.openDialogManage(0,d.Oi.create,this.translate.instant("AddPosition"),"Add")}edit(o){this.openDialogManage(o,d.Oi.update,this.translate.instant("UpdatePosition"),"Update")}delete(o){this.utilService.openDeleteConfirmDialog(this.dialog,q.a).afterClosed().subscribe(s=>{s&&o>0&&this.apiService.delete("Position",o).subscribe(m=>{this.refresh(),this.utilService.OkMessage()})},s=>this.utilService.ShowApiErrorMessage(s))}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(v.s),t.Y36(f._),t.Y36(T.sK),t.Y36(y.t),t.Y36(N.g),t.Y36(S.uw),t.Y36(D.N))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-position"]],viewQuery:function(o,i){if(1&o&&(t.Gf(A.NW,7),t.Gf(u.YE,7)),2&o){let s;t.iGM(s=t.CRH())&&(i.paginator=s.first),t.iGM(s=t.CRH())&&(i.sort=s.first)}},features:[t.qOj],decls:47,vars:21,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"row","pb-3"],[1,"card-title","pt6"],[1,"col-md-3"],[1,"form-control",3,"placeholder","ngModel","ngModelChange"],[1,"col-md-4","arabicright"],[1,"btn","btn-primary",3,"click"],[1,"",3,"click"],[1,"btn","btn-primary","icon-refresh"],[1,"col-md-5","col-lg-5","text-right"],["data-toggle","modal","data-target","#createnewbranch","href","#",1,"btn","waves-effect","waves-light","btn-rounded","btn-outline-primary",3,"click"],[1,"icon-plus"],[1,"cardtitle-divider"],[1,"table-responsive"],[3,"isLoading"],[1,"mat-elevation-z8"],["mat-table","","matSortDisableClear","","matSort","",1,"table","table-bordered","no-wrap",3,"dataSource"],["matColumnDef","positionCode"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","positionName"],["matColumnDef","isActive"],["matColumnDef","Actions","stickyEnd",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[1,"tableicons",3,"matTooltip","click"],[1,"icon-note"],[1,"icon-trash"],["mat-header-row",""],["mat-row",""]],template:function(o,i){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"div",2),t.TgZ(7,"h4",6),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.qZA(),t.TgZ(10,"div",7),t.TgZ(11,"input",8),t.NdJ("ngModelChange",function(m){return i.searchValue=m}),t.ALo(12,"translate"),t.qZA(),t.qZA(),t.TgZ(13,"div",9),t.TgZ(14,"button",10),t.NdJ("click",function(){return i.applyFilter(i.searchValue)}),t._uU(15),t.ALo(16,"translate"),t.qZA(),t._uU(17," \xa0 "),t.TgZ(18,"a",11),t.NdJ("click",function(){return i.refresh()}),t._UZ(19,"i",12),t.qZA(),t.qZA(),t.TgZ(20,"div",13),t.TgZ(21,"a",14),t.NdJ("click",function(){return i.create()}),t._UZ(22,"i",15),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.qZA(),t.qZA(),t._UZ(25,"div",16),t.TgZ(26,"div",17),t._UZ(27,"spinner-loader",18),t.TgZ(28,"div",19),t.ynx(29),t.TgZ(30,"table",20),t.ynx(31,21),t.YNc(32,O,3,3,"th",22),t.YNc(33,Y,2,1,"td",23),t.BQk(),t.ynx(34,24),t.YNc(35,R,3,3,"th",22),t.YNc(36,J,2,1,"td",23),t.BQk(),t.ynx(37,25),t.YNc(38,I,3,3,"th",22),t.YNc(39,w,2,1,"td",23),t.BQk(),t.ynx(40,26),t.YNc(41,B,3,3,"th",27),t.YNc(42,k,8,6,"td",23),t.BQk(),t.YNc(43,Q,1,0,"tr",28),t.YNc(44,H,1,0,"tr",29),t.qZA(),t.ynx(45),t._UZ(46,"mat-paginator",30),t.BQk(),t.BQk(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(8),t.hij("",t.lcZ(9,13,"ManagePosition")," "),t.xp6(3),t.MGl("placeholder","",t.lcZ(12,15,"Search"),"..."),t.Q6J("ngModel",i.searchValue),t.xp6(4),t.Oqu(t.lcZ(16,17,"Search")),t.xp6(8),t.hij("",t.lcZ(24,19,"AddPosition")," "),t.xp6(4),t.Q6J("isLoading",i.isLoading),t.xp6(3),t.Q6J("dataSource",i.data),t.xp6(13),t.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(2),t.Q6J("length",i.totalItemsCount)("pageSize",i.pageService.pageCount)("pageSizeOptions",i.pageService.selectItemsPerPage))},directives:[l.Fj,l.JJ,l.On,M.r,c.BZ,u.YE,c.w1,c.fO,c.Dz,c.as,c.nj,A.NW,c.ge,u.nU,c.ev,E.gM,c.XQ,c.Gk],pipes:[T.X$],encapsulation:2}),e})()}];let F=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[h.Bz.forChild(V)],h.Bz]}),e})();var j=n(7453);let z=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[a.ez,F,j.m]]}),e})()},4803:(P,Z,n)=>{n.d(Z,{a:()=>A});var a=n(7716),h=n(2238);let A=(()=>{class u{constructor(g){this.dialogRef=g,this.modalTitle=""}onNoClick(){this.dialogRef.close()}}return u.\u0275fac=function(g){return new(g||u)(a.Y36(h.so))},u.\u0275cmp=a.Xpm({type:u,selectors:[["delete-confirmation-dialog"]],decls:9,vars:2,consts:[["mat-dialog-content","",1,"text-danger"],["mat-dialog-actions",""],[1,"btn","btn-primary",3,"mat-dialog-close"],[1,"btn","btn-danger",3,"click"]],template:function(g,d){1&g&&(a.TgZ(0,"div",0),a.TgZ(1,"h4"),a._uU(2),a.qZA(),a.qZA(),a.TgZ(3,"div",1),a.TgZ(4,"button",2),a._uU(5,"Yes"),a.qZA(),a._uU(6," \xa0 "),a.TgZ(7,"button",3),a.NdJ("click",function(){return d.onNoClick()}),a._uU(8,"No"),a.qZA(),a.qZA()),2&g&&(a.xp6(2),a.Oqu(""!==d.modalTitle?d.modalTitle:"Are you sure ?"),a.xp6(2),a.Q6J("mat-dialog-close",!0))},directives:[h.xY,h.H8,h.ZT],encapsulation:2}),u})()},4041:(P,Z,n)=>{n.d(Z,{r:()=>c,R:()=>g});var a=n(7716),h=n(8583),A=n(4885);function u(d,l){1&d&&(a.TgZ(0,"div",1),a._UZ(1,"mat-progress-spinner",2),a.qZA())}let c=(()=>{class d{constructor(){this.isLoading=!1}}return d.\u0275fac=function(t){return new(t||d)},d.\u0275cmp=a.Xpm({type:d,selectors:[["spinner-loader"]],inputs:{isLoading:"isLoading"},decls:1,vars:1,consts:[["style","display: flex; justify-content: center; align-items: center; background: white;",4,"ngIf"],[2,"display","flex","justify-content","center","align-items","center","background","white"],["color","primary","strokeWidth","3","diameter","30","mode","indeterminate"]],template:function(t,v){1&t&&a.YNc(0,u,2,0,"div",0),2&t&&a.Q6J("ngIf",v.isLoading)},directives:[h.O5,A.Ou],encapsulation:2}),d})();function g(d,l){return t=>{const f=t.controls[l];f.errors&&!f.errors.confirmedValidator||f.setErrors(t.controls[d].value!==f.value?{confirmedValidator:!0}:null)}}}}]);