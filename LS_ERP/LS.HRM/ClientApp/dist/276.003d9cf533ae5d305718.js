"use strict";(self.webpackChunkclient_app=self.webpackChunkclient_app||[]).push([[276],{4803:(U,C,p)=>{p.d(C,{a:()=>v});var s=p(7716),A=p(2238);let v=(()=>{class Z{constructor(_){this.dialogRef=_,this.modalTitle=""}onNoClick(){this.dialogRef.close()}}return Z.\u0275fac=function(_){return new(_||Z)(s.Y36(A.so))},Z.\u0275cmp=s.Xpm({type:Z,selectors:[["delete-confirmation-dialog"]],decls:9,vars:2,consts:[["mat-dialog-content","",1,"text-danger"],["mat-dialog-actions",""],[1,"btn","btn-primary",3,"mat-dialog-close"],[1,"btn","btn-danger",3,"click"]],template:function(_,u){1&_&&(s.TgZ(0,"div",0),s.TgZ(1,"h4"),s._uU(2),s.qZA(),s.qZA(),s.TgZ(3,"div",1),s.TgZ(4,"button",2),s._uU(5,"Yes"),s.qZA(),s._uU(6," \xa0 "),s.TgZ(7,"button",3),s.NdJ("click",function(){return u.onNoClick()}),s._uU(8,"No"),s.qZA(),s.qZA()),2&_&&(s.xp6(2),s.Oqu(""!==u.modalTitle?u.modalTitle:"Are you sure ?"),s.xp6(2),s.Q6J("mat-dialog-close",!0))},directives:[A.xY,A.H8,A.ZT],encapsulation:2}),Z})()},4041:(U,C,p)=>{p.d(C,{r:()=>m,R:()=>_});var s=p(7716),A=p(8583),v=p(4885);function Z(u,e){1&u&&(s.TgZ(0,"div",1),s._UZ(1,"mat-progress-spinner",2),s.qZA())}let m=(()=>{class u{constructor(){this.isLoading=!1}}return u.\u0275fac=function(h){return new(h||u)},u.\u0275cmp=s.Xpm({type:u,selectors:[["spinner-loader"]],inputs:{isLoading:"isLoading"},decls:1,vars:1,consts:[["style","display: flex; justify-content: center; align-items: center; background: white;",4,"ngIf"],[2,"display","flex","justify-content","center","align-items","center","background","white"],["color","primary","strokeWidth","3","diameter","30","mode","indeterminate"]],template:function(h,f){1&h&&s.YNc(0,Z,2,0,"div",0),2&h&&s.Q6J("ngIf",f.isLoading)},directives:[A.O5,v.Ou],encapsulation:2}),u})();function _(u,e){return h=>{const r=h.controls[e];r.errors&&!r.errors.confirmedValidator||r.setErrors(h.controls[u].value!==r.value?{confirmedValidator:!0}:null)}}},8276:(U,C,p)=>{p.r(C),p.d(C,{TimeandattendanceModule:()=>Ie});var s=p(8583),A=p(4655),v=p(9692),Z=p(1494),m=p(2789),_=p(5289),u=p(4803),e=p(7716),h=p(3048);let f=(()=>{class n{constructor(t){var o;t.SetApiEndPoint(null===(o=t.getUser())||void 0===o?void 0:o.hraUrl)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h._))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-parenttnamgt"]],decls:0,vars:0,template:function(t,o){},encapsulation:2}),n})();var r=p(3679),x=p(5830),b=p(7278),q=p(2238),S=p(2013),N=p(7928),D=p(3250),G=p(1627),J=p(8295),R=p(5396),y=p(9790);let k=(()=>{class n extends f{constructor(t,o,a,i,c,g,T){super(a),this.fb=t,this.apiService=o,this.authService=a,this.utilService=i,this.dialogRef=c,this.notifyService=g,this.validationService=T,this.id=0,this.isReadOnly=!1}ngOnInit(){this.setForm(),this.id>0&&this.setEditForm()}setForm(){this.form=this.fb.group({payrollGroupCode:["",r.kI.required],payrollGroupNameEn:["",r.kI.required],payrollGroupNameAr:[""],payrollGroupStartDate:["",r.kI.required],payrollGroupEndDate:["",r.kI.required],isActive:[!1]}),this.isReadOnly=!1}setEditForm(){this.apiService.get("PayrollGroup",this.id).subscribe(t=>{t&&(this.isReadOnly=!0,this.form.patchValue(t))})}closeModel(){this.dialogRef.close()}submit(){this.form.valid?(this.id>0&&(this.form.value.id=this.id),this.form.value.payrollGroupStartDate=this.utilService.selectedDateTime(this.form.controls.payrollGroupStartDate.value),this.form.value.payrollGroupEndDate=this.utilService.selectedDateTime(this.form.controls.payrollGroupEndDate.value),this.apiService.post("PayrollGroup",this.form.value).subscribe(t=>{this.utilService.OkMessage(),this.reset(),this.dialogRef.close(!0)},t=>{this.utilService.ShowApiErrorMessage(t)})):this.utilService.FillUpFields()}reset(){this.form.controls.payrollGroupCode.setValue(""),this.form.controls.payrollGroupNameEn.setValue(""),this.form.controls.payrollGroupNameAr.setValue(""),this.form.controls.payrollGroupStartDate.setValue(""),this.form.controls.payrollGroupEndDate.setValue(""),this.form.controls.isActive.setValue("")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.qu),e.Y36(x.s),e.Y36(h._),e.Y36(b.t),e.Y36(q.so),e.Y36(S.g),e.Y36(N.R))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-addupdatepayrollgroups"]],features:[e.qOj],decls:79,vars:65,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-hidden","true",1,"close",3,"click"],["novalidate","",1,"mt-4",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-6","col-lg-6"],[1,"form-group"],["for","payrollGroupCode"],["id","payrollGroupCode","type","text","formControlName","payrollGroupCode",1,"form-control",3,"placeholder","readonly"],[3,"control"],["for","payrollGroupNameEn"],["id","payrollGroupNameEn","type","text","formControlName","payrollGroupNameEn",1,"form-control",3,"placeholder"],["for","payrollGroupNameAr"],["id","payrollGroupNameAr","type","text","formControlName","payrollGroupNameAr",1,"form-control",3,"placeholder"],["for","payrollGroupStartDate",1,"mr-sm-2"],[1,"input-group"],["formControlName","payrollGroupStartDate",1,"form-control",3,"placeholder","matDatepicker"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["payrollGroupStartDatePicker",""],["for","payrollGroupEndDate",1,"mr-sm-2"],["formControlName","payrollGroupEndDate",1,"form-control",3,"placeholder","matDatepicker"],["payrollGroupEndDatePicker",""],["for","isActive"],["color","primary","formControlName","isActive"],[1,"row","mt-3"],[1,"col-md-12","col-lg-12","text-center"],["type","button",1,"btn","waves-effect","waves-light","btn-rounded","btn-secondary","btn-midblock",3,"value","click"],["type","submit",1,"btn","waves-effect","waves-light","btn-rounded","btn-primary","btn-midblock",3,"value"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"h3",1),e._uU(2),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return o.closeModel()}),e._uU(4," \xd7"),e.qZA(),e.qZA(),e.TgZ(5,"form",3),e.NdJ("ngSubmit",function(){return o.submit()}),e.TgZ(6,"div",4),e.TgZ(7,"div",5),e.TgZ(8,"div",6),e.TgZ(9,"label",7),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"input",8),e.ALo(13,"translate"),e.ALo(14,"translate"),e._UZ(15,"validation-message",9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"div",4),e.TgZ(17,"div",5),e.TgZ(18,"div",6),e.TgZ(19,"label",10),e._uU(20),e.ALo(21,"translate"),e.qZA(),e._UZ(22,"input",11),e.ALo(23,"translate"),e.ALo(24,"translate"),e._UZ(25,"validation-message",9),e.qZA(),e.qZA(),e.TgZ(26,"div",5),e.TgZ(27,"div",6),e.TgZ(28,"label",12),e._uU(29),e.ALo(30,"translate"),e.qZA(),e._UZ(31,"input",13),e.ALo(32,"translate"),e.ALo(33,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(34,"div",4),e.TgZ(35,"div",5),e.TgZ(36,"div",6),e.TgZ(37,"label",14),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"div",15),e._UZ(41,"input",16),e.ALo(42,"translate"),e.ALo(43,"translate"),e.TgZ(44,"div",17),e._UZ(45,"mat-datepicker-toggle",18),e._UZ(46,"mat-datepicker",null,19),e.qZA(),e.qZA(),e._UZ(48,"validation-message",9),e.qZA(),e.qZA(),e.TgZ(49,"div",5),e.TgZ(50,"div",6),e.TgZ(51,"div",6),e.TgZ(52,"label",20),e._uU(53),e.ALo(54,"translate"),e.qZA(),e.TgZ(55,"div",15),e._UZ(56,"input",21),e.ALo(57,"translate"),e.ALo(58,"translate"),e.TgZ(59,"div",17),e._UZ(60,"mat-datepicker-toggle",18),e._UZ(61,"mat-datepicker",null,22),e.qZA(),e.qZA(),e._UZ(63,"validation-message",9),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(64,"div",4),e.TgZ(65,"div",5),e.TgZ(66,"div",6),e.TgZ(67,"label",23),e._uU(68),e.ALo(69,"translate"),e.qZA(),e._UZ(70,"br"),e._UZ(71,"mat-slide-toggle",24),e.qZA(),e.qZA(),e.qZA(),e.TgZ(72,"div",25),e.TgZ(73,"div",26),e.TgZ(74,"input",27),e.NdJ("click",function(){return o.closeModel()}),e.ALo(75,"translate"),e.qZA(),e._uU(76," \xa0 "),e._UZ(77,"input",28),e.ALo(78,"translate"),e.qZA(),e.qZA(),e.qZA()),2&t){const a=e.MAs(47),i=e.MAs(62);e.xp6(2),e.Oqu(o.modalTitle),e.xp6(3),e.Q6J("formGroup",o.form),e.xp6(5),e.Oqu(e.lcZ(11,29,"PayrollGroupCode")),e.xp6(2),e.hYB("placeholder","",e.lcZ(13,31,"Please_Enter")," ",e.lcZ(14,33,"PayrollGroupCode")," "),e.Q6J("readonly",o.isReadOnly),e.xp6(3),e.Q6J("control",o.form.controls.payrollGroupCode),e.xp6(5),e.Oqu(e.lcZ(21,35,"PayrollGroupNameEn")),e.xp6(2),e.hYB("placeholder","",e.lcZ(23,37,"Please_Enter")," ",e.lcZ(24,39,"PayrollGroupNameEn"),""),e.xp6(3),e.Q6J("control",o.form.controls.payrollGroupNameEn),e.xp6(4),e.Oqu(e.lcZ(30,41,"PayrollGroupNameAr")),e.xp6(2),e.hYB("placeholder","",e.lcZ(32,43,"Please_Enter")," ",e.lcZ(33,45,"PayrollGroupNameAr"),""),e.xp6(7),e.hij(" ",e.lcZ(39,47,"PayrollGroupStartDate")," "),e.xp6(3),e.hYB("placeholder"," ",e.lcZ(42,49,"Please_Enter")," ",e.lcZ(43,51,"PayrollGroupStartDate"),""),e.Q6J("matDatepicker",a),e.xp6(4),e.Q6J("for",a),e.xp6(3),e.Q6J("control",o.form.controls.payrollGroupStartDate),e.xp6(5),e.hij(" ",e.lcZ(54,53,"PayrollGroupEndDate")," "),e.xp6(3),e.hYB("placeholder"," ",e.lcZ(57,55,"Please_Enter")," ",e.lcZ(58,57,"pageCount"),""),e.Q6J("matDatepicker",i),e.xp6(4),e.Q6J("for",i),e.xp6(3),e.Q6J("control",o.form.controls.payrollGroupEndDate),e.xp6(5),e.Oqu(e.lcZ(69,59,"Is_Active")),e.xp6(6),e.s9C("value",e.lcZ(75,61,"Cancel")),e.xp6(3),e.s9C("value",e.lcZ(78,63,"Save"))}},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,D.s,G.hl,G.nW,J.R9,G.Mq,R.Rr],pipes:[y.X$],encapsulation:2}),n})();var Q=p(6397),I=p(4041),O=p(8590);function Y(n,l){1&n&&(e.TgZ(0,"th",42),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"SNo")," "))}function F(n,l){if(1&n&&(e.TgZ(0,"td",43),e._uU(1),e.qZA()),2&n){const t=l.index;e.xp6(1),e.Oqu(t+1)}}function B(n,l){1&n&&(e.TgZ(0,"th",42),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"PayrollGroupCode")," "))}function $(n,l){if(1&n&&(e.TgZ(0,"td",43),e._uU(1),e.qZA()),2&n){const t=l.$implicit;e.xp6(1),e.Oqu(t.payrollGroupCode)}}function j(n,l){1&n&&(e.TgZ(0,"th",42),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"PayrollGroupName")," "))}function W(n,l){if(1&n&&(e.TgZ(0,"td",43),e._uU(1),e.qZA()),2&n){const t=l.$implicit,o=e.oxw();e.xp6(1),e.hij("",o.isArab?t.payrollGroupNameAr:t.payrollGroupNameEn," ")}}function V(n,l){1&n&&(e.TgZ(0,"th",42),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"PayrollGroupStartDate")," "))}function H(n,l){if(1&n&&(e.TgZ(0,"td",43),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=l.$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,t.payrollGroupStartDate,"dd/MM/yyyy"))}}function z(n,l){1&n&&(e.TgZ(0,"th",42),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"PayrollGroupEndDate")," "))}function X(n,l){if(1&n&&(e.TgZ(0,"td",43),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=l.$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,t.payrollGroupEndDate,"dd/MM/yyyy"))}}function K(n,l){1&n&&(e.TgZ(0,"th",42),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"IsActive")," "))}function ee(n,l){if(1&n&&(e.TgZ(0,"td",43),e._uU(1),e.qZA()),2&n){const t=l.$implicit;e.xp6(1),e.Oqu(t.isActive)}}function te(n,l){1&n&&(e.TgZ(0,"th",44),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Actions")))}function oe(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"td",43),e.TgZ(1,"a",45),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.oxw().edit(i.id)}),e.ALo(2,"translate"),e._UZ(3,"i",46),e.qZA(),e._uU(4," \xa0 "),e.TgZ(5,"a",45),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.oxw().delete(i.id)}),e.ALo(6,"translate"),e._UZ(7,"i",47),e.qZA(),e.qZA()}2&n&&(e.xp6(1),e.s9C("matTooltip",e.lcZ(2,2,"Edit_Item")),e.xp6(4),e.s9C("matTooltip",e.lcZ(6,4,"Delete_Item")))}function ne(n,l){1&n&&e._UZ(0,"tr",48)}function ae(n,l){1&n&&e._UZ(0,"tr",49)}let le=(()=>{class n extends f{constructor(t,o,a,i,c,g){super(o),this.apiService=t,this.authService=o,this.translate=a,this.utilService=i,this.dialog=c,this.pageService=g,this.searchValue="",this.sortingOrder="id desc",this.isLoading=!1,this.totalItemsCount=0,this.data=new m.by,this.displayedColumns=["sno","payrollGroupCode","payrollGroupName","payrollGroupStartDate","payrollGroupEndDate","isActive","Actions"],this.isArab=!1}ngOnInit(){this.isArab=this.utilService.isArabic(),this.initialLoading()}refresh(){this.searchValue="",this.initialLoading()}initialLoading(){this.loadList(0,this.pageService.pageCount,"",this.sortingOrder)}loadList(t,o,a,i){this.isLoading=!0,this.apiService.getPagination("PayrollGroup",this.utilService.getQueryString(t,o,a,i)).subscribe(c=>{this.totalItemsCount=0,this.data=new m.by(c.items),this.totalItemsCount=c.totalCount,setTimeout(()=>{this.paginator.pageIndex=t,this.paginator.length=this.totalItemsCount}),this.data.sort=this.sort,this.isLoading=!1},c=>this.utilService.ShowApiErrorMessage(c))}applyFilter(t){t&&(this.searchValue=t,this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder))}openDialogManage(t=0,o,a,i){let c=this.utilService.openCrudDialog(this.dialog,k);c.componentInstance.dbops=o,c.componentInstance.modalTitle=a,c.componentInstance.modalBtnTitle=i,c.componentInstance.id=t,c.afterClosed().subscribe(g=>{g&&!0===g&&this.initialLoading()})}create(){this.openDialogManage(0,_.Oi.create,this.translate.instant("AddPayrollGroup"),"Add")}edit(t){this.openDialogManage(t,_.Oi.update,this.translate.instant("UpdatePayrollGroup"),"Update")}delete(t){this.utilService.openDeleteConfirmDialog(this.dialog,u.a).afterClosed().subscribe(a=>{a&&t>0&&this.apiService.delete("PayrollGroup",t).subscribe(i=>{this.refresh(),this.utilService.OkMessage()})},a=>this.utilService.ShowApiErrorMessage(a))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(x.s),e.Y36(h._),e.Y36(y.sK),e.Y36(b.t),e.Y36(q.uw),e.Y36(Q.N))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-getpayrollgroups"]],viewQuery:function(t,o){if(1&t&&(e.Gf(v.NW,7),e.Gf(Z.YE,7)),2&t){let a;e.iGM(a=e.CRH())&&(o.paginator=a.first),e.iGM(a=e.CRH())&&(o.sort=a.first)}},features:[e.qOj],decls:71,vars:30,consts:[[1,"page-breadcrumb"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],[1,"container-fluid"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"row","pb-3"],[1,"card-title","pt6"],[1,"col-md-3"],[1,"form-control",3,"placeholder","ngModel","ngModelChange"],[1,"col-md-4","arabicright"],[1,"btn","btn-primary",3,"click"],[1,"",3,"click"],[1,"btn","btn-primary","icon-refresh"],[1,"col-md-5","col-lg-5","text-right"],["data-toggle","modal","data-target","#createnewbranch","href","#",1,"btn","waves-effect","waves-light","btn-rounded","btn-outline-primary",3,"click"],[1,"icon-plus"],[1,"cardtitle-divider"],[1,"table-responsive"],[3,"isLoading"],[1,"mat-elevation-z8"],["mat-table","","matSortDisableClear","","matSort","",1,"table","table-bordered","no-wrap",3,"dataSource"],["matColumnDef","sno"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","payrollGroupCode"],["matColumnDef","payrollGroupName"],["matColumnDef","payrollGroupStartDate"],["matColumnDef","payrollGroupEndDate"],["matColumnDef","isActive"],["matColumnDef","Actions","stickyEnd",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[1,"tableicons",3,"matTooltip","click"],[1,"icon-note"],[1,"icon-trash"],["mat-header-row",""],["mat-row",""]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"h3",3),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",4),e.TgZ(7,"nav",5),e.TgZ(8,"ol",6),e.TgZ(9,"li",7),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"li",8),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"div",9),e.TgZ(16,"div",1),e.TgZ(17,"div",10),e.TgZ(18,"div",11),e.TgZ(19,"div",12),e.TgZ(20,"div",13),e.TgZ(21,"div",10),e.TgZ(22,"h4",14),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.qZA(),e.TgZ(25,"div",15),e.TgZ(26,"input",16),e.NdJ("ngModelChange",function(i){return o.searchValue=i}),e.ALo(27,"translate"),e.qZA(),e.qZA(),e.TgZ(28,"div",17),e.TgZ(29,"button",18),e.NdJ("click",function(){return o.applyFilter(o.searchValue)}),e._uU(30),e.ALo(31,"translate"),e.qZA(),e._uU(32," \xa0 "),e.TgZ(33,"a",19),e.NdJ("click",function(){return o.refresh()}),e._UZ(34,"i",20),e.qZA(),e.qZA(),e.TgZ(35,"div",21),e.TgZ(36,"a",22),e.NdJ("click",function(){return o.create()}),e._UZ(37,"i",23),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.qZA(),e.qZA(),e._UZ(40,"div",24),e.TgZ(41,"div",25),e._UZ(42,"spinner-loader",26),e.TgZ(43,"div",27),e.ynx(44),e.TgZ(45,"table",28),e.ynx(46,29),e.YNc(47,Y,3,3,"th",30),e.YNc(48,F,2,1,"td",31),e.BQk(),e.ynx(49,32),e.YNc(50,B,3,3,"th",30),e.YNc(51,$,2,1,"td",31),e.BQk(),e.ynx(52,33),e.YNc(53,j,3,3,"th",30),e.YNc(54,W,2,1,"td",31),e.BQk(),e.ynx(55,34),e.YNc(56,V,3,3,"th",30),e.YNc(57,H,3,4,"td",31),e.BQk(),e.ynx(58,35),e.YNc(59,z,3,3,"th",30),e.YNc(60,X,3,4,"td",31),e.BQk(),e.ynx(61,36),e.YNc(62,K,3,3,"th",30),e.YNc(63,ee,2,1,"td",31),e.BQk(),e.ynx(64,37),e.YNc(65,te,3,3,"th",38),e.YNc(66,oe,8,6,"td",31),e.BQk(),e.YNc(67,ne,1,0,"tr",39),e.YNc(68,ae,1,0,"tr",40),e.qZA(),e.ynx(69),e._UZ(70,"mat-paginator",41),e.BQk(),e.BQk(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(4),e.hij(" ",e.lcZ(5,16,"Payroll")," "),e.xp6(6),e.hij(" ",e.lcZ(11,18,"Payroll")," "),e.xp6(3),e.hij(" ",e.lcZ(14,20,"Get Payroll Groups")," "),e.xp6(10),e.hij("",e.lcZ(24,22,"ManagePayrollGroup")," "),e.xp6(3),e.MGl("placeholder","",e.lcZ(27,24,"Search"),"..."),e.Q6J("ngModel",o.searchValue),e.xp6(4),e.Oqu(e.lcZ(31,26,"Search")),e.xp6(8),e.hij("",e.lcZ(39,28,"AddPayrollGroup")," "),e.xp6(4),e.Q6J("isLoading",o.isLoading),e.xp6(3),e.Q6J("dataSource",o.data),e.xp6(22),e.Q6J("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns),e.xp6(2),e.Q6J("length",o.totalItemsCount)("pageSize",o.pageService.pageCount)("pageSizeOptions",o.pageService.selectItemsPerPage))},directives:[r.Fj,r.JJ,r.On,I.r,m.BZ,Z.YE,m.w1,m.fO,m.Dz,m.as,m.nj,v.NW,m.ge,Z.nU,m.ev,O.gM,m.XQ,m.Gk],pipes:[y.X$,s.uU],encapsulation:2}),n})();var L=p(4376);function ie(n,l){if(1&n&&(e.TgZ(0,"option",28),e._uU(1),e.qZA()),2&n){const t=l.$implicit;e.s9C("value",t.value),e.xp6(1),e.hij(" ",t.text,"")}}function re(n,l){if(1&n&&(e.TgZ(0,"option",28),e._uU(1),e.qZA()),2&n){const t=l.$implicit;e.s9C("value",t.value),e.xp6(1),e.hij(" ",t.text,"")}}function se(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){return e.CHM(t),e.oxw().GenerateEmployeeRoaster()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"GenerateEmployeeRoaster")))}function pe(n,l){if(1&n&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&n){const t=l.$implicit;e.xp6(1),e.hij(" ",t.roasterDay.substring(0,2)," ")}}function ce(n,l){if(1&n&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&n){const t=l.$implicit;e.xp6(1),e.hij(" ",t.roasterDate.substring(0,2),"")}}function de(n,l){if(1&n&&(e.TgZ(0,"option",38),e._uU(1),e.qZA()),2&n){const t=l.$implicit,o=e.oxw(2).$implicit;e.s9C("value",t.value),e.Q6J("selected",o.get("shiftCode").value==t.value),e.xp6(1),e.hij(" ",t.value,"")}}function me(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"select",36),e.NdJ("change",function(a){e.CHM(t);const i=e.oxw().index,c=e.oxw().index;return e.oxw(2).updateEmployeeRoaster(c,i,a)}),e.YNc(2,de,2,3,"option",37),e.qZA(),e.qZA()}if(2&n){const t=e.oxw().index,o=e.oxw().index,a=e.oxw(2);e.xp6(1),e.hYB("name","select_",o,"_",t,""),e.hYB("id","select_",o,"_",t,""),e.xp6(1),e.Q6J("ngForOf",a.shifts)}}function ue(n,l){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.get("shiftCode").value," ")}}function ge(n,l){if(1&n&&(e.TgZ(0,"td"),e.YNc(1,me,3,5,"div",35),e.YNc(2,ue,2,1,"div",35),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.get("isShiftApplicable").value),e.xp6(1),e.Q6J("ngIf",!t.get("isShiftApplicable").value)}}function he(n,l){if(1&n&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.YNc(7,ge,3,2,"td",31),e.qZA()),2&n){const t=l.$implicit,o=l.index,a=e.oxw(2);e.xp6(2),e.Oqu(o+1),e.xp6(2),e.hij("",t.get("employeeName").value," "),e.xp6(2),e.Oqu(t.get("branchName").value),e.xp6(1),e.Q6J("ngForOf",a.formRoasterRowsArr(o).controls)}}function Ze(n,l){if(1&n&&(e.TgZ(0,"div",1),e.TgZ(1,"div",10),e.TgZ(2,"table",29),e.TgZ(3,"tr"),e.TgZ(4,"th",30),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"th",30),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th",30),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.YNc(13,pe,2,1,"th",31),e.qZA(),e.TgZ(14,"tr"),e.TgZ(15,"th",32),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"th",33),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"th",33),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.YNc(24,ce,2,1,"th",31),e.qZA(),e.TgZ(25,"tbody",34),e.YNc(26,he,8,4,"tr",31),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n){const t=e.oxw();e.xp6(5),e.Oqu(e.lcZ(6,9,"SNo")),e.xp6(3),e.hij("",e.lcZ(9,11,"EmployeeName")," "),e.xp6(3),e.Oqu(e.lcZ(12,13,"BranchName")),e.xp6(2),e.Q6J("ngForOf",t.roasterColumns),e.xp6(3),e.Oqu(e.lcZ(17,15,"SNo")),e.xp6(3),e.hij("",e.lcZ(20,17,"EmployeeName")," "),e.xp6(3),e.Oqu(e.lcZ(23,19,"BranchName")),e.xp6(2),e.Q6J("ngForOf",t.roasterColumns),e.xp6(2),e.Q6J("ngForOf",t.formEmployeeRoasterArr.controls)}}function _e(n,l){1&n&&(e.TgZ(0,"div",1),e.TgZ(1,"div",39),e._UZ(2,"input",40),e.ALo(3,"translate"),e.qZA(),e.qZA()),2&n&&(e.xp6(2),e.s9C("value",e.lcZ(3,1,"Save")))}const fe=function(){return{standalone:!0}};let ye=(()=>{class n extends f{constructor(t,o,a,i,c,g){super(o),this.fb=t,this.authService=o,this.apiService=a,this.utilService=i,this.notifyService=c,this.translate=g,this.payrollGroups=[],this.branches=[],this.shifts=[],this.payrollPeriods=[],this.branchCode="",this.payrollGroupCode="",this.payrollPeriodCode="",this.roasterColumns=[],this.isSaveEnabled=!1}ngOnInit(){this.setForm(),this.loadPayrollGroups(),this.loadBranches("1"),this.loadPayrollPeriod(),this.loadShifts()}setForm(){this.form=this.fb.group({employeeRoasters:this.fb.array([this.addEmployeeRoastersRow()]),roasterColumns:this.fb.array([this.addRoasterColumn()])})}get formEmployeeRoasterArr(){return this.form.get("employeeRoasters")}get formRoasterColumnsArr(){return this.form.get("roasterColumns")}formRoasterRowsArr(t){var o;return null===(o=this.formEmployeeRoasterArr.at(t).get("roasterRows"))||void 0===o?void 0:o.value}loadPayrollGroups(){this.apiService.getall("PayrollGroup/GetPayrollGroupSelectListItem").subscribe(t=>{this.payrollGroups=t})}loadBranches(t){this.apiService.getQueryString("Branch/GetBranchesByCompany?id=",t).subscribe(o=>{this.branches=o})}loadShifts(){this.apiService.getall("Shift/getShiftSelectListItem").subscribe(t=>{this.shifts=t})}loadPayrollPeriod(){this.apiService.getall("PayrollPeriod/GetPayrollPeriodSelectListItem").subscribe(t=>{this.payrollPeriods=t},t=>{this.utilService.ShowApiErrorMessage(t)})}GetEmployeeRoaster(){if(this.payrollGroupCode&&this.branchCode&&this.payrollPeriodCode){let t=`payrollGroupCode=${encodeURIComponent(""+this.payrollGroupCode)}&branchCode=${encodeURIComponent(""+this.branchCode)}\n      &payrollPeriodCode=${encodeURIComponent(""+this.payrollPeriodCode)}`;this.apiService.getQueryString("EmployeeRoaster?",t).subscribe(o=>{this.data=o,this.isSaveEnabled=!1,this.data&&(this.formEmployeeRoasterArr.clear(),this.formRoasterColumnsArr.clear(),this.roasterColumns=[],this.data.employeeRoasters.forEach(a=>{this.formEmployeeRoasterArr.push(this.addEmployeeRoastersRow(a))}),this.data.roasterColumns.forEach(a=>{this.roasterColumns.push(a),this.formRoasterColumnsArr.push(this.addRoasterColumn(a))}),0==this.data.employeeRoasters.length&&this.notifyService.showError(this.translate.instant("RoasterDoesNotExistsForEmployees")))})}else this.notifyService.showError(this.translate.instant("SelectFilters"))}addRoasterRows(t){return new r.Oe(t?t.map(o=>this.addRoasterRow(o)):[this.addRoasterRow()])}updateEmployeeRoaster(t,o,a){var i,c;let g;this.isSaveEnabled=!0;for(let T=o;T<=this.roasterColumns.length;T++){if(g=document.getElementsByName("select_"+t.toString()+"_"+T.toString())[0],"O"==g.value){("O"!=g.value||"O"===a.target.value)&&(null===(c=this.form.get("employeeRoasters").at(t).get("roasterRows"))||void 0===c||c.value.at(T).get("shiftCode").setValue(a.target.value));break}g.value=a.target.value,null===(i=this.form.get("employeeRoasters").at(t).get("roasterRows"))||void 0===i||i.value.at(T).get("shiftCode").setValue(a.target.value)}}addRoasterRow(t){return this.fb.group(t?{roasterDate:[t.roasterDate],shiftCode:[t.shiftCode]}:{roasterDate:[""],shiftCode:[""]})}addEmployeeRoastersRow(t){return this.fb.group(t?{id:[t.id],employeeID:[t.employeeID],employeeName:[t.employeeName],branchCode:[t.branchCode],branchName:[t.branchName],payrollGroupCode:[t.payrollGroupCode],PayrollGroupName:[t.PayrollGroupName],roasterRows:[this.addRoasterRows(t.roasterRows)],isShiftApplicable:[t.isShiftApplicable],created:[t.created],createdBy:[t.createdBy],modified:[t.modified],modifiedBy:[t.modifiedBy],isActive:[t.isActive]}:{id:[""],employeeID:[""],employeeName:[""],branchCode:[""],branchName:[""],payrollGroupCode:[""],PayrollGroupName:[""],roasterRows:[this.addRoasterRows()],isShiftApplicable:[!1],created:[""],createdBy:[""],modified:[""],modifiedBy:[""],isActive:[!0]})}addRoasterColumn(t){return this.fb.group(t?{roasterDate:[t.roasterDate],roasterDay:[t.roasterDay]}:{roasterDate:[""],roasterDay:[""]})}submit(){this.form.valid?(this.data=this.form.value,this.data.employeeRoasters.forEach((t,o)=>{var a;t.roasterRows=null===(a=this.form.get("employeeRoasters").at(o).get("roasterRows"))||void 0===a?void 0:a.value.value}),this.apiService.post("EmployeeRoaster",this.data).subscribe(t=>{this.utilService.OkMessage()},t=>{this.utilService.ShowApiErrorMessage(t)})):this.utilService.FillUpFields()}GenerateEmployeeRoaster(){if(this.payrollGroupCode&&this.branchCode&&this.payrollPeriodCode){let t=`payrollGroupCode=${encodeURIComponent(""+this.payrollGroupCode)}&branchCode=${encodeURIComponent(""+this.branchCode)}\n      &payrollPeriodCode=${encodeURIComponent(""+this.payrollPeriodCode)}`;this.apiService.getQueryString("EmployeeRoaster/GenerateEmployeesRoaster?",t).subscribe(o=>{1==o.id?(this.utilService.OkMessage(),this.GetEmployeeRoaster()):this.notifyService.showError(this.translate.instant(o.message))},o=>{this.utilService.ShowApiErrorMessage(o)})}else this.notifyService.showError(this.translate.instant("SelectAllFilters"))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.qu),e.Y36(h._),e.Y36(x.s),e.Y36(b.t),e.Y36(S.g),e.Y36(y.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-getemployeeroasters"]],features:[e.qOj],decls:62,vars:42,consts:[[1,"page-breadcrumb"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],[1,"container-fluid"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title","pt6"],[1,"col-md-4","col-lg-4"],["for","payrollGroupCode",1,"mr-sm-2"],[1,"custom-select","mr-sm-2",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-group"],["for","branchCode",1,"mr-sm-2"],["bindLabel","text","bindValue","value","placeholder","SelectBranch",3,"items","ngModel","ngModelOptions","ngModelChange"],["for","payrollPeriodCode",1,"mr-sm-2"],[1,"col-md-6","col-lg-6","mt-4"],[1,"btn","btn-primary",3,"click"],["class","btn btn-primary",3,"click",4,"ngIf"],["novalidate","",1,"mt-4",3,"formGroup","ngSubmit"],["class","row",4,"ngIf"],[3,"value"],[1,"table-responsive"],["rowspan","2"],[4,"ngFor","ngForOf"],["rowspan","2",2,"display","none"],[2,"display","none"],["formArrayName","employeeRoasters"],[4,"ngIf"],[1,"select",3,"name","id","change"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"],[1,"col-md-12","col-lg-12","mb-3","text-center"],["type","submit",1,"btn","btn-primary",2,"margin-right","10px",3,"value"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"h3",3),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",4),e.TgZ(7,"nav",5),e.TgZ(8,"ol",6),e.TgZ(9,"li",7),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"li",8),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"div",9),e.TgZ(16,"div",1),e.TgZ(17,"div",10),e.TgZ(18,"div",11),e.TgZ(19,"div",12),e.TgZ(20,"div",1),e.TgZ(21,"div",10),e.TgZ(22,"h4",13),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.qZA(),e.qZA(),e._UZ(25,"br"),e.TgZ(26,"div",1),e.TgZ(27,"div",14),e.TgZ(28,"label",15),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"select",16),e.NdJ("ngModelChange",function(i){return o.payrollGroupCode=i}),e.TgZ(32,"option",17),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.YNc(35,ie,2,2,"option",18),e.qZA(),e.qZA(),e.TgZ(36,"div",14),e.TgZ(37,"div",19),e.TgZ(38,"label",20),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"ng-select",21),e.NdJ("ngModelChange",function(i){return o.branchCode=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(42,"div",14),e.TgZ(43,"label",22),e._uU(44),e.ALo(45,"translate"),e.qZA(),e.TgZ(46,"select",16),e.NdJ("ngModelChange",function(i){return o.payrollPeriodCode=i}),e.TgZ(47,"option",17),e._uU(48),e.ALo(49,"translate"),e.qZA(),e.YNc(50,re,2,2,"option",18),e.qZA(),e.qZA(),e.qZA(),e.TgZ(51,"div",1),e.TgZ(52,"div",23),e.TgZ(53,"button",24),e.NdJ("click",function(){return o.GetEmployeeRoaster()}),e._uU(54),e.ALo(55,"translate"),e.qZA(),e._uU(56," \xa0 "),e.YNc(57,se,3,3,"button",25),e.qZA(),e.qZA(),e.TgZ(58,"form",26),e.NdJ("ngSubmit",function(){return o.submit()}),e.YNc(59,Ze,27,21,"div",27),e._UZ(60,"br"),e.YNc(61,_e,4,3,"div",27),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(4),e.hij(" ",e.lcZ(5,21,"TimeAndAttendance")," "),e.xp6(6),e.hij(" ",e.lcZ(11,23,"EmployeeRoaster")," "),e.xp6(3),e.hij(" ",e.lcZ(14,25,"EmployeeRoasterList")," "),e.xp6(10),e.hij(" ",e.lcZ(24,27,"EmployeeRoasterList")," "),e.xp6(6),e.Oqu(e.lcZ(30,29,"PayrollGroup")),e.xp6(2),e.Q6J("ngModel",o.payrollGroupCode),e.xp6(2),e.Oqu(e.lcZ(34,31,"PayrollGroup")),e.xp6(2),e.Q6J("ngForOf",o.payrollGroups),e.xp6(4),e.Oqu(e.lcZ(40,33,"Branch")),e.xp6(2),e.Q6J("items",o.branches)("ngModel",o.branchCode)("ngModelOptions",e.DdM(41,fe)),e.xp6(3),e.Oqu(e.lcZ(45,35,"PayrollPeriod")),e.xp6(2),e.Q6J("ngModel",o.payrollPeriodCode),e.xp6(2),e.Oqu(e.lcZ(49,37,"PayrollPeriod")),e.xp6(2),e.Q6J("ngForOf",o.payrollPeriods),e.xp6(4),e.Oqu(e.lcZ(55,39,"GetEmployeeRoaster")),e.xp6(3),e.Q6J("ngIf",0==o.formEmployeeRoasterArr.controls.length),e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(1),e.Q6J("ngIf",o.formEmployeeRoasterArr.controls.length>0&&o.roasterColumns.length>0),e.xp6(2),e.Q6J("ngIf",o.roasterColumns.length>0&&o.isSaveEnabled))},directives:[r.EJ,r.JJ,r.On,r.YN,r.Kr,s.sg,L.w9,s.O5,r._Y,r.JL,r.sg,r.CE],pipes:[y.X$],styles:["table[_ngcontent-%COMP%] {\n    border-collapse: collapse;\n    width: 100%;\n  }\n\n  th[_ngcontent-%COMP%] {\n    background-color: #548087;\n    color: white;\n    font-weight: 500;\n    border: 1px solid #a5a5a5;\n    text-align: center;\n    font-size: 0.775rem !important;\n    width: 40px;\n    height: 40px;\n  }\n\n  td[_ngcontent-%COMP%] {\n    border: 1px solid #a5a5a5;\n    text-align: center;\n    font-size: 0.775rem !important;\n    width: 40px;\n    height: 40px;\n  }\n  table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(1) {\n    width: 5%;\n  }\n  table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2) {\n    width: 8%;\n  }\n\n  table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3) {\n    width: 8%;\n  }\n\n  .select[_ngcontent-%COMP%] {\n    word-wrap: normal;\n    width: 40px;\n    height: 40px;\n    border: none;\n    text-align: center;\n    appearance: none;\n  }\n\n  .mt-4[_ngcontent-%COMP%] {\n    margin-top: 1.9rem !important;\n  }\n\n  .present[_ngcontent-%COMP%] {\n    \n    color: black;\n    \n  }\n\n  .holiday[_ngcontent-%COMP%] {\n    background-color: #fcc404;\n    \n  }\n\n  .off[_ngcontent-%COMP%] {\n    background-color: #d3dbe3;\n    \n  }\n\n  .presentonholiday[_ngcontent-%COMP%] {\n    background-color: rgb(230, 189, 241);\n    \n  }\n\n  .presentonoffday[_ngcontent-%COMP%] {\n    background-color: #ffffc8;\n    \n  }\n\n  .absent[_ngcontent-%COMP%] {\n    background-color: rgba(255, 80, 80, 0.768);\n    \n  }\n\n  section[_ngcontent-%COMP%] {\n    display: table;\n  }\n\n  .example-label[_ngcontent-%COMP%] {\n    display: table-cell;\n    font-size: 14px;\n    margin-left: 8px;\n    min-width: 120px;\n  }\n\n  .example-button-row[_ngcontent-%COMP%] {\n    display: table-cell;\n    max-width: 600px;\n  }\n\n  .example-button-row[_ngcontent-%COMP%]   .mat-mdc-button-base[_ngcontent-%COMP%] {\n    margin: 8px 8px 8px 0;\n  }\n\n  .example-flex-container[_ngcontent-%COMP%] {\n    display: flex;\n    justify-content: space-between;\n    flex-wrap: wrap;\n  }\n\n  .example-button-container[_ngcontent-%COMP%] {\n    display: flex;\n    justify-content: center;\n    width: 120px;\n  }\n\n  .icon[_ngcontent-%COMP%] {\n    width: 60px;\n    height: 57px;\n    padding: none;\n    box-shadow: none;\n  }\n\n  .mat-fab[_ngcontent-%COMP%]   .mat-button-wrapper[_ngcontent-%COMP%] {\n    padding: 0px 0;\n    display: inline-block;\n    line-height: 24px;\n  }\n\n  span.mat-button-wrapper[_ngcontent-%COMP%] {\n    padding: 0px;\n  }"]}),n})(),Ae=(()=>{class n extends f{constructor(t,o,a,i,c){super(a),this.fb=t,this.apiService=o,this.authService=a,this.utilService=i,this.dialogRef=c,this.files=[]}ngOnInit(){this.setForm()}setForm(){this.form=this.fb.group({files:[""]})}onFileChanged(t){if(new FileReader,t.target.files&&t.target.files.length>0)for(let a=0;a<t.target.files.length;a++)this.files.push(t.target.files[a])}closeModel(){this.dialogRef.close()}submit(){if(this.form.valid){if(this.formData=new FormData,this.files.length>0){for(let t=0;t<this.files.length;t++)this.formData.append("file",this.files[t],this.files[t].name);this.apiService.post("EmployeeAttendance/ImportEmployeeAttendance",this.formData).subscribe(t=>{this.utilService.OkMessage(),this.reset(),this.dialogRef.close(!0)},t=>{this.utilService.ShowApiErrorMessage(t)})}}else this.utilService.FillUpFields()}reset(){this.form.controls.files.setValue("")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.qu),e.Y36(x.s),e.Y36(h._),e.Y36(b.t),e.Y36(q.so))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-importemployeeattendance"]],features:[e.qOj],decls:24,vars:13,consts:[["type","button","aria-hidden","true",1,"close",3,"click"],[1,"col-md-12","col-lg-12"],["novalidate","",1,"mt-4",3,"formGroup","ngSubmit"],[1,"row"],[1,"form-group"],[1,"custom-file"],["type","file",1,"custom-file-input",3,"change"],[1,"custom-file-label"],[1,"row","mt-3"],[1,"col-md-12","col-lg-12","text-right"],["type","button",1,"btn","btn-secondary",3,"value","click"],["type","submit",1,"btn","btn-primary",3,"value"]],template:function(t,o){1&t&&(e._UZ(0,"br"),e.TgZ(1,"button",0),e.NdJ("click",function(){return o.closeModel()}),e._uU(2," \xd7"),e.qZA(),e.TgZ(3,"h3"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"hr"),e.TgZ(7,"div",1),e.TgZ(8,"form",2),e.NdJ("ngSubmit",function(){return o.submit()}),e.TgZ(9,"div",3),e.TgZ(10,"div",1),e.TgZ(11,"div",4),e.TgZ(12,"div",5),e.TgZ(13,"input",6),e.NdJ("change",function(i){return o.onFileChanged(i)}),e.qZA(),e.TgZ(14,"label",7),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",8),e.TgZ(18,"div",9),e.TgZ(19,"input",10),e.NdJ("click",function(){return o.closeModel()}),e.ALo(20,"translate"),e.qZA(),e._uU(21," \xa0 "),e._UZ(22,"input",11),e.ALo(23,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(4),e.Oqu(e.lcZ(5,5,o.modalTitle)),e.xp6(4),e.Q6J("formGroup",o.form),e.xp6(7),e.Oqu(e.lcZ(16,7,"ChooseFile")),e.xp6(4),e.s9C("value",e.lcZ(20,9,"Cancel")),e.xp6(3),e.s9C("value",e.lcZ(23,11,o.modalBtnTitle)))},directives:[r._Y,r.JL,r.sg],pipes:[y.X$],encapsulation:2}),n})();const d=function(n,l){return{"even-row":n,"odd-row":l}};function Te(n,l){if(1&n&&(e.TgZ(0,"tr"),e.TgZ(1,"td",14),e._uU(2),e.qZA(),e.TgZ(3,"td",14),e._uU(4),e.qZA(),e.TgZ(5,"td",14),e._uU(6),e.qZA(),e.TgZ(7,"td",14),e._uU(8),e.qZA(),e.TgZ(9,"td",14),e._uU(10),e.qZA(),e.TgZ(11,"td",14),e._uU(12),e.qZA(),e.TgZ(13,"td",14),e._uU(14),e.qZA(),e.TgZ(15,"td",14),e._uU(16),e.qZA(),e.TgZ(17,"td",14),e._uU(18),e.qZA(),e.TgZ(19,"td",14),e._uU(20),e.qZA(),e.TgZ(21,"td",14),e._uU(22),e.qZA(),e.TgZ(23,"td",14),e._uU(24),e.qZA(),e.qZA()),2&n){const t=l.$implicit,o=l.index,a=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.WLB(24,d,o%2==0,o%2!=0)),e.xp6(1),e.Oqu(t.employeeName),e.xp6(1),e.Q6J("ngClass",e.WLB(27,d,o%2==0,o%2!=0)),e.xp6(1),e.Oqu(t.branchName),e.xp6(1),e.Q6J("ngClass",e.WLB(30,d,o%2==0,o%2!=0)),e.xp6(1),e.Oqu(t.totalDays),e.xp6(1),e.Q6J("ngClass",e.WLB(33,d,o%2==0,o%2!=0)),e.xp6(1),e.Oqu(t.totalPresentDays),e.xp6(1),e.Q6J("ngClass",e.WLB(36,d,o%2==0,o%2!=0)),e.xp6(1),e.Oqu(t.totalOffDays),e.xp6(1),e.Q6J("ngClass",e.WLB(39,d,o%2==0,o%2!=0)),e.xp6(1),e.Oqu(t.totalHolidays),e.xp6(1),e.Q6J("ngClass",e.WLB(42,d,o%2==0,o%2!=0)),e.xp6(1),e.Oqu(t.totalAbsents),e.xp6(1),e.Q6J("ngClass",e.WLB(45,d,o%2==0,o%2!=0)),e.xp6(1),e.Oqu(t.netWorkingDays),e.xp6(1),e.Q6J("ngClass",e.WLB(48,d,o%2==0,o%2!=0)),e.xp6(1),e.Oqu(t.totalLateDays),e.xp6(1),e.Q6J("ngClass",e.WLB(51,d,o%2==0,o%2!=0)),e.xp6(1),e.hij("",a.utilService.convertTicksToTimeStamp(t.totalLateHours)," "),e.xp6(1),e.Q6J("ngClass",e.WLB(54,d,o%2==0,o%2!=0)),e.xp6(1),e.Oqu(a.utilService.convertTicksToTimeStamp(t.normalOTHours)),e.xp6(1),e.Q6J("ngClass",e.WLB(57,d,o%2==0,o%2!=0)),e.xp6(1),e.Oqu(a.utilService.convertTicksToTimeStamp(t.specialOTHours))}}function Ce(n,l){if(1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",6),e.TgZ(2,"table",13),e.TgZ(3,"tr"),e.TgZ(4,"th",14),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"th",14),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th",14),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th",14),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th",14),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th",14),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th",14),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th",14),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th",14),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th",14),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"th",14),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"th",14),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.qZA(),e.TgZ(40,"tbody"),e.YNc(41,Te,25,60,"tr",15),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngClass",e.WLB(49,d,t.i%2==0,t.i%2!=0)),e.xp6(1),e.Oqu(e.lcZ(6,25,"EmployeeName")),e.xp6(2),e.Q6J("ngClass",e.WLB(52,d,t.i%2==0,t.i%2!=0)),e.xp6(1),e.Oqu(e.lcZ(9,27,"BranchName")),e.xp6(2),e.Q6J("ngClass",e.WLB(55,d,t.i%2==0,t.i%2!=0)),e.xp6(1),e.Oqu(e.lcZ(12,29,"TotalDays")),e.xp6(2),e.Q6J("ngClass",e.WLB(58,d,t.i%2==0,t.i%2!=0)),e.xp6(1),e.Oqu(e.lcZ(15,31,"TotalPresentDays")),e.xp6(2),e.Q6J("ngClass",e.WLB(61,d,t.i%2==0,t.i%2!=0)),e.xp6(1),e.Oqu(e.lcZ(18,33,"TotalOffDays")),e.xp6(2),e.Q6J("ngClass",e.WLB(64,d,t.i%2==0,t.i%2!=0)),e.xp6(1),e.Oqu(e.lcZ(21,35,"TotalHolidays")),e.xp6(2),e.Q6J("ngClass",e.WLB(67,d,t.i%2==0,t.i%2!=0)),e.xp6(1),e.Oqu(e.lcZ(24,37,"TotalAbsents")),e.xp6(2),e.Q6J("ngClass",e.WLB(70,d,t.i%2==0,t.i%2!=0)),e.xp6(1),e.Oqu(e.lcZ(27,39,"NetWorkingDays")),e.xp6(2),e.Q6J("ngClass",e.WLB(73,d,t.i%2==0,t.i%2!=0)),e.xp6(1),e.Oqu(e.lcZ(30,41,"TotalLateDays")),e.xp6(2),e.Q6J("ngClass",e.WLB(76,d,t.i%2==0,t.i%2!=0)),e.xp6(1),e.Oqu(e.lcZ(33,43,"TotalLateHours")),e.xp6(2),e.Q6J("ngClass",e.WLB(79,d,t.i%2==0,t.i%2!=0)),e.xp6(1),e.Oqu(e.lcZ(36,45,"NormalOTHours")),e.xp6(2),e.Q6J("ngClass",e.WLB(82,d,t.i%2==0,t.i%2!=0)),e.xp6(1),e.Oqu(e.lcZ(39,47,"SpecialOTHours")),e.xp6(3),e.Q6J("ngForOf",t.consolidatedAttendanceList)}}let ve=(()=>{class n extends f{constructor(t,o,a,i,c){super(t),this.authService=t,this.apiService=o,this.utilService=a,this.translate=i,this.dialogRef=c,this.searchValue="",this.consolidatedAttendanceList=[]}ngOnInit(){this.ConsolidateEmployeeAttendance()}ConsolidateEmployeeAttendance(){if(this.payrollGroupCode&&this.branchCode){let t=`payrollGroupCode=${encodeURIComponent(""+this.payrollGroupCode)}&branchCode=${encodeURIComponent(""+this.branchCode)}`;this.searchValue&&(t+=`&employeeName=${encodeURIComponent(""+this.searchValue)}`),this.apiService.getQueryString("EmployeeAttendance/ConsolidateEmployeeAttendance?",t).subscribe(o=>{o&&(this.consolidatedAttendanceList=o)})}}closeModel(){this.dialogRef.close()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h._),e.Y36(x.s),e.Y36(b.t),e.Y36(y.sK),e.Y36(q.so))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-consolidateemployeeattendance"]],features:[e.qOj],decls:23,vars:9,consts:[[1,"row"],[1,"col-md-4"],[1,"modal-title","text-center",2,"font-size","30px"],[1,"col-md-4","text-right"],["type","button","aria-hidden","true",1,"close",3,"click"],[1,"container-fluid"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"col-md-3"],["for",""],[1,"form-control",3,"placeholder","ngModel","ngModelChange","change"],["class","row",4,"ngIf"],[1,"form-group"],[3,"ngClass"],[4,"ngFor","ngForOf"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"div",1),e.TgZ(3,"h3",2),e._uU(4),e.qZA(),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"button",4),e.NdJ("click",function(){return o.closeModel()}),e._uU(7," \xd7"),e.qZA(),e.qZA(),e.qZA(),e._UZ(8,"hr"),e.TgZ(9,"div",5),e.TgZ(10,"div",0),e.TgZ(11,"div",6),e.TgZ(12,"div",7),e.TgZ(13,"div",8),e.TgZ(14,"div",0),e.TgZ(15,"div",9),e.TgZ(16,"label",10),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"input",11),e.NdJ("ngModelChange",function(i){return o.searchValue=i})("change",function(){return o.ConsolidateEmployeeAttendance()}),e.ALo(20,"translate"),e.qZA(),e.qZA(),e.qZA(),e._uU(21," \xa0 "),e.YNc(22,Ce,42,85,"div",12),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(4),e.Oqu(o.modalTitle),e.xp6(13),e.Oqu(e.lcZ(18,5,"Search")),e.xp6(2),e.MGl("placeholder","",e.lcZ(20,7,"Search"),"..."),e.Q6J("ngModel",o.searchValue),e.xp6(3),e.Q6J("ngIf",o.consolidatedAttendanceList.length>0))},directives:[r.Fj,r.JJ,r.On,s.O5,s.mk,s.sg],pipes:[y.X$],styles:["table[_ngcontent-%COMP%] {\n        border-collapse: collapse;\n        width: 100%;\n    }\n\n    td[_ngcontent-%COMP%], th[_ngcontent-%COMP%] {\n        border: 1px solid #a5a5a5;\n        text-align: center;\n        padding: 1px;\n        font-size: 0.775rem !important;\n    }\n\n    th[_ngcontent-%COMP%] {\n        color: black;\n    }\n\n    .even-row[_ngcontent-%COMP%] {\n        background-color: #ffffff;\n        color: rgb(29, 29, 29);\n\n    }\n\n    .odd-row[_ngcontent-%COMP%] {\n        background-color: #dbe5f3;\n        color: rgb(29, 29, 29);\n    }"]}),n})();var P=p(1095),M=p(6627);function xe(n,l){if(1&n&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&n){const t=l.$implicit;e.s9C("value",t.value),e.xp6(1),e.hij(" ",t.text,"")}}function be(n,l){1&n&&(e.TgZ(0,"div",1),e._UZ(1,"div",28),e._UZ(2,"div",28),e.TgZ(3,"div",28),e.TgZ(4,"h3"),e._uU(5,"Code Colours Indicators:-"),e.qZA(),e._UZ(6,"hr"),e.TgZ(7,"table",29),e.TgZ(8,"tr",30),e.TgZ(9,"td",31),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"td",32),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"td",33),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.qZA(),e.TgZ(18,"tr",30),e.TgZ(19,"td",34),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"td",35),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"td",36),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(10),e.Oqu(e.lcZ(11,6,"P = Present")),e.xp6(3),e.Oqu(e.lcZ(14,8,"O = Off")),e.xp6(3),e.Oqu(e.lcZ(17,10,"H = Holiday")),e.xp6(4),e.Oqu(e.lcZ(21,12,"A = Absent")),e.xp6(3),e.Oqu(e.lcZ(24,14,"PH = Present On Holiday")),e.xp6(3),e.Oqu(e.lcZ(27,16,"PO = Present On Off Day")))}const w=function(n,l){return{"even-column":n,"odd-column":l}};function qe(n,l){if(1&n&&(e.TgZ(0,"th",43),e._uU(1),e.qZA()),2&n){const t=l.$implicit,o=l.index;e.Q6J("ngClass",e.WLB(2,w,o%2==0,o%2!=0)),e.xp6(1),e.hij(" ",t.attendanceDay.substring(0,2)," ")}}function Ge(n,l){if(1&n&&(e.TgZ(0,"th",44),e._uU(1),e.qZA()),2&n){const t=l.$implicit,o=l.index;e.Q6J("ngClass",e.WLB(2,w,o%2==0,o%2!=0)),e.xp6(1),e.hij(" ",t.attendanceDate.substring(0,2)," ")}}function Oe(n,l){if(1&n&&(e.TgZ(0,"td",47),e._uU(1),e.qZA()),2&n){const t=l.index;e.xp6(1),e.Oqu(t+1)}}function Ue(n,l){if(1&n&&(e.TgZ(0,"div",54),e.ALo(1,"date"),e._uU(2),e.qZA()),2&n){const t=e.oxw().$implicit,o=e.oxw().$implicit,a=e.oxw(2);e.s9C("matTooltip","Name: "+o.employeeName+" || Date: "+e.xi3(1,2,t.date,"dd/MM/yyyy")+" || In Time: "+a.utilService.convertTicksToTimeStamp(t.inTime.ticks)+" || Out Time: "+a.utilService.convertTicksToTimeStamp(t.outTime.ticks)+" || Attendance Flag: "+t.attnFlag),e.xp6(2),e.hij(" ",t.attnFlag," ")}}function Se(n,l){if(1&n&&(e.TgZ(0,"div",55),e.ALo(1,"date"),e._uU(2),e.qZA()),2&n){const t=e.oxw().$implicit,o=e.oxw().$implicit,a=e.oxw(2);e.s9C("matTooltip","Name: "+o.employeeName+" || Date: "+e.xi3(1,2,t.date,"dd/MM/yyyy")+" || In Time: "+a.utilService.convertTicksToTimeStamp(t.inTime.ticks)+" || Out Time: "+a.utilService.convertTicksToTimeStamp(t.outTime.ticks)+" || Attendance Flag: "+t.attnFlag),e.xp6(2),e.hij(" ",t.attnFlag," ")}}function Le(n,l){if(1&n&&(e.TgZ(0,"div",56),e.ALo(1,"date"),e._uU(2," O "),e.qZA()),2&n){const t=e.oxw().$implicit,o=e.oxw().$implicit,a=e.oxw(2);e.s9C("matTooltip","Name: "+o.employeeName+" || Date: "+e.xi3(1,1,t.date,"dd/MM/yyyy")+" || In Time: "+a.utilService.convertTicksToTimeStamp(t.inTime.ticks)+" || Out Time: "+a.utilService.convertTicksToTimeStamp(t.outTime.ticks)+" || Attendance Flag: "+t.attnFlag)}}function Pe(n,l){if(1&n&&(e.TgZ(0,"div",57),e.ALo(1,"date"),e._uU(2),e.qZA()),2&n){const t=e.oxw().$implicit,o=e.oxw().$implicit,a=e.oxw(2);e.s9C("matTooltip","Name: "+o.employeeName+" || Date: "+e.xi3(1,2,t.date,"dd/MM/yyyy")+" || In Time: "+a.utilService.convertTicksToTimeStamp(t.inTime.ticks)+" || Out Time: "+a.utilService.convertTicksToTimeStamp(t.outTime.ticks)+" || Attendance Flag: "+t.attnFlag),e.xp6(2),e.hij(" ",t.attnFlag," ")}}function Me(n,l){if(1&n&&(e.TgZ(0,"div",58),e.ALo(1,"date"),e._uU(2," H "),e.qZA()),2&n){const t=e.oxw().$implicit,o=e.oxw().$implicit,a=e.oxw(2);e.s9C("matTooltip","Name: "+o.employeeName+" || Date: "+e.xi3(1,1,t.date,"dd/MM/yyyy")+" || In Time: "+a.utilService.convertTicksToTimeStamp(t.inTime.ticks)+" || Out Time: "+a.utilService.convertTicksToTimeStamp(t.outTime.ticks)+" || Attendance Flag: "+t.attnFlag)}}function we(n,l){if(1&n&&(e.TgZ(0,"div",59),e.ALo(1,"date"),e._uU(2),e.qZA()),2&n){const t=e.oxw().$implicit,o=e.oxw().$implicit,a=e.oxw(2);e.s9C("matTooltip","Name: "+o.employeeName+" || Date: "+e.xi3(1,2,t.date,"dd/MM/yyyy")+" || In Time: "+a.utilService.convertTicksToTimeStamp(t.inTime.ticks)+" || Out Time: "+a.utilService.convertTicksToTimeStamp(t.outTime.ticks)+" || Attendance Flag: "+t.attnFlag),e.xp6(2),e.hij(" ",t.attnFlag," ")}}function Ee(n,l){if(1&n&&(e.TgZ(0,"td"),e.YNc(1,Ue,3,5,"div",48),e.YNc(2,Se,3,5,"div",49),e.YNc(3,Le,3,4,"div",50),e.YNc(4,Pe,3,5,"div",51),e.YNc(5,Me,3,4,"div",52),e.YNc(6,we,3,5,"div",53),e.qZA()),2&n){const t=l.$implicit;e.xp6(1),e.Q6J("ngIf","P"==t.attnFlag),e.xp6(1),e.Q6J("ngIf","O"==t.attnFlag),e.xp6(1),e.Q6J("ngIf","PO"==t.attnFlag),e.xp6(1),e.Q6J("ngIf","H"==t.attnFlag),e.xp6(1),e.Q6J("ngIf","PH"==t.attnFlag),e.xp6(1),e.Q6J("ngIf","A"==t.attnFlag)}}const E=function(n,l){return{"even-row":n,"odd-row":l}};function Ne(n,l){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,Oe,2,1,"td",45),e.TgZ(2,"td",46),e._uU(3),e.qZA(),e.TgZ(4,"td",46),e._uU(5),e.qZA(),e.YNc(6,Ee,7,6,"td",42),e.qZA()),2&n){const t=l.$implicit,o=l.index;e.xp6(2),e.Q6J("ngClass",e.WLB(5,E,o%2==0,o%2!=0)),e.xp6(1),e.hij(" ",t.employeeName," "),e.xp6(1),e.Q6J("ngClass",e.WLB(8,E,o%2==0,o%2!=0)),e.xp6(1),e.hij(" ",t.branchName," "),e.xp6(1),e.Q6J("ngForOf",t.attendanceRows)}}function De(n,l){if(1&n&&(e.TgZ(0,"div",1),e.TgZ(1,"div",10),e.TgZ(2,"div",37),e.TgZ(3,"table",38),e.TgZ(4,"tr"),e.TgZ(5,"th",39),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"th",39),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"th",39),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.YNc(14,qe,2,5,"th",40),e.qZA(),e.TgZ(15,"tr"),e.YNc(16,Ge,2,5,"th",41),e.qZA(),e.TgZ(17,"tbody"),e.YNc(18,Ne,7,11,"tr",42),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n){const t=e.oxw();e.xp6(6),e.hij(" ",e.lcZ(7,6,"SNo")," "),e.xp6(3),e.hij(" ",e.lcZ(10,8,"EmployeeName")," "),e.xp6(3),e.hij(" ",e.lcZ(13,10,"BranchName")," "),e.xp6(2),e.Q6J("ngForOf",t.attendanceColumns),e.xp6(2),e.Q6J("ngForOf",t.attendanceColumns),e.xp6(2),e.Q6J("ngForOf",t.employeeList)}}const Je=function(){return{standalone:!0}},Re=[{path:"getpayrollgroups",component:le},{path:"GetEmployeeroaster",component:ye},{path:"GetEmployeeattendance",component:(()=>{class n extends f{constructor(t,o,a,i,c,g){super(o),this.fb=t,this.authService=o,this.apiService=a,this.utilService=i,this.dialog=c,this.translate=g,this.payrollGroups=[],this.branches=[],this.attendanceColumns=[],this.employeeList=[],this.payrollGroupCode="",this.branchCode=""}ngOnInit(){this.loadPayrollGroups(),this.loadBranches("1")}loadPayrollGroups(){this.apiService.getall("PayrollGroup/GetPayrollGroupSelectListItem").subscribe(t=>{this.payrollGroups=t})}loadBranches(t){this.apiService.getQueryString("Branch/GetBranchesByCompany?id=",t).subscribe(o=>{this.branches=o})}openDialogManage(t,o){let a=this.utilService.openCrudDialog(this.dialog,Ae,"35%","36%");a.componentInstance.modalTitle=t,a.componentInstance.modalBtnTitle=o}importemployeeattendance(){this.openDialogManage(this.translate.instant("AddAttachment"),this.translate.instant("ImportFile"))}GetEmployeeAttendance(){if(this.payrollGroupCode&&this.branchCode){let t=`payrollGroupCode=${encodeURIComponent(""+this.payrollGroupCode)}&branchCode=${encodeURIComponent(""+this.branchCode)}`;this.apiService.getQueryString("EmployeeAttendance?",t).subscribe(o=>{this.data=o,this.data&&(this.attendanceColumns=[],this.employeeList=[],this.data.employeeList.forEach(a=>{this.employeeList.push(a)}),this.data.attendanceColumns.forEach(a=>{this.attendanceColumns.push(a)}))})}}ApproveAttendance(){const t=this.utilService.openDeleteConfirmDialog(this.dialog,u.a);t.componentInstance.modalTitle="Are you sure you want to approve attendance?",t.afterClosed().subscribe(o=>{if(o&&this.payrollGroupCode&&this.branchCode){let a=`payrollGroupCode=${encodeURIComponent(""+this.payrollGroupCode)}&branchCode=${encodeURIComponent(""+this.branchCode)}`;this.apiService.getQueryString("EmployeeAttendance/ApproveEmployeeAttendance?",a).subscribe(i=>{this.utilService.OkMessage()},i=>{this.utilService.ShowApiErrorMessage(i)})}},o=>this.utilService.ShowApiErrorMessage(o))}openConsolidatedAttendanceDialog(t="",o="",a){let i=this.utilService.openCrudDialog(this.dialog,ve);i.componentInstance.modalTitle=a,i.componentInstance.payrollGroupCode=t,i.componentInstance.branchCode=o}GetEmployeeConsolidatedAttendance(){this.payrollGroupCode&&this.branchCode&&this.openConsolidatedAttendanceDialog(this.payrollGroupCode,this.branchCode,this.translate.instant("EmployeeConsolidatedAttendance"))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.qu),e.Y36(h._),e.Y36(x.s),e.Y36(b.t),e.Y36(q.uw),e.Y36(y.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-get-employeeattendance"]],features:[e.qOj],decls:70,vars:53,consts:[[1,"page-breadcrumb"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],[1,"container-fluid"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title","pt6"],[1,"col-md-2"],["for","payrollGroupCode",1,"mr-sm-2"],[1,"custom-select","mr-sm-2",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-group"],["for","branchCode",1,"mr-sm-2"],["bindLabel","text","bindValue","value","placeholder","Select Branch",3,"items","ngModel","ngModelOptions","ngModelChange"],[1,"mt-3","ml-2"],["mat-fab","","color","primary","aria-label","Example icon button with a delete icon",1,"icon","p-0",3,"matTooltip","click"],[1,"p-0"],[2,"padding","0px"],["class","row",4,"ngIf"],[3,"value"],[1,"col-md-4","col-lg-4"],[1,"form-group","p-0"],[1,"p-1"],[1,"present"],[1,"off"],[1,"holiday"],[1,"absent"],[1,"presentonholiday"],[1,"presentonoffday"],[1,"table-responsive",2,"width","100%"],[1,"form-group",2,"width","100%"],["rowspan","2",2,"color","#fff","background-color","#548087"],["style","font-weight: 600;",3,"ngClass",4,"ngFor","ngForOf"],["style","font-weight: 500;",3,"ngClass",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[2,"font-weight","600",3,"ngClass"],[2,"font-weight","500",3,"ngClass"],["mat-cell","",4,"matCellDef"],[2,"font-weight","400",3,"ngClass"],["mat-cell",""],["class","present","matTooltipPosition","above",3,"matTooltip",4,"ngIf"],["class","off","matTooltipPosition","above",3,"matTooltip",4,"ngIf"],["class","presentonoffday","matTooltipPosition","above",3,"matTooltip",4,"ngIf"],["class","holiday","matTooltipPosition","above",3,"matTooltip",4,"ngIf"],["class","presentonholiday","matTooltipPosition","above",3,"matTooltip",4,"ngIf"],["class","absent","matTooltipPosition","above",3,"matTooltip",4,"ngIf"],["matTooltipPosition","above",1,"present",3,"matTooltip"],["matTooltipPosition","above",1,"off",3,"matTooltip"],["matTooltipPosition","above",1,"presentonoffday",3,"matTooltip"],["matTooltipPosition","above",1,"holiday",3,"matTooltip"],["matTooltipPosition","above",1,"presentonholiday",3,"matTooltip"],["matTooltipPosition","above",1,"absent",3,"matTooltip"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"h3",3),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",4),e.TgZ(7,"nav",5),e.TgZ(8,"ol",6),e.TgZ(9,"li",7),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"li",8),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"div",9),e.TgZ(16,"div",1),e.TgZ(17,"div",10),e.TgZ(18,"div",11),e.TgZ(19,"div",12),e.TgZ(20,"div",1),e.TgZ(21,"div",10),e.TgZ(22,"h4",13),e._uU(23),e.ALo(24,"translate"),e.qZA(),e._UZ(25,"hr"),e.qZA(),e.qZA(),e._UZ(26,"br"),e.TgZ(27,"div",1),e.TgZ(28,"div",14),e.TgZ(29,"label",15),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"select",16),e.NdJ("ngModelChange",function(i){return o.payrollGroupCode=i}),e.TgZ(33,"option",17),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.YNc(36,xe,2,2,"option",18),e.qZA(),e.qZA(),e.TgZ(37,"div",14),e.TgZ(38,"div",19),e.TgZ(39,"label",20),e._uU(40),e.ALo(41,"translate"),e.qZA(),e.TgZ(42,"ng-select",21),e.NdJ("ngModelChange",function(i){return o.branchCode=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(43,"div",22),e.TgZ(44,"button",23),e.NdJ("click",function(){return o.GetEmployeeAttendance()}),e.ALo(45,"translate"),e.TgZ(46,"mat-icon",24),e._uU(47),e.ALo(48,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(49,"div",22),e.TgZ(50,"button",23),e.NdJ("click",function(){return o.importemployeeattendance()}),e.ALo(51,"translate"),e.TgZ(52,"div",25),e.TgZ(53,"mat-icon",25),e._uU(54),e.ALo(55,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(56,"div",22),e.TgZ(57,"button",23),e.NdJ("click",function(){return o.ApproveAttendance()}),e.ALo(58,"translate"),e.TgZ(59,"mat-icon",24),e._uU(60),e.ALo(61,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(62,"div",22),e.TgZ(63,"button",23),e.NdJ("click",function(){return o.GetEmployeeConsolidatedAttendance()}),e.ALo(64,"translate"),e.TgZ(65,"mat-icon",24),e._uU(66),e.ALo(67,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(68,be,28,18,"div",26),e.YNc(69,De,19,12,"div",26),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(4),e.hij(" ",e.lcZ(5,22,"TimeAndAttendance")," "),e.xp6(6),e.hij(" ",e.lcZ(11,24,"EmployeeAttendance")," "),e.xp6(3),e.hij(" ",e.lcZ(14,26,"GenerateEmployeeAttendance")," "),e.xp6(10),e.hij(" ",e.lcZ(24,28,"GenerateEmployeeAttendance")," "),e.xp6(7),e.Oqu(e.lcZ(31,30,"PayrollGroup")),e.xp6(2),e.Q6J("ngModel",o.payrollGroupCode),e.xp6(2),e.Oqu(e.lcZ(35,32,"PayrollGroup")),e.xp6(2),e.Q6J("ngForOf",o.payrollGroups),e.xp6(4),e.Oqu(e.lcZ(41,34,"Branch")),e.xp6(2),e.Q6J("items",o.branches)("ngModel",o.branchCode)("ngModelOptions",e.DdM(52,Je)),e.xp6(2),e.s9C("matTooltip",e.lcZ(45,36,"GetEmployeeAttendance")),e.xp6(3),e.Oqu(e.lcZ(48,38,"calendar_today")),e.xp6(3),e.s9C("matTooltip",e.lcZ(51,40,"ImportAttendance")),e.xp6(4),e.Oqu(e.lcZ(55,42,"cloud_upload")),e.xp6(3),e.s9C("matTooltip",e.lcZ(58,44,"ApproveAttendance")),e.xp6(3),e.Oqu(e.lcZ(61,46,"done")),e.xp6(3),e.s9C("matTooltip",e.lcZ(64,48,"ConsolidateAttendance")),e.xp6(3),e.Oqu(e.lcZ(67,50,"view_list")),e.xp6(2),e.Q6J("ngIf",o.attendanceColumns.length>0),e.xp6(1),e.Q6J("ngIf",o.attendanceColumns.length>0))},directives:[r.EJ,r.JJ,r.On,r.YN,r.Kr,s.sg,L.w9,P.lW,O.gM,M.Hw,s.O5,s.mk,m.Dz,m.ev],pipes:[y.X$,s.uU],styles:["table[_ngcontent-%COMP%] {\n        border-collapse: collapse;\n        width: 100%;\n    }\n\n    td[_ngcontent-%COMP%], th[_ngcontent-%COMP%] {\n        border: 1px solid #a5a5a5;\n        text-align: center;\n        padding: 1px;\n        font-size: 0.775rem !important;\n    }\n\n    th[_ngcontent-%COMP%] {\n        color: black;\n    }\n\n    .select[_ngcontent-%COMP%] {\n        word-wrap: normal;\n        width: 32px;\n        height: 32px;\n    }\n\n    .mt-4[_ngcontent-%COMP%] {\n        margin-top: 1.9rem !important;\n    }\n\n    .present[_ngcontent-%COMP%] {\n        \n        color: black;\n        \n    }\n\n    .holiday[_ngcontent-%COMP%] {\n        background-color: #fcc404;\n        \n    }\n\n    .off[_ngcontent-%COMP%] {\n        background-color: #d3dbe3;\n        \n    }\n\n    .presentonholiday[_ngcontent-%COMP%] {\n        background-color: rgb(230, 189, 241);\n        \n    }\n\n    .presentonoffday[_ngcontent-%COMP%] {\n        background-color: #ffffc8;\n        \n    }\n\n    .absent[_ngcontent-%COMP%] {\n        background-color: rgba(255, 80, 80, 0.768);\n        \n    }\n\n    section[_ngcontent-%COMP%] {\n        display: table;\n    }\n\n    .example-label[_ngcontent-%COMP%] {\n        display: table-cell;\n        font-size: 14px;\n        margin-left: 8px;\n        min-width: 120px;\n    }\n\n    .example-button-row[_ngcontent-%COMP%] {\n        display: table-cell;\n        max-width: 600px;\n    }\n\n    .example-button-row[_ngcontent-%COMP%]   .mat-mdc-button-base[_ngcontent-%COMP%] {\n        margin: 8px 8px 8px 0;\n    }\n\n    .example-flex-container[_ngcontent-%COMP%] {\n        display: flex;\n        justify-content: space-between;\n        flex-wrap: wrap;\n    }\n\n    .example-button-container[_ngcontent-%COMP%] {\n        display: flex;\n        justify-content: center;\n        width: 120px;\n    }\n\n    .icon[_ngcontent-%COMP%] {\n        width: 60px;\n        height: 57px;\n        padding: none;\n        box-shadow: none;\n        background-color: #5f76e8;\n    }\n\n    .mat-fab[_ngcontent-%COMP%]   .mat-button-wrapper[_ngcontent-%COMP%] {\n        padding: 0px 0;\n        display: inline-block;\n        line-height: 24px;\n    }\n\n    span.mat-button-wrapper[_ngcontent-%COMP%] {\n        padding: 0px;\n    }\n\n    .even-column[_ngcontent-%COMP%] {\n        background-color: #548087;\n        color: white;\n        \n    }\n\n    .odd-column[_ngcontent-%COMP%] {\n        background-color: #548087;\n        color: white;\n        \n    }\n\n    .even-row[_ngcontent-%COMP%] {\n        background-color: #ffffff;\n        color: rgb(29, 29, 29);\n\n    }\n\n    .odd-row[_ngcontent-%COMP%] {\n        background-color: #dbe5f3;\n        color: rgb(29, 29, 29);\n    }"]}),n})()}];let ke=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[A.Bz.forChild(Re)],A.Bz]}),n})();var Qe=p(7453);let Ie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[s.ez,ke,Qe.m,O.AV,P.ot,M.Ps]]}),n})()}}]);