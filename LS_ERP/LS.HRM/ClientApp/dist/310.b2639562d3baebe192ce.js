"use strict";(self.webpackChunkclient_app=self.webpackChunkclient_app||[]).push([[310],{8310:(dt,B,m)=>{m.r(B),m.d(B,{SalesAndDistributionModule:()=>Pl});var d=m(8583),J=m(7453),$=m(1095),V=m(7441),q=m(8590),_=m(1627),A=m(8295),I=m(4655),l=m(3679),z=m(9761),W=m(4395),H=m(7519),G=m(3190),X=m(8002),t=m(7716),T=m(3048);let v=(()=>{class n{constructor(e){var i;e.SetApiEndPoint(null===(i=e.getUser())||void 0===i?void 0:i.sndUrl)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(T._))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-ParentSalesMgtComponent"]],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();var x=m(5830),C=m(7278),S=m(2013),K=m(4727),k=m(1554),D=m(4376),O=m(5396),tt=m(2458),b=m(4041),h=m(9790),E=m(4246);function ht(n,a){if(1&n&&(t.TgZ(0,"mat-option",44),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e.value),t.xp6(1),t.AsE(" (",e.value,") ",e.textTwo," ")}}function At(n,a){if(1&n&&(t.TgZ(0,"div",45),t._UZ(1,"spinner-loader",24),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("isLoading",e.isLoading)}}function Tt(n,a){if(1&n&&t._UZ(0,"img",56),2&n){const e=t.oxw(2);t.s9C("src",e.logoURL,t.LSH)}}function ft(n,a){if(1&n&&(t.TgZ(0,"span",58),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" Warehouse :",e.whCode," ")}}function qt(n,a){if(1&n&&(t.TgZ(0,"span",58),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ,Customer Code :",e.codeControl.value," ")}}function vt(n,a){if(1&n&&(t.TgZ(0,"div",49),t.TgZ(1,"p"),t._uU(2),t.ALo(3,"date"),t.ALo(4,"date"),t.qZA(),t.YNc(5,ft,2,1,"span",57),t.YNc(6,qt,2,1,"span",57),t.qZA()),2&n){const e=t.oxw(2);t.xp6(2),t.AsE(' The Statement of " Invoice Summary" for ',t.xi3(3,4,e.dateFrom,"dd/MM/yyyy")," to ",t.xi3(4,7,e.dateTo,"dd/MM/yyyy")," "),t.xp6(3),t.Q6J("ngIf",e.whCode),t.xp6(1),t.Q6J("ngIf",e.codeControl.value)}}function xt(n,a){1&n&&(t.ynx(0),t.TgZ(1,"th"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"th"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.BQk()),2&n&&(t.xp6(2),t.hij("",t.lcZ(3,3,"Cost")," "),t.xp6(3),t.hij("",t.lcZ(6,5,"Gross_Margin")," "),t.xp6(3),t.hij("",t.lcZ(9,7,"GM%")," "))}function Ct(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"td",67),t._uU(2),t.ALo(3,"decimalpipe"),t.qZA(),t.TgZ(4,"td",67),t._uU(5),t.ALo(6,"decimalpipe"),t.qZA(),t.TgZ(7,"td",67),t._uU(8),t.ALo(9,"number"),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(t.lcZ(3,3,e.totalCost)),t.xp6(3),t.Oqu(t.lcZ(6,5,e.grossMargin)),t.xp6(3),t.hij("",t.xi3(9,7,e.grossMarginPer,"1.0-1"),"%")}}function St(n,a){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td",64),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td",65),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td",66),t._uU(15),t.ALo(16,"decimalpipe"),t.qZA(),t.TgZ(17,"td",67),t._uU(18),t.ALo(19,"decimalpipe"),t.qZA(),t.TgZ(20,"td",67),t._uU(21),t.ALo(22,"decimalpipe"),t.qZA(),t.TgZ(23,"td",67),t._uU(24),t.ALo(25,"decimalpipe"),t.qZA(),t.TgZ(26,"td",67),t._uU(27),t.ALo(28,"decimalpipe"),t.qZA(),t.YNc(29,Ct,10,10,"ng-container",60),t.qZA()),2&n){const e=a.$implicit,i=t.oxw(3);t.xp6(2),t.Oqu(t.xi3(3,12,e.invoiceDate,"dd-MM-yyyy")),t.xp6(3),t.Oqu(e.invoiceNumber),t.xp6(2),t.Oqu(e.customerCode),t.xp6(2),t.Oqu(e.customerName),t.xp6(2),t.Oqu(e.warehouseCode),t.xp6(2),t.Oqu(e.warehouseName),t.xp6(2),t.Oqu(t.lcZ(16,15,e.subTotal)),t.xp6(3),t.Oqu(t.lcZ(19,17,e.discountAmount+e.footerDiscount)),t.xp6(3),t.Oqu(t.lcZ(22,19,e.amountBeforeTax)),t.xp6(3),t.Oqu(t.lcZ(25,21,e.taxAmount)),t.xp6(3),t.Oqu(t.lcZ(28,23,e.totalAmount)),t.xp6(2),t.Q6J("ngIf",i.showMargin)}}function yt(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"td",63),t._uU(2),t.ALo(3,"decimalpipe"),t.qZA(),t.TgZ(4,"td",63),t._uU(5),t.ALo(6,"decimalpipe"),t.qZA(),t.TgZ(7,"td",63),t._uU(8),t.ALo(9,"number"),t.qZA(),t.BQk()),2&n){const e=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,3,e.totCost)),t.xp6(3),t.Oqu(t.lcZ(6,5,e.totGrossMargin)),t.xp6(3),t.hij("",t.xi3(9,7,e.totGrossMarginPer,"1.0-1"),"%")}}function Ut(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"table",59),t.TgZ(2,"tbody"),t.TgZ(3,"tr"),t.TgZ(4,"th"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"th"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"th"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"th"),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"th"),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"th"),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"th"),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"th"),t._uU(29),t.ALo(30,"translate"),t.qZA(),t.TgZ(31,"th"),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"th"),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.YNc(37,xt,10,9,"ng-container",60),t.qZA(),t.YNc(38,St,30,25,"tr",61),t._UZ(39,"tr"),t.qZA(),t.TgZ(40,"tbody"),t.TgZ(41,"tr"),t.TgZ(42,"td",62),t._uU(43),t.ALo(44,"translate"),t.qZA(),t.TgZ(45,"td",63),t._uU(46),t.ALo(47,"decimalpipe"),t.qZA(),t.TgZ(48,"td",63),t._uU(49),t.ALo(50,"decimalpipe"),t.qZA(),t.TgZ(51,"td",63),t._uU(52),t.ALo(53,"decimalpipe"),t.qZA(),t.TgZ(54,"td",63),t._uU(55),t.ALo(56,"decimalpipe"),t.qZA(),t.TgZ(57,"td",63),t._uU(58),t.ALo(59,"decimalpipe"),t.qZA(),t.YNc(60,yt,10,10,"ng-container",60),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(5),t.hij("",t.lcZ(6,20,"Invoice_Date"),":"),t.xp6(3),t.Oqu(t.lcZ(9,22,"Invoice_Number")),t.xp6(3),t.Oqu(t.lcZ(12,24,"Customer_Code")),t.xp6(3),t.Oqu(t.lcZ(15,26,"Customer_Name")),t.xp6(3),t.Oqu(t.lcZ(18,28,"WHCode")),t.xp6(3),t.Oqu(t.lcZ(21,30,"Warehouse_Name")),t.xp6(3),t.hij("",t.lcZ(24,32,"Amount")," "),t.xp6(3),t.hij("",t.lcZ(27,34,"Discount_Amount")," "),t.xp6(3),t.hij("",t.lcZ(30,36,"Net_Amount")," "),t.xp6(3),t.hij("",t.lcZ(33,38,"Tax_Amount")," "),t.xp6(3),t.hij("",t.lcZ(36,40,"Sales_Amount")," "),t.xp6(2),t.Q6J("ngIf",e.showMargin),t.xp6(1),t.Q6J("ngForOf",e.summaryList),t.xp6(5),t.Oqu(t.lcZ(44,42,"Total")),t.xp6(3),t.Oqu(t.lcZ(47,44,e.totAmount)),t.xp6(3),t.Oqu(t.lcZ(50,46,e.totDiscount)),t.xp6(3),t.Oqu(t.lcZ(53,48,e.totNetAmountBT)),t.xp6(3),t.Oqu(t.lcZ(56,50,e.totTaxAmount)),t.xp6(3),t.Oqu(t.lcZ(59,52,e.totSalesAmount)),t.xp6(2),t.Q6J("ngIf",e.showMargin)}}function bt(n,a){1&n&&(t.ynx(0),t.TgZ(1,"th",71),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"th",71),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th",71),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.BQk()),2&n&&(t.xp6(2),t.hij("",t.lcZ(3,3,"Cost")," "),t.xp6(3),t.hij("",t.lcZ(6,5,"Gross_Margin")," "),t.xp6(3),t.hij("",t.lcZ(9,7,"GM%")," "))}function Lt(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"td",67),t._uU(2),t.ALo(3,"decimalpipe"),t.qZA(),t.TgZ(4,"td",67),t._uU(5),t.ALo(6,"decimalpipe"),t.qZA(),t.TgZ(7,"td",77),t._uU(8),t.ALo(9,"number"),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,3,e.netCost)," "),t.xp6(3),t.hij(" ",t.lcZ(6,5,e.grossMargin)," "),t.xp6(3),t.hij(" ",t.xi3(9,7,e.grossMarginPer,"1.0-1"),"% ")}}function It(n,a){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td",76),t._uU(2),t.qZA(),t.TgZ(3,"td",76),t._uU(4),t.qZA(),t.TgZ(5,"td",77),t._uU(6),t.qZA(),t.TgZ(7,"td",77),t._uU(8),t.qZA(),t.TgZ(9,"td",67),t._uU(10),t.ALo(11,"decimalpipe"),t.qZA(),t.TgZ(12,"td",67),t._uU(13),t.ALo(14,"decimalpipe"),t.qZA(),t.TgZ(15,"td",67),t._uU(16),t.ALo(17,"decimalpipe"),t.qZA(),t.TgZ(18,"td",67),t._uU(19),t.ALo(20,"decimalpipe"),t.qZA(),t.TgZ(21,"td",67),t._uU(22),t.ALo(23,"decimalpipe"),t.qZA(),t.YNc(24,Lt,10,10,"ng-container",60),t.qZA()),2&n){const e=a.$implicit,i=t.oxw(4);t.xp6(2),t.hij(" ",e.itemCode," "),t.xp6(2),t.hij(" ",e.itemName," "),t.xp6(2),t.hij(" ",e.quantity," "),t.xp6(2),t.hij(" ",e.unitType," "),t.xp6(2),t.hij(" ",t.lcZ(11,10,e.subTotal)," "),t.xp6(3),t.hij(" ",t.lcZ(14,12,e.discountAmount)," "),t.xp6(3),t.hij(" ",t.lcZ(17,14,e.amountBeforeTax)," "),t.xp6(3),t.hij(" ",t.lcZ(20,16,e.taxAmount)," "),t.xp6(3),t.hij(" ",t.lcZ(23,18,e.totalAmount)," "),t.xp6(2),t.Q6J("ngIf",i.showMargin)}}function Nt(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"th",67),t._uU(2),t.ALo(3,"decimalpipe"),t.qZA(),t.TgZ(4,"th",67),t._uU(5),t.ALo(6,"decimalpipe"),t.qZA(),t.TgZ(7,"th",67),t._uU(8),t.ALo(9,"number"),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(t.lcZ(3,3,null==e||null==e.invoiceSummary?null:e.invoiceSummary.totalCost)),t.xp6(3),t.Oqu(t.lcZ(6,5,null==e||null==e.invoiceSummary?null:e.invoiceSummary.grossMargin)),t.xp6(3),t.hij("",t.xi3(9,7,null==e||null==e.invoiceSummary?null:e.invoiceSummary.grossMarginPer,"1.0-1"),"%")}}function wt(n,a){if(1&n&&(t.ynx(0,72),t.TgZ(1,"table",73),t.TgZ(2,"tr"),t.TgZ(3,"th"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"td",64),t._uU(7),t.ALo(8,"date"),t.qZA(),t.TgZ(9,"th"),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.qZA(),t.TgZ(14,"tr"),t.TgZ(15,"th"),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.qZA(),t.TgZ(20,"th"),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"td"),t._uU(24),t.qZA(),t.qZA(),t.TgZ(25,"tr"),t.TgZ(26,"th"),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"td"),t._uU(30),t.qZA(),t.TgZ(31,"th"),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"td"),t._uU(35),t.qZA(),t.qZA(),t.qZA(),t.TgZ(36,"table",69),t.TgZ(37,"tbody"),t.TgZ(38,"tr"),t.TgZ(39,"th",74),t._uU(40),t.ALo(41,"translate"),t.qZA(),t.TgZ(42,"th",74),t._uU(43),t.ALo(44,"translate"),t.qZA(),t.TgZ(45,"th",71),t._uU(46),t.ALo(47,"translate"),t.qZA(),t.TgZ(48,"th",71),t._uU(49),t.ALo(50,"translate"),t.qZA(),t.TgZ(51,"th",71),t._uU(52),t.ALo(53,"translate"),t.qZA(),t.TgZ(54,"th",71),t._uU(55),t.ALo(56,"translate"),t.qZA(),t.TgZ(57,"th",71),t._uU(58),t.ALo(59,"translate"),t.qZA(),t.TgZ(60,"th",71),t._uU(61),t.ALo(62,"translate"),t.qZA(),t.TgZ(63,"th",71),t._uU(64),t.ALo(65,"translate"),t.qZA(),t.YNc(66,bt,10,9,"ng-container",60),t.qZA(),t.YNc(67,It,25,20,"tr",61),t.TgZ(68,"tr"),t.TgZ(69,"th",75),t._uU(70),t.ALo(71,"translate"),t.qZA(),t.TgZ(72,"th",67),t._uU(73),t.ALo(74,"decimalpipe"),t.qZA(),t.TgZ(75,"th",67),t._uU(76),t.ALo(77,"decimalpipe"),t.qZA(),t.TgZ(78,"th",67),t._uU(79),t.ALo(80,"decimalpipe"),t.qZA(),t.TgZ(81,"th",67),t._uU(82),t.ALo(83,"decimalpipe"),t.qZA(),t.TgZ(84,"th",67),t._uU(85),t.ALo(86,"decimalpipe"),t.qZA(),t.YNc(87,Nt,10,10,"ng-container",60),t.qZA(),t.qZA(),t.qZA(),t._UZ(88,"br"),t.BQk()),2&n){const e=a.$implicit,i=t.oxw(3);t.xp6(4),t.hij("",t.lcZ(5,30,"Invoice_Date"),":"),t.xp6(3),t.Oqu(t.xi3(8,32,null==e||null==e.invoiceSummary?null:e.invoiceSummary.invoiceDate,"dd-MM-yyyy")),t.xp6(3),t.hij("",t.lcZ(11,35,"Invoice_Number"),":"),t.xp6(3),t.Oqu(null==e||null==e.invoiceSummary?null:e.invoiceSummary.invoiceNumber),t.xp6(3),t.hij("",t.lcZ(17,37,"Customer_Code"),":"),t.xp6(3),t.Oqu(null==e||null==e.invoiceSummary?null:e.invoiceSummary.customerCode),t.xp6(2),t.hij("",t.lcZ(22,39,"Customer_Name"),":"),t.xp6(3),t.Oqu(null==e||null==e.invoiceSummary?null:e.invoiceSummary.customerName),t.xp6(3),t.hij("",t.lcZ(28,41,"WHCode"),":"),t.xp6(3),t.Oqu(null==e||null==e.invoiceSummary?null:e.invoiceSummary.warehouseCode),t.xp6(2),t.hij("",t.lcZ(33,43,"Warehouse_Name"),":"),t.xp6(3),t.Oqu(null==e||null==e.invoiceSummary?null:e.invoiceSummary.warehouseName),t.xp6(5),t.Oqu(t.lcZ(41,45,"ItemCode")),t.xp6(3),t.Oqu(t.lcZ(44,47,"ItemName")),t.xp6(3),t.hij("",t.lcZ(47,49,"Quantity")," "),t.xp6(3),t.hij("",t.lcZ(50,51,"UnitType")," "),t.xp6(3),t.hij("",t.lcZ(53,53,"Amount")," "),t.xp6(3),t.hij("",t.lcZ(56,55,"Discount_Amount")," "),t.xp6(3),t.hij("",t.lcZ(59,57,"Net_Amount")," "),t.xp6(3),t.hij("",t.lcZ(62,59,"Tax_Amount")," "),t.xp6(3),t.hij("",t.lcZ(65,61,"Sales_Amount")," "),t.xp6(2),t.Q6J("ngIf",i.showMargin),t.xp6(1),t.Q6J("ngForOf",e.invoiceLineItems),t.xp6(3),t.Oqu(t.lcZ(71,63,"Total")),t.xp6(3),t.Oqu(t.lcZ(74,65,null==e||null==e.invoiceSummary?null:e.invoiceSummary.subTotal)),t.xp6(3),t.Oqu(t.lcZ(77,67,(null==e||null==e.invoiceSummary?null:e.invoiceSummary.discountAmount)+(null==e?null:e.invoiceSummary.footerDiscount))),t.xp6(3),t.Oqu(t.lcZ(80,69,null==e||null==e.invoiceSummary?null:e.invoiceSummary.amountBeforeTax)),t.xp6(3),t.Oqu(t.lcZ(83,71,null==e||null==e.invoiceSummary?null:e.invoiceSummary.taxAmount)),t.xp6(3),t.Oqu(t.lcZ(86,73,null==e||null==e.invoiceSummary?null:e.invoiceSummary.totalAmount)),t.xp6(2),t.Q6J("ngIf",i.showMargin)}}function Dt(n,a){1&n&&(t.ynx(0),t.TgZ(1,"th",71),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"th",71),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th",71),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.BQk()),2&n&&(t.xp6(2),t.hij("",t.lcZ(3,3,"Cost")," "),t.xp6(3),t.hij("",t.lcZ(6,5,"Gross_Margin")," "),t.xp6(3),t.hij("",t.lcZ(9,7,"GM%")," "))}function Ot(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"td",63),t._uU(2),t.ALo(3,"decimalpipe"),t.qZA(),t.TgZ(4,"td",63),t._uU(5),t.ALo(6,"decimalpipe"),t.qZA(),t.TgZ(7,"td",63),t._uU(8),t.ALo(9,"number"),t.qZA(),t.BQk()),2&n){const e=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,3,e.totCost)),t.xp6(3),t.Oqu(t.lcZ(6,5,e.totGrossMargin)),t.xp6(3),t.hij("",t.xi3(9,7,e.totGrossMarginPer,"1.0-1"),"%")}}function Mt(n,a){if(1&n&&(t.YNc(0,wt,89,75,"ng-container",68),t.TgZ(1,"table",69),t.TgZ(2,"tbody"),t.TgZ(3,"tr"),t.TgZ(4,"th",70),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th",71),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"th",71),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"th",71),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"th",71),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"th",71),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.YNc(22,Dt,10,9,"ng-container",60),t.qZA(),t.TgZ(23,"tr"),t.TgZ(24,"td",63),t._uU(25),t.ALo(26,"decimalpipe"),t.qZA(),t.TgZ(27,"td",63),t._uU(28),t.ALo(29,"decimalpipe"),t.qZA(),t.TgZ(30,"td",63),t._uU(31),t.ALo(32,"decimalpipe"),t.qZA(),t.TgZ(33,"td",63),t._uU(34),t.ALo(35,"decimalpipe"),t.qZA(),t.TgZ(36,"td",63),t._uU(37),t.ALo(38,"decimalpipe"),t.qZA(),t.YNc(39,Ot,10,10,"ng-container",60),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw(2);t.Q6J("ngForOf",e.detailList),t.xp6(5),t.Oqu(t.lcZ(6,14,"Total")),t.xp6(3),t.hij("",t.lcZ(9,16,"Amount")," "),t.xp6(3),t.hij("",t.lcZ(12,18,"Discount_Amount")," "),t.xp6(3),t.hij("",t.lcZ(15,20,"Net_Amount")," "),t.xp6(3),t.hij("",t.lcZ(18,22,"Tax_Amount")," "),t.xp6(3),t.hij("",t.lcZ(21,24,"Sales_Amount")," "),t.xp6(2),t.Q6J("ngIf",e.showMargin),t.xp6(3),t.Oqu(t.lcZ(26,26,e.totAmount)),t.xp6(3),t.Oqu(t.lcZ(29,28,e.totDiscount)),t.xp6(3),t.Oqu(t.lcZ(32,30,e.totNetAmountBT)),t.xp6(3),t.Oqu(t.lcZ(35,32,e.totTaxAmount)),t.xp6(3),t.Oqu(t.lcZ(38,34,e.totSalesAmount)),t.xp6(2),t.Q6J("ngIf",e.showMargin)}}function kt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",46),t.TgZ(1,"div",47),t.TgZ(2,"button",41),t.NdJ("click",function(){return t.CHM(e),t.oxw().openPrint()}),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"div",48),t.TgZ(7,"div",49),t._uU(8),t.YNc(9,Tt,1,1,"img",50),t._UZ(10,"br"),t._uU(11),t._UZ(12,"br"),t._uU(13),t.qZA(),t._UZ(14,"br"),t.YNc(15,vt,7,10,"div",51),t.TgZ(16,"div",52),t.YNc(17,Ut,61,54,"ng-container",53),t.YNc(18,Mt,40,36,"ng-template",54,55,t.W1O),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.MAs(19),i=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,8,"Print")," "),t.xp6(5),t.hij(" ",i.companyName," "),t.xp6(1),t.Q6J("ngIf",i.companyName),t.xp6(2),t.hij(" ",i.branchName," "),t.xp6(2),t.hij(" ",i.companyAddress," "),t.xp6(2),t.Q6J("ngIf",i.dateFrom&&i.dateTo),t.xp6(2),t.Q6J("ngIf",i.isSummary&&i.summaryList.length>0)("ngIfElse",e)}}let Qt=(()=>{class n extends v{constructor(e,i,o,s,r){super(o),this.fb=e,this.apiService=i,this.authService=o,this.utilService=s,this.notifyService=r,this.isSummary=!0,this.isArab=!1,this.codeControl=new l.NI(""),this.isLoading=!1,this.isCodeLoading=!1,this.type="All",this.companyName="",this.companyAddress="",this.branchName="",this.dateFrom=(new Date).toISOString(),this.dateTo=(new Date).toISOString(),this.siteCode="",this.summaryList=[],this.detailList=[],this.whCode="",this.whSelectionList=[],this.totAmount=0,this.totDiscount=0,this.totNetAmountBT=0,this.totTaxAmount=0,this.totSalesAmount=0,this.totCost=0,this.totGrossMargin=0,this.totGrossMarginPer=0,this.pageNumber=0,this.pageSize=100,this.summaryPageSize=500,this.detailedPageSize=100,this.totalItemsCount=0,this.showMargin=!1,this.filteredOptions=this.codeControl.valueChanges.pipe((0,z.O)(""),(0,W.b)(400),(0,H.x)(),(0,G.w)(u=>(""!==u.trim()&&(this.isCodeLoading=!0),this.filter(u||""))))}ngOnInit(){this.isArab=this.utilService.isArabic();let e=new Date;e.setDate(e.getDate()-7),this.dateFrom=e.toISOString(),this.loadWareHouseList(),this.search()}clearWhCode(){this.whCode=""}filter(e){return this.apiService.getall(`customer/getCustomerCodeSelectList?search=${e.trim()}`).pipe((0,X.U)(i=>{const o=i;return this.isCodeLoading=!1,o}))}clearReport(){this.summaryList=[],this.detailList=[]}search(){this.isLoading=!0,this.summaryList=[],this.detailList=[],this.pageSize=this.isSummary?this.summaryPageSize:this.detailedPageSize,this.pageNumber=0,this.apiService.getall(`sndReports/getSndInvoiceReport?isSummary=${this.isSummary}&type=${this.type}&custCode=${this.codeControl.value}&whCode=${this.whCode}&from=${this.utilService.getCommonDate(this.dateFrom)}&to=${this.utilService.getCommonDate(this.dateTo)}&pageNumber=${this.pageNumber}&pageSize=${this.pageSize}`).subscribe(e=>{this.totalItemsCount=e.totalItemsCount,e&&(this.isSummary?0==e.summaryList.length?(this.notifyService.showInfo("No Data Found"),this.isLoading=!1):(this.summaryList=e.summaryList,this.loadReport(++this.pageNumber)):0==e.detailList.length?this.notifyService.showInfo("No Data Found"):(this.detailList=e.detailList,this.loadReport(++this.pageNumber)),this.companyName=e.comapnyName,this.companyAddress=e.address,this.branchName=e.branchName,this.logoURL=e.logoURL,this.totAmount=e.totAmount,this.totDiscount=e.totDiscount,this.totNetAmountBT=e.totNetAmountBT,this.totSalesAmount=e.totSalesAmount,this.totTaxAmount=e.totTaxAmount,this.totCost=e.totCost,this.totGrossMargin=e.totGrossMargin,this.totGrossMarginPer=e.totGrossMarginPer)})}loadReport(e){e>Math.floor(this.totalItemsCount/this.pageSize)?this.isLoading=!1:this.apiService.getall(`sndReports/getSndInvoiceReport?isSummary=${this.isSummary}&type=${this.type}&custCode=${this.codeControl.value}&whCode=${this.whCode}&from=${this.utilService.getCommonDate(this.dateFrom)}&to=${this.utilService.getCommonDate(this.dateTo)}&pageNumber=${e}&pageSize=${this.pageSize}`).subscribe(i=>{this.isSummary?this.summaryList=this.summaryList.concat(i.summaryList):this.detailList=this.detailList.concat(i.detailList),this.totAmount+=i.totAmount,this.totDiscount+=i.totDiscount,this.totNetAmountBT+=i.totNetAmountBT,this.totSalesAmount+=i.totSalesAmount,this.totTaxAmount+=i.totTaxAmount,this.totCost+=i.totCost,this.totGrossMargin+=i.totGrossMargin,this.loadReport(++this.pageNumber)})}openPrint(){const e=document.getElementById("printcontainer"),i=window.open("","","left=0,top=0,width=2000,height=1000,toolbar=0,scrollbars=0,status=0");setTimeout(()=>{i.document.write(e.innerHTML),i.document.close(),i.focus(),i.print(),i.close()},50)}loadWareHouseList(){this.apiService.getall("Warehouse/getSelectWarehouseCodeList").subscribe(e=>{this.whSelectionList=e,this.whSelectionList.forEach(i=>{i.lable=i.value+"-"+i.text})})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.qu),t.Y36(x.s),t.Y36(T._),t.Y36(C.t),t.Y36(S.g))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-snd-invoice-summary"]],features:[t.qOj],decls:117,vars:85,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"col-md-7","col-lg-9"],[1,"card-title","pt6"],[1,"cardtitle-divider"],[1,"col-md-4","col-lg-4"],[1,"form-group"],[1,"custom-select","mr-sm-2",3,"ngModel","ngModelChange"],["value","All"],["value","Approved"],["value","NotApproved"],["value","Settled"],["value","NotSettled"],["value","Posted"],[3,"isLoading"],["type","text","matInput","",1,"form-control",3,"placeholder","formControl","matAutocomplete"],[3,"optionSelected"],["auto1","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["bindLabel","lable","bindValue","value",3,"items","ngModel","ngModelChange","change","clear"],[1,"input-group","mb-2"],[1,"form-control","datapickerinput",3,"placeholder","ngModel","matDatepicker","ngModelChange","dateChange"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker1",""],["picker2",""],[1,"col-md-2","col-lg-2"],[1,"form-group","pt",2,"padding-top","35px","padding-left","20px"],["color","primary",3,"ngModel","ngModelChange","change"],["color","primary",3,"ngModel","ngModelChange"],[1,"col-md-1","col-lg-1",2,"padding-top","35px"],["type","button","data-toggle","modal",1,"btn","waves-effect","waves-light","btn-rounded","btn-primary","btn-midblock",3,"click"],["class","col-md-1 col-lg-1 text-center","style","padding-top:35px; ",4,"ngIf"],["class","modal-content",4,"ngIf"],[3,"value"],[1,"col-md-1","col-lg-1","text-center",2,"padding-top","35px"],[1,"modal-content"],[1,"modal-body"],["id","printcontainer",1,"outer"],[1,"text-center","font-weight-medium"],["style","width:200px;height:150px;float:right;",3,"src",4,"ngIf"],["class","text-center font-weight-medium",4,"ngIf"],[1,"table-responsive"],[4,"ngIf","ngIfElse"],["style","border:none"],["detailedList",""],[2,"width","200px","height","150px","float","right",3,"src"],["class","backspace",4,"ngIf"],[1,"backspace"],["border","1","cellpadding","5","cellspacing","0",1,"ur_tablestyle",2,"width","100%"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","6",1,"text-right",2,"padding","10px"],[1,"text-right",2,"padding","10px","width","9%"],[2,"white-space","nowrap"],["width","20%"],[1,"text-sm-arabic-left"],[1,"text-right"],["style","border:none",4,"ngFor","ngForOf"],["border","1","cellpadding","0","cellspacing","0",1,"ur_tablestyle",2,"width","100%"],["colspan","6","rowspan","2",1,"arabicright"],[1,"w10per"],[2,"border","none"],["cellpadding","5",1,"none-border"],["colspan","2",1,"w10per",2,"padding","10px"],["colspan","6"],["colspan","2"],[1,"text-center"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"nav",5),t.TgZ(8,"ol",6),t.TgZ(9,"li",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"li",7),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"li",8),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",1),t.TgZ(19,"div",9),t.TgZ(20,"div",10),t.TgZ(21,"div",11),t.TgZ(22,"div",1),t.TgZ(23,"div",12),t.TgZ(24,"h4",13),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.qZA(),t.qZA(),t._UZ(27,"div",14),t.TgZ(28,"div",1),t.TgZ(29,"div",15),t.TgZ(30,"div",16),t.TgZ(31,"label"),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"select",17),t.NdJ("ngModelChange",function(s){return i.type=s}),t.TgZ(35,"option",18),t._uU(36,"All"),t.qZA(),t.TgZ(37,"option",19),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"option",20),t._uU(41),t.ALo(42,"translate"),t.qZA(),t.TgZ(43,"option",21),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.TgZ(46,"option",22),t._uU(47),t.ALo(48,"translate"),t.qZA(),t.TgZ(49,"option",23),t._uU(50),t.ALo(51,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(52,"div",15),t.TgZ(53,"div",16),t.TgZ(54,"label"),t._uU(55),t.ALo(56,"translate"),t.qZA(),t._UZ(57,"auto-loader",24),t._UZ(58,"input",25),t.ALo(59,"translate"),t.ALo(60,"translate"),t.TgZ(61,"mat-autocomplete",26,27),t.NdJ("optionSelected",function(){return i.clearReport()}),t.YNc(63,ht,2,3,"mat-option",28),t.ALo(64,"async"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(65,"div",15),t.TgZ(66,"div",16),t.TgZ(67,"label"),t._uU(68),t.ALo(69,"translate"),t.qZA(),t.TgZ(70,"ng-select",29),t.NdJ("ngModelChange",function(s){return i.whCode=s})("change",function(){return i.clearReport()})("clear",function(){return i.clearWhCode()}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(71,"div",15),t.TgZ(72,"div",16),t.TgZ(73,"label"),t._uU(74),t.ALo(75,"translate"),t.qZA(),t.TgZ(76,"div",16),t.TgZ(77,"div",30),t.TgZ(78,"input",31),t.NdJ("ngModelChange",function(s){return i.dateFrom=s})("dateChange",function(){return i.clearReport()}),t.ALo(79,"translate"),t.qZA(),t.TgZ(80,"div",32),t._UZ(81,"mat-datepicker-toggle",33),t._UZ(82,"mat-datepicker",null,34),t._UZ(84,"br"),t._UZ(85,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(86,"div",15),t.TgZ(87,"div",16),t.TgZ(88,"label"),t._uU(89),t.ALo(90,"translate"),t.qZA(),t.TgZ(91,"div",16),t.TgZ(92,"div",30),t.TgZ(93,"input",31),t.NdJ("ngModelChange",function(s){return i.dateTo=s})("dateChange",function(){return i.clearReport()}),t.ALo(94,"translate"),t.qZA(),t.TgZ(95,"div",32),t._UZ(96,"mat-datepicker-toggle",33),t._UZ(97,"mat-datepicker",null,35),t._UZ(99,"br"),t._UZ(100,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(101,"div",36),t.TgZ(102,"div",37),t.TgZ(103,"mat-slide-toggle",38),t.NdJ("ngModelChange",function(s){return i.isSummary=s})("change",function(){return i.clearReport()}),t.qZA(),t._uU(104),t.ALo(105,"translate"),t.qZA(),t.qZA(),t.TgZ(106,"div",36),t.TgZ(107,"div",37),t.TgZ(108,"mat-slide-toggle",39),t.NdJ("ngModelChange",function(s){return i.showMargin=s}),t.qZA(),t._uU(109),t.ALo(110,"translate"),t.qZA(),t.qZA(),t.TgZ(111,"div",40),t.TgZ(112,"button",41),t.NdJ("click",function(){return i.search()}),t._uU(113),t.ALo(114,"translate"),t.qZA(),t.qZA(),t.YNc(115,At,2,1,"div",42),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(116,kt,20,10,"div",43),t.qZA()),2&e){const o=t.MAs(62),s=t.MAs(83),r=t.MAs(98);t.xp6(4),t.hij(" ",t.lcZ(5,39,"Sales_Statement")," "),t.xp6(6),t.hij(" ",t.lcZ(11,41,"Administration")," "),t.xp6(3),t.Oqu(t.lcZ(14,43,"Sales_Management")),t.xp6(3),t.Oqu(t.lcZ(17,45,"Sales_Statement")),t.xp6(9),t.hij("",t.lcZ(26,47,"Sales_Statement")," "),t.xp6(7),t.Oqu(t.lcZ(33,49,"Choose")),t.xp6(2),t.Q6J("ngModel",i.type),t.xp6(4),t.Oqu(t.lcZ(39,51,"Approved")),t.xp6(3),t.Oqu(t.lcZ(42,53,"NotApproved")),t.xp6(3),t.Oqu(t.lcZ(45,55,"Settled")),t.xp6(3),t.Oqu(t.lcZ(48,57,"NotSettled")),t.xp6(3),t.Oqu(t.lcZ(51,59,"Posted")),t.xp6(5),t.Oqu(t.lcZ(56,61,"Customer_Code")),t.xp6(2),t.Q6J("isLoading",i.isCodeLoading),t.xp6(1),t.hYB("placeholder","",t.lcZ(59,63,"Please_Enter")," ",t.lcZ(60,65,"Customer_Code"),""),t.Q6J("formControl",i.codeControl)("matAutocomplete",o),t.xp6(5),t.Q6J("ngForOf",t.lcZ(64,67,i.filteredOptions)),t.xp6(5),t.Oqu(t.lcZ(69,69,"Warehouse_Code")),t.xp6(2),t.Q6J("items",i.whSelectionList)("ngModel",i.whCode),t.xp6(4),t.Oqu(t.lcZ(75,71,"From_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(79,73,"Select_a_Date")),t.Q6J("ngModel",i.dateFrom)("matDatepicker",s),t.xp6(3),t.Q6J("for",s),t.xp6(8),t.Oqu(t.lcZ(90,75,"To_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(94,77,"Select_a_Date")),t.Q6J("ngModel",i.dateTo)("matDatepicker",r),t.xp6(3),t.Q6J("for",r),t.xp6(7),t.Q6J("ngModel",i.isSummary),t.xp6(1),t.hij(" ",t.lcZ(105,79,"IsSummary")," "),t.xp6(4),t.Q6J("ngModel",i.showMargin),t.xp6(1),t.hij(" ",t.lcZ(110,81,"Show_Margin")," "),t.xp6(4),t.hij(" ",t.lcZ(114,83,"Search")," "),t.xp6(2),t.Q6J("ngIf",i.isLoading),t.xp6(1),t.Q6J("ngIf",i.summaryList.length>0||i.detailList.length>0)}},directives:[l.EJ,l.JJ,l.On,l.YN,l.Kr,K.z,l.Fj,k.ZL,l.oH,k.XC,d.sg,D.w9,_.hl,_.nW,A.R9,_.Mq,O.Rr,d.O5,tt.ey,b.r],pipes:[h.X$,d.Ov,d.uU,E.J,d.JJ],encapsulation:2}),n})();function jt(n,a){if(1&n&&(t.TgZ(0,"mat-option",36),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e.value),t.xp6(1),t.AsE(" (",e.value,") ",e.textTwo," ")}}function Rt(n,a){if(1&n&&t._UZ(0,"img",47),2&n){const e=t.oxw(2);t.s9C("src",e.logoURL,t.LSH)}}function Jt(n,a){if(1&n&&(t.TgZ(0,"span",49),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" Item Id:",e.itemId," ")}}function Pt(n,a){if(1&n&&(t.TgZ(0,"span",49),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ,Warehouse :",e.whCode," ")}}function Yt(n,a){if(1&n&&(t.TgZ(0,"span",49),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ,Customer Code :",e.codeControl.value," ")}}function Ft(n,a){if(1&n&&(t.TgZ(0,"div",40),t.TgZ(1,"p"),t._uU(2),t.ALo(3,"date"),t.ALo(4,"date"),t.qZA(),t.YNc(5,Jt,2,1,"span",48),t.YNc(6,Pt,2,1,"span",48),t.YNc(7,Yt,2,1,"span",48),t.qZA()),2&n){const e=t.oxw(2);t.xp6(2),t.AsE(' The Statement of " Invoice Summary" for ',t.xi3(3,5,e.dateFrom,"dd/MM/yyyy")," to ",t.xi3(4,8,e.dateTo,"dd/MM/yyyy")," "),t.xp6(3),t.Q6J("ngIf",e.itemId),t.xp6(1),t.Q6J("ngIf",e.whCode),t.xp6(1),t.Q6J("ngIf",e.codeControl.value)}}function Bt(n,a){1&n&&(t.ynx(0),t.TgZ(1,"th",51),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"th",51),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th",56),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.BQk()),2&n&&(t.xp6(2),t.hij("",t.lcZ(3,3,"Cost")," "),t.xp6(3),t.hij("",t.lcZ(6,5,"GrossMargin")," "),t.xp6(3),t.hij("",t.lcZ(9,7,"%")," "))}function Et(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"td",57),t._uU(2),t.ALo(3,"decimalpipe"),t.qZA(),t.TgZ(4,"td",57),t._uU(5),t.ALo(6,"decimalpipe"),t.qZA(),t.TgZ(7,"td",56),t._uU(8),t.ALo(9,"number"),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(t.lcZ(3,3,e.cost)),t.xp6(3),t.Oqu(t.lcZ(6,5,e.grossMargin)),t.xp6(3),t.hij("",t.xi3(9,7,e.grossMargin/e.salesAmount*100,"1.0-1"),"%")}}function $t(n,a){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",57),t._uU(6),t.ALo(7,"decimalpipe"),t.qZA(),t.YNc(8,Et,10,10,"ng-container",52),t.qZA()),2&n){const e=a.$implicit,i=t.oxw(3);t.xp6(2),t.AsE("",e.itemCategory,"(",e.itemCategoryName,")"),t.xp6(2),t.Oqu(e.itemType),t.xp6(2),t.Oqu(t.lcZ(7,5,e.salesAmount)),t.xp6(2),t.Q6J("ngIf",i.showMargin)}}function Vt(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"td",55),t._uU(2),t.ALo(3,"decimalpipe"),t.qZA(),t.TgZ(4,"td",55),t._uU(5),t.ALo(6,"decimalpipe"),t.qZA(),t.TgZ(7,"td",56),t._uU(8),t.ALo(9,"number"),t.qZA(),t.BQk()),2&n){const e=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,3,e.totCost)),t.xp6(3),t.Oqu(t.lcZ(6,5,e.totGrossMargin)),t.xp6(3),t.hij("",t.xi3(9,7,e.totGrossMarginPer,"1.0-1"),"%")}}function zt(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"table",50),t.TgZ(2,"tbody"),t.TgZ(3,"tr"),t.TgZ(4,"th"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"th",51),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.YNc(13,Bt,10,9,"ng-container",52),t.qZA(),t.YNc(14,$t,9,7,"tr",53),t._UZ(15,"tr"),t.qZA(),t.TgZ(16,"tbody"),t.TgZ(17,"tr"),t.TgZ(18,"th",54),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"td",55),t._uU(22),t.ALo(23,"decimalpipe"),t.qZA(),t.YNc(24,Vt,10,10,"ng-container",52),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(5),t.Oqu(t.lcZ(6,8,"Item_Category")),t.xp6(3),t.Oqu(t.lcZ(9,10,"Item_Type")),t.xp6(3),t.hij("",t.lcZ(12,12,"Sales_Amount")," "),t.xp6(2),t.Q6J("ngIf",e.showMargin),t.xp6(1),t.Q6J("ngForOf",e.summaryList),t.xp6(5),t.Oqu(t.lcZ(20,14,"Total")),t.xp6(3),t.Oqu(t.lcZ(23,16,e.totSalesAmount)),t.xp6(2),t.Q6J("ngIf",e.showMargin)}}function Wt(n,a){1&n&&(t.ynx(0),t.TgZ(1,"th",51),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"th",51),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th",51),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.BQk()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,3,"Total_Cost")),t.xp6(3),t.Oqu(t.lcZ(6,5,"Gross_Margin")),t.xp6(3),t.Oqu(t.lcZ(9,7,"%")))}function Ht(n,a){if(1&n&&(t.TgZ(0,"td",63),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.uIk("rowspan",null==e?null:e.count),t.xp6(1),t.Oqu(e.itemId)}}function Gt(n,a){if(1&n&&(t.TgZ(0,"td",63),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.uIk("rowspan",null==e?null:e.count),t.xp6(1),t.Oqu(e.itemName)}}function Xt(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"td",57),t._uU(2),t.ALo(3,"decimalpipe"),t.qZA(),t.TgZ(4,"td",57),t._uU(5),t.ALo(6,"decimalpipe"),t.qZA(),t.TgZ(7,"td",57),t._uU(8),t.ALo(9,"number"),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(t.lcZ(3,3,e.netCost)),t.xp6(3),t.Oqu(t.lcZ(6,5,e.grossMargin)),t.xp6(3),t.hij("",t.xi3(9,7,e.grossMarginPer,"1.0-1"),"%")}}function Kt(n,a){if(1&n&&(t.TgZ(0,"tr"),t.YNc(1,Ht,2,2,"td",62),t.YNc(2,Gt,2,2,"td",62),t.TgZ(3,"td",56),t._uU(4),t.qZA(),t.TgZ(5,"td",57),t._uU(6),t.ALo(7,"decimalpipe"),t.qZA(),t.YNc(8,Xt,10,10,"ng-container",52),t.qZA()),2&n){const e=a.$implicit,i=a.index,o=t.oxw().$implicit,s=t.oxw(3);t.xp6(1),t.Q6J("ngIf",0==i||(null==o.detailedItems[i]?null:o.detailedItems[i].itemId)!=(null==o.detailedItems[i-1]?null:o.detailedItems[i-1].itemId)),t.xp6(1),t.Q6J("ngIf",0==i||(null==o.detailedItems[i]?null:o.detailedItems[i].itemId)!=(null==o.detailedItems[i-1]?null:o.detailedItems[i-1].itemId)),t.xp6(2),t.Oqu(e.netQuantity),t.xp6(2),t.Oqu(t.lcZ(7,5,e.totalAmount)),t.xp6(2),t.Q6J("ngIf",s.showMargin)}}function te(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"th",57),t._uU(2),t.ALo(3,"decimalpipe"),t.qZA(),t.TgZ(4,"th",57),t._uU(5),t.ALo(6,"decimalpipe"),t.qZA(),t.TgZ(7,"th",57),t._uU(8),t.ALo(9,"number"),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit,i=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,3,e.summary.cost)),t.xp6(3),t.Oqu(t.lcZ(6,5,e.summary.grossMargin)),t.xp6(3),t.hij("",t.xi3(9,7,i.getPercentage(e.summary.salesAmount,e.summary.cost),"1.0-1"),"%")}}function ee(n,a){if(1&n&&(t.ynx(0,59),t.TgZ(1,"table",50),t.TgZ(2,"tbody"),t.TgZ(3,"tr"),t.TgZ(4,"th",60),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.qZA(),t.TgZ(7,"tr"),t.TgZ(8,"th"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"th"),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"th",51),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"th",51),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.YNc(20,Wt,10,9,"ng-container",52),t.qZA(),t.YNc(21,Kt,9,7,"tr",53),t.TgZ(22,"tr"),t.TgZ(23,"th",61),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"th",57),t._uU(27),t.ALo(28,"decimalpipe"),t.qZA(),t.YNc(29,te,10,10,"ng-container",52),t.qZA(),t.qZA(),t.qZA(),t._UZ(30,"br"),t.BQk()),2&n){const e=a.$implicit,i=t.oxw(3);t.xp6(5),t.lnq("",t.lcZ(6,12,"Item_Category")," : ",e.summary.itemCategory,"( ",e.summary.itemCategoryName,")"),t.xp6(4),t.Oqu(t.lcZ(10,14,"Item_Id")),t.xp6(3),t.Oqu(t.lcZ(13,16,"Item_Name")),t.xp6(3),t.Oqu(t.lcZ(16,18,"Qty")),t.xp6(3),t.Oqu(t.lcZ(19,20,"Sales_Amount")),t.xp6(2),t.Q6J("ngIf",i.showMargin),t.xp6(1),t.Q6J("ngForOf",e.detailedItems),t.xp6(3),t.hij(" ",t.lcZ(25,22,"Total")," "),t.xp6(3),t.Oqu(t.lcZ(28,24,e.summary.salesAmount)),t.xp6(2),t.Q6J("ngIf",i.showMargin)}}function ne(n,a){if(1&n&&t.YNc(0,ee,31,26,"ng-container",58),2&n){const e=t.oxw(2);t.Q6J("ngForOf",e.detailList)}}function ie(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",37),t.TgZ(1,"div",38),t.TgZ(2,"button",33),t.NdJ("click",function(){return t.CHM(e),t.oxw().openPrint()}),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"div",39),t.TgZ(7,"div",40),t._uU(8),t.YNc(9,Rt,1,1,"img",41),t._UZ(10,"br"),t._uU(11),t._UZ(12,"br"),t._uU(13),t.qZA(),t._UZ(14,"br"),t.YNc(15,Ft,8,11,"div",42),t.TgZ(16,"div",43),t.YNc(17,zt,25,18,"ng-container",44),t.YNc(18,ne,1,1,"ng-template",45,46,t.W1O),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.MAs(19),i=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,8,"Print")," "),t.xp6(5),t.hij(" ",i.companyName," "),t.xp6(1),t.Q6J("ngIf",i.companyName),t.xp6(2),t.hij(" ",i.branchName," "),t.xp6(2),t.hij(" ",i.companyAddress," "),t.xp6(2),t.Q6J("ngIf",i.dateFrom&&i.dateTo),t.xp6(2),t.Q6J("ngIf",i.isSummary&&i.summaryList.length>0)("ngIfElse",e)}}let oe=(()=>{class n extends v{constructor(e,i,o,s,r){super(o),this.fb=e,this.apiService=i,this.authService=o,this.utilService=s,this.notifyService=r,this.isSummary=!0,this.isArab=!1,this.customerSiteList=[],this.codeControl=new l.NI(""),this.isLoading=!1,this.isCodeLoading=!1,this.companyName="",this.companyAddress="",this.branchName="",this.dateFrom="",this.dateTo="",this.siteCode="",this.summaryList=[],this.detailList=[],this.whCode="",this.whSelectionList=[],this.itemId="",this.itemSelectionList=[],this.itemCategory="",this.itemCategoriesSelectionList=[],this.totAmount=0,this.totDiscount=0,this.totNetAmountBT=0,this.totTaxAmount=0,this.totSalesAmount=0,this.totCost=0,this.totGrossMargin=0,this.totGrossMarginPer=0,this.pageNumber=0,this.pageSize=0,this.summaryPageSize=10,this.detailedPageSize=1,this.totalItemsCount=0,this.showMargin=!0,this.filteredOptions=this.codeControl.valueChanges.pipe((0,z.O)(""),(0,W.b)(400),(0,H.x)(),(0,G.w)(u=>(""!==u.trim()&&(this.isCodeLoading=!0),this.filter(u||""))))}ngOnInit(){this.isArab=this.utilService.isArabic();let e=new Date;e.setDate(e.getDate()-7),this.dateFrom=e.toISOString(),this.dateTo=(new Date).toISOString(),this.loadWareHouseList(),this.loadItemSelectionList(),this.search()}clearCode(e){"whCode"==e?this.whCode="":"itemId"==e?this.itemId="":"itemCategory"==e&&(this.itemCategory="")}filter(e){return this.apiService.getall(`customer/getCustomerCodeSelectList?search=${e.trim()}`).pipe((0,X.U)(i=>{const o=i;return this.isCodeLoading=!1,o}))}clearReport(){this.summaryList=[],this.detailList=[]}loadItemSelectionList(){this.apiService.getall("Item/getSelectItemMOUList").subscribe(e=>{this.itemSelectionList=e,this.itemSelectionList.forEach(i=>{i.lable=this.isArab?i.textTwo:i.text})})}search(){this.isLoading=!0,this.summaryList=[],this.detailList=[],this.pageNumber=0,this.pageSize=this.isSummary?this.summaryPageSize:this.detailedPageSize,this.apiService.getall(`sndReports/getItemDepartmentReport?isSummary=${this.isSummary}&itemCategory=${this.itemCategory}&custCode=${this.codeControl.value}&itemId=${this.itemId}&whCode=${this.whCode}&from=${this.utilService.getCommonDate(this.dateFrom)}&to=${this.utilService.getCommonDate(this.dateTo)}&pageNumber=${this.pageNumber}&pageSize=${this.pageSize}`).subscribe(e=>{this.isLoading=!1,0==e.summaryReport.length?(this.notifyService.showInfo("No Data Found"),this.isLoading=!1):(this.isSummary?this.summaryList=e.summaryReport:this.detailList=e.detailedReport,this.companyName=e.comapnyName,this.companyAddress=e.address,this.branchName=e.branchName,this.logoURL=e.logoURL,this.totAmount=e.totAmount,this.totDiscount=e.totDiscount,this.totNetAmountBT=e.totNetAmountBT,this.totSalesAmount=e.totSalesAmount,this.totTaxAmount=e.totTaxAmount,this.totCost=e.totCost,this.totGrossMargin=e.totGrossMargin,this.totGrossMarginPer=e.totGrossMarginPer,this.itemCategoriesSelectionList=e.itemCategoriesSelectionList,this.totalItemsCount=e.totalItemsCount,this.loadReports(++this.pageNumber))})}loadReports(e){e>Math.floor(this.totalItemsCount/this.pageSize)?(this.isLoading=!1,this.totGrossMarginPer=0==this.totSalesAmount?0:this.totGrossMargin/this.totSalesAmount*100):this.apiService.getall(`sndReports/getItemDepartmentReport?isSummary=${this.isSummary}&itemCategory=${this.itemCategory}&custCode=${this.codeControl.value}&itemId=${this.itemId}&whCode=${this.whCode}&from=${this.utilService.getCommonDate(this.dateFrom)}&to=${this.utilService.getCommonDate(this.dateTo)}&pageNumber=${e}&pageSize=${this.pageSize}`).subscribe(i=>{this.isSummary?this.summaryList=this.summaryList.concat(i.summaryReport):this.detailList=this.detailList.concat(i.detailedReport),this.totAmount+=i.totAmount,this.totDiscount+=i.totDiscount,this.totNetAmountBT+=i.totNetAmountBT,this.totSalesAmount+=i.totSalesAmount,this.totTaxAmount+=i.totTaxAmount,this.totCost+=i.totCost,this.totGrossMargin+=i.totGrossMargin,this.loadReports(++this.pageNumber)})}openPrint(){const e=document.getElementById("printcontainer"),i=window.open("","","left=0,top=0,width=2000,height=1000,toolbar=0,scrollbars=0,status=0");setTimeout(()=>{i.document.write(e.innerHTML),i.document.close(),i.focus(),i.print(),i.close()},50)}loadWareHouseList(){this.apiService.getall("Warehouse/getSelectWarehouseCodeList").subscribe(e=>{this.whSelectionList=e,this.whSelectionList.forEach(i=>{i.lable=i.value+"-"+i.text})})}getPercentage(e,i){return(e-i)/Math.abs(e)*100}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.qu),t.Y36(x.s),t.Y36(T._),t.Y36(C.t),t.Y36(S.g))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-snd-item-department-report"]],features:[t.qOj],decls:105,vars:76,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"col-md-7","col-lg-9"],[1,"card-title","pt6"],[1,"cardtitle-divider"],[1,"col-md-4","col-lg-4"],[1,"form-group"],["bindLabel","textTwo","bindValue","value",3,"items","ngModel","ngModelChange","change","clear"],[3,"isLoading"],["type","text","matInput","",1,"form-control",3,"placeholder","formControl","matAutocomplete"],[3,"optionSelected"],["auto1","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["bindLabel","lable","bindValue","value",3,"items","ngModel","ngModelChange","change","clear"],[1,"input-group","mb-2"],[1,"form-control","datapickerinput",3,"placeholder","ngModel","matDatepicker","ngModelChange","dateChange"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker1",""],["picker2",""],[1,"col-md-2","col-lg-2"],["color","primary",3,"ngModel","ngModelChange","change"],["color","primary",3,"ngModel","ngModelChange"],["type","button","data-toggle","modal",1,"btn","waves-effect","waves-light","btn-rounded","btn-primary","btn-midblock",3,"click"],[1,"col-md-1","col-lg-1",2,"padding-top","25px"],["class","modal-content",4,"ngIf"],[3,"value"],[1,"modal-content"],[1,"modal-body"],["id","printcontainer",1,"outer"],[1,"text-center","font-weight-medium"],["style","width:200px;height:150px;float:right;",3,"src",4,"ngIf"],["class","text-center font-weight-medium",4,"ngIf"],[1,"table-responsive"],[4,"ngIf","ngIfElse"],["style","border:none"],["detailedList",""],[2,"width","200px","height","150px","float","right",3,"src"],["class","backspace",4,"ngIf"],[1,"backspace"],["border","1","cellpadding","0","cellspacing","0",1,"ur_tablestyle",2,"width","100%"],[1,"w10per"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","2"],[1,"text-right",2,"padding","10px"],[1,"text-center"],[1,"text-right"],["style","border:none",4,"ngFor","ngForOf"],[2,"border","none"],["colspan","8"],["colspan","3",1,"text-right"],["style","vertical-align:top",4,"ngIf"],[2,"vertical-align","top"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"nav",5),t.TgZ(8,"ol",6),t.TgZ(9,"li",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"li",7),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"li",8),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",1),t.TgZ(19,"div",9),t.TgZ(20,"div",10),t.TgZ(21,"div",11),t.TgZ(22,"div",1),t.TgZ(23,"div",12),t.TgZ(24,"h4",13),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.qZA(),t.qZA(),t._UZ(27,"div",14),t.TgZ(28,"div",1),t.TgZ(29,"div",15),t.TgZ(30,"div",16),t.TgZ(31,"label"),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"ng-select",17),t.NdJ("ngModelChange",function(s){return i.itemCategory=s})("change",function(){return i.clearReport()})("clear",function(){return i.clearCode("itemCategory")}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(35,"div",15),t.TgZ(36,"div",16),t.TgZ(37,"label"),t._uU(38),t.ALo(39,"translate"),t.qZA(),t._UZ(40,"auto-loader",18),t._UZ(41,"input",19),t.ALo(42,"translate"),t.ALo(43,"translate"),t.TgZ(44,"mat-autocomplete",20,21),t.NdJ("optionSelected",function(){return i.clearReport()}),t.YNc(46,jt,2,3,"mat-option",22),t.ALo(47,"async"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(48,"div",15),t.TgZ(49,"div",16),t.TgZ(50,"label"),t._uU(51),t.ALo(52,"translate"),t.qZA(),t.TgZ(53,"ng-select",23),t.NdJ("ngModelChange",function(s){return i.whCode=s})("change",function(){return i.clearReport()})("clear",function(){return i.clearCode("whCode")}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(54,"div",15),t.TgZ(55,"div",16),t.TgZ(56,"label"),t._uU(57),t.ALo(58,"translate"),t.qZA(),t.TgZ(59,"ng-select",23),t.NdJ("ngModelChange",function(s){return i.itemId=s})("change",function(){return i.clearReport()})("clear",function(){return i.clearCode("itemId")}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(60,"div",15),t.TgZ(61,"div",16),t.TgZ(62,"label"),t._uU(63),t.ALo(64,"translate"),t.qZA(),t.TgZ(65,"div",16),t.TgZ(66,"div",24),t.TgZ(67,"input",25),t.NdJ("ngModelChange",function(s){return i.dateFrom=s})("dateChange",function(){return i.clearReport()}),t.ALo(68,"translate"),t.qZA(),t.TgZ(69,"div",26),t._UZ(70,"mat-datepicker-toggle",27),t._UZ(71,"mat-datepicker",null,28),t._UZ(73,"br"),t._UZ(74,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(75,"div",15),t.TgZ(76,"div",16),t.TgZ(77,"label"),t._uU(78),t.ALo(79,"translate"),t.qZA(),t.TgZ(80,"div",16),t.TgZ(81,"div",24),t.TgZ(82,"input",25),t.NdJ("ngModelChange",function(s){return i.dateTo=s})("dateChange",function(){return i.clearReport()}),t.ALo(83,"translate"),t.qZA(),t.TgZ(84,"div",26),t._UZ(85,"mat-datepicker-toggle",27),t._UZ(86,"mat-datepicker",null,29),t._UZ(88,"br"),t._UZ(89,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(90,"div",30),t.TgZ(91,"mat-slide-toggle",31),t.NdJ("ngModelChange",function(s){return i.isSummary=s})("change",function(){return i.clearReport()}),t.qZA(),t._uU(92),t.ALo(93,"translate"),t.qZA(),t.TgZ(94,"div",30),t.TgZ(95,"mat-slide-toggle",32),t.NdJ("ngModelChange",function(s){return i.showMargin=s}),t.qZA(),t._uU(96),t.ALo(97,"translate"),t.qZA(),t.TgZ(98,"div",30),t.TgZ(99,"button",33),t.NdJ("click",function(){return i.search()}),t._uU(100),t.ALo(101,"translate"),t.qZA(),t.qZA(),t.TgZ(102,"div",34),t._UZ(103,"spinner-loader",18),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(104,ie,20,10,"div",35),t.qZA()),2&e){const o=t.MAs(45),s=t.MAs(72),r=t.MAs(87);t.xp6(4),t.hij(" ",t.lcZ(5,38,"Sales_Statement")," "),t.xp6(6),t.hij(" ",t.lcZ(11,40,"Administration")," "),t.xp6(3),t.Oqu(t.lcZ(14,42,"Sales_Management")),t.xp6(3),t.Oqu(t.lcZ(17,44,"Sales_Statement")),t.xp6(9),t.hij("",t.lcZ(26,46,"Sales_Statement")," "),t.xp6(7),t.Oqu(t.lcZ(33,48,"Item_Category")),t.xp6(2),t.Q6J("items",i.itemCategoriesSelectionList)("ngModel",i.itemCategory),t.xp6(4),t.Oqu(t.lcZ(39,50,"Customer_Code")),t.xp6(2),t.Q6J("isLoading",i.isCodeLoading),t.xp6(1),t.hYB("placeholder","",t.lcZ(42,52,"Please_Enter")," ",t.lcZ(43,54,"Customer_Code"),""),t.Q6J("formControl",i.codeControl)("matAutocomplete",o),t.xp6(5),t.Q6J("ngForOf",t.lcZ(47,56,i.filteredOptions)),t.xp6(5),t.Oqu(t.lcZ(52,58,"Warehouse_Code")),t.xp6(2),t.Q6J("items",i.whSelectionList)("ngModel",i.whCode),t.xp6(4),t.Oqu(t.lcZ(58,60,"Item")),t.xp6(2),t.Q6J("items",i.itemSelectionList)("ngModel",i.itemId),t.xp6(4),t.Oqu(t.lcZ(64,62,"From_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(68,64,"Select_a_Date")),t.Q6J("ngModel",i.dateFrom)("matDatepicker",s),t.xp6(3),t.Q6J("for",s),t.xp6(8),t.Oqu(t.lcZ(79,66,"To_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(83,68,"Select_a_Date")),t.Q6J("ngModel",i.dateTo)("matDatepicker",r),t.xp6(3),t.Q6J("for",r),t.xp6(6),t.Q6J("ngModel",i.isSummary),t.xp6(1),t.hij(" ",t.lcZ(93,70,"IsSummary")," "),t.xp6(3),t.Q6J("ngModel",i.showMargin),t.xp6(1),t.hij(" ",t.lcZ(97,72,"Show_Margin")," "),t.xp6(4),t.hij(" ",t.lcZ(101,74,"Search")," "),t.xp6(3),t.Q6J("isLoading",i.isLoading),t.xp6(1),t.Q6J("ngIf",i.summaryList.length>0||i.detailList.length>0)}},directives:[D.w9,l.JJ,l.On,K.z,l.Fj,k.ZL,l.oH,k.XC,d.sg,_.hl,_.nW,A.R9,_.Mq,O.Rr,b.r,d.O5,tt.ey],pipes:[h.X$,d.Ov,d.uU,E.J,d.JJ],encapsulation:2}),n})();function ae(n,a){if(1&n&&(t.TgZ(0,"mat-option",43),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e.value),t.xp6(1),t.AsE(" (",e.value,") ",e.textTwo," ")}}function se(n,a){if(1&n&&t._UZ(0,"img",54),2&n){const e=t.oxw(2);t.s9C("src",e.logoURL,t.LSH)}}function re(n,a){if(1&n&&(t.TgZ(0,"span",56),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" Item Id:",e.itemId," ")}}function le(n,a){if(1&n&&(t.TgZ(0,"span",56),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ,Warehouse :",e.whCode," ")}}function ue(n,a){if(1&n&&(t.TgZ(0,"span",56),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ,Customer Code :",e.codeControl.value," ")}}function ce(n,a){if(1&n&&(t.TgZ(0,"div",47),t.TgZ(1,"p"),t._uU(2),t.ALo(3,"date"),t.ALo(4,"date"),t.qZA(),t.YNc(5,re,2,1,"span",55),t.YNc(6,le,2,1,"span",55),t.YNc(7,ue,2,1,"span",55),t.qZA()),2&n){const e=t.oxw(2);t.xp6(2),t.AsE(' The Statement of " Invoice Summary" for ',t.xi3(3,5,e.dateFrom,"dd/MM/yyyy")," to ",t.xi3(4,8,e.dateTo,"dd/MM/yyyy")," "),t.xp6(3),t.Q6J("ngIf",e.itemId),t.xp6(1),t.Q6J("ngIf",e.whCode),t.xp6(1),t.Q6J("ngIf",e.codeControl.value)}}function de(n,a){1&n&&(t.ynx(0),t.TgZ(1,"th",58),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"th",58),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th",58),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.BQk()),2&n&&(t.xp6(2),t.hij("",t.lcZ(3,3,"Cost")," "),t.xp6(3),t.hij("",t.lcZ(6,5,"GrossMargin")," "),t.xp6(3),t.hij("",t.lcZ(9,7,"GM%")," "))}function pe(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"td",63),t._uU(2),t.ALo(3,"decimalpipe"),t.qZA(),t.TgZ(4,"td",63),t._uU(5),t.ALo(6,"decimalpipe"),t.qZA(),t.TgZ(7,"td",63),t._uU(8),t.ALo(9,"decimalpipe"),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(t.lcZ(3,3,e.netCost)),t.xp6(3),t.Oqu(t.lcZ(6,5,e.grossMargin)),t.xp6(3),t.hij("",t.lcZ(9,7,e.grossMarginPer),"%")}}function ge(n,a){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td",63),t._uU(8),t.ALo(9,"decimalpipe"),t.qZA(),t.TgZ(10,"td",63),t._uU(11),t.ALo(12,"decimalpipe"),t.qZA(),t.TgZ(13,"td",63),t._uU(14),t.ALo(15,"decimalpipe"),t.qZA(),t.TgZ(16,"td",63),t._uU(17),t.ALo(18,"decimalpipe"),t.qZA(),t.TgZ(19,"td",63),t._uU(20),t.ALo(21,"decimalpipe"),t.qZA(),t.YNc(22,pe,10,9,"ng-container",59),t.qZA()),2&n){const e=a.$implicit,i=t.oxw(3);t.xp6(2),t.Oqu(e.id),t.xp6(2),t.Oqu(e.itemName),t.xp6(2),t.Oqu(e.quantity),t.xp6(2),t.Oqu(t.lcZ(9,9,e.amount)),t.xp6(3),t.Oqu(t.lcZ(12,11,e.discountAmount)),t.xp6(3),t.Oqu(t.lcZ(15,13,e.netPrice)),t.xp6(3),t.Oqu(t.lcZ(18,15,e.taxAmount)),t.xp6(3),t.Oqu(t.lcZ(21,17,e.salePrice)),t.xp6(2),t.Q6J("ngIf",i.showMargin)}}function me(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"th",62),t._uU(2),t.ALo(3,"decimalpipe"),t.qZA(),t.TgZ(4,"th",62),t._uU(5),t.ALo(6,"decimalpipe"),t.qZA(),t.TgZ(7,"th",64),t._uU(8),t.ALo(9,"decimalpipe"),t.qZA(),t.BQk()),2&n){const e=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,3,e.totCost)),t.xp6(3),t.Oqu(t.lcZ(6,5,e.totGrossMargin)),t.xp6(3),t.hij("",t.lcZ(9,7,e.totGrossMarginPer),"%")}}function Ze(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"table",57),t.TgZ(2,"tbody"),t.TgZ(3,"tr"),t.TgZ(4,"th"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"th"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"th",58),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"th",58),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"th",58),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"th",58),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"th",58),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.YNc(28,de,10,9,"ng-container",59),t.qZA(),t.YNc(29,ge,23,19,"tr",60),t._UZ(30,"tr"),t.qZA(),t.TgZ(31,"tbody"),t.TgZ(32,"tr"),t.TgZ(33,"th",61),t._uU(34),t.ALo(35,"translate"),t.qZA(),t.TgZ(36,"th",62),t._uU(37),t.ALo(38,"decimalpipe"),t.qZA(),t.TgZ(39,"th",62),t._uU(40),t.ALo(41,"decimalpipe"),t.qZA(),t.TgZ(42,"th",62),t._uU(43),t.ALo(44,"decimalpipe"),t.qZA(),t.TgZ(45,"th",62),t._uU(46),t.ALo(47,"decimalpipe"),t.qZA(),t.TgZ(48,"th",62),t._uU(49),t.ALo(50,"decimalpipe"),t.qZA(),t.YNc(51,me,10,9,"ng-container",59),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(5),t.Oqu(t.lcZ(6,17,"Item Id")),t.xp6(3),t.Oqu(t.lcZ(9,19,"ItemName")),t.xp6(3),t.Oqu(t.lcZ(12,21,"Qty")),t.xp6(3),t.hij("",t.lcZ(15,23,"Amount")," "),t.xp6(3),t.hij("",t.lcZ(18,25,"Discount_Amount")," "),t.xp6(3),t.hij("",t.lcZ(21,27,"Net_Amount")," "),t.xp6(3),t.hij("",t.lcZ(24,29,"Tax_Amount")," "),t.xp6(3),t.hij("",t.lcZ(27,31,"Sales_Amount")," "),t.xp6(2),t.Q6J("ngIf",e.showMargin),t.xp6(1),t.Q6J("ngForOf",e.summaryList),t.xp6(5),t.Oqu(t.lcZ(35,33,"Total")),t.xp6(3),t.Oqu(t.lcZ(38,35,e.totAmount)),t.xp6(3),t.Oqu(t.lcZ(41,37,e.totDiscount)),t.xp6(3),t.Oqu(t.lcZ(44,39,e.totNetAmountBT)),t.xp6(3),t.Oqu(t.lcZ(47,41,e.totTaxAmount)),t.xp6(3),t.Oqu(t.lcZ(50,43,e.totSalesAmount)),t.xp6(2),t.Q6J("ngIf",e.showMargin)}}function _e(n,a){1&n&&(t.ynx(0),t.TgZ(1,"th",58),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"th",58),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th",58),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"th",71),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.BQk()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,4,"AvgCost")),t.xp6(3),t.Oqu(t.lcZ(6,6,"Total_Cost")),t.xp6(3),t.Oqu(t.lcZ(9,8,"Gross_Margin")),t.xp6(3),t.Oqu(t.lcZ(12,10,"GM%")))}function he(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"td",63),t._uU(2),t.ALo(3,"decimalpipe"),t.qZA(),t.TgZ(4,"td",63),t._uU(5),t.ALo(6,"decimalpipe"),t.qZA(),t.TgZ(7,"td",63),t._uU(8),t.ALo(9,"decimalpipe"),t.qZA(),t.TgZ(10,"td",63),t._uU(11),t.ALo(12,"decimalpipe"),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(t.lcZ(3,4,e.avgCost)),t.xp6(3),t.Oqu(t.lcZ(6,6,e.netCost)),t.xp6(3),t.Oqu(t.lcZ(9,8,e.grossMargin)),t.xp6(3),t.hij("",t.lcZ(12,10,e.grossMarginPer),"%")}}function Ae(n,a){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",71),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td",70),t._uU(13),t.qZA(),t.TgZ(14,"td",63),t._uU(15),t.ALo(16,"decimalpipe"),t.qZA(),t.TgZ(17,"td",63),t._uU(18),t.ALo(19,"decimalpipe"),t.qZA(),t.TgZ(20,"td",63),t._uU(21),t.ALo(22,"decimalpipe"),t.qZA(),t.TgZ(23,"td",63),t._uU(24),t.ALo(25,"decimalpipe"),t.qZA(),t.TgZ(26,"td",63),t._uU(27),t.ALo(28,"decimalpipe"),t.qZA(),t.YNc(29,he,13,12,"ng-container",59),t.qZA()),2&n){const e=a.$implicit,i=t.oxw(4);t.xp6(2),t.Oqu(e.invoiceNumber),t.xp6(2),t.Oqu(t.xi3(5,12,e.invoiceDate,"dd-MM-yyyy")),t.xp6(3),t.Oqu(e.customerCode),t.xp6(2),t.Oqu(e.customerName),t.xp6(2),t.Oqu(e.warehouseCode),t.xp6(2),t.Oqu(e.quantity),t.xp6(2),t.Oqu(t.lcZ(16,15,e.amount)),t.xp6(3),t.Oqu(t.lcZ(19,17,e.discountAmount)),t.xp6(3),t.Oqu(t.lcZ(22,19,e.netPrice)),t.xp6(3),t.Oqu(t.lcZ(25,21,e.taxAmount)),t.xp6(3),t.Oqu(t.lcZ(28,23,e.salePrice)),t.xp6(2),t.Q6J("ngIf",i.showMargin)}}function Te(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"td",63),t._uU(2),t.ALo(3,"decimalpipe"),t.qZA(),t.TgZ(4,"td",63),t._uU(5),t.ALo(6,"decimalpipe"),t.qZA(),t.TgZ(7,"td",63),t._uU(8),t.ALo(9,"decimalpipe"),t.qZA(),t.TgZ(10,"td",72),t._uU(11),t.ALo(12,"decimalpipe"),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(t.lcZ(3,4,e.summary.avgCost)),t.xp6(3),t.Oqu(t.lcZ(6,6,e.summary.netCost)),t.xp6(3),t.Oqu(t.lcZ(9,8,e.summary.grossMargin)),t.xp6(3),t.hij("",t.lcZ(12,10,e.summary.grossMarginPer),"%")}}function fe(n,a){if(1&n&&(t.ynx(0,67),t.TgZ(1,"table",57),t.TgZ(2,"tbody"),t.TgZ(3,"tr"),t.TgZ(4,"th",68),t._uU(5),t.ALo(6,"translate"),t.ALo(7,"translate"),t.qZA(),t.qZA(),t.TgZ(8,"tr"),t.TgZ(9,"th"),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"th"),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"th"),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"th"),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"th"),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"th",58),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.TgZ(27,"th",58),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.TgZ(30,"th",58),t._uU(31),t.ALo(32,"translate"),t.qZA(),t.TgZ(33,"th",58),t._uU(34),t.ALo(35,"translate"),t.qZA(),t.TgZ(36,"th",58),t._uU(37),t.ALo(38,"translate"),t.qZA(),t.TgZ(39,"th",58),t._uU(40),t.ALo(41,"translate"),t.qZA(),t.YNc(42,_e,13,12,"ng-container",59),t.qZA(),t.YNc(43,Ae,30,25,"tr",60),t.TgZ(44,"tr"),t.TgZ(45,"th",69),t._uU(46),t.ALo(47,"translate"),t.qZA(),t.TgZ(48,"td",70),t._uU(49),t.qZA(),t.TgZ(50,"td",63),t._uU(51),t.ALo(52,"decimalpipe"),t.qZA(),t.TgZ(53,"td",63),t._uU(54),t.ALo(55,"decimalpipe"),t.qZA(),t.TgZ(56,"td",63),t._uU(57),t.ALo(58,"decimalpipe"),t.qZA(),t.TgZ(59,"td",63),t._uU(60),t.ALo(61,"decimalpipe"),t.qZA(),t.TgZ(62,"td",63),t._uU(63),t.ALo(64,"decimalpipe"),t.qZA(),t.YNc(65,Te,13,12,"ng-container",59),t.qZA(),t.qZA(),t.qZA(),t._UZ(66,"br"),t.BQk()),2&n){const e=a.$implicit,i=t.oxw(3);t.xp6(5),t.HOy("",t.lcZ(6,25,"Item Id"),":",e.summary.id,",",t.lcZ(7,27,"ItemName"),":",e.summary.itemName," "),t.xp6(5),t.Oqu(t.lcZ(11,29,"Inv.No")),t.xp6(3),t.Oqu(t.lcZ(14,31,"Date")),t.xp6(3),t.Oqu(t.lcZ(17,33,"CustomerCode")),t.xp6(3),t.Oqu(t.lcZ(20,35,"CustomerName")),t.xp6(3),t.Oqu(t.lcZ(23,37,"WHCode")),t.xp6(3),t.Oqu(t.lcZ(26,39,"Qty")),t.xp6(3),t.Oqu(t.lcZ(29,41,"Amount")),t.xp6(3),t.Oqu(t.lcZ(32,43,"Dis.Amount")),t.xp6(3),t.Oqu(t.lcZ(35,45,"NetPrice")),t.xp6(3),t.Oqu(t.lcZ(38,47,"Tax")),t.xp6(3),t.Oqu(t.lcZ(41,49,"SalePrice")),t.xp6(2),t.Q6J("ngIf",i.showMargin),t.xp6(1),t.Q6J("ngForOf",e.itemLines),t.xp6(3),t.Oqu(t.lcZ(47,51,"Total")),t.xp6(3),t.Oqu(e.summary.quantity),t.xp6(2),t.Oqu(t.lcZ(52,53,e.summary.amount)),t.xp6(3),t.Oqu(t.lcZ(55,55,e.summary.discountAmount)),t.xp6(3),t.Oqu(t.lcZ(58,57,e.summary.netPrice)),t.xp6(3),t.Oqu(t.lcZ(61,59,e.summary.taxAmount)),t.xp6(3),t.Oqu(t.lcZ(64,61,e.summary.salePrice)),t.xp6(2),t.Q6J("ngIf",i.showMargin)}}function qe(n,a){1&n&&(t.ynx(0),t.TgZ(1,"th",58),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"th",58),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th",58),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.BQk()),2&n&&(t.xp6(2),t.hij("",t.lcZ(3,3,"Cost")," "),t.xp6(3),t.hij("",t.lcZ(6,5,"Gross_Margin")," "),t.xp6(3),t.hij("",t.lcZ(9,7,"GM%")," "))}function ve(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"td",62),t._uU(2),t.ALo(3,"decimalpipe"),t.qZA(),t.TgZ(4,"td",62),t._uU(5),t.ALo(6,"decimalpipe"),t.qZA(),t.TgZ(7,"td",62),t._uU(8),t.ALo(9,"decimalpipe"),t.qZA(),t.BQk()),2&n){const e=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,3,e.totCost)),t.xp6(3),t.Oqu(t.lcZ(6,5,e.totGrossMargin)),t.xp6(3),t.hij("",t.lcZ(9,7,e.totGrossMarginPer),"%")}}function xe(n,a){if(1&n&&(t.YNc(0,fe,67,63,"ng-container",65),t.TgZ(1,"table",57),t.TgZ(2,"tr"),t.TgZ(3,"th",66),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"th",58),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"th",58),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"th",58),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"th",58),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"th",58),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.YNc(21,qe,10,9,"ng-container",59),t.qZA(),t.TgZ(22,"tr"),t.TgZ(23,"td",62),t._uU(24),t.ALo(25,"decimalpipe"),t.qZA(),t.TgZ(26,"td",62),t._uU(27),t.ALo(28,"decimalpipe"),t.qZA(),t.TgZ(29,"td",62),t._uU(30),t.ALo(31,"decimalpipe"),t.qZA(),t.TgZ(32,"td",62),t._uU(33),t.ALo(34,"decimalpipe"),t.qZA(),t.TgZ(35,"td",62),t._uU(36),t.ALo(37,"decimalpipe"),t.qZA(),t.YNc(38,ve,10,9,"ng-container",59),t.qZA(),t.qZA()),2&n){const e=t.oxw(2);t.Q6J("ngForOf",e.detailList),t.xp6(4),t.Oqu(t.lcZ(5,14,"Total")),t.xp6(3),t.hij("",t.lcZ(8,16,"Amount")," "),t.xp6(3),t.hij("",t.lcZ(11,18,"Discount_Amount")," "),t.xp6(3),t.hij("",t.lcZ(14,20,"Net_Amount")," "),t.xp6(3),t.hij("",t.lcZ(17,22,"Tax_Amount")," "),t.xp6(3),t.hij("",t.lcZ(20,24,"Sales_Amount")," "),t.xp6(2),t.Q6J("ngIf",e.showMargin),t.xp6(3),t.Oqu(t.lcZ(25,26,e.totAmount)),t.xp6(3),t.Oqu(t.lcZ(28,28,e.totDiscount)),t.xp6(3),t.Oqu(t.lcZ(31,30,e.totNetAmountBT)),t.xp6(3),t.Oqu(t.lcZ(34,32,e.totTaxAmount)),t.xp6(3),t.Oqu(t.lcZ(37,34,e.totSalesAmount)),t.xp6(2),t.Q6J("ngIf",e.showMargin)}}function Ce(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",44),t.TgZ(1,"div",45),t.TgZ(2,"button",40),t.NdJ("click",function(){return t.CHM(e),t.oxw().openPrint()}),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"div",46),t.TgZ(7,"div",47),t._uU(8),t.YNc(9,se,1,1,"img",48),t._UZ(10,"br"),t._uU(11),t._UZ(12,"br"),t._uU(13),t.qZA(),t._UZ(14,"br"),t.YNc(15,ce,8,11,"div",49),t.TgZ(16,"div",50),t.YNc(17,Ze,52,45,"ng-container",51),t.YNc(18,xe,39,36,"ng-template",52,53,t.W1O),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.MAs(19),i=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,8,"Print")," "),t.xp6(5),t.hij(" ",i.companyName," "),t.xp6(1),t.Q6J("ngIf",i.companyName),t.xp6(2),t.hij(" ",i.branchName," "),t.xp6(2),t.hij(" ",i.companyAddress," "),t.xp6(2),t.Q6J("ngIf",i.dateFrom&&i.dateTo),t.xp6(2),t.Q6J("ngIf",i.isSummary&&i.summaryList.length>0)("ngIfElse",e)}}let Se=(()=>{class n extends v{constructor(e,i,o,s,r){super(o),this.fb=e,this.apiService=i,this.authService=o,this.utilService=s,this.notifyService=r,this.isSummary=!0,this.isArab=!1,this.customerSiteList=[],this.codeControl=new l.NI(""),this.isLoading=!1,this.isCodeLoading=!1,this.type="All",this.companyName="",this.companyAddress="",this.branchName="",this.dateFrom="",this.dateTo="",this.siteCode="",this.summaryList=[],this.detailList=[],this.whCode="",this.whSelectionList=[],this.itemId="",this.itemSelectionList=[],this.totAmount=0,this.totDiscount=0,this.totNetAmountBT=0,this.totTaxAmount=0,this.totSalesAmount=0,this.totCost=0,this.totGrossMargin=0,this.totGrossMarginPer=0,this.pageNumber=0,this.pageSize=1,this.summaryPageSize=50,this.detailedPageSize=1,this.totalItemsCount=0,this.showMargin=!1,this.filteredOptions=this.codeControl.valueChanges.pipe((0,z.O)(""),(0,W.b)(400),(0,H.x)(),(0,G.w)(u=>(""!==u.trim()&&(this.isCodeLoading=!0),this.filter(u||""))))}ngOnInit(){this.isArab=this.utilService.isArabic();let e=new Date;e.setDate(e.getDate()-7),this.dateFrom=e.toISOString(),this.dateTo=(new Date).toISOString(),this.loadWareHouseList(),this.loadItemSelectionList(),this.search()}clearCode(e){"whCode"==e?this.whCode="":"itemId"==e&&(this.itemId="")}filter(e){return this.apiService.getall(`customer/getCustomerCodeSelectList?search=${e.trim()}`).pipe((0,X.U)(i=>{const o=i;return this.isCodeLoading=!1,o}))}clearReport(){this.summaryList=[],this.detailList=[]}loadItemSelectionList(){this.apiService.getall("Item/getSelectItemMOUList").subscribe(e=>{this.itemSelectionList=e,this.itemSelectionList.forEach(i=>{i.lable=this.isArab?i.textTwo:i.text})})}search(){this.isLoading=!0,this.summaryList=[],this.detailList=[],this.pageNumber=0,this.pageSize=this.isSummary?this.summaryPageSize:this.detailedPageSize,this.apiService.getall(`sndReports/getSndItemSalesReport?isSummary=${this.isSummary}&type=${this.type}&custCode=${this.codeControl.value}&itemId=${this.itemId}&whCode=${this.whCode}&from=${this.utilService.getCommonDate(this.dateFrom)}&to=${this.utilService.getCommonDate(this.dateTo)}&pageNumber=${this.pageNumber}&pageSize=${this.pageSize}`).subscribe(e=>{0==e.summaryReport.length?(this.notifyService.showInfo("No Data Found"),this.isLoading=!1):(this.isSummary?this.summaryList=e.summaryReport:this.detailList=e.detailedReport,this.companyName=e.comapnyName,this.companyAddress=e.address,this.branchName=e.branchName,this.logoURL=e.logoURL,this.totAmount=e.totAmount,this.totDiscount=e.totDiscount,this.totNetAmountBT=e.totNetAmountBT,this.totSalesAmount=e.totSalesAmount,this.totTaxAmount=e.totTaxAmount,this.totCost=e.totCost,this.totGrossMargin=e.totGrossMargin,this.totGrossMarginPer=e.totGrossMarginPer,this.totalItemsCount=e.totalItemsCount,this.loadReports(++this.pageNumber))})}loadReports(e){e>Math.floor(this.totalItemsCount/this.pageSize)?(this.isLoading=!1,this.totGrossMarginPer=0==this.totSalesAmount?0:this.totGrossMargin/this.totSalesAmount*100):this.apiService.getall(`sndReports/getSndItemSalesReport?isSummary=${this.isSummary}&type=${this.type}&custCode=${this.codeControl.value}&itemId=${this.itemId}&whCode=${this.whCode}&from=${this.utilService.getCommonDate(this.dateFrom)}&to=${this.utilService.getCommonDate(this.dateTo)}&pageNumber=${this.pageNumber}&pageSize=${this.pageSize}`).subscribe(i=>{this.isSummary?this.summaryList=this.summaryList.concat(i.summaryReport):this.detailList=this.detailList.concat(i.detailedReport),this.totAmount+=i.totAmount,this.totDiscount+=i.totDiscount,this.totNetAmountBT+=i.totNetAmountBT,this.totSalesAmount+=i.totSalesAmount,this.totTaxAmount+=i.totTaxAmount,this.totCost+=i.totCost,this.totGrossMargin+=i.totGrossMargin,this.loadReports(++this.pageNumber)})}openPrint(){const e=document.getElementById("printcontainer"),i=window.open("","","left=0,top=0,width=2000,height=1000,toolbar=0,scrollbars=0,status=0");setTimeout(()=>{i.document.write(e.innerHTML),i.document.close(),i.focus(),i.print(),i.close()},50)}loadWareHouseList(){this.apiService.getall("Warehouse/getSelectWarehouseCodeList").subscribe(e=>{this.whSelectionList=e,this.whSelectionList.forEach(i=>{i.lable=i.value+"-"+i.text})})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.qu),t.Y36(x.s),t.Y36(T._),t.Y36(C.t),t.Y36(S.g))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-snd-item-sales-summary"]],features:[t.qOj],decls:125,vars:93,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"col-md-7","col-lg-9"],[1,"card-title","pt6"],[1,"cardtitle-divider"],[1,"col-md-4","col-lg-4"],[1,"form-group"],[1,"custom-select","mr-sm-2",3,"ngModel","ngModelChange"],["value","All"],["value","Approved"],["value","NotApproved"],["value","Settled"],["value","NotSettled"],["value","Posted"],["value","NotPosted"],[3,"isLoading"],["type","text","matInput","",1,"form-control",3,"placeholder","formControl","matAutocomplete"],[3,"optionSelected"],["auto1","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["bindLabel","lable","bindValue","value",3,"items","ngModel","ngModelChange","change","clear"],[1,"input-group","mb-2"],[1,"form-control","datapickerinput",3,"placeholder","ngModel","matDatepicker","ngModelChange","dateChange"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker1",""],["picker2",""],[1,"col-md-2","col-lg-2"],["color","primary",3,"ngModel","ngModelChange","change"],["color","primary",3,"ngModel","ngModelChange"],["type","button","data-toggle","modal",1,"btn","waves-effect","waves-light","btn-rounded","btn-primary","btn-midblock",3,"click"],[1,"col-md-1","col-lg-1"],["class","modal-content",4,"ngIf"],[3,"value"],[1,"modal-content"],[1,"modal-body"],["id","printcontainer",1,"outer"],[1,"text-center","font-weight-medium"],["style","width:200px;height:150px;float:right;",3,"src",4,"ngIf"],["class","text-center font-weight-medium",4,"ngIf"],[1,"table-responsive"],[4,"ngIf","ngIfElse"],["style","border:none"],["detailedList",""],[2,"width","200px","height","150px","float","right",3,"src"],["class","backspace",4,"ngIf"],[1,"backspace"],["border","1","cellpadding","0","cellspacing","0",1,"ur_tablestyle",2,"width","100%"],[1,"w10per"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","3",1,"text-right",2,"padding","10px"],[1,"text-right",2,"padding","10px"],[1,"text-right"],[1,"text-right",2,"padding","10px","white-space","nowrap"],["style","border:none",4,"ngFor","ngForOf"],["colspan","3","rowspan","2",1,"text-right",2,"padding","10px","width","20%"],[2,"border","none"],["colspan","15"],["colspan","5"],[1,"text-center"],[1,"w10per",2,"white-space","nowrap"],[1,"text-right",2,"white-space","nowrap"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"nav",5),t.TgZ(8,"ol",6),t.TgZ(9,"li",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"li",7),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"li",8),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",1),t.TgZ(19,"div",9),t.TgZ(20,"div",10),t.TgZ(21,"div",11),t.TgZ(22,"div",1),t.TgZ(23,"div",12),t.TgZ(24,"h4",13),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.qZA(),t.qZA(),t._UZ(27,"div",14),t.TgZ(28,"div",1),t.TgZ(29,"div",15),t.TgZ(30,"div",16),t.TgZ(31,"label"),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"select",17),t.NdJ("ngModelChange",function(s){return i.type=s}),t.TgZ(35,"option",18),t._uU(36,"All"),t.qZA(),t.TgZ(37,"option",19),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"option",20),t._uU(41),t.ALo(42,"translate"),t.qZA(),t.TgZ(43,"option",21),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.TgZ(46,"option",22),t._uU(47),t.ALo(48,"translate"),t.qZA(),t.TgZ(49,"option",23),t._uU(50),t.ALo(51,"translate"),t.qZA(),t.TgZ(52,"option",24),t._uU(53),t.ALo(54,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(55,"div",15),t.TgZ(56,"div",16),t.TgZ(57,"label"),t._uU(58),t.ALo(59,"translate"),t.qZA(),t._UZ(60,"auto-loader",25),t._UZ(61,"input",26),t.ALo(62,"translate"),t.ALo(63,"translate"),t.TgZ(64,"mat-autocomplete",27,28),t.NdJ("optionSelected",function(){return i.clearReport()}),t.YNc(66,ae,2,3,"mat-option",29),t.ALo(67,"async"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(68,"div",15),t.TgZ(69,"div",16),t.TgZ(70,"label"),t._uU(71),t.ALo(72,"translate"),t.qZA(),t.TgZ(73,"ng-select",30),t.NdJ("ngModelChange",function(s){return i.whCode=s})("change",function(){return i.clearReport()})("clear",function(){return i.clearCode("whCode")}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(74,"div",15),t.TgZ(75,"div",16),t.TgZ(76,"label"),t._uU(77),t.ALo(78,"translate"),t.qZA(),t.TgZ(79,"ng-select",30),t.NdJ("ngModelChange",function(s){return i.itemId=s})("change",function(){return i.clearReport()})("clear",function(){return i.clearCode("itemId")}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(80,"div",15),t.TgZ(81,"div",16),t.TgZ(82,"label"),t._uU(83),t.ALo(84,"translate"),t.qZA(),t.TgZ(85,"div",16),t.TgZ(86,"div",31),t.TgZ(87,"input",32),t.NdJ("ngModelChange",function(s){return i.dateFrom=s})("dateChange",function(){return i.clearReport()}),t.ALo(88,"translate"),t.qZA(),t.TgZ(89,"div",33),t._UZ(90,"mat-datepicker-toggle",34),t._UZ(91,"mat-datepicker",null,35),t._UZ(93,"br"),t._UZ(94,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(95,"div",15),t.TgZ(96,"div",16),t.TgZ(97,"label"),t._uU(98),t.ALo(99,"translate"),t.qZA(),t.TgZ(100,"div",16),t.TgZ(101,"div",31),t.TgZ(102,"input",32),t.NdJ("ngModelChange",function(s){return i.dateTo=s})("dateChange",function(){return i.clearReport()}),t.ALo(103,"translate"),t.qZA(),t.TgZ(104,"div",33),t._UZ(105,"mat-datepicker-toggle",34),t._UZ(106,"mat-datepicker",null,36),t._UZ(108,"br"),t._UZ(109,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(110,"div",37),t.TgZ(111,"mat-slide-toggle",38),t.NdJ("ngModelChange",function(s){return i.isSummary=s})("change",function(){return i.clearReport()}),t.qZA(),t._uU(112),t.ALo(113,"translate"),t.qZA(),t.TgZ(114,"div",37),t.TgZ(115,"mat-slide-toggle",39),t.NdJ("ngModelChange",function(s){return i.showMargin=s}),t.qZA(),t._uU(116),t.ALo(117,"translate"),t.qZA(),t.TgZ(118,"div",37),t.TgZ(119,"button",40),t.NdJ("click",function(){return i.search()}),t._uU(120),t.ALo(121,"translate"),t.qZA(),t.qZA(),t.TgZ(122,"div",41),t._UZ(123,"spinner-loader",25),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(124,Ce,20,10,"div",42),t.qZA()),2&e){const o=t.MAs(65),s=t.MAs(92),r=t.MAs(107);t.xp6(4),t.hij(" ",t.lcZ(5,43,"Sales_Statement")," "),t.xp6(6),t.hij(" ",t.lcZ(11,45,"Administration")," "),t.xp6(3),t.Oqu(t.lcZ(14,47,"Sales_Management")),t.xp6(3),t.Oqu(t.lcZ(17,49,"Sales_Statement")),t.xp6(9),t.hij("",t.lcZ(26,51,"Sales_Statement")," "),t.xp6(7),t.Oqu(t.lcZ(33,53,"Choose")),t.xp6(2),t.Q6J("ngModel",i.type),t.xp6(4),t.Oqu(t.lcZ(39,55,"Approved")),t.xp6(3),t.Oqu(t.lcZ(42,57,"NotApproved")),t.xp6(3),t.Oqu(t.lcZ(45,59,"Settled")),t.xp6(3),t.Oqu(t.lcZ(48,61,"NotSettled")),t.xp6(3),t.Oqu(t.lcZ(51,63,"Posted")),t.xp6(3),t.Oqu(t.lcZ(54,65,"Not_Posted")),t.xp6(5),t.Oqu(t.lcZ(59,67,"Customer_Code")),t.xp6(2),t.Q6J("isLoading",i.isCodeLoading),t.xp6(1),t.hYB("placeholder","",t.lcZ(62,69,"Please_Enter")," ",t.lcZ(63,71,"Customer_Code"),""),t.Q6J("formControl",i.codeControl)("matAutocomplete",o),t.xp6(5),t.Q6J("ngForOf",t.lcZ(67,73,i.filteredOptions)),t.xp6(5),t.Oqu(t.lcZ(72,75,"Warehouse_Code")),t.xp6(2),t.Q6J("items",i.whSelectionList)("ngModel",i.whCode),t.xp6(4),t.Oqu(t.lcZ(78,77,"Item")),t.xp6(2),t.Q6J("items",i.itemSelectionList)("ngModel",i.itemId),t.xp6(4),t.Oqu(t.lcZ(84,79,"From_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(88,81,"Select_a_Date")),t.Q6J("ngModel",i.dateFrom)("matDatepicker",s),t.xp6(3),t.Q6J("for",s),t.xp6(8),t.Oqu(t.lcZ(99,83,"To_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(103,85,"Select_a_Date")),t.Q6J("ngModel",i.dateTo)("matDatepicker",r),t.xp6(3),t.Q6J("for",r),t.xp6(6),t.Q6J("ngModel",i.isSummary),t.xp6(1),t.hij(" ",t.lcZ(113,87,"IsSummary")," "),t.xp6(3),t.Q6J("ngModel",i.showMargin),t.xp6(1),t.hij(" ",t.lcZ(117,89,"Show_Margin")," "),t.xp6(4),t.hij(" ",t.lcZ(121,91,"Search")," "),t.xp6(3),t.Q6J("isLoading",i.isLoading),t.xp6(1),t.Q6J("ngIf",i.summaryList.length>0||i.detailList.length>0)}},directives:[l.EJ,l.JJ,l.On,l.YN,l.Kr,K.z,l.Fj,k.ZL,l.oH,k.XC,d.sg,D.w9,_.hl,_.nW,A.R9,_.Mq,O.Rr,b.r,d.O5,tt.ey],pipes:[h.X$,d.Ov,d.uU,E.J],encapsulation:2}),n})();function ye(n,a){if(1&n&&(t.TgZ(0,"mat-option",31),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e.value),t.xp6(1),t.AsE(" (",e.value,") ",e.textTwo," ")}}function Ue(n,a){if(1&n&&t._UZ(0,"img",40),2&n){const e=t.oxw(2);t.s9C("src",e.logoURL,t.LSH)}}function be(n,a){if(1&n&&(t.TgZ(0,"span",42),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" Customer Code :",e.codeControl.value," ")}}function Le(n,a){if(1&n&&(t.TgZ(0,"div",35),t.TgZ(1,"p"),t._uU(2),t.ALo(3,"date"),t.ALo(4,"date"),t.qZA(),t.YNc(5,be,2,1,"span",41),t.qZA()),2&n){const e=t.oxw(2);t.xp6(2),t.AsE(' The Statement of " Invoice Summary" for ',t.xi3(3,3,e.dateFrom,"dd/MM/yyyy")," to ",t.xi3(4,6,e.dateTo,"dd/MM/yyyy")," "),t.xp6(3),t.Q6J("ngIf",e.codeControl.value)}}function Ie(n,a){if(1&n&&(t.TgZ(0,"th",51),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.hij("",t.xi3(2,1,e,"MMM")," ")}}function Ne(n,a){1&n&&(t.ynx(0),t.TgZ(1,"tr"),t.TgZ(2,"th"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.qZA(),t.TgZ(5,"tr"),t.TgZ(6,"th"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.qZA(),t.TgZ(9,"tr"),t.TgZ(10,"th"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.qZA(),t.BQk()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,3,"Cost")),t.xp6(4),t.Oqu(t.lcZ(8,5,"Gross_Margin")),t.xp6(4),t.Oqu(t.lcZ(12,7,"%")))}function we(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"tr"),t.TgZ(2,"td",49),t._uU(3),t.ALo(4,"number"),t.qZA(),t.qZA(),t.TgZ(5,"tr"),t.TgZ(6,"td",49),t._uU(7),t.ALo(8,"number"),t.qZA(),t.qZA(),t.TgZ(9,"tr"),t.TgZ(10,"td",49),t._uU(11),t.ALo(12,"number"),t.qZA(),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(3),t.hij(" ",t.xi3(4,3,e.cost,"1.2")," "),t.xp6(4),t.hij(" ",t.xi3(8,6,e.grossMargin,"1.2")," "),t.xp6(4),t.hij(" ",t.xi3(12,9,e.grossMarginPer,"1.0-1"),"% ")}}function De(n,a){if(1&n&&(t.TgZ(0,"td",49),t.TgZ(1,"table",53),t.TgZ(2,"tr"),t.TgZ(3,"td",49),t._uU(4),t.ALo(5,"number"),t.qZA(),t.qZA(),t.YNc(6,we,13,12,"ng-container",39),t.qZA(),t.qZA()),2&n){const e=a.$implicit,i=t.oxw(4);t.xp6(4),t.hij(" ",t.xi3(5,2,e.salesAmount,"1.2")," "),t.xp6(2),t.Q6J("ngIf",i.showMargin)}}function Oe(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"tr"),t.TgZ(2,"td",49),t._uU(3),t.ALo(4,"number"),t.qZA(),t.qZA(),t.TgZ(5,"tr"),t.TgZ(6,"td",49),t._uU(7),t.ALo(8,"number"),t.qZA(),t.qZA(),t.TgZ(9,"tr"),t.TgZ(10,"td",49),t._uU(11),t.ALo(12,"number"),t.qZA(),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(3),t.hij(" ",t.xi3(4,3,e.cost,"1.2")," "),t.xp6(4),t.hij(" ",t.xi3(8,6,e.grossMargin,"1.2")," "),t.xp6(4),t.hij(" ",t.xi3(12,9,e.grossMarginPer,"1.0-1"),"% ")}}function Me(n,a){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t.TgZ(6,"table",52),t.TgZ(7,"tr"),t.TgZ(8,"th"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.qZA(),t.YNc(11,Ne,13,9,"ng-container",39),t.qZA(),t.qZA(),t.YNc(12,De,7,5,"td",48),t.TgZ(13,"td",49),t.TgZ(14,"table",50),t.TgZ(15,"tbody"),t.TgZ(16,"tr"),t.TgZ(17,"td",49),t._uU(18),t.ALo(19,"number"),t.qZA(),t.qZA(),t.YNc(20,Oe,13,12,"ng-container",39),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){const e=a.$implicit,i=t.oxw(3);t.xp6(2),t.Oqu(e.customerCode),t.xp6(2),t.Oqu(e.customerName),t.xp6(5),t.Oqu(t.lcZ(10,7,"Sales_Amount")),t.xp6(2),t.Q6J("ngIf",i.showMargin),t.xp6(1),t.Q6J("ngForOf",null==e?null:e.monthlyReportsPerCustomer),t.xp6(6),t.hij(" ",t.xi3(19,9,e.salesAmount,"1.2")," "),t.xp6(2),t.Q6J("ngIf",i.showMargin)}}function ke(n,a){1&n&&(t.ynx(0),t.TgZ(1,"tr"),t.TgZ(2,"th"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.qZA(),t.TgZ(5,"tr"),t.TgZ(6,"th"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.qZA(),t.TgZ(9,"tr"),t.TgZ(10,"th"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.qZA(),t.BQk()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,3,"Cost")),t.xp6(4),t.Oqu(t.lcZ(8,5,"Gross_Margin")),t.xp6(4),t.Oqu(t.lcZ(12,7,"%")))}function Qe(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"tr"),t.TgZ(2,"th",49),t._uU(3),t.ALo(4,"number"),t.qZA(),t.qZA(),t.TgZ(5,"tr"),t.TgZ(6,"th",49),t._uU(7),t.ALo(8,"number"),t.qZA(),t.qZA(),t.TgZ(9,"tr"),t.TgZ(10,"th",49),t._uU(11),t.ALo(12,"number"),t.qZA(),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(3),t.hij(" ",t.xi3(4,3,e.cost,"1.2")," "),t.xp6(4),t.hij(" ",t.xi3(8,6,e.grossMargin,"1.2")," "),t.xp6(4),t.hij(" ",t.xi3(12,9,e.grossMarginPer,"1.0-1"),"% ")}}function je(n,a){if(1&n&&(t.TgZ(0,"td",49),t.TgZ(1,"table",50),t.TgZ(2,"tbody"),t.TgZ(3,"tr"),t.TgZ(4,"th",49),t._uU(5),t.ALo(6,"number"),t.qZA(),t.qZA(),t.YNc(7,Qe,13,12,"ng-container",39),t.qZA(),t.qZA(),t.qZA()),2&n){const e=a.$implicit,i=t.oxw(3);t.xp6(5),t.hij(" ",t.xi3(6,2,e.salesAmount,"1.2")," "),t.xp6(2),t.Q6J("ngIf",i.showMargin)}}function Re(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"tr"),t.TgZ(2,"th",49),t._uU(3),t.ALo(4,"number"),t.qZA(),t.qZA(),t.TgZ(5,"tr"),t.TgZ(6,"th",49),t._uU(7),t.ALo(8,"number"),t.qZA(),t.qZA(),t.TgZ(9,"tr"),t.TgZ(10,"th",49),t._uU(11),t.ALo(12,"number"),t.qZA(),t.qZA(),t.BQk()),2&n){const e=t.oxw(3);t.xp6(3),t.hij(" ",t.xi3(4,3,e.totCost,"1.2")," "),t.xp6(4),t.hij(" ",t.xi3(8,6,e.totGrossMargin,"1.2")," "),t.xp6(4),t.hij(" ",t.xi3(12,9,e.totGrossMarginPer,"1.0-1"),"% ")}}function Je(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"table",43),t.TgZ(2,"tbody"),t.TgZ(3,"tr"),t.TgZ(4,"th"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t._UZ(10,"th"),t.YNc(11,Ie,3,4,"th",44),t.TgZ(12,"th",45),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.qZA(),t.YNc(15,Me,21,12,"tr",46),t.TgZ(16,"tr"),t.TgZ(17,"th",47),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"td"),t.TgZ(21,"table"),t.TgZ(22,"tr"),t.TgZ(23,"th"),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.qZA(),t.YNc(26,ke,13,9,"ng-container",39),t.qZA(),t.qZA(),t.YNc(27,je,8,5,"td",48),t.TgZ(28,"td",49),t.TgZ(29,"table",50),t.TgZ(30,"tbody"),t.TgZ(31,"tr"),t.TgZ(32,"th",49),t._uU(33),t.ALo(34,"number"),t.qZA(),t.qZA(),t.YNc(35,Re,13,12,"ng-container",39),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(5),t.Oqu(t.lcZ(6,11,"Customer_Code")),t.xp6(3),t.Oqu(t.lcZ(9,13,"CustomerName")),t.xp6(3),t.Q6J("ngForOf",e.columns),t.xp6(2),t.Oqu(t.lcZ(14,15,"Totals")),t.xp6(2),t.Q6J("ngForOf",e.monthlyReports),t.xp6(3),t.hij(" ",t.lcZ(19,17,"Total")," "),t.xp6(6),t.Oqu(t.lcZ(25,19,"Sales_Amount")),t.xp6(2),t.Q6J("ngIf",e.showMargin),t.xp6(1),t.Q6J("ngForOf",e.monthlyTotals),t.xp6(6),t.hij(" ",t.xi3(34,21,e.totSalesAmount,"1.2")," "),t.xp6(2),t.Q6J("ngIf",e.showMargin)}}function Pe(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",32),t.TgZ(1,"div",33),t.TgZ(2,"button",28),t.NdJ("click",function(){return t.CHM(e),t.oxw().openPrint()}),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"div",34),t.TgZ(7,"div",35),t._uU(8),t.YNc(9,Ue,1,1,"img",36),t._UZ(10,"br"),t._uU(11),t._UZ(12,"br"),t._uU(13),t.qZA(),t._UZ(14,"br"),t.YNc(15,Le,6,9,"div",37),t.TgZ(16,"div",38),t.YNc(17,Je,36,24,"ng-container",39),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,7,"Print")," "),t.xp6(5),t.hij(" ",e.companyName," "),t.xp6(1),t.Q6J("ngIf",e.companyName),t.xp6(2),t.hij(" ",e.branchName," "),t.xp6(2),t.hij(" ",e.companyAddress," "),t.xp6(2),t.Q6J("ngIf",e.dateFrom&&e.dateTo),t.xp6(2),t.Q6J("ngIf",e.monthlyReports.length>0)}}let Ye=(()=>{class n extends v{constructor(e,i,o,s,r){super(o),this.fb=e,this.apiService=i,this.authService=o,this.utilService=s,this.notifyService=r,this.isArab=!1,this.customerSiteList=[],this.codeControl=new l.NI(""),this.isLoading=!1,this.isCodeLoading=!1,this.type="All",this.companyName="",this.companyAddress="",this.branchName="",this.dateFrom="",this.dateTo="",this.siteCode="",this.monthlyReports=[],this.monthlyTotals=[],this.columns=[],this.totAmount=0,this.totDiscount=0,this.totNetAmountBT=0,this.totTaxAmount=0,this.totSalesAmount=0,this.totCost=0,this.totGrossMargin=0,this.totGrossMarginPer=0,this.pageNumber=0,this.pageSize=1,this.totalItemsCount=0,this.showMargin=!1,this.filteredOptions=this.codeControl.valueChanges.pipe((0,z.O)(""),(0,W.b)(400),(0,H.x)(),(0,G.w)(u=>(""!==u.trim()&&(this.isCodeLoading=!0),this.filter(u||""))))}ngOnInit(){this.isArab=this.utilService.isArabic();let e=new Date;e.setDate(e.getDate()-7),this.dateFrom=e.toISOString(),this.dateTo=(new Date).toISOString(),this.search()}filter(e){return this.apiService.getall(`customer/getCustomerCodeSelectList?search=${e.trim()}`).pipe((0,X.U)(i=>{const o=i;return this.isCodeLoading=!1,o}))}clearReport(){this.monthlyReports=[]}search(){this.isLoading=!0,this.monthlyReports=[],this.pageNumber=0,this.apiService.getall(`sndReports/getCustomerSalesMonthlyReport?custCode=${this.codeControl.value}&from=${this.utilService.getCommonDate(this.dateFrom)}&to=${this.utilService.getCommonDate(this.dateTo)}&pageNumber=0&pageSize=${this.pageSize}`).subscribe(e=>{e&&(this.totalItemsCount=e.totalItemsCount,0==e.monthlyReports.length?(this.notifyService.showInfo("No Data Found"),this.isLoading=!1):(this.monthlyReports=e.monthlyReports,this.monthlyTotals=e.monthlyTotals,this.columns=e.columns,this.loadReport(++this.pageNumber)),this.companyName=e.comapnyName,this.companyAddress=e.address,this.branchName=e.branchName,this.logoURL=e.logoURL,this.totAmount=e.totAmount,this.totDiscount=e.totDiscount,this.totNetAmountBT=e.totNetAmountBT,this.totSalesAmount=e.totSalesAmount,this.totTaxAmount=e.totTaxAmount,this.totCost=e.totCost,this.totGrossMargin=e.totGrossMargin,this.totGrossMarginPer=e.totGrossMarginPer,this.columns=e.columns),setTimeout(()=>{},5e3)})}loadReport(e){if(e>Math.floor(this.totalItemsCount/this.pageSize)){this.isLoading=!1;let i=this.monthlyTotals.reduce((s,r)=>s+r.cost,0),o=this.monthlyTotals.reduce((s,r)=>s+r.salesAmount,0);this.totCost=i,this.totSalesAmount=o,this.totGrossMarginPer=this.totGrossMargin/this.totSalesAmount*100}else this.apiService.getall(`sndReports/getCustomerSalesMonthlyReport?custCode=${this.codeControl.value}&from=${this.utilService.getCommonDate(this.dateFrom)}&to=${this.utilService.getCommonDate(this.dateTo)}&pageNumber=${e}&pageSize=${this.pageSize}`).subscribe(i=>{this.monthlyReports=this.monthlyReports.concat(i.monthlyReports);let o=i.monthlyTotals;this.monthlyTotals.forEach(s=>{var r,u;s.cost+=null!==(r=o.find(p=>p.monthDt==s.monthDt).cost)&&void 0!==r?r:0,s.salesAmount+=null!==(u=o.find(p=>p.monthDt==s.monthDt).salesAmount)&&void 0!==u?u:0,s.grossMargin+=s.salesAmount-s.cost}),this.loadReport(++this.pageNumber)})}openPrint(){const e=document.getElementById("printcontainer"),i=window.open("","","left=0,top=0,width=2000,height=1000,toolbar=0,scrollbars=0,status=0");setTimeout(()=>{i.document.write(e.innerHTML),i.document.close(),i.focus(),i.print(),i.close()},50)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.qu),t.Y36(x.s),t.Y36(T._),t.Y36(C.t),t.Y36(S.g))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-snd-report-customer-sales-monthly-matrix"]],features:[t.qOj],decls:75,vars:51,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","align-self-center"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"cardtitle-divider"],[1,"col-md-4","col-lg-4"],[1,"form-group"],[3,"isLoading"],["type","text","matInput","",1,"form-control",3,"placeholder","formControl","matAutocomplete"],[3,"optionSelected"],["auto1","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"input-group","mb-2"],[1,"form-control","datapickerinput",3,"placeholder","ngModel","matDatepicker","ngModelChange","dateChange"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker1",""],["picker2",""],[1,"col-md-2","col-lg-2"],["color","primary",3,"ngModel","ngModelChange"],[1,"col-md-2","col-lg-2","text-center"],["type","button","data-toggle","modal",1,"btn","waves-effect","waves-light","btn-rounded","btn-primary","btn-midblock",3,"click"],[1,"col-md-1","col-lg-1","text-center"],["class","modal-content",4,"ngIf"],[3,"value"],[1,"modal-content"],[1,"modal-body"],["id","printcontainer",1,"outer"],[1,"text-center","font-weight-medium"],["style","width:200px;height:150px;float:right;",3,"src",4,"ngIf"],["class","text-center font-weight-medium",4,"ngIf"],[1,"table-responsive"],[4,"ngIf"],[2,"width","200px","height","150px","float","right",3,"src"],["class","backspace",4,"ngIf"],[1,"backspace"],["border","1","cellpadding","0","cellspacing","0",1,"ur_tablestyle",2,"width","100%"],["style","white-space: nowrap; text-align:center",4,"ngFor","ngForOf"],[2,"text-align","center"],[4,"ngFor","ngForOf"],["colspan","2"],["style","text-align:right",4,"ngFor","ngForOf"],[2,"text-align","right"],["table","",2,"width","100%"],[2,"white-space","nowrap","text-align","center"],[1,"arabicright"],[2,"width","100%"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"nav",4),t.TgZ(5,"ol",5),t.TgZ(6,"li",6),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"li",6),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"li",7),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"div",1),t.TgZ(16,"div",8),t.TgZ(17,"div",9),t.TgZ(18,"div",10),t._UZ(19,"div",11),t.TgZ(20,"div",1),t.TgZ(21,"div",12),t.TgZ(22,"div",13),t.TgZ(23,"label"),t._uU(24),t.ALo(25,"translate"),t.qZA(),t._UZ(26,"auto-loader",14),t._UZ(27,"input",15),t.ALo(28,"translate"),t.ALo(29,"translate"),t.TgZ(30,"mat-autocomplete",16,17),t.NdJ("optionSelected",function(){return i.clearReport()}),t.YNc(32,ye,2,3,"mat-option",18),t.ALo(33,"async"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(34,"div",12),t.TgZ(35,"div",13),t.TgZ(36,"label"),t._uU(37),t.ALo(38,"translate"),t.qZA(),t.TgZ(39,"div",13),t.TgZ(40,"div",19),t.TgZ(41,"input",20),t.NdJ("ngModelChange",function(s){return i.dateFrom=s})("dateChange",function(){return i.clearReport()}),t.ALo(42,"translate"),t.qZA(),t.TgZ(43,"div",21),t._UZ(44,"mat-datepicker-toggle",22),t._UZ(45,"mat-datepicker",null,23),t._UZ(47,"br"),t._UZ(48,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(49,"div",12),t.TgZ(50,"div",13),t.TgZ(51,"label"),t._uU(52),t.ALo(53,"translate"),t.qZA(),t.TgZ(54,"div",13),t.TgZ(55,"div",19),t.TgZ(56,"input",20),t.NdJ("ngModelChange",function(s){return i.dateTo=s})("dateChange",function(){return i.clearReport()}),t.ALo(57,"translate"),t.qZA(),t.TgZ(58,"div",21),t._UZ(59,"mat-datepicker-toggle",22),t._UZ(60,"mat-datepicker",null,24),t._UZ(62,"br"),t._UZ(63,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(64,"div",25),t.TgZ(65,"mat-slide-toggle",26),t.NdJ("ngModelChange",function(s){return i.showMargin=s}),t.qZA(),t._uU(66),t.ALo(67,"translate"),t.qZA(),t.TgZ(68,"div",27),t.TgZ(69,"button",28),t.NdJ("click",function(){return i.search()}),t._uU(70),t.ALo(71,"translate"),t.qZA(),t.qZA(),t.TgZ(72,"div",29),t._UZ(73,"spinner-loader",14),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(74,Pe,18,9,"div",30),t.qZA()),2&e){const o=t.MAs(31),s=t.MAs(46),r=t.MAs(61);t.xp6(7),t.hij(" ",t.lcZ(8,25,"Administration")," "),t.xp6(3),t.Oqu(t.lcZ(11,27,"Sales_Management")),t.xp6(3),t.Oqu(t.lcZ(14,29,"Sales_Statement")),t.xp6(11),t.Oqu(t.lcZ(25,31,"Customer_Code")),t.xp6(2),t.Q6J("isLoading",i.isCodeLoading),t.xp6(1),t.hYB("placeholder","",t.lcZ(28,33,"Please_Enter")," ",t.lcZ(29,35,"Customer_Code"),""),t.Q6J("formControl",i.codeControl)("matAutocomplete",o),t.xp6(5),t.Q6J("ngForOf",t.lcZ(33,37,i.filteredOptions)),t.xp6(5),t.Oqu(t.lcZ(38,39,"From_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(42,41,"Select_a_Date")),t.Q6J("ngModel",i.dateFrom)("matDatepicker",s),t.xp6(3),t.Q6J("for",s),t.xp6(8),t.Oqu(t.lcZ(53,43,"To_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(57,45,"Select_a_Date")),t.Q6J("ngModel",i.dateTo)("matDatepicker",r),t.xp6(3),t.Q6J("for",r),t.xp6(6),t.Q6J("ngModel",i.showMargin),t.xp6(1),t.hij(" ",t.lcZ(67,47,"Show_Margin")," "),t.xp6(4),t.hij(" ",t.lcZ(71,49,"Search")," "),t.xp6(3),t.Q6J("isLoading",i.isLoading),t.xp6(1),t.Q6J("ngIf",i.monthlyReports.length>0)}},directives:[K.z,l.Fj,k.ZL,l.JJ,l.oH,k.XC,d.sg,_.hl,l.On,_.nW,A.R9,_.Mq,O.Rr,b.r,d.O5,tt.ey],pipes:[h.X$,d.Ov,d.uU,d.JJ],encapsulation:2}),n})();function Fe(n,a){if(1&n&&(t.TgZ(0,"mat-option",34),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e.value),t.xp6(1),t.AsE(" (",e.value,") ",e.textTwo," ")}}function Be(n,a){if(1&n&&t._UZ(0,"img",45),2&n){const e=t.oxw(2);t.s9C("src",e.logoURL,t.LSH)}}function Ee(n,a){if(1&n&&(t.TgZ(0,"span",47),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ,Customer Code :",e.codeControl.value," ")}}function $e(n,a){if(1&n&&(t.TgZ(0,"div",38),t.TgZ(1,"p"),t._uU(2),t.ALo(3,"date"),t.ALo(4,"date"),t.qZA(),t.YNc(5,Ee,2,1,"span",46),t.qZA()),2&n){const e=t.oxw(2);t.xp6(2),t.AsE(' The Statement of " Invoice Summary" for ',t.xi3(3,3,e.dateFrom,"dd/MM/yyyy")," to ",t.xi3(4,6,e.dateTo,"dd/MM/yyyy")," "),t.xp6(3),t.Q6J("ngIf",e.codeControl.value)}}function Ve(n,a){1&n&&(t.ynx(0),t.TgZ(1,"th",49),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"th",49),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th",49),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.BQk()),2&n&&(t.xp6(2),t.hij("",t.lcZ(3,3,"Cost")," "),t.xp6(3),t.hij("",t.lcZ(6,5,"Gross_Margin")," "),t.xp6(3),t.hij("",t.lcZ(9,7,"GM%")," "))}function ze(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"td",54),t._uU(2),t.ALo(3,"number"),t.qZA(),t.TgZ(4,"td",54),t._uU(5),t.ALo(6,"number"),t.qZA(),t.TgZ(7,"td",54),t._uU(8),t.ALo(9,"number"),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(t.xi3(3,3,e.totalCost,"1.0-1")),t.xp6(3),t.Oqu(t.xi3(6,6,e.grossMargin,"1.0-1")),t.xp6(3),t.hij("",t.xi3(9,9,e.grossMarginPer,"1.0-1"),"%")}}function We(n,a){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td",53),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",53),t._uU(6),t.qZA(),t.TgZ(7,"td",54),t._uU(8),t.ALo(9,"number"),t.qZA(),t.TgZ(10,"td",54),t._uU(11),t.ALo(12,"number"),t.qZA(),t.TgZ(13,"td",54),t._uU(14),t.ALo(15,"number"),t.qZA(),t.TgZ(16,"td",54),t._uU(17),t.ALo(18,"number"),t.qZA(),t.TgZ(19,"td",54),t._uU(20),t.ALo(21,"number"),t.qZA(),t.YNc(22,ze,10,12,"ng-container",50),t.qZA()),2&n){const e=a.$implicit,i=t.oxw(3);t.xp6(2),t.Oqu(e.customerCode),t.xp6(2),t.Oqu(e.customerName),t.xp6(2),t.Oqu(e.invoiceCount),t.xp6(2),t.Oqu(t.xi3(9,9,e.subTotal,"1.0-1")),t.xp6(3),t.Oqu(t.xi3(12,12,e.discountAmount,"1.0-1")),t.xp6(3),t.Oqu(t.xi3(15,15,e.amountBeforeTax,"1.0-1")),t.xp6(3),t.Oqu(t.xi3(18,18,e.taxAmount,"1.0-1")),t.xp6(3),t.Oqu(t.xi3(21,21,e.totalAmount,"1.0-1")),t.xp6(2),t.Q6J("ngIf",i.showMargin)}}function He(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"th",54),t._uU(2),t.ALo(3,"number"),t.qZA(),t.TgZ(4,"th",54),t._uU(5),t.ALo(6,"number"),t.qZA(),t.TgZ(7,"th",54),t._uU(8),t.ALo(9,"number"),t.qZA(),t.BQk()),2&n){const e=t.oxw(3);t.xp6(2),t.Oqu(t.xi3(3,3,e.totCost,"1.0-1")),t.xp6(3),t.Oqu(t.xi3(6,6,e.totGrossMargin,"1.0-1")),t.xp6(3),t.hij("",t.xi3(9,9,e.totGrossMarginPer,"1.0-1"),"%")}}function Ge(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"table",48),t.TgZ(2,"tbody"),t.TgZ(3,"tr"),t.TgZ(4,"th",49),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"th"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"th",49),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"th",49),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"th",49),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"th",49),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"th",49),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.YNc(28,Ve,10,9,"ng-container",50),t.qZA(),t.YNc(29,We,23,24,"tr",51),t.TgZ(30,"tr"),t.TgZ(31,"th",52),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"th",53),t._uU(35),t.qZA(),t.TgZ(36,"th",54),t._uU(37),t.ALo(38,"number"),t.qZA(),t.TgZ(39,"th",54),t._uU(40),t.ALo(41,"number"),t.qZA(),t.TgZ(42,"th",54),t._uU(43),t.ALo(44,"number"),t.qZA(),t.TgZ(45,"th",54),t._uU(46),t.ALo(47,"number"),t.qZA(),t.TgZ(48,"th",54),t._uU(49),t.ALo(50,"number"),t.qZA(),t.YNc(51,He,10,12,"ng-container",50),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(5),t.Oqu(t.lcZ(6,18,"Customer_Code")),t.xp6(3),t.Oqu(t.lcZ(9,20,"Customer_Name")),t.xp6(3),t.hij("",t.lcZ(12,22,"Count")," "),t.xp6(3),t.hij("",t.lcZ(15,24,"Amount")," "),t.xp6(3),t.hij("",t.lcZ(18,26,"Discount_Amount")," "),t.xp6(3),t.hij("",t.lcZ(21,28,"Net_Amount")," "),t.xp6(3),t.hij("",t.lcZ(24,30,"Tax_Amount")," "),t.xp6(3),t.hij("",t.lcZ(27,32,"Sales_Amount")," "),t.xp6(2),t.Q6J("ngIf",e.showMargin),t.xp6(1),t.Q6J("ngForOf",e.summaryList),t.xp6(3),t.Oqu(t.lcZ(33,34,"Total")),t.xp6(3),t.Oqu(e.totCount),t.xp6(2),t.Oqu(t.xi3(38,36,e.totAmount,"1.0-1")),t.xp6(3),t.Oqu(t.xi3(41,39,e.totDiscount,"1.0-1")),t.xp6(3),t.Oqu(t.xi3(44,42,e.totNetAmountBT,"1.0-1")),t.xp6(3),t.Oqu(t.xi3(47,45,e.totTaxAmount,"1.0-1")),t.xp6(3),t.Oqu(t.xi3(50,48,e.totSalesAmount,"1.0-1")),t.xp6(2),t.Q6J("ngIf",e.showMargin)}}function Xe(n,a){1&n&&(t.ynx(0),t.TgZ(1,"th",49),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"th",49),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th",49),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.BQk()),2&n&&(t.xp6(2),t.hij("",t.lcZ(3,3,"Cost")," "),t.xp6(3),t.hij("",t.lcZ(6,5,"Gross_Margin")," "),t.xp6(3),t.hij("",t.lcZ(9,7,"GM%")," "))}function Ke(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"td",54),t._uU(2),t.ALo(3,"decimalpipe"),t.qZA(),t.TgZ(4,"td",54),t._uU(5),t.ALo(6,"decimalpipe"),t.qZA(),t.TgZ(7,"td",54),t._uU(8),t.ALo(9,"decimalpipe"),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(t.lcZ(3,3,null==e?null:e.totalCost)),t.xp6(3),t.Oqu(t.lcZ(6,5,null==e?null:e.grossMargin)),t.xp6(3),t.Oqu(t.lcZ(9,7,null==e?null:e.grossMarginPer))}}function tn(n,a){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td",60),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td",54),t._uU(11),t.ALo(12,"decimalpipe"),t.qZA(),t.TgZ(13,"td",54),t._uU(14),t.ALo(15,"decimalpipe"),t.qZA(),t.TgZ(16,"td",54),t._uU(17),t.ALo(18,"decimalpipe"),t.qZA(),t.TgZ(19,"td",54),t._uU(20),t.ALo(21,"decimalpipe"),t.qZA(),t.TgZ(22,"td",54),t._uU(23),t.ALo(24,"decimalpipe"),t.qZA(),t.YNc(25,Ke,10,9,"ng-container",50),t.qZA()),2&n){const e=a.$implicit,i=t.oxw(4);t.xp6(2),t.Oqu(t.xi3(3,10,null==e?null:e.invoiceDate,"dd-MM-yyyy")),t.xp6(3),t.Oqu(null==e?null:e.invoiceNumber),t.xp6(2),t.Oqu(null==e?null:e.warehouseCode),t.xp6(2),t.Oqu(null==e?null:e.warehouseName),t.xp6(2),t.Oqu(t.lcZ(12,13,null==e?null:e.subTotal)),t.xp6(3),t.Oqu(t.lcZ(15,15,null==e?null:e.discountAmount)),t.xp6(3),t.Oqu(t.lcZ(18,17,null==e?null:e.amountBeforeTax)),t.xp6(3),t.Oqu(t.lcZ(21,19,null==e?null:e.taxAmount)),t.xp6(3),t.Oqu(t.lcZ(24,21,null==e?null:e.totalAmount)),t.xp6(2),t.Q6J("ngIf",i.showMargin)}}function en(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"th",54),t._uU(2),t.ALo(3,"number"),t.qZA(),t.TgZ(4,"th",54),t._uU(5),t.ALo(6,"number"),t.qZA(),t.TgZ(7,"th",54),t._uU(8),t.ALo(9,"number"),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(t.xi3(3,3,e.totalCost,"1.0-1")),t.xp6(3),t.Oqu(t.xi3(6,6,e.grossMargin,"1.0-1")),t.xp6(3),t.Oqu(t.xi3(9,9,e.grossMarginPer,"1.0-1"))}}function nn(n,a){if(1&n&&(t.ynx(0,57),t.TgZ(1,"table",48),t.TgZ(2,"tbody"),t.TgZ(3,"tr"),t.TgZ(4,"th",58),t._uU(5),t.ALo(6,"translate"),t.ALo(7,"translate"),t.ALo(8,"translate"),t.qZA(),t.qZA(),t.TgZ(9,"tr"),t.TgZ(10,"th",49),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"th",49),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"th",49),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"th",49),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"th",49),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"th",49),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"th",49),t._uU(29),t.ALo(30,"translate"),t.qZA(),t.TgZ(31,"th",49),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"th",49),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.YNc(37,Xe,10,9,"ng-container",50),t.qZA(),t.YNc(38,tn,26,23,"tr",51),t.TgZ(39,"tr"),t.TgZ(40,"th",59),t._uU(41),t.ALo(42,"translate"),t.qZA(),t.TgZ(43,"th",54),t._uU(44),t.ALo(45,"number"),t.qZA(),t.TgZ(46,"th",54),t._uU(47),t.ALo(48,"number"),t.qZA(),t.TgZ(49,"th",54),t._uU(50),t.ALo(51,"number"),t.qZA(),t.TgZ(52,"th",54),t._uU(53),t.ALo(54,"number"),t.qZA(),t.TgZ(55,"th",54),t._uU(56),t.ALo(57,"number"),t.qZA(),t.YNc(58,en,10,12,"ng-container",50),t.qZA(),t.qZA(),t.qZA(),t._UZ(59,"br"),t.BQk()),2&n){const e=a.$implicit,i=t.oxw(3);t.xp6(5),t.gL8("",t.lcZ(6,24,"Customer_Code"),":",e.customerCode,", ",t.lcZ(7,26,"Customer_Name"),":",e.customerName,", ",t.lcZ(8,28,"Count"),":",e.invoiceCount,""),t.xp6(6),t.Oqu(t.lcZ(12,30,"Invoice_Date")),t.xp6(3),t.Oqu(t.lcZ(15,32,"Invoice_Number")),t.xp6(3),t.Oqu(t.lcZ(18,34,"WHCode")),t.xp6(3),t.Oqu(t.lcZ(21,36,"Warehouse_Name")),t.xp6(3),t.hij("",t.lcZ(24,38,"Amount")," "),t.xp6(3),t.hij("",t.lcZ(27,40,"Discount_Amount")," "),t.xp6(3),t.hij("",t.lcZ(30,42,"Net_Amount")," "),t.xp6(3),t.hij("",t.lcZ(33,44,"Tax_Amount")," "),t.xp6(3),t.hij("",t.lcZ(36,46,"Sales_Amount")," "),t.xp6(2),t.Q6J("ngIf",i.showMargin),t.xp6(1),t.Q6J("ngForOf",e.invoicesSummaryList),t.xp6(3),t.Oqu(t.lcZ(42,48,"Total")),t.xp6(3),t.Oqu(t.xi3(45,50,e.subTotal,"1.0-1")),t.xp6(3),t.Oqu(t.xi3(48,53,e.discountAmount,"1.0-1")),t.xp6(3),t.Oqu(t.xi3(51,56,e.amountBeforeTax,"1.0-1")),t.xp6(3),t.Oqu(t.xi3(54,59,e.taxAmount,"1.0-1")),t.xp6(3),t.Oqu(t.xi3(57,62,e.totalAmount,"1.0-1")),t.xp6(2),t.Q6J("ngIf",i.showMargin)}}function on(n,a){1&n&&(t.ynx(0),t.TgZ(1,"th",49),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"th",49),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th",49),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.BQk()),2&n&&(t.xp6(2),t.hij("",t.lcZ(3,3,"Cost")," "),t.xp6(3),t.hij("",t.lcZ(6,5,"Gross_Margin")," "),t.xp6(3),t.hij("",t.lcZ(9,7,"GM%")," "))}function an(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"td",54),t._uU(2),t.ALo(3,"number"),t.qZA(),t.TgZ(4,"td",54),t._uU(5),t.ALo(6,"number"),t.qZA(),t.TgZ(7,"td",54),t._uU(8),t.ALo(9,"number"),t.qZA(),t.BQk()),2&n){const e=t.oxw(3);t.xp6(2),t.Oqu(t.xi3(3,3,e.totCost,"1.0-1")),t.xp6(3),t.Oqu(t.xi3(6,6,e.totGrossMargin,"1.0-1")),t.xp6(3),t.hij("",t.xi3(9,9,e.totGrossMarginPer,"1.0-1"),"%")}}function sn(n,a){if(1&n&&(t.YNc(0,nn,60,65,"ng-container",55),t.TgZ(1,"table",48),t.TgZ(2,"tbody"),t.TgZ(3,"tr"),t.TgZ(4,"th",56),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"th",49),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"th",49),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"th",49),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"th",49),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"th",49),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.YNc(25,on,10,9,"ng-container",50),t.qZA(),t.TgZ(26,"tr"),t.TgZ(27,"td",53),t._uU(28),t.qZA(),t.TgZ(29,"td",54),t._uU(30),t.ALo(31,"number"),t.qZA(),t.TgZ(32,"td",54),t._uU(33),t.ALo(34,"number"),t.qZA(),t.TgZ(35,"td",54),t._uU(36),t.ALo(37,"number"),t.qZA(),t.TgZ(38,"td",54),t._uU(39),t.ALo(40,"number"),t.qZA(),t.TgZ(41,"td",54),t._uU(42),t.ALo(43,"number"),t.qZA(),t.YNc(44,an,10,12,"ng-container",50),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw(2);t.Q6J("ngForOf",e.detailList),t.xp6(5),t.Oqu(t.lcZ(6,16,"Total")),t.xp6(3),t.hij("",t.lcZ(9,18,"Count")," "),t.xp6(3),t.hij("",t.lcZ(12,20,"Amount")," "),t.xp6(3),t.hij("",t.lcZ(15,22,"Discount_Amount")," "),t.xp6(3),t.hij("",t.lcZ(18,24,"Net_Amount")," "),t.xp6(3),t.hij("",t.lcZ(21,26,"Tax_Amount")," "),t.xp6(3),t.hij("",t.lcZ(24,28,"Sales_Amount")," "),t.xp6(2),t.Q6J("ngIf",e.showMargin),t.xp6(3),t.Oqu(e.totCount),t.xp6(2),t.Oqu(t.xi3(31,30,e.totAmount,"1.0-1")),t.xp6(3),t.Oqu(t.xi3(34,33,e.totDiscount,"1.0-1")),t.xp6(3),t.Oqu(t.xi3(37,36,e.totNetAmountBT,"1.0-1")),t.xp6(3),t.Oqu(t.xi3(40,39,e.totTaxAmount,"1.0-1")),t.xp6(3),t.Oqu(t.xi3(43,42,e.totSalesAmount,"1.0-1")),t.xp6(2),t.Q6J("ngIf",e.showMargin)}}function rn(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",35),t.TgZ(1,"div",36),t.TgZ(2,"button",32),t.NdJ("click",function(){return t.CHM(e),t.oxw().openPrint()}),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"div",37),t.TgZ(7,"div",38),t._uU(8),t.YNc(9,Be,1,1,"img",39),t._UZ(10,"br"),t._uU(11),t._UZ(12,"br"),t._uU(13),t.qZA(),t._UZ(14,"br"),t.YNc(15,$e,6,9,"div",40),t.TgZ(16,"div",41),t.YNc(17,Ge,52,51,"ng-container",42),t.YNc(18,sn,45,45,"ng-template",43,44,t.W1O),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.MAs(19),i=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,8,"Print")," "),t.xp6(5),t.hij(" ",i.companyName," "),t.xp6(1),t.Q6J("ngIf",i.companyName),t.xp6(2),t.hij(" ",i.branchName," "),t.xp6(2),t.hij(" ",i.companyAddress," "),t.xp6(2),t.Q6J("ngIf",i.dateFrom&&i.dateTo),t.xp6(2),t.Q6J("ngIf",i.isSummary)("ngIfElse",e)}}let ln=(()=>{class n extends v{constructor(e,i,o,s,r){super(o),this.fb=e,this.apiService=i,this.authService=o,this.utilService=s,this.notifyService=r,this.isSummary=!0,this.isArab=!1,this.customerSiteList=[],this.codeControl=new l.NI(""),this.isLoading=!1,this.isCodeLoading=!1,this.type="All",this.companyName="",this.companyAddress="",this.branchName="",this.dateFrom="",this.dateTo="",this.siteCode="",this.summaryList=[],this.detailList=[],this.totAmount=0,this.totDiscount=0,this.totNetAmountBT=0,this.totTaxAmount=0,this.totSalesAmount=0,this.totCost=0,this.totGrossMargin=0,this.totGrossMarginPer=0,this.totCount=0,this.pageNumber=0,this.pageSize=1,this.totalItemsCount=0,this.showMargin=!1,this.filteredOptions=this.codeControl.valueChanges.pipe((0,z.O)(""),(0,W.b)(400),(0,H.x)(),(0,G.w)(u=>(""!==u.trim()&&(this.isCodeLoading=!0),this.filter(u||""))))}ngOnInit(){this.isArab=this.utilService.isArabic();let e=new Date;e.setDate(e.getDate()-7),this.dateFrom=e.toISOString(),this.dateTo=(new Date).toISOString(),this.search()}filter(e){return this.apiService.getall(`customer/getCustomerCodeSelectList?search=${e.trim()}`).pipe((0,X.U)(i=>{const o=i;return this.isCodeLoading=!1,o}))}clearReport(){this.summaryList=[],this.detailList=[],this.totAmount=0,this.totDiscount=0,this.totNetAmountBT=0,this.totSalesAmount=0,this.totTaxAmount=0,this.totCost=0,this.totGrossMargin=0,this.totGrossMarginPer=0,this.totCount=0,this.pageNumber=0}search(){this.isLoading=!0,this.clearReport(),this.apiService.getall(`sndReports/getCustomerSales?isSummary=${this.isSummary}&type=${this.type}&custCode=${this.codeControl.value}&from=${this.utilService.getCommonDate(this.dateFrom)}&to=${this.utilService.getCommonDate(this.dateTo)}&pageSize=${this.pageSize}&pageNumber=${this.pageNumber}`).subscribe(e=>{this.totalItemsCount=e.totalItemsCount,0==e.summaryReport.length?(this.notifyService.showInfo("No Data Found"),this.isLoading=!1):(this.companyName=e.comapnyName,this.companyAddress=e.address,this.branchName=e.branchName,this.logoURL=e.logoURL,this.totAmount=e.totAmount,this.totDiscount=e.totDiscount,this.totNetAmountBT=e.totNetAmountBT,this.totSalesAmount=e.totSalesAmount,this.totTaxAmount=e.totTaxAmount,this.totCost=e.totCost,this.totGrossMargin=e.totGrossMargin,this.totGrossMarginPer=e.totGrossMarginPer,this.totCount=e.totCount,this.isSummary?this.summaryList=e.summaryReport:this.detailList=e.summaryReport,this.loadReports(++this.pageNumber))})}loadReports(e){e>Math.floor(this.totalItemsCount/this.pageSize)?(this.isLoading=!1,this.totGrossMarginPer=this.totGrossMargin/Math.abs(this.totSalesAmount)*100):this.apiService.getall(`sndReports/getCustomerSales?isSummary=${this.isSummary}&type=${this.type}&custCode=${this.codeControl.value}&from=${this.utilService.getCommonDate(this.dateFrom)}&to=${this.utilService.getCommonDate(this.dateTo)}&pageSize=${this.pageSize}&pageNumber=${e}`).subscribe(i=>{this.isSummary?this.summaryList=this.summaryList.concat(i.summaryReport):this.detailList=this.detailList.concat(i.summaryReport),this.totAmount+=i.totAmount,this.totDiscount+=i.totDiscount,this.totNetAmountBT+=i.totNetAmountBT,this.totSalesAmount+=i.totSalesAmount,this.totTaxAmount+=i.totTaxAmount,this.totCost+=i.totCost,this.totGrossMargin+=i.totGrossMargin,this.loadReports(++this.pageNumber)})}openPrint(){const e=document.getElementById("printcontainer"),i=window.open("","","left=0,top=0,width=2000,height=1000,toolbar=0,scrollbars=0,status=0");setTimeout(()=>{i.document.write(e.innerHTML),i.document.close(),i.focus(),i.print(),i.close()},50)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.qu),t.Y36(x.s),t.Y36(T._),t.Y36(C.t),t.Y36(S.g))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-snd-report-customer-sales"]],features:[t.qOj],decls:82,vars:55,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","align-self-center"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"cardtitle-divider"],[1,"col-md-4","col-lg-4"],[1,"form-group"],[3,"isLoading"],["type","text","matInput","",1,"form-control",3,"placeholder","formControl","matAutocomplete"],[3,"optionSelected"],["auto1","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"input-group","mb-2"],[1,"form-control","datapickerinput",3,"placeholder","ngModel","matDatepicker","ngModelChange","dateChange"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker1",""],["picker2",""],[1,"col-md-2","col-lg-2"],[1,"form-group","pt",2,"padding-top","35px","padding-left","20px"],["color","primary",3,"ngModel","ngModelChange","change"],["color","primary",3,"ngModel","ngModelChange"],[1,"col-md-2","col-lg-2",2,"padding-top","35px"],[1,"row","mb-4"],[1,"col-md-12","col-lg-12","text-center"],["type","button","data-toggle","modal",1,"btn","waves-effect","waves-light","btn-rounded","btn-primary","btn-midblock",3,"click"],["class","modal-content",4,"ngIf"],[3,"value"],[1,"modal-content"],[1,"modal-body"],["id","printcontainer",1,"outer"],[1,"text-center","font-weight-medium"],["style","width:200px;height:150px;float:right;",3,"src",4,"ngIf"],["class","text-center font-weight-medium",4,"ngIf"],[1,"table-responsive"],[4,"ngIf","ngIfElse"],["style","border:none"],["detailedList",""],[2,"width","200px","height","150px","float","right",3,"src"],["class","backspace",4,"ngIf"],[1,"backspace"],["border","1","cellpadding","0","cellspacing","0",1,"ur_tablestyle",2,"width","100%"],[1,"w10per"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","2",1,"text-right"],[1,"text-center"],[1,"text-right"],["style","border:none",4,"ngFor","ngForOf"],["rowspan","2",1,"w10per"],[2,"border","none"],["colspan","12",1,"w10per"],["colspan","4"],[2,"white-space","nowrap"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"nav",4),t.TgZ(5,"ol",5),t.TgZ(6,"li",6),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"li",6),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"li",7),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"div",1),t.TgZ(16,"div",8),t.TgZ(17,"div",9),t.TgZ(18,"div",10),t._UZ(19,"div",11),t.TgZ(20,"div",1),t.TgZ(21,"div",12),t.TgZ(22,"div",13),t.TgZ(23,"label"),t._uU(24),t.ALo(25,"translate"),t.qZA(),t._UZ(26,"auto-loader",14),t._UZ(27,"input",15),t.ALo(28,"translate"),t.ALo(29,"translate"),t.TgZ(30,"mat-autocomplete",16,17),t.NdJ("optionSelected",function(){return i.clearReport()}),t.YNc(32,Fe,2,3,"mat-option",18),t.ALo(33,"async"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(34,"div",12),t.TgZ(35,"div",13),t.TgZ(36,"label"),t._uU(37),t.ALo(38,"translate"),t.qZA(),t.TgZ(39,"div",13),t.TgZ(40,"div",19),t.TgZ(41,"input",20),t.NdJ("ngModelChange",function(s){return i.dateFrom=s})("dateChange",function(){return i.clearReport()}),t.ALo(42,"translate"),t.qZA(),t.TgZ(43,"div",21),t._UZ(44,"mat-datepicker-toggle",22),t._UZ(45,"mat-datepicker",null,23),t._UZ(47,"br"),t._UZ(48,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(49,"div",12),t.TgZ(50,"div",13),t.TgZ(51,"label"),t._uU(52),t.ALo(53,"translate"),t.qZA(),t.TgZ(54,"div",13),t.TgZ(55,"div",19),t.TgZ(56,"input",20),t.NdJ("ngModelChange",function(s){return i.dateTo=s})("dateChange",function(){return i.clearReport()}),t.ALo(57,"translate"),t.qZA(),t.TgZ(58,"div",21),t._UZ(59,"mat-datepicker-toggle",22),t._UZ(60,"mat-datepicker",null,24),t._UZ(62,"br"),t._UZ(63,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(64,"div",25),t.TgZ(65,"div",26),t.TgZ(66,"mat-slide-toggle",27),t.NdJ("ngModelChange",function(s){return i.isSummary=s})("change",function(){return i.clearReport()}),t.qZA(),t._uU(67),t.ALo(68,"translate"),t.qZA(),t.qZA(),t.TgZ(69,"div",25),t.TgZ(70,"div",26),t.TgZ(71,"mat-slide-toggle",28),t.NdJ("ngModelChange",function(s){return i.showMargin=s}),t.qZA(),t._uU(72),t.ALo(73,"translate"),t.qZA(),t.qZA(),t.TgZ(74,"div",29),t._UZ(75,"spinner-loader",14),t.qZA(),t.qZA(),t.TgZ(76,"div",30),t.TgZ(77,"div",31),t.TgZ(78,"button",32),t.NdJ("click",function(){return i.search()}),t._uU(79),t.ALo(80,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(81,rn,20,10,"div",33),t.qZA()),2&e){const o=t.MAs(31),s=t.MAs(46),r=t.MAs(61);t.xp6(7),t.hij(" ",t.lcZ(8,27,"Administration")," "),t.xp6(3),t.Oqu(t.lcZ(11,29,"Sales_Management")),t.xp6(3),t.Oqu(t.lcZ(14,31,"Customer_Sales_Statement")),t.xp6(11),t.Oqu(t.lcZ(25,33,"Customer_Code")),t.xp6(2),t.Q6J("isLoading",i.isCodeLoading),t.xp6(1),t.hYB("placeholder","",t.lcZ(28,35,"Please_Enter")," ",t.lcZ(29,37,"Customer_Code"),""),t.Q6J("formControl",i.codeControl)("matAutocomplete",o),t.xp6(5),t.Q6J("ngForOf",t.lcZ(33,39,i.filteredOptions)),t.xp6(5),t.Oqu(t.lcZ(38,41,"From_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(42,43,"Select_a_Date")),t.Q6J("ngModel",i.dateFrom)("matDatepicker",s),t.xp6(3),t.Q6J("for",s),t.xp6(8),t.Oqu(t.lcZ(53,45,"To_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(57,47,"Select_a_Date")),t.Q6J("ngModel",i.dateTo)("matDatepicker",r),t.xp6(3),t.Q6J("for",r),t.xp6(7),t.Q6J("ngModel",i.isSummary),t.xp6(1),t.hij(" ",t.lcZ(68,49,"IsSummary")," "),t.xp6(4),t.Q6J("ngModel",i.showMargin),t.xp6(1),t.hij(" ",t.lcZ(73,51,"Show_Margin")," "),t.xp6(3),t.Q6J("isLoading",i.isLoading),t.xp6(4),t.hij(" ",t.lcZ(80,53,"Search")," "),t.xp6(2),t.Q6J("ngIf",i.summaryList.length>0||i.detailList.length>0)}},directives:[K.z,l.Fj,k.ZL,l.JJ,l.oH,k.XC,d.sg,_.hl,l.On,_.nW,A.R9,_.Mq,O.Rr,b.r,d.O5,tt.ey],pipes:[h.X$,d.Ov,d.uU,d.JJ,E.J],encapsulation:2}),n})();function un(n,a){if(1&n&&t._UZ(0,"img",45),2&n){const e=t.oxw(2);t.s9C("src",e.logoURL,t.LSH)}}function cn(n,a){if(1&n&&(t.TgZ(0,"span",47),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" Item Id:",e.itemId," ")}}function dn(n,a){if(1&n&&(t.TgZ(0,"span",47),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ,Warehouse :",e.whCode," ")}}function pn(n,a){if(1&n&&(t.TgZ(0,"div",36),t.TgZ(1,"p"),t._uU(2),t.ALo(3,"translate"),t.ALo(4,"date"),t.ALo(5,"date"),t.qZA(),t.YNc(6,cn,2,1,"span",46),t.YNc(7,dn,2,1,"span",46),t.qZA()),2&n){const e=t.oxw(2);t.xp6(2),t.lnq(" The Statement of ",t.lcZ(3,5,"Inventory Stock Analysis")," for ",t.xi3(4,7,e.dateFrom,"dd/MM/yyyy")," to ",t.xi3(5,10,e.dateTo,"dd/MM/yyyy")," "),t.xp6(4),t.Q6J("ngIf",e.itemId),t.xp6(1),t.Q6J("ngIf",e.whCode)}}function gn(n,a){if(1&n&&(t.TgZ(0,"span",50),t._UZ(1,"br"),t._uU(2),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij("(",t.xi3(3,1,e.openingBal.inCost,"1.2"),")")}}function mn(n,a){if(1&n&&(t.TgZ(0,"span",50),t._UZ(1,"br"),t._uU(2),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij("(",t.xi3(3,1,e.openingBal.outCost,"1.2"),")")}}function Zn(n,a){if(1&n&&(t.TgZ(0,"span",50),t._UZ(1,"br"),t._uU(2),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij("(",t.xi3(3,1,e.openingBal.balanceCost,"1.2"),")")}}function _n(n,a){if(1&n&&(t.TgZ(0,"span",50),t._UZ(1,"br"),t._uU(2),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij("(",t.xi3(3,1,e.transactionBal.inCost,"1.2"),") ")}}function hn(n,a){if(1&n&&(t.TgZ(0,"span",50),t._UZ(1,"br"),t._uU(2),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij("(",t.xi3(3,1,e.transactionBal.outCost,"1.2"),") ")}}function An(n,a){if(1&n&&(t.TgZ(0,"span",50),t._UZ(1,"br"),t._uU(2),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij("",e.transactionBal.balanceCost," ")}}function Tn(n,a){if(1&n&&(t.TgZ(0,"span",50),t._UZ(1,"br"),t._uU(2),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij(" (",t.xi3(3,1,e.closingBal.inCost,"1.2"),")")}}function fn(n,a){if(1&n&&(t.TgZ(0,"span",50),t._UZ(1,"br"),t._uU(2),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij("(",t.xi3(3,1,e.closingBal.outCost,"1.2"),") ")}}function qn(n,a){if(1&n&&(t.TgZ(0,"span",50),t._UZ(1,"br"),t._uU(2),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij("(",t.xi3(3,1,e.closingBal.balanceCost,"1.2"),")")}}function vn(n,a){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td",48),t._uU(2),t.qZA(),t.TgZ(3,"td",43),t._uU(4),t.YNc(5,gn,4,4,"span",49),t.qZA(),t.TgZ(6,"td",43),t._uU(7),t.YNc(8,mn,4,4,"span",49),t.qZA(),t.TgZ(9,"td",43),t._uU(10),t.YNc(11,Zn,4,4,"span",49),t.qZA(),t.TgZ(12,"td",43),t._uU(13),t.YNc(14,_n,4,4,"span",49),t.qZA(),t.TgZ(15,"td",43),t._uU(16),t.YNc(17,hn,4,4,"span",49),t.qZA(),t.TgZ(18,"td",43),t._uU(19),t.YNc(20,An,3,1,"span",49),t.qZA(),t.TgZ(21,"td",43),t._uU(22),t.YNc(23,Tn,4,4,"span",49),t.qZA(),t.TgZ(24,"td",43),t._uU(25),t.YNc(26,fn,4,4,"span",49),t.qZA(),t.TgZ(27,"td",43),t._uU(28),t.YNc(29,qn,4,4,"span",49),t.qZA(),t.qZA()),2&n){const e=a.$implicit,i=t.oxw(2);t.xp6(2),t.AsE("",e.itemName,"(",e.itemCode,") "),t.xp6(2),t.hij(" ",e.openingBal.inQty," "),t.xp6(1),t.Q6J("ngIf",i.showCosts),t.xp6(2),t.hij(" ",e.openingBal.outQty," "),t.xp6(1),t.Q6J("ngIf",i.showCosts),t.xp6(2),t.hij(" ",e.openingBal.balanceQty," "),t.xp6(1),t.Q6J("ngIf",i.showCosts),t.xp6(2),t.hij(" ",e.transactionBal.inQty," "),t.xp6(1),t.Q6J("ngIf",i.showCosts),t.xp6(2),t.hij(" ",e.transactionBal.outQty," "),t.xp6(1),t.Q6J("ngIf",i.showCosts),t.xp6(2),t.hij(" ",e.transactionBal.balanceQty," "),t.xp6(1),t.Q6J("ngIf",i.showCosts),t.xp6(2),t.hij(" ",e.closingBal.inQty," "),t.xp6(1),t.Q6J("ngIf",i.showCosts),t.xp6(2),t.hij(" ",e.closingBal.outQty," "),t.xp6(1),t.Q6J("ngIf",i.showCosts),t.xp6(2),t.hij(" ",e.closingBal.balanceQty," "),t.xp6(1),t.Q6J("ngIf",i.showCosts)}}function xn(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",33),t.TgZ(1,"div",34),t.TgZ(2,"button",29),t.NdJ("click",function(){return t.CHM(e),t.oxw().openPrint()}),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"div",35),t.TgZ(7,"div",36),t._uU(8),t.YNc(9,un,1,1,"img",37),t._UZ(10,"br"),t._uU(11),t._UZ(12,"br"),t._uU(13),t.qZA(),t._UZ(14,"br"),t.YNc(15,pn,8,13,"div",38),t.TgZ(16,"div",39),t.ynx(17),t.TgZ(18,"table",40),t.TgZ(19,"tbody"),t.TgZ(20,"tr"),t.TgZ(21,"th",41),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"th",42),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.TgZ(27,"th",42),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.TgZ(30,"th",42),t._uU(31),t.ALo(32,"translate"),t.qZA(),t.qZA(),t.TgZ(33,"tr"),t.TgZ(34,"th",43),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.TgZ(37,"th",43),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"th",43),t._uU(41),t.ALo(42,"translate"),t.qZA(),t.TgZ(43,"th",43),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.TgZ(46,"th",43),t._uU(47),t.ALo(48,"translate"),t.qZA(),t.TgZ(49,"th",43),t._uU(50),t.ALo(51,"translate"),t.qZA(),t.TgZ(52,"th",43),t._uU(53),t.ALo(54,"translate"),t.qZA(),t.TgZ(55,"th",43),t._uU(56),t.ALo(57,"translate"),t.qZA(),t.TgZ(58,"th",43),t._uU(59),t.ALo(60,"translate"),t.qZA(),t.qZA(),t.YNc(61,vn,30,20,"tr",44),t.qZA(),t.qZA(),t._UZ(62,"br"),t.BQk(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,20,"Print")," "),t.xp6(5),t.hij(" ",e.companyName," "),t.xp6(1),t.Q6J("ngIf",e.companyName),t.xp6(2),t.hij(" ",e.branchName," "),t.xp6(2),t.hij(" ",e.companyAddress," "),t.xp6(2),t.Q6J("ngIf",e.dateFrom&&e.dateTo),t.xp6(7),t.hij("",t.lcZ(23,22,"Item")," "),t.xp6(3),t.hij("",t.lcZ(26,24,"Opening")," "),t.xp6(3),t.hij("",t.lcZ(29,26,"Transactions")," "),t.xp6(3),t.hij("",t.lcZ(32,28,"Closing")," "),t.xp6(4),t.hij("",t.lcZ(36,30,"In")," "),t.xp6(3),t.hij("",t.lcZ(39,32,"Out")," "),t.xp6(3),t.hij("",t.lcZ(42,34,"Balance")," "),t.xp6(3),t.hij("",t.lcZ(45,36,"In")," "),t.xp6(3),t.hij("",t.lcZ(48,38,"Out")," "),t.xp6(3),t.hij("",t.lcZ(51,40,"Balance")," "),t.xp6(3),t.hij("",t.lcZ(54,42,"In")," "),t.xp6(3),t.hij("",t.lcZ(57,44,"Out")," "),t.xp6(3),t.hij("",t.lcZ(60,46,"Balance")," "),t.xp6(2),t.Q6J("ngForOf",e.reports)}}let Cn=(()=>{class n extends v{constructor(e,i,o,s,r){super(o),this.fb=e,this.apiService=i,this.authService=o,this.utilService=s,this.notifyService=r,this.isArab=!1,this.isLoading=!1,this.isCodeLoading=!1,this.showCosts=!1,this.companyName="",this.companyAddress="",this.branchName="",this.dateFrom="",this.dateTo="",this.siteCode="",this.pageNumber=0,this.pageSize=10,this.totalItemsCount=0,this.reports=[],this.whCode="",this.whSelectionList=[],this.itemId="",this.itemSelectionList=[]}ngOnInit(){this.isArab=this.utilService.isArabic(),this.dateTo=(new Date).toISOString();let e=new Date;e.setDate(e.getDate()-7),this.dateFrom=e.toISOString(),this.loadWareHouseList(),this.loadItemSelectionList(),this.search()}clearCode(e){"whCode"==e?this.whCode="":"itemId"==e&&(this.itemId="")}clearReport(){this.reports=[]}loadItemSelectionList(){this.apiService.getall("Item/getSelectItemMOUList").subscribe(e=>{this.itemSelectionList=e,this.itemSelectionList.forEach(i=>{i.lable=this.isArab?i.textTwo:i.text})})}search(){this.isLoading=!0,this.reports=[],this.pageNumber=0,this.apiService.getall(`sndReports/getInventoryStockAnalysisReport?itemId=${this.itemId}&whCode=${this.whCode}&from=${this.utilService.getCommonDate(this.dateFrom)}&to=${this.utilService.getCommonDate(this.dateTo)}&pageNumber=${this.pageNumber}&pageSize=${this.pageSize}`).subscribe(e=>{this.companyName=e.comapnyName,this.companyAddress=e.address,this.branchName=e.branchName,this.logoURL=e.logoURL,0==e.reportItems.length?(this.notifyService.showInfo("No data found"),this.isLoading=!1):(this.totalItemsCount=e.totalItemsCount,this.reports=e.reportItems,this.loadReports(++this.pageNumber))})}loadReports(e){e>Math.floor(this.totalItemsCount/this.pageSize)?this.isLoading=!1:this.apiService.getall(`sndReports/getInventoryStockAnalysisReport?itemId=${this.itemId}&whCode=${this.whCode}&from=${this.utilService.getCommonDate(this.dateFrom)}&to=${this.utilService.getCommonDate(this.dateTo)}&pageNumber=${e}&pageSize=${this.pageSize}`).subscribe(i=>{this.reports=this.reports.concat(i.reportItems),this.loadReports(++this.pageNumber)})}openPrint(){const e=document.getElementById("printcontainer"),i=window.open("","","left=0,top=0,width=2000,height=1000,toolbar=0,scrollbars=0,status=0");setTimeout(()=>{i.document.write(e.innerHTML),i.document.close(),i.focus(),i.print(),i.close()},50)}loadWareHouseList(){this.apiService.getall("Warehouse/getSelectWarehouseCodeList").subscribe(e=>{this.whSelectionList=e,this.whSelectionList.forEach(i=>{i.lable=i.value+"-"+i.text})})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.qu),t.Y36(x.s),t.Y36(T._),t.Y36(C.t),t.Y36(S.g))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-snd-report-inventory-stock-analysis"]],features:[t.qOj],decls:85,vars:52,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"col-md-7","col-lg-9"],[1,"card-title","pt6"],[1,"cardtitle-divider"],[1,"col-md-4","col-lg-4"],[1,"form-group"],["bindLabel","lable","bindValue","value",3,"items","ngModel","ngModelChange","change","clear"],[1,"input-group","mb-2"],[1,"form-control","datapickerinput",3,"placeholder","ngModel","matDatepicker","ngModelChange","dateChange"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker1",""],["picker2",""],[1,"col-md-2","col-lg-2"],[1,"form-group","pt",2,"padding-top","35px","padding-left","20px"],["color","primary",3,"ngModel","ngModelChange"],[1,"col-md-2","col-lg-2",2,"padding-top","30px"],[1,"form-group","pt"],["type","button","data-toggle","modal",1,"btn","waves-effect","waves-light","btn-rounded","btn-primary","btn-midblock",3,"click"],[1,"col-md-1","col-lg-1",2,"vertical-align","bottom"],[3,"isLoading"],["class","modal-content",4,"ngIf"],[1,"modal-content"],[1,"modal-body"],["id","printcontainer",1,"outer"],[1,"text-center","font-weight-medium"],["style","width:200px;height:150px;float:right;",3,"src",4,"ngIf"],["class","text-center font-weight-medium",4,"ngIf"],[1,"table-responsive"],["border","1","cellspacing","0",1,"ur_tablestyle",2,"width","100%"],["rowspan","2",2,"text-align","center"],["colspan","3",2,"text-align","center"],[2,"text-align","center"],[4,"ngFor","ngForOf"],[2,"width","200px","height","150px","float","right",3,"src"],["class","backspace",4,"ngIf"],[1,"backspace"],[1,"arabicright"],["style","font-size:smaller",4,"ngIf"],[2,"font-size","smaller"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"nav",5),t.TgZ(8,"ol",6),t.TgZ(9,"li",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"li",7),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"li",8),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",1),t.TgZ(19,"div",9),t.TgZ(20,"div",10),t.TgZ(21,"div",11),t.TgZ(22,"div",1),t.TgZ(23,"div",12),t.TgZ(24,"h4",13),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.qZA(),t.qZA(),t._UZ(27,"div",14),t.TgZ(28,"div",1),t.TgZ(29,"div",15),t.TgZ(30,"div",16),t.TgZ(31,"label"),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"ng-select",17),t.NdJ("ngModelChange",function(s){return i.whCode=s})("change",function(){return i.clearReport()})("clear",function(){return i.clearCode("whCode")}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(35,"div",15),t.TgZ(36,"div",16),t.TgZ(37,"label"),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"ng-select",17),t.NdJ("ngModelChange",function(s){return i.itemId=s})("change",function(){return i.clearReport()})("clear",function(){return i.clearCode("itemId")}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(41,"div",15),t.TgZ(42,"div",16),t.TgZ(43,"label"),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.TgZ(46,"div",16),t.TgZ(47,"div",18),t.TgZ(48,"input",19),t.NdJ("ngModelChange",function(s){return i.dateFrom=s})("dateChange",function(){return i.clearReport()}),t.ALo(49,"translate"),t.qZA(),t.TgZ(50,"div",20),t._UZ(51,"mat-datepicker-toggle",21),t._UZ(52,"mat-datepicker",null,22),t._UZ(54,"br"),t._UZ(55,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(56,"div",15),t.TgZ(57,"div",16),t.TgZ(58,"label"),t._uU(59),t.ALo(60,"translate"),t.qZA(),t.TgZ(61,"div",16),t.TgZ(62,"div",18),t.TgZ(63,"input",19),t.NdJ("ngModelChange",function(s){return i.dateTo=s})("dateChange",function(){return i.clearReport()}),t.ALo(64,"translate"),t.qZA(),t.TgZ(65,"div",20),t._UZ(66,"mat-datepicker-toggle",21),t._UZ(67,"mat-datepicker",null,23),t._UZ(69,"br"),t._UZ(70,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(71,"div",24),t.TgZ(72,"div",25),t.TgZ(73,"mat-slide-toggle",26),t.NdJ("ngModelChange",function(s){return i.showCosts=s}),t.qZA(),t._uU(74),t.ALo(75,"translate"),t.qZA(),t.qZA(),t.TgZ(76,"div",27),t.TgZ(77,"div",28),t.TgZ(78,"button",29),t.NdJ("click",function(){return i.search()}),t._uU(79),t.ALo(80,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(81,"div",30),t.TgZ(82,"div",16),t._UZ(83,"spinner-loader",31),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(84,xn,63,48,"div",32),t.qZA()),2&e){const o=t.MAs(53),s=t.MAs(68);t.xp6(4),t.hij(" ",t.lcZ(5,26,"Sales_Statement")," "),t.xp6(6),t.hij(" ",t.lcZ(11,28,"Administration")," "),t.xp6(3),t.Oqu(t.lcZ(14,30,"Sales_Management")),t.xp6(3),t.Oqu(t.lcZ(17,32,"Inventory_Stock_Analysis")),t.xp6(9),t.hij("",t.lcZ(26,34,"Inventory_Stock_Analysis")," "),t.xp6(7),t.Oqu(t.lcZ(33,36,"Warehouse_Code")),t.xp6(2),t.Q6J("items",i.whSelectionList)("ngModel",i.whCode),t.xp6(4),t.Oqu(t.lcZ(39,38,"Item")),t.xp6(2),t.Q6J("items",i.itemSelectionList)("ngModel",i.itemId),t.xp6(4),t.Oqu(t.lcZ(45,40,"From_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(49,42,"Select_a_Date")),t.Q6J("ngModel",i.dateFrom)("matDatepicker",o),t.xp6(3),t.Q6J("for",o),t.xp6(8),t.Oqu(t.lcZ(60,44,"To_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(64,46,"Select_a_Date")),t.Q6J("ngModel",i.dateTo)("matDatepicker",s),t.xp6(3),t.Q6J("for",s),t.xp6(7),t.Q6J("ngModel",i.showCosts),t.xp6(1),t.hij(" ",t.lcZ(75,48,"Show_Costs")," "),t.xp6(5),t.hij(" ",t.lcZ(80,50,"Search")," "),t.xp6(4),t.Q6J("isLoading",i.isLoading),t.xp6(1),t.Q6J("ngIf",i.reports.length>0)}},directives:[D.w9,l.JJ,l.On,l.Fj,_.hl,_.nW,A.R9,_.Mq,O.Rr,b.r,d.O5,d.sg],pipes:[h.X$,d.uU,d.JJ],encapsulation:2}),n})();function Sn(n,a){if(1&n&&(t.TgZ(0,"div",10),t._UZ(1,"progress",34),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.s9C("max",e.totalItemsCount/e.pageSize),t.s9C("value",e.pageNumber)}}function yn(n,a){if(1&n&&t._UZ(0,"img",44),2&n){const e=t.oxw(2);t.s9C("src",e.logoURL,t.LSH)}}function Un(n,a){if(1&n&&(t.TgZ(0,"span",46),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" Item Id:",e.itemId," ")}}function bn(n,a){if(1&n&&(t.TgZ(0,"span",46),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ,Warehouse :",e.whCode," ")}}function Ln(n,a){if(1&n&&(t.TgZ(0,"div",39),t.TgZ(1,"p"),t._uU(2),t.ALo(3,"date"),t.ALo(4,"date"),t.qZA(),t.YNc(5,Un,2,1,"span",45),t.YNc(6,bn,2,1,"span",45),t.qZA()),2&n){const e=t.oxw(2);t.xp6(2),t.AsE(' The Statement of " Inventory Stock Ledger" for ',t.xi3(3,4,e.dateFrom,"dd/MM/yyyy")," to ",t.xi3(4,7,e.dateTo,"dd/MM/yyyy")," "),t.xp6(3),t.Q6J("ngIf",e.itemId),t.xp6(1),t.Q6J("ngIf",e.whCode)}}function In(n,a){if(1&n&&(t.TgZ(0,"span",46),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.AsE(" ,Warehouse :",e.transactions[0].warehouseCode,"(",e.transactions[0].warehouseName,") ")}}function Nn(n,a){1&n&&(t.TgZ(0,"th"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Warehouse")))}function wn(n,a){1&n&&(t.TgZ(0,"td"),t._uU(1,"- "),t.qZA())}function Dn(n,a){if(1&n&&(t.TgZ(0,"span",50),t._UZ(1,"br"),t._uU(2),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij("(",t.xi3(3,1,e.openingBal.inCost,"1.2"),") ")}}function On(n,a){if(1&n&&(t.TgZ(0,"span",50),t._UZ(1,"br"),t._uU(2),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij("(",t.xi3(3,1,e.openingBal.outCost,"1.2"),") ")}}function Mn(n,a){if(1&n&&(t.TgZ(0,"span",50),t._UZ(1,"br"),t._uU(2),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij("(",t.xi3(3,1,e.openingBal.balanceCost,"1.2"),") ")}}function kn(n,a){if(1&n&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.warehouseName)}}function Qn(n,a){if(1&n&&(t.TgZ(0,"span",50),t._UZ(1,"br"),t._uU(2),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij("(",t.xi3(3,1,e.inCost,"1.2"),") ")}}function jn(n,a){if(1&n&&(t.TgZ(0,"span",50),t._UZ(1,"br"),t._uU(2),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij("(",t.xi3(3,1,e.outCost,"1.2"),") ")}}function Rn(n,a){if(1&n&&(t.TgZ(0,"span",50),t._UZ(1,"br"),t._uU(2),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij("(",t.xi3(3,1,e.balanceCost,"1.2"),") ")}}function Jn(n,a){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.ALo(3,"date"),t.qZA(),t.YNc(4,kn,2,1,"td",48),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.YNc(11,Qn,4,4,"span",49),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.YNc(14,jn,4,4,"span",49),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.YNc(17,Rn,4,4,"span",49),t.qZA(),t.qZA()),2&n){const e=a.$implicit,i=t.oxw(3);t.xp6(2),t.hij("",t.xi3(3,10,e.tranDate,"dd/MM/YYYY")," "),t.xp6(2),t.Q6J("ngIf",!i.whCode),t.xp6(2),t.hij("",e.source," "),t.xp6(2),t.hij(" ",e.dcNumber,""),t.xp6(2),t.hij(" ",e.inQty," "),t.xp6(1),t.Q6J("ngIf",i.showCosts),t.xp6(2),t.hij(" ",e.outQty," "),t.xp6(1),t.Q6J("ngIf",i.showCosts),t.xp6(2),t.hij(" ",e.balanceQty," "),t.xp6(1),t.Q6J("ngIf",i.showCosts)}}function Pn(n,a){if(1&n&&(t.TgZ(0,"span",50),t._UZ(1,"br"),t._uU(2),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij("(",t.xi3(3,1,e.closingBal.inCost,"1.2"),") ")}}function Yn(n,a){if(1&n&&(t.TgZ(0,"span",50),t._UZ(1,"br"),t._uU(2),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij("(",t.xi3(3,1,e.closingBal.outCost,"1.2"),") ")}}function Fn(n,a){if(1&n&&(t.TgZ(0,"span",50),t._UZ(1,"br"),t._uU(2),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij("(",t.xi3(3,1,e.closingBal.balanceCost,"1.2"),") ")}}function Bn(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"table",47),t.TgZ(2,"tbody"),t.TgZ(3,"tr"),t.TgZ(4,"td"),t.TgZ(5,"span"),t._uU(6),t.qZA(),t.YNc(7,In,2,2,"span",45),t.qZA(),t.qZA(),t.TgZ(8,"tr"),t.TgZ(9,"th"),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.YNc(12,Nn,3,3,"th",48),t.TgZ(13,"th"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"th"),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"th"),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"th"),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"th"),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.qZA(),t.TgZ(28,"tr"),t.TgZ(29,"td"),t._uU(30,"- "),t.qZA(),t.YNc(31,wn,2,0,"td",48),t.TgZ(32,"td"),t._uU(33),t.ALo(34,"translate"),t.qZA(),t.TgZ(35,"td"),t._uU(36,"- "),t.qZA(),t.TgZ(37,"td"),t._uU(38),t.YNc(39,Dn,4,4,"span",49),t.qZA(),t.TgZ(40,"td"),t._uU(41),t.YNc(42,On,4,4,"span",49),t.qZA(),t.TgZ(43,"td"),t._uU(44),t.YNc(45,Mn,4,4,"span",49),t.qZA(),t.qZA(),t.YNc(46,Jn,18,13,"tr",43),t.TgZ(47,"tr"),t.TgZ(48,"th"),t._uU(49),t.ALo(50,"translate"),t.qZA(),t.TgZ(51,"th"),t._uU(52),t.YNc(53,Pn,4,4,"span",49),t.qZA(),t.TgZ(54,"th"),t._uU(55),t.YNc(56,Yn,4,4,"span",49),t.qZA(),t.TgZ(57,"th"),t._uU(58),t.YNc(59,Fn,4,4,"span",49),t.qZA(),t.qZA(),t._UZ(60,"tr"),t.qZA(),t.qZA(),t._UZ(61,"br"),t.BQk()),2&n){const e=a.$implicit,i=t.oxw(2);t.xp6(4),t.uIk("colspan",i.whCode?6:7),t.xp6(2),t.AsE(" Item :",e.itemCode,"(",e.itemName,") "),t.xp6(1),t.Q6J("ngIf",i.whCode),t.xp6(3),t.Oqu(t.lcZ(11,28,"Date")),t.xp6(2),t.Q6J("ngIf",!i.whCode),t.xp6(2),t.Oqu(t.lcZ(15,30,"Source")),t.xp6(3),t.Oqu(t.lcZ(18,32,"DcNumber")),t.xp6(3),t.hij("",t.lcZ(21,34,"In")," "),t.xp6(3),t.hij("",t.lcZ(24,36,"Out")," "),t.xp6(3),t.hij("",t.lcZ(27,38,"Balance")," "),t.xp6(5),t.Q6J("ngIf",!i.whCode),t.xp6(2),t.hij("",t.lcZ(34,40,"Opening_Stock")," "),t.xp6(5),t.hij(" ",e.openingBal.inQty," "),t.xp6(1),t.Q6J("ngIf",i.showCosts),t.xp6(2),t.hij(" ",e.openingBal.outQty," "),t.xp6(1),t.Q6J("ngIf",i.showCosts),t.xp6(2),t.hij(" ",e.openingBal.balanceQty," "),t.xp6(1),t.Q6J("ngIf",i.showCosts),t.xp6(1),t.Q6J("ngForOf",e.transactions),t.xp6(2),t.uIk("colspan",i.whCode?3:4),t.xp6(1),t.hij("",t.lcZ(50,42,"Total_Quantity")," "),t.xp6(3),t.hij(" ",e.closingBal.inQty," "),t.xp6(1),t.Q6J("ngIf",i.showCosts),t.xp6(2),t.hij(" ",e.closingBal.outQty," "),t.xp6(1),t.Q6J("ngIf",i.showCosts),t.xp6(2),t.hij(" ",e.closingBal.balanceQty," "),t.xp6(1),t.Q6J("ngIf",i.showCosts)}}function En(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",35),t.TgZ(1,"div",36),t.TgZ(2,"button",37),t.NdJ("click",function(){return t.CHM(e),t.oxw().openPrint()}),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"div",38),t.TgZ(7,"div",39),t._uU(8),t.YNc(9,yn,1,1,"img",40),t._UZ(10,"br"),t._uU(11),t._UZ(12,"br"),t._uU(13),t.qZA(),t._UZ(14,"br"),t.YNc(15,Ln,7,10,"div",41),t.TgZ(16,"div",42),t.YNc(17,Bn,62,44,"ng-container",43),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,7,"Print")," "),t.xp6(5),t.hij(" ",e.companyName," "),t.xp6(1),t.Q6J("ngIf",e.companyName),t.xp6(2),t.hij(" ",e.branchName," "),t.xp6(2),t.hij(" ",e.companyAddress," "),t.xp6(2),t.Q6J("ngIf",e.dateFrom&&e.dateTo),t.xp6(2),t.Q6J("ngForOf",e.reports)}}let $n=(()=>{class n extends v{constructor(e,i,o,s,r){super(o),this.fb=e,this.apiService=i,this.authService=o,this.utilService=s,this.notifyService=r,this.isArab=!1,this.isLoading=!1,this.isCodeLoading=!1,this.companyName="",this.companyAddress="",this.branchName="",this.dateFrom=Date.now.toString(),this.dateTo="",this.siteCode="",this.pageNumber=0,this.pageSize=10,this.totalItemsCount=100,this.reports=[],this.whCode="",this.whSelectionList=[],this.itemId="",this.itemSelectionList=[],this.showCosts=!1}ngOnInit(){this.isArab=this.utilService.isArabic();let e=new Date;e.setDate(e.getDate()-7),this.dateFrom=e.toISOString(),this.dateTo=(new Date).toISOString(),this.loadWareHouseList(),this.loadItemSelectionList(),this.search()}clearCode(e){"whCode"==e?this.whCode="":"itemId"==e&&(this.itemId="")}clearReport(){this.reports=[]}loadItemSelectionList(){this.apiService.getall("Item/getSelectItemMOUList").subscribe(e=>{this.itemSelectionList=e,this.itemSelectionList.forEach(i=>{i.lable=this.isArab?i.textTwo:i.text})})}search(){this.isLoading=!0,this.reports=[],this.pageNumber=0,this.apiService.getall(`sndReports/getInventoryStockLedgerReport?itemId=${this.itemId}&whCode=${this.whCode}&from=${this.utilService.getCommonDate(this.dateFrom)}&to=${this.utilService.getCommonDate(this.dateTo)}&pageNumber=${this.pageNumber}&pageSize=${this.pageSize}`).subscribe(e=>{this.companyName=e.comapnyName,this.companyAddress=e.address,this.branchName=e.branchName,this.logoURL=e.logoURL,0==e.reportItems.length?(this.notifyService.showInfo("No data found"),this.isLoading=!1):(this.totalItemsCount=e.totalItemsCount,this.reports=e.reportItems,this.loadReport(++this.pageNumber))})}loadReport(e){e>Math.floor(this.totalItemsCount/this.pageSize)?(this.isLoading=!1,this.reports.forEach(i=>{let o=i.transactions.reduce((p,c)=>p+c.inQty,i.openingBal.inQty),s=i.transactions.reduce((p,c)=>p+c.outQty,i.openingBal.outQty),r=i.transactions.reduce((p,c)=>p+c.inCost,i.openingBal.inCost),u=i.transactions.reduce((p,c)=>p+c.outCost,i.openingBal.outCost);i.closingBal.inQty=o,i.closingBal.outQty=s,i.closingBal.balanceQty=o-s,i.closingBal.inCost=r,i.closingBal.outCost=u,i.closingBal.balanceCost=r-u})):this.apiService.getall(`sndReports/getInventoryStockLedgerReport?itemId=${this.itemId}&whCode=${this.whCode}&from=${this.utilService.getCommonDate(this.dateFrom)}&to=${this.utilService.getCommonDate(this.dateTo)}&pageNumber=${e}&pageSize=${this.pageSize}`).subscribe(i=>{i.reportItems.forEach(s=>{let r=this.reports.findIndex(u=>u.itemCode==s.itemCode);r>=0?this.reports[r].transactions=this.reports[r].transactions.concat(s.transactions):this.reports.push(s)}),this.loadReport(++this.pageNumber)})}openPrint(){const e=document.getElementById("printcontainer"),i=window.open("","","left=0,top=0,width=2000,height=1000,toolbar=0,scrollbars=0,status=0");setTimeout(()=>{i.document.write(e.innerHTML),i.document.close(),i.focus(),i.print(),i.close()},50)}loadWareHouseList(){this.apiService.getall("Warehouse/getSelectWarehouseCodeList").subscribe(e=>{this.whSelectionList=e,this.whSelectionList.forEach(i=>{i.lable=i.value+"-"+i.text})})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.qu),t.Y36(x.s),t.Y36(T._),t.Y36(C.t),t.Y36(S.g))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-snd-report-inventory-stock-ledger"]],features:[t.qOj],decls:84,vars:52,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],["aria-busy","true","aria-describedby","progress-bar",1,"row"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"col-md-7","col-lg-9"],[1,"card-title","pt6"],[1,"cardtitle-divider"],[1,"col-md-4","col-lg-4"],[1,"form-group"],["bindLabel","lable","bindValue","value",3,"items","ngModel","ngModelChange","change","clear"],[1,"input-group","mb-2"],[1,"form-control","datapickerinput",3,"placeholder","ngModel","matDatepicker","ngModelChange","dateChange"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker1",""],["picker2",""],[1,"col-md-2","col-lg-2"],[1,"form-group","pt",2,"padding-top","35px","padding-left","20px"],["color","primary",3,"ngModel","ngModelChange"],[1,"col-md-2","col-lg-2",2,"vertical-align","central"],[1,"form-group",2,"vertical-align","central","padding-top","25px"],["type","button",1,"btn","waves-effect","waves-light","btn-rounded","btn-primary","btn-midblock",3,"click"],["class","col-md-12 col-lg-12",4,"ngIf"],["aria-busy","true","aria-describedby","progress-bar"],["class","modal-content",4,"ngIf"],["id","progress-bar",2,"width","100%",3,"max","value"],[1,"modal-content"],[1,"modal-body"],["type","button","data-toggle","modal",1,"btn","waves-effect","waves-light","btn-rounded","btn-primary","btn-midblock",3,"click"],["id","printcontainer",1,"outer"],[1,"text-center","font-weight-medium"],["style","width:200px;height:150px;float:right;",3,"src",4,"ngIf"],["class","text-center font-weight-medium",4,"ngIf"],[1,"table-responsive"],[4,"ngFor","ngForOf"],[2,"width","200px","height","150px","float","right",3,"src"],["class","backspace",4,"ngIf"],[1,"backspace"],["border","1","cellspacing","0",1,"ur_tablestyle",2,"width","100%"],[4,"ngIf"],["style","font-size:smaller",4,"ngIf"],[2,"font-size","smaller"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"nav",5),t.TgZ(8,"ol",6),t.TgZ(9,"li",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"li",7),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"li",8),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",9),t.TgZ(19,"div",10),t.TgZ(20,"div",11),t.TgZ(21,"div",12),t.TgZ(22,"div",1),t.TgZ(23,"div",13),t.TgZ(24,"h4",14),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.qZA(),t.qZA(),t._UZ(27,"div",15),t.TgZ(28,"div",1),t.TgZ(29,"div",16),t.TgZ(30,"div",17),t.TgZ(31,"label"),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"ng-select",18),t.NdJ("ngModelChange",function(s){return i.whCode=s})("change",function(){return i.clearReport()})("clear",function(){return i.clearCode("whCode")}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(35,"div",16),t.TgZ(36,"div",17),t.TgZ(37,"label"),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"ng-select",18),t.NdJ("ngModelChange",function(s){return i.itemId=s})("change",function(){return i.clearReport()})("clear",function(){return i.clearCode("itemId")}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(41,"div",16),t.TgZ(42,"div",17),t.TgZ(43,"label"),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.TgZ(46,"div",17),t.TgZ(47,"div",19),t.TgZ(48,"input",20),t.NdJ("ngModelChange",function(s){return i.dateFrom=s})("dateChange",function(){return i.clearReport()}),t.ALo(49,"translate"),t.qZA(),t.TgZ(50,"div",21),t._UZ(51,"mat-datepicker-toggle",22),t._UZ(52,"mat-datepicker",null,23),t._UZ(54,"br"),t._UZ(55,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(56,"div",16),t.TgZ(57,"div",17),t.TgZ(58,"label"),t._uU(59),t.ALo(60,"translate"),t.qZA(),t.TgZ(61,"div",17),t.TgZ(62,"div",19),t.TgZ(63,"input",20),t.NdJ("ngModelChange",function(s){return i.dateTo=s})("dateChange",function(){return i.clearReport()}),t.ALo(64,"translate"),t.qZA(),t.TgZ(65,"div",21),t._UZ(66,"mat-datepicker-toggle",22),t._UZ(67,"mat-datepicker",null,24),t._UZ(69,"br"),t._UZ(70,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(71,"div",25),t.TgZ(72,"div",26),t.TgZ(73,"mat-slide-toggle",27),t.NdJ("ngModelChange",function(s){return i.showCosts=s}),t.qZA(),t._uU(74),t.ALo(75,"translate"),t.qZA(),t.qZA(),t.TgZ(76,"div",28),t.TgZ(77,"div",29),t.TgZ(78,"button",30),t.NdJ("click",function(){return i.search()}),t._uU(79),t.ALo(80,"translate"),t.qZA(),t.qZA(),t.qZA(),t.YNc(81,Sn,2,2,"div",31),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(82,"div",32),t.YNc(83,En,18,9,"div",33),t.qZA(),t.qZA()),2&e){const o=t.MAs(53),s=t.MAs(68);t.xp6(4),t.hij(" ",t.lcZ(5,26,"Sales_Statement")," "),t.xp6(6),t.hij(" ",t.lcZ(11,28,"Administration")," "),t.xp6(3),t.Oqu(t.lcZ(14,30,"Sales_Management")),t.xp6(3),t.Oqu(t.lcZ(17,32,"Inventory_Stock_Ledger")),t.xp6(9),t.hij("",t.lcZ(26,34,"Inventory_Stock_Ledger")," "),t.xp6(7),t.Oqu(t.lcZ(33,36,"Warehouse_Code")),t.xp6(2),t.Q6J("items",i.whSelectionList)("ngModel",i.whCode),t.xp6(4),t.Oqu(t.lcZ(39,38,"Item")),t.xp6(2),t.Q6J("items",i.itemSelectionList)("ngModel",i.itemId),t.xp6(4),t.Oqu(t.lcZ(45,40,"From_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(49,42,"Select_a_Date")),t.Q6J("ngModel",i.dateFrom)("matDatepicker",o),t.xp6(3),t.Q6J("for",o),t.xp6(8),t.Oqu(t.lcZ(60,44,"To_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(64,46,"Select_a_Date")),t.Q6J("ngModel",i.dateTo)("matDatepicker",s),t.xp6(3),t.Q6J("for",s),t.xp6(7),t.Q6J("ngModel",i.showCosts),t.xp6(1),t.hij(" ",t.lcZ(75,48,"Show_Costs")," "),t.xp6(5),t.hij(" ",t.lcZ(80,50,"Search")," "),t.xp6(2),t.Q6J("ngIf",i.isLoading),t.xp6(2),t.Q6J("ngIf",i.reports.length>0)}},directives:[D.w9,l.JJ,l.On,l.Fj,_.hl,_.nW,A.R9,_.Mq,O.Rr,d.O5,d.sg],pipes:[h.X$,d.uU,d.JJ],encapsulation:2}),n})();function Vn(n,a){if(1&n&&t._UZ(0,"img",46),2&n){const e=t.oxw(2);t.s9C("src",e.logoURL,t.LSH)}}function zn(n,a){if(1&n&&(t.TgZ(0,"span",48),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" Item Id:",e.itemId," ")}}function Wn(n,a){if(1&n&&(t.TgZ(0,"span",48),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ,Warehouse :",e.whCode," ")}}function Hn(n,a){if(1&n&&(t.TgZ(0,"div",36),t.TgZ(1,"p"),t._uU(2),t.ALo(3,"translate"),t.ALo(4,"date"),t.ALo(5,"date"),t.qZA(),t.YNc(6,zn,2,1,"span",47),t.YNc(7,Wn,2,1,"span",47),t.qZA()),2&n){const e=t.oxw(2);t.xp6(2),t.lnq(" The Statement of ",t.lcZ(3,5,"Inventory Stock Transactions Analysis")," for ",t.xi3(4,7,e.dateFrom,"dd/MM/yyyy")," to ",t.xi3(5,10,e.dateTo,"dd/MM/yyyy")," "),t.xp6(4),t.Q6J("ngIf",e.itemId),t.xp6(1),t.Q6J("ngIf",e.whCode)}}function Gn(n,a){1&n&&(t.TgZ(0,"th",42),t._uU(1),t.qZA()),2&n&&(t.xp6(1),t.hij(" ","Sales_Price"," "))}function Xn(n,a){1&n&&(t.TgZ(0,"th",49),t._uU(1),t.qZA()),2&n&&(t.xp6(1),t.hij(" ","Margin"," "))}function Kn(n,a){if(1&n&&(t.TgZ(0,"td",54),t._uU(1),t.ALo(2,"decimalpipe"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,-e.salesBal.salePrice)," ")}}function ti(n,a){if(1&n&&(t.TgZ(0,"span"),t._UZ(1,"br"),t._uU(2),t.ALo(3,"decimalpipe"),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(2),t.hij("(",t.lcZ(3,1,(e.salesBal.salePrice-e.salesBal.cost)/e.salesBal.salePrice*100),"%)")}}function ei(n,a){if(1&n&&(t.TgZ(0,"td",54),t._uU(1),t.ALo(2,"decimalpipe"),t.YNc(3,ti,4,3,"span",55),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,2,e.salesBal.cost-e.salesBal.salePrice)," "),t.xp6(2),t.Q6J("ngIf",0!=e.salesBal.qty)}}function ni(n,a){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td",50),t._uU(2),t.qZA(),t.TgZ(3,"td",50),t._uU(4),t.qZA(),t.TgZ(5,"td",42),t._uU(6),t.qZA(),t.TgZ(7,"td",51),t._uU(8),t.ALo(9,"decimalpipe"),t.qZA(),t.TgZ(10,"td",42),t._uU(11),t.qZA(),t.TgZ(12,"td",51),t._uU(13),t.ALo(14,"decimalpipe"),t.qZA(),t.TgZ(15,"td",42),t._uU(16),t.qZA(),t.TgZ(17,"td",51),t._uU(18),t.ALo(19,"decimalpipe"),t.qZA(),t.TgZ(20,"td",42),t._uU(21),t.qZA(),t.TgZ(22,"td",51),t._uU(23),t.ALo(24,"decimalpipe"),t.qZA(),t.YNc(25,Kn,3,3,"td",52),t.YNc(26,ei,4,4,"td",53),t.TgZ(27,"td",42),t._uU(28),t.qZA(),t.TgZ(29,"td",51),t._uU(30),t.ALo(31,"decimalpipe"),t.qZA(),t.qZA()),2&n){const e=a.$implicit,i=t.oxw(2);t.xp6(2),t.hij(" ",e.itemCode," "),t.xp6(2),t.hij(" ",e.itemName," "),t.xp6(2),t.hij(" ",e.openingBal.qty," "),t.xp6(2),t.hij(" ",t.lcZ(9,14,e.openingBal.cost)," "),t.xp6(3),t.hij(" ",e.purchaseBal.qty," "),t.xp6(2),t.hij(" ",t.lcZ(14,16,e.purchaseBal.cost)," "),t.xp6(3),t.hij(" ",e.adjustmentBal.qty," "),t.xp6(2),t.hij(" ",t.lcZ(19,18,e.adjustmentBal.cost)," "),t.xp6(3),t.hij(" ",-e.salesBal.qty," "),t.xp6(2),t.hij(" ",t.lcZ(24,20,-e.salesBal.cost)," "),t.xp6(2),t.Q6J("ngIf",i.showMargin),t.xp6(1),t.Q6J("ngIf",i.showMargin),t.xp6(2),t.hij(" ",e.closingBal.qty," "),t.xp6(2),t.hij(" ",t.lcZ(31,22,e.closingBal.cost)," ")}}function ii(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",33),t.TgZ(1,"div",34),t.TgZ(2,"button",29),t.NdJ("click",function(){return t.CHM(e),t.oxw().openPrint()}),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"div",35),t.TgZ(7,"div",36),t._uU(8),t.YNc(9,Vn,1,1,"img",37),t._UZ(10,"br"),t._uU(11),t._UZ(12,"br"),t._uU(13),t.qZA(),t._UZ(14,"br"),t.YNc(15,Hn,8,13,"div",38),t.TgZ(16,"div",39),t.ynx(17),t.TgZ(18,"table",40),t.TgZ(19,"tbody"),t.TgZ(20,"tr"),t.TgZ(21,"th",41),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"th",41),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.TgZ(27,"th",41),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.TgZ(30,"th",41),t._uU(31),t.ALo(32,"translate"),t.qZA(),t.TgZ(33,"th",42),t._uU(34),t.ALo(35,"translate"),t.qZA(),t.TgZ(36,"th",41),t._uU(37),t.ALo(38,"translate"),t.qZA(),t.qZA(),t.TgZ(39,"tr"),t.TgZ(40,"th",42),t._uU(41),t.ALo(42,"translate"),t.qZA(),t.TgZ(43,"th",42),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.TgZ(46,"th",42),t._uU(47),t.ALo(48,"translate"),t.qZA(),t.TgZ(49,"th",42),t._uU(50),t.ALo(51,"translate"),t.qZA(),t.TgZ(52,"th",42),t._uU(53),t.ALo(54,"translate"),t.qZA(),t.TgZ(55,"th",42),t._uU(56),t.ALo(57,"translate"),t.qZA(),t.TgZ(58,"th",42),t._uU(59),t.ALo(60,"translate"),t.qZA(),t.TgZ(61,"th",42),t._uU(62),t.ALo(63,"translate"),t.qZA(),t.TgZ(64,"th",42),t._uU(65),t.ALo(66,"translate"),t.qZA(),t.TgZ(67,"th",42),t._uU(68),t.ALo(69,"translate"),t.qZA(),t.YNc(70,Gn,2,1,"th",43),t.YNc(71,Xn,2,1,"th",44),t.TgZ(72,"th",42),t._uU(73),t.ALo(74,"translate"),t.qZA(),t.TgZ(75,"th",42),t._uU(76),t.ALo(77,"translate"),t.qZA(),t.qZA(),t.YNc(78,ni,32,24,"tr",45),t.qZA(),t.qZA(),t._UZ(79,"br"),t.BQk(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,28,"Print")," "),t.xp6(5),t.hij(" ",e.companyName," "),t.xp6(1),t.Q6J("ngIf",e.companyName),t.xp6(2),t.hij(" ",e.branchName," "),t.xp6(2),t.hij(" ",e.companyAddress," "),t.xp6(2),t.Q6J("ngIf",e.dateFrom&&e.dateTo),t.xp6(7),t.hij("",t.lcZ(23,30,"Item")," "),t.xp6(3),t.hij("",t.lcZ(26,32,"Opening")," "),t.xp6(3),t.hij("",t.lcZ(29,34,"Purchase")," "),t.xp6(3),t.hij("",t.lcZ(32,36,"Adjustment")," "),t.xp6(2),t.uIk("colspan",e.showMargin?4:2),t.xp6(1),t.hij("",t.lcZ(35,38,"Net_Sales")," "),t.xp6(3),t.hij("",t.lcZ(38,40,"Closing")," "),t.xp6(4),t.hij("",t.lcZ(42,42,"Code")," "),t.xp6(3),t.hij("",t.lcZ(45,44,"Name")," "),t.xp6(3),t.Oqu(t.lcZ(48,46,"Qty")),t.xp6(3),t.Oqu(t.lcZ(51,48,"Cost")),t.xp6(3),t.Oqu(t.lcZ(54,50,"Qty")),t.xp6(3),t.Oqu(t.lcZ(57,52,"Cost")),t.xp6(3),t.Oqu(t.lcZ(60,54,"Qty")),t.xp6(3),t.Oqu(t.lcZ(63,56,"Cost")),t.xp6(3),t.Oqu(t.lcZ(66,58,"Qty")),t.xp6(3),t.hij("",t.lcZ(69,60,"Cost")," "),t.xp6(2),t.Q6J("ngIf",e.showMargin),t.xp6(1),t.Q6J("ngIf",e.showMargin),t.xp6(2),t.Oqu(t.lcZ(74,62,"Qty")),t.xp6(3),t.Oqu(t.lcZ(77,64,"Cost")),t.xp6(2),t.Q6J("ngForOf",e.reports)}}let oi=(()=>{class n extends v{constructor(e,i,o,s,r){super(o),this.fb=e,this.apiService=i,this.authService=o,this.utilService=s,this.notifyService=r,this.isArab=!1,this.isLoading=!1,this.isCodeLoading=!1,this.showMargin=!1,this.companyName="",this.companyAddress="",this.branchName="",this.dateFrom="",this.dateTo="",this.siteCode="",this.pageNumber=0,this.pageSize=10,this.totalItemsCount=0,this.reports=[],this.whCode="",this.whSelectionList=[],this.itemId="",this.itemSelectionList=[]}ngOnInit(){this.isArab=this.utilService.isArabic(),this.dateTo=(new Date).toISOString();let e=new Date;e.setDate(e.getDate()-7),this.dateFrom=e.toISOString(),this.loadWareHouseList(),this.loadItemSelectionList(),this.search()}clearCode(e){"whCode"==e?this.whCode="":"itemId"==e&&(this.itemId="")}clearReport(){this.reports=[]}loadItemSelectionList(){this.apiService.getall("Item/getSelectItemMOUList").subscribe(e=>{this.itemSelectionList=e,this.itemSelectionList.forEach(i=>{i.lable=this.isArab?i.textTwo:i.text})})}search(){this.isLoading=!0,this.reports=[],this.pageNumber=0,this.apiService.getall(`sndReports/getInventoryStockTransactionAnalysisReport?itemId=${this.itemId}&whCode=${this.whCode}&from=${this.utilService.getCommonDate(this.dateFrom)}&to=${this.utilService.getCommonDate(this.dateTo)}&pageNumber=${this.pageNumber}&pageSize=${this.pageSize}`).subscribe(e=>{this.companyName=e.comapnyName,this.companyAddress=e.address,this.branchName=e.branchName,this.logoURL=e.logoURL,0==e.reportItems.length?(this.notifyService.showInfo("No data found"),this.isLoading=!1):(this.totalItemsCount=e.totalItemsCount,this.reports=e.reportItems,this.loadReports(++this.pageNumber))})}loadReports(e){e>Math.floor(this.totalItemsCount/this.pageSize)?this.isLoading=!1:this.apiService.getall(`sndReports/getInventoryStockTransactionAnalysisReport?itemId=${this.itemId}&whCode=${this.whCode}&from=${this.utilService.getCommonDate(this.dateFrom)}&to=${this.utilService.getCommonDate(this.dateTo)}&pageNumber=${e}&pageSize=${this.pageSize}`).subscribe(i=>{this.reports=this.reports.concat(i.reportItems),this.loadReports(++this.pageNumber)})}openPrint(){const e=document.getElementById("printcontainer"),i=window.open("","","left=0,top=0,width=2000,height=1000,toolbar=0,scrollbars=0,status=0");setTimeout(()=>{i.document.write(e.innerHTML),i.document.close(),i.focus(),i.print(),i.close()},50)}loadWareHouseList(){this.apiService.getall("Warehouse/getSelectWarehouseCodeList").subscribe(e=>{this.whSelectionList=e,this.whSelectionList.forEach(i=>{i.lable=i.value+"-"+i.text})})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.qu),t.Y36(x.s),t.Y36(T._),t.Y36(C.t),t.Y36(S.g))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-snd-report-inventory-stock-transactions-analysis"]],features:[t.qOj],decls:85,vars:52,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"col-md-7","col-lg-9"],[1,"card-title","pt6"],[1,"cardtitle-divider"],[1,"col-md-4","col-lg-4"],[1,"form-group"],["bindLabel","lable","bindValue","value",3,"items","ngModel","ngModelChange","change","clear"],[1,"input-group","mb-2"],[1,"form-control","datapickerinput",3,"placeholder","ngModel","matDatepicker","ngModelChange","dateChange"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker1",""],["picker2",""],[1,"col-md-2","col-lg-2"],[1,"form-group","pt",2,"padding-top","35px","padding-left","20px"],["color","primary",3,"ngModel","ngModelChange"],[1,"col-md-2","col-lg-2",2,"padding-top","30px"],[1,"form-group","pt"],["type","button","data-toggle","modal",1,"btn","waves-effect","waves-light","btn-rounded","btn-primary","btn-midblock",3,"click"],[1,"col-md-1","col-lg-1",2,"vertical-align","bottom"],[3,"isLoading"],["class","modal-content",4,"ngIf"],[1,"modal-content"],[1,"modal-body"],["id","printcontainer",1,"outer"],[1,"text-center","font-weight-medium"],["style","width:200px;height:150px;float:right;",3,"src",4,"ngIf"],["class","text-center font-weight-medium",4,"ngIf"],[1,"table-responsive"],["border","1","cellspacing","0",1,"ur_tablestyle",2,"width","100%"],["colspan","2",2,"text-align","center"],[2,"text-align","center"],["style","text-align:center",4,"ngIf"],["tyle","text-align:center",4,"ngIf"],[4,"ngFor","ngForOf"],[2,"width","200px","height","150px","float","right",3,"src"],["class","backspace",4,"ngIf"],[1,"backspace"],["tyle","text-align:center"],[1,"arabicright"],[2,"text-align","right"],["style","text-align:right;font-size:smaller",4,"ngIf"],["style","text-align: right; font-size: smaller",4,"ngIf"],[2,"text-align","right","font-size","smaller"],[4,"ngIf"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"nav",5),t.TgZ(8,"ol",6),t.TgZ(9,"li",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"li",7),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"li",8),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",1),t.TgZ(19,"div",9),t.TgZ(20,"div",10),t.TgZ(21,"div",11),t.TgZ(22,"div",1),t.TgZ(23,"div",12),t.TgZ(24,"h4",13),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.qZA(),t.qZA(),t._UZ(27,"div",14),t.TgZ(28,"div",1),t.TgZ(29,"div",15),t.TgZ(30,"div",16),t.TgZ(31,"label"),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"ng-select",17),t.NdJ("ngModelChange",function(s){return i.whCode=s})("change",function(){return i.clearReport()})("clear",function(){return i.clearCode("whCode")}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(35,"div",15),t.TgZ(36,"div",16),t.TgZ(37,"label"),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"ng-select",17),t.NdJ("ngModelChange",function(s){return i.itemId=s})("change",function(){return i.clearReport()})("clear",function(){return i.clearCode("itemId")}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(41,"div",15),t.TgZ(42,"div",16),t.TgZ(43,"label"),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.TgZ(46,"div",16),t.TgZ(47,"div",18),t.TgZ(48,"input",19),t.NdJ("ngModelChange",function(s){return i.dateFrom=s})("dateChange",function(){return i.clearReport()}),t.ALo(49,"translate"),t.qZA(),t.TgZ(50,"div",20),t._UZ(51,"mat-datepicker-toggle",21),t._UZ(52,"mat-datepicker",null,22),t._UZ(54,"br"),t._UZ(55,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(56,"div",15),t.TgZ(57,"div",16),t.TgZ(58,"label"),t._uU(59),t.ALo(60,"translate"),t.qZA(),t.TgZ(61,"div",16),t.TgZ(62,"div",18),t.TgZ(63,"input",19),t.NdJ("ngModelChange",function(s){return i.dateTo=s})("dateChange",function(){return i.clearReport()}),t.ALo(64,"translate"),t.qZA(),t.TgZ(65,"div",20),t._UZ(66,"mat-datepicker-toggle",21),t._UZ(67,"mat-datepicker",null,23),t._UZ(69,"br"),t._UZ(70,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(71,"div",24),t.TgZ(72,"div",25),t.TgZ(73,"mat-slide-toggle",26),t.NdJ("ngModelChange",function(s){return i.showMargin=s}),t.qZA(),t._uU(74),t.ALo(75,"translate"),t.qZA(),t.qZA(),t.TgZ(76,"div",27),t.TgZ(77,"div",28),t.TgZ(78,"button",29),t.NdJ("click",function(){return i.search()}),t._uU(79),t.ALo(80,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(81,"div",30),t.TgZ(82,"div",16),t._UZ(83,"spinner-loader",31),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(84,ii,80,66,"div",32),t.qZA()),2&e){const o=t.MAs(53),s=t.MAs(68);t.xp6(4),t.hij(" ",t.lcZ(5,26,"Sales_Statement")," "),t.xp6(6),t.hij(" ",t.lcZ(11,28,"Administration")," "),t.xp6(3),t.Oqu(t.lcZ(14,30,"Sales_Management")),t.xp6(3),t.Oqu(t.lcZ(17,32,"Inventory_Stock_Analysis")),t.xp6(9),t.hij("",t.lcZ(26,34,"Inventory_Stock_Analysis")," "),t.xp6(7),t.Oqu(t.lcZ(33,36,"Warehouse_Code")),t.xp6(2),t.Q6J("items",i.whSelectionList)("ngModel",i.whCode),t.xp6(4),t.Oqu(t.lcZ(39,38,"Item")),t.xp6(2),t.Q6J("items",i.itemSelectionList)("ngModel",i.itemId),t.xp6(4),t.Oqu(t.lcZ(45,40,"From_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(49,42,"Select_a_Date")),t.Q6J("ngModel",i.dateFrom)("matDatepicker",o),t.xp6(3),t.Q6J("for",o),t.xp6(8),t.Oqu(t.lcZ(60,44,"To_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(64,46,"Select_a_Date")),t.Q6J("ngModel",i.dateTo)("matDatepicker",s),t.xp6(3),t.Q6J("for",s),t.xp6(7),t.Q6J("ngModel",i.showMargin),t.xp6(1),t.hij(" ",t.lcZ(75,48,"Show_Margin")," "),t.xp6(5),t.hij(" ",t.lcZ(80,50,"Search")," "),t.xp6(4),t.Q6J("isLoading",i.isLoading),t.xp6(1),t.Q6J("ngIf",i.reports.length>0)}},directives:[D.w9,l.JJ,l.On,l.Fj,_.hl,_.nW,A.R9,_.Mq,O.Rr,b.r,d.O5,d.sg],pipes:[h.X$,d.uU,E.J],encapsulation:2}),n})();function ai(n,a){if(1&n&&t._UZ(0,"img",46),2&n){const e=t.oxw(2);t.s9C("src",e.logoURL,t.LSH)}}function si(n,a){if(1&n&&(t.TgZ(0,"span",48),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);let i;t.xp6(1),t.hij(" Warehouse :",null==(i=e.getWarehouse(e.whCode))?null:i.wHName," ")}}function ri(n,a){if(1&n&&(t.TgZ(0,"div",39),t.TgZ(1,"p"),t._uU(2),t.ALo(3,"date"),t.ALo(4,"date"),t.qZA(),t.YNc(5,si,2,1,"span",47),t.qZA()),2&n){const e=t.oxw(2);t.xp6(2),t.lnq(' The Statement of "Inventory_Miscellaneous_Transactions (',e.transactionType,')" for ',t.xi3(3,4,e.dateFrom,"dd/MM/yyyy")," to ",t.xi3(4,7,e.dateTo,"dd/MM/yyyy")," "),t.xp6(3),t.Q6J("ngIf",e.whCode)}}function li(n,a){1&n&&(t.TgZ(0,"th"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Location")))}function ui(n,a){1&n&&(t.TgZ(0,"th"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"From_Location")))}function ci(n,a){1&n&&(t.TgZ(0,"th"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"To_Location")))}function di(n,a){if(1&n&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.tranToLocation)}}function pi(n,a){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td",52),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.YNc(8,di,2,1,"td",50),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.ALo(19,"decimalpipe"),t.qZA(),t.qZA()),2&n){const e=a.$implicit,i=t.oxw(3);t.xp6(2),t.Oqu(t.xi3(3,10,e.tranDate,"dd-MM-yyyy")),t.xp6(3),t.Oqu(e.tranNumber),t.xp6(2),t.Oqu(e.tranLocation),t.xp6(1),t.Q6J("ngIf","Transfers"==i.transactionType||"All"==i.transactionType),t.xp6(2),t.Oqu(e.tranPostStatus),t.xp6(2),t.Oqu(e.tranDocNumber),t.xp6(2),t.Oqu(e.tranReference),t.xp6(2),t.AsE("",e.tranType,"(",e.tranType2,")"),t.xp6(2),t.Oqu(t.lcZ(19,13,e.tranTotalCost))}}function gi(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"table",49),t.TgZ(2,"tbody"),t.TgZ(3,"tr"),t.TgZ(4,"th"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.YNc(10,li,3,3,"th",50),t.YNc(11,ui,3,3,"th",50),t.YNc(12,ci,3,3,"th",50),t.TgZ(13,"th"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"th"),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"th"),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"th"),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"th"),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.qZA(),t.YNc(28,pi,20,15,"tr",51),t._UZ(29,"tr"),t.qZA(),t.qZA(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(5),t.hij("",t.lcZ(6,11,"Date"),":"),t.xp6(3),t.Oqu(t.lcZ(9,13,"Transaction_Number")),t.xp6(2),t.Q6J("ngIf","Transfers"!=e.transactionType&&"All"!=e.transactionType),t.xp6(1),t.Q6J("ngIf","Transfers"==e.transactionType||"All"==e.transactionType),t.xp6(1),t.Q6J("ngIf","Transfers"==e.transactionType||"All"==e.transactionType),t.xp6(2),t.Oqu(t.lcZ(15,15,"Status")),t.xp6(3),t.Oqu(t.lcZ(18,17,"DocNumber")),t.xp6(3),t.Oqu(t.lcZ(21,19,"Ref.Number")),t.xp6(3),t.Oqu(t.lcZ(24,21,"Transaction_Type")),t.xp6(3),t.Oqu(t.lcZ(27,23,"Total_Cost")),t.xp6(2),t.Q6J("ngForOf",e.reportItems)}}function mi(n,a){if(1&n&&(t.TgZ(0,"th"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.AsE("",t.lcZ(2,2,"From_Location"),":",e.tranLocation,"")}}function Zi(n,a){if(1&n&&(t.TgZ(0,"th"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.AsE("",t.lcZ(2,2,"Location"),":",e.tranLocation,"")}}function _i(n,a){if(1&n&&(t.TgZ(0,"th"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.AsE("",t.lcZ(2,2,"To_Location"),":",e.tranToLocation,"")}}function hi(n,a){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"decimalpipe"),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.ALo(12,"decimalpipe"),t.qZA(),t.qZA()),2&n){const e=a.$implicit;t.xp6(2),t.hij(" ",e.tranItemName," "),t.xp6(2),t.hij(" ",e.tranItemUnit," "),t.xp6(2),t.hij(" ",e.tranItemQty," "),t.xp6(2),t.hij(" ",t.lcZ(9,5,e.tranTotCost/e.tranItemQty)," "),t.xp6(3),t.hij(" ",t.lcZ(12,7,e.tranTotCost)," ")}}function Ai(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"table",53),t.TgZ(2,"tbody"),t.TgZ(3,"tr"),t.TgZ(4,"td",54),t.TgZ(5,"table",55),t.TgZ(6,"tbody"),t.TgZ(7,"tr"),t.TgZ(8,"th"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"th"),t._uU(12),t.ALo(13,"translate"),t.ALo(14,"date"),t.qZA(),t.qZA(),t.TgZ(15,"tr"),t.TgZ(16,"th"),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"th"),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.qZA(),t.TgZ(22,"tr"),t.YNc(23,mi,3,4,"th",50),t.YNc(24,Zi,3,4,"th",50),t.TgZ(25,"th"),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.qZA(),t.TgZ(28,"tr"),t.YNc(29,_i,3,4,"th",50),t.TgZ(30,"th"),t._uU(31),t.ALo(32,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(33,"tr"),t.TgZ(34,"th"),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.TgZ(37,"th"),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"th"),t._uU(41),t.ALo(42,"translate"),t.qZA(),t.TgZ(43,"th"),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.TgZ(46,"th"),t._uU(47),t.ALo(48,"translate"),t.qZA(),t.qZA(),t.YNc(49,hi,13,9,"tr",51),t.TgZ(50,"tr"),t.TgZ(51,"th",56),t._uU(52),t.qZA(),t.TgZ(53,"th"),t._uU(54),t.ALo(55,"decimalpipe"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(56,"br"),t.BQk()),2&n){const e=a.$implicit;t.xp6(9),t.AsE("",t.lcZ(10,23,"Transaction_Number"),":",e.tranNumber,""),t.xp6(3),t.AsE("",t.lcZ(13,25,"Date"),":",t.xi3(14,27,e.tranDate,"dd-MM-yyyy"),""),t.xp6(5),t.AsE("",t.lcZ(18,30,"DocNumber"),":",e.tranDocNumber,""),t.xp6(3),t.Oqu(t.lcZ(21,32,"User")),t.xp6(3),t.Q6J("ngIf","Transfers"==e.tranType2),t.xp6(1),t.Q6J("ngIf","Transfers"!=e.tranType2),t.xp6(2),t.AsE("",t.lcZ(27,34,"Ref.Number"),":",e.tranReference,""),t.xp6(3),t.Q6J("ngIf","Transfers"==e.tranType2),t.xp6(2),t.lnq("",t.lcZ(32,36,"Transaction_Type"),":",e.tranType,"(",e.tranType2,")"),t.xp6(4),t.hij(" ",t.lcZ(36,38,"Item")," "),t.xp6(3),t.hij(" ",t.lcZ(39,40,"Unit_Type")," "),t.xp6(3),t.hij(" ",t.lcZ(42,42,"Qty")," "),t.xp6(3),t.hij(" ",t.lcZ(45,44,"Cost")," "),t.xp6(3),t.hij(" ",t.lcZ(48,46,"Total_Cost")," "),t.xp6(2),t.Q6J("ngForOf",e.transactionItems),t.xp6(3),t.Oqu("Total"),t.xp6(2),t.Oqu(t.lcZ(55,48,e.tranTotalCost))}}function Ti(n,a){if(1&n&&(t.ynx(0),t.YNc(1,Ai,57,50,"ng-container",51),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.reportItems)}}function fi(n,a){if(1&n&&t.YNc(0,Ti,2,1,"ng-container",50),2&n){const e=t.oxw(2);t.Q6J("ngIf",e.reportItems.length>0)}}function qi(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",36),t.TgZ(1,"div",37),t.TgZ(2,"button",32),t.NdJ("click",function(){return t.CHM(e),t.oxw().openPrint()}),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"div",38),t.TgZ(7,"div",39),t._uU(8),t.YNc(9,ai,1,1,"img",40),t._UZ(10,"br"),t._uU(11),t._UZ(12,"br"),t._uU(13),t.qZA(),t._UZ(14,"br"),t.YNc(15,ri,6,10,"div",41),t.TgZ(16,"div",42),t.YNc(17,gi,30,25,"ng-container",43),t.YNc(18,fi,1,1,"ng-template",44,45,t.W1O),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.MAs(19),i=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,8,"Print")," "),t.xp6(5),t.hij(" ",i.companyName," "),t.xp6(1),t.Q6J("ngIf",i.companyName),t.xp6(2),t.hij(" ",i.branchName," "),t.xp6(2),t.hij(" ",i.companyAddress," "),t.xp6(2),t.Q6J("ngIf",i.dateFrom&&i.dateTo),t.xp6(2),t.Q6J("ngIf",i.isSummary&&i.reportItems.length>0)("ngIfElse",e)}}let vi=(()=>{class n extends v{constructor(e,i,o,s,r){super(o),this.fb=e,this.apiService=i,this.authService=o,this.utilService=s,this.notifyService=r,this.isSummary=!0,this.isArab=!1,this.isLoading=!1,this.transactionType="Transfers",this.companyName="",this.companyAddress="",this.branchName="",this.dateFrom=(new Date).toISOString(),this.dateTo=(new Date).toISOString(),this.siteCode="",this.reportItems=[],this.whCode="",this.whSelectionList=[],this.pageNumber=0,this.pageSize=10,this.summaryPageSize=10,this.detailedPageSize=50,this.totalItemsCount=0}ngOnInit(){let e=new Date;e.setDate(e.getDate()-7),this.dateFrom=e.toISOString(),this.isArab=this.utilService.isArabic(),this.loadWareHouseList(),this.search()}clearWhCode(){this.whCode=""}clearReport(){this.reportItems=[]}search(){this.isLoading=!0,this.reportItems=[],this.pageSize=this.isSummary?this.summaryPageSize:this.detailedPageSize,this.pageNumber=0,this.apiService.getall(`sndReports/getInventoryTransactionsReport?isSummary=${this.isSummary}&transactionType=${this.transactionType}&whCode=${this.whCode}&from=${this.utilService.getCommonDate(this.dateFrom)}&to=${this.utilService.getCommonDate(this.dateTo)}&pageNumber=${this.pageNumber}&pageSize=${this.pageSize}`).subscribe(e=>{this.totalItemsCount=e.totalItemsCount,0==e.reportItems.length?(this.notifyService.showInfo("No Data Found"),this.isLoading=!1):(this.reportItems=e.reportItems,this.companyName=e.comapnyName,this.companyAddress=e.address,this.branchName=e.branchName,this.logoURL=e.logoURL,this.loadReport(++this.pageNumber))})}loadReport(e){e>Math.floor(this.totalItemsCount/this.pageSize)?this.isLoading=!1:this.apiService.getall(`sndReports/getInventoryTransactionsReport?isSummary=${this.isSummary}&transactionType=${this.transactionType}&whCode=${this.whCode}&from=${this.utilService.getCommonDate(this.dateFrom)}&to=${this.utilService.getCommonDate(this.dateTo)}&pageNumber=${e}&pageSize=${this.pageSize}`).subscribe(i=>{this.reportItems=this.reportItems.concat(i.reportItems),this.loadReport(++this.pageNumber)})}openPrint(){const e=document.getElementById("printcontainer"),i=window.open("","","left=0,top=0,width=2000,height=1000,toolbar=0,scrollbars=0,status=0");setTimeout(()=>{i.document.write(e.innerHTML),i.document.close(),i.focus(),i.print(),i.close()},50)}loadWareHouseList(){this.apiService.getall("Warehouse/getSelectWarehouseCodeList").subscribe(e=>{this.whSelectionList=e,this.whSelectionList.forEach(i=>{i.lable=i.value+"-"+i.text})})}getWarehouse(e){return this.whSelectionList.find(i=>i.value==e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.qu),t.Y36(x.s),t.Y36(T._),t.Y36(C.t),t.Y36(S.g))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-snd-report-inventory-transactions"]],features:[t.qOj],decls:94,vars:63,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","align-self-center"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"cardtitle-divider"],[1,"col-md-4","col-lg-4"],[1,"form-group"],[1,"custom-select","mr-sm-2",3,"ngModel","ngModelChange","change"],["value","All"],["value","Transfers"],["value","Reconsiles"],["value","Issues"],["value","Receipts"],["value","Adjustments"],["bindLabel","lable","bindValue","value",3,"items","ngModel","ngModelChange","change","clear"],[1,"input-group","mb-2"],[1,"form-control","datapickerinput",3,"placeholder","ngModel","matDatepicker","ngModelChange","dateChange"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker1",""],["picker2",""],[1,"col-md-2","col-lg-2"],[1,"form-group","pt",2,"padding-top","35px","padding-left","20px"],["color","primary",3,"ngModel","ngModelChange","change"],[1,"col-md-12","col-lg-12","text-center",2,"padding-top","25px"],["type","button","data-toggle","modal",1,"btn","waves-effect","waves-light","btn-rounded","btn-primary","btn-midblock",3,"click"],[1,"col-md-1","col-lg-1",2,"padding-top","25px"],[3,"isLoading"],["class","modal-content",4,"ngIf"],[1,"modal-content"],[1,"modal-body"],["id","printcontainer",1,"outer"],[1,"text-center","font-weight-medium"],["style","width:200px;height:150px;float:right;",3,"src",4,"ngIf"],["class","text-center font-weight-medium",4,"ngIf"],[1,"table-responsive"],[4,"ngIf","ngIfElse"],["style","border:none"],["detailedContainer",""],[2,"width","200px","height","150px","float","right",3,"src"],["class","backspace",4,"ngIf"],[1,"backspace"],["border","1","cellpadding","5","cellspacing","0",1,"ur_tablestyle",2,"width","100%"],[4,"ngIf"],[4,"ngFor","ngForOf"],[2,"white-space","nowrap"],["id","outer","border","1","cellpadding","5","cellspacing","0",1,"ur_tablestyle",2,"width","100%"],["colspan","8"],["id","inner","border","0","cellpadding","0","cellspacing","0",1,"ur_tablestyle",2,"width","100%"],["colspan","4"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"nav",4),t.TgZ(5,"ol",5),t.TgZ(6,"li",6),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"li",6),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"li",7),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"div",1),t.TgZ(16,"div",8),t.TgZ(17,"div",9),t.TgZ(18,"div",10),t._UZ(19,"div",11),t.TgZ(20,"div",1),t.TgZ(21,"div",12),t.TgZ(22,"div",13),t.TgZ(23,"label"),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"select",14),t.NdJ("ngModelChange",function(s){return i.transactionType=s})("change",function(){return i.clearReport()}),t.TgZ(27,"option",15),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.TgZ(30,"option",16),t._uU(31),t.ALo(32,"translate"),t.qZA(),t.TgZ(33,"option",17),t._uU(34),t.ALo(35,"translate"),t.qZA(),t.TgZ(36,"option",18),t._uU(37),t.ALo(38,"translate"),t.qZA(),t.TgZ(39,"option",19),t._uU(40),t.ALo(41,"translate"),t.qZA(),t.TgZ(42,"option",20),t._uU(43),t.ALo(44,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(45,"div",12),t.TgZ(46,"div",13),t.TgZ(47,"label"),t._uU(48),t.ALo(49,"translate"),t.qZA(),t.TgZ(50,"ng-select",21),t.NdJ("ngModelChange",function(s){return i.whCode=s})("change",function(){return i.clearReport()})("clear",function(){return i.clearWhCode()}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(51,"div",12),t.TgZ(52,"div",13),t.TgZ(53,"label"),t._uU(54),t.ALo(55,"translate"),t.qZA(),t.TgZ(56,"div",13),t.TgZ(57,"div",22),t.TgZ(58,"input",23),t.NdJ("ngModelChange",function(s){return i.dateFrom=s})("dateChange",function(){return i.clearReport()}),t.ALo(59,"translate"),t.qZA(),t.TgZ(60,"div",24),t._UZ(61,"mat-datepicker-toggle",25),t._UZ(62,"mat-datepicker",null,26),t._UZ(64,"br"),t._UZ(65,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(66,"div",12),t.TgZ(67,"div",13),t.TgZ(68,"label"),t._uU(69),t.ALo(70,"translate"),t.qZA(),t.TgZ(71,"div",13),t.TgZ(72,"div",22),t.TgZ(73,"input",23),t.NdJ("ngModelChange",function(s){return i.dateTo=s})("dateChange",function(){return i.clearReport()}),t.ALo(74,"translate"),t.qZA(),t.TgZ(75,"div",24),t._UZ(76,"mat-datepicker-toggle",25),t._UZ(77,"mat-datepicker",null,27),t._UZ(79,"br"),t._UZ(80,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(81,"div",28),t.TgZ(82,"div",29),t.TgZ(83,"mat-slide-toggle",30),t.NdJ("ngModelChange",function(s){return i.isSummary=s})("change",function(){return i.clearReport()}),t.qZA(),t._uU(84),t.ALo(85,"translate"),t.qZA(),t.qZA(),t.TgZ(86,"div",28),t.TgZ(87,"div",31),t.TgZ(88,"button",32),t.NdJ("click",function(){return i.search()}),t._uU(89),t.ALo(90,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(91,"div",33),t._UZ(92,"spinner-loader",34),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(93,qi,20,10,"div",35),t.qZA()),2&e){const o=t.MAs(63),s=t.MAs(78);t.xp6(7),t.hij(" ",t.lcZ(8,29,"Administration")," "),t.xp6(3),t.Oqu(t.lcZ(11,31,"Inventory_Management")),t.xp6(3),t.Oqu(t.lcZ(14,33,"Inventory_Transactions")),t.xp6(11),t.Oqu(t.lcZ(25,35,"Choose")),t.xp6(2),t.Q6J("ngModel",i.transactionType),t.xp6(2),t.Oqu(t.lcZ(29,37,"All")),t.xp6(3),t.Oqu(t.lcZ(32,39,"Transfers")),t.xp6(3),t.Oqu(t.lcZ(35,41,"Reconsiles")),t.xp6(3),t.Oqu(t.lcZ(38,43,"Issues")),t.xp6(3),t.Oqu(t.lcZ(41,45,"Receipts")),t.xp6(3),t.Oqu(t.lcZ(44,47,"Adjustments")),t.xp6(5),t.Oqu(t.lcZ(49,49,"Location_From")),t.xp6(2),t.Q6J("items",i.whSelectionList)("ngModel",i.whCode),t.xp6(4),t.Oqu(t.lcZ(55,51,"From_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(59,53,"Select_a_Date")),t.Q6J("ngModel",i.dateFrom)("matDatepicker",o),t.xp6(3),t.Q6J("for",o),t.xp6(8),t.Oqu(t.lcZ(70,55,"To_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(74,57,"Select_a_Date")),t.Q6J("ngModel",i.dateTo)("matDatepicker",s),t.xp6(3),t.Q6J("for",s),t.xp6(7),t.Q6J("ngModel",i.isSummary),t.xp6(1),t.hij(" ",t.lcZ(85,59,"IsSummary")," "),t.xp6(5),t.hij(" ",t.lcZ(90,61,"Search")," "),t.xp6(3),t.Q6J("isLoading",i.isLoading),t.xp6(1),t.Q6J("ngIf",i.reportItems.length>0)}},directives:[l.EJ,l.JJ,l.On,l.YN,l.Kr,D.w9,l.Fj,_.hl,_.nW,A.R9,_.Mq,O.Rr,b.r,d.O5,d.sg],pipes:[h.X$,d.uU,E.J],encapsulation:2}),n})();var Q=m(9692),L=m(1494),g=m(2789),f=m(5289),pt=m(4803),y=m(2238),nt=m(3250);function xi(n,a){if(1&n&&(t.TgZ(0,"option",41),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.lnq("",e.value,"-",e.text,"-",e.textTwo,"")}}function Ci(n,a){if(1&n&&(t.TgZ(0,"option",41),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.AsE("",e.value,"-",e.text,"")}}let Si=(()=>{class n extends v{constructor(e,i,o,s,r){super(i),this.dialogRef=e,this.authService=i,this.fb=o,this.apiService=s,this.utilService=r,this.branchCodeList=[],this.readonly="",this.id=0,this.selectAll=!1}ngOnInit(){this.setForm(),this.loadBranchCodes(),this.id>0&&(this.setEditForm(),this.readonly="readonly")}setForm(){this.form=this.fb.group({id:[this.id],branchCode:["",l.kI.required],appAuth:["",l.kI.required],appLevel:[""],canCreateSndInvoice:[!1],canEditSndInvoice:[!1],canApproveSndInvoice:[!1],canPostSndInvoice:[!1],canVoidSndInvoice:[!1],canSettleSndInvoice:[!1],canCreateSndQuotation:[!1],canEditSndQuotation:[!1],canApproveSndQuotation:[!1],canVoidSndQuotation:[!1],canConvertSndQuotationToOrder:[!1],canConvertSndQuotationToInvoice:[!1],canConvertSndQuotationToDeliveryNote:[!1],canReviseSndQuotation:[!1],isFinalAuthority:[!1],allAuthorities:[!1]}),this.loadUsers()}removeItem(e){}loadUsers(){this.apiService.getall("Users/GetUserSelectionList").subscribe(e=>{this.userList=e})}submit(){this.form.value.appAuth=this.appAuth,this.form.value.branchCode=this.branchCode,this.form.value.appLevel=0,this.form.valid?this.apiService.post("SndAuthorities",this.form.value).subscribe(e=>{this.utilService.OkMessage(),this.dialogRef.close(!0)},e=>{console.error(e),this.utilService.ShowApiErrorMessage(e)}):this.utilService.FillUpFields()}loadBranchCodes(){this.apiService.getall("Branch/getSelectBranchCodeList").subscribe(e=>{this.branchCodeList=e})}setEditForm(){this.apiService.get("SndAuthorities/getAuthorityById",this.id).subscribe(e=>{e&&(this.form.patchValue(e),this.branchCode=e.branchCode,this.appAuth=e.appAuth,this.form.controls.branchCode.disable({onlySelf:!0}),this.form.controls.appAuth.disable({onlySelf:!0}),this.form.controls.appLevel.disable({onlySelf:!0}),this.ResetAuthorities({target:{checked:!0}},0))})}getAuthority(){""!=this.form.controls.branchCode.value&&""!=this.form.controls.appAuth.value&&(this.branchCode=this.form.controls.branchCode.value,this.appAuth=this.form.controls.appAuth.value,this.apiService.getall(`SndAuthorities/getAuthorityByBranchUserId/${this.branchCode}/${this.appAuth}`).subscribe(e=>{null!=e&&(this.id=e.id,this.setEditForm())}))}closeModel(){this.dialogRef.close()}ResetAuthorities(e,i){console.log(e),console.log(this.form.controls.allAuthorities.value),1==i?e.target.checked?this.checkAll():this.unCheckAll():this.form.controls.allAuthorities.setValue(!!(this.form.controls.canCreateSndInvoice.value&&this.form.controls.canEditSndInvoice.value&&this.form.controls.canApproveSndInvoice.value&&this.form.controls.canPostSndInvoice.value&&this.form.controls.canVoidSndInvoice.value&&this.form.controls.canSettleSndInvoice.value&&this.form.controls.canCreateSndQuotation.value&&this.form.controls.canEditSndQuotation.value&&this.form.controls.canApproveSndQuotation.value&&this.form.controls.canVoidSndQuotation.value&&this.form.controls.canReviseSndQuotation.value&&this.form.controls.canConvertSndQuotationToOrder.value&&this.form.controls.canConvertSndQuotationToInvoice.value&&this.form.controls.canConvertSndQuotationToDeliveryNote.value))}checkAll(){this.form.controls.canCreateSndInvoice.setValue(!0),this.form.controls.canEditSndInvoice.setValue(!0),this.form.controls.canApproveSndInvoice.setValue(!0),this.form.controls.canPostSndInvoice.setValue(!0),this.form.controls.canVoidSndInvoice.setValue(!0),this.form.controls.canSettleSndInvoice.setValue(!0),this.form.controls.canCreateSndQuotation.setValue(!0),this.form.controls.canEditSndQuotation.setValue(!0),this.form.controls.canApproveSndQuotation.setValue(!0),this.form.controls.canVoidSndQuotation.setValue(!0),this.form.controls.canReviseSndQuotation.setValue(!0),this.form.controls.canConvertSndQuotationToOrder.setValue(!0),this.form.controls.canConvertSndQuotationToInvoice.setValue(!0),this.form.controls.canConvertSndQuotationToDeliveryNote.setValue(!0)}unCheckAll(){this.form.controls.canCreateSndInvoice.setValue(!1),this.form.controls.canEditSndInvoice.setValue(!1),this.form.controls.canApproveSndInvoice.setValue(!1),this.form.controls.canPostSndInvoice.setValue(!1),this.form.controls.canVoidSndInvoice.setValue(!1),this.form.controls.canSettleSndInvoice.setValue(!1),this.form.controls.canCreateSndQuotation.setValue(!1),this.form.controls.canEditSndQuotation.setValue(!1),this.form.controls.canApproveSndQuotation.setValue(!1),this.form.controls.canVoidSndQuotation.setValue(!1),this.form.controls.canReviseSndQuotation.setValue(!1),this.form.controls.canConvertSndQuotationToOrder.setValue(!1),this.form.controls.canConvertSndQuotationToInvoice.setValue(!1),this.form.controls.canConvertSndQuotationToDeliveryNote.setValue(!1)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(y.so),t.Y36(T._),t.Y36(l.qu),t.Y36(x.s),t.Y36(C.t))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-snd-add-update-authorities"]],features:[t.qOj],decls:132,vars:74,consts:[[1,"modal-title"],["type","button","aria-hidden","true",1,"close",3,"click"],["novalidate","",1,"mt-4",3,"formGroup","ngSubmit"],[1,"page-breadcrumb"],[1,"row"],[1,"col-12","align-self-center"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],[1,"container-fluid"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"cardtitle-divider"],[1,"table","table-bordered","no-wrap"],["formControlName","branchCode",1,"custom-select","mr-sm-2",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"control"],["formControlName","appAuth",1,"custom-select","mr-sm-2",3,"change"],[2,"tab-size","5"],["type","checkbox","formControlName","allAuthorities",3,"change"],["type","checkbox","formControlName","canCreateSndInvoice",3,"change"],["type","checkbox","formControlName","canEditSndInvoice",3,"change"],["type","checkbox","formControlName","canApproveSndInvoice",3,"change"],["type","checkbox","formControlName","canSettleSndInvoice",3,"change"],["type","checkbox","formControlName","canPostSndInvoice",3,"change"],["type","checkbox","formControlName","canVoidSndInvoice",3,"change"],["type","checkbox","formControlName","canCreateSndQuotation",3,"change"],["type","checkbox","formControlName","canEditSndQuotation",3,"change"],["type","checkbox","formControlName","canApproveSndQuotation",3,"change"],["type","checkbox","formControlName","canVoidSndQuotation",3,"change"],["type","checkbox","formControlName","canConvertSndQuotationToOrder",3,"change"],["type","checkbox","formControlName","canConvertSndQuotationToInvoice",3,"change"],["type","checkbox","formControlName","canConvertSndQuotationToDeliveryNote",3,"change"],["type","checkbox","formControlName","canReviseSndQuotation",3,"change"],[1,"row","mt-3"],[1,"col-md-12","col-lg-12","text-center"],["type","button",1,"btn","waves-effect","waves-light","btn-rounded","btn-secondary","btn-midblock",3,"value","click"],["type","submit",1,"btn","waves-effect","waves-light","btn-rounded","btn-primary","btn-midblock",3,"value"],[3,"value"]],template:function(e,i){1&e&&(t.TgZ(0,"h3",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"button",1),t.NdJ("click",function(){return i.closeModel()}),t._uU(4," \xd7"),t.qZA(),t.TgZ(5,"form",2),t.NdJ("ngSubmit",function(){return i.submit()}),t.TgZ(6,"div",3),t.TgZ(7,"div",4),t.TgZ(8,"div",5),t.TgZ(9,"div",6),t.TgZ(10,"nav",7),t.TgZ(11,"ol",8),t.TgZ(12,"li",9),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"li",10),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",11),t.TgZ(19,"div",4),t.TgZ(20,"div",12),t.TgZ(21,"div",13),t._UZ(22,"div",4),t._UZ(23,"div",14),t.TgZ(24,"table",15),t.TgZ(25,"tr"),t.TgZ(26,"td"),t.TgZ(27,"select",16),t.NdJ("change",function(){return i.getAuthority()}),t.TgZ(28,"option",17),t._uU(29),t.ALo(30,"translate"),t.ALo(31,"translate"),t.qZA(),t.YNc(32,xi,2,4,"option",18),t.qZA(),t._UZ(33,"validation-message",19),t.qZA(),t.TgZ(34,"td"),t.TgZ(35,"select",20),t.NdJ("change",function(){return i.getAuthority()}),t.TgZ(36,"option",17),t._uU(37),t.ALo(38,"translate"),t.qZA(),t.YNc(39,Ci,2,3,"option",18),t.qZA(),t._UZ(40,"validation-message",19),t.qZA(),t.qZA(),t.qZA(),t.TgZ(41,"table"),t.TgZ(42,"tr"),t.TgZ(43,"td",21),t.TgZ(44,"input",22),t.NdJ("change",function(s){return i.ResetAuthorities(s,1)}),t.qZA(),t.qZA(),t.TgZ(45,"td"),t._uU(46),t.ALo(47,"translate"),t.qZA(),t.qZA(),t.TgZ(48,"tr"),t.TgZ(49,"td"),t.TgZ(50,"input",23),t.NdJ("change",function(s){return i.ResetAuthorities(s,0)}),t.qZA(),t.qZA(),t.TgZ(51,"td"),t._uU(52),t.ALo(53,"translate"),t.qZA(),t.TgZ(54,"td"),t.TgZ(55,"input",24),t.NdJ("change",function(s){return i.ResetAuthorities(s,0)}),t.qZA(),t.qZA(),t.TgZ(56,"td"),t._uU(57),t.ALo(58,"translate"),t.qZA(),t.qZA(),t.TgZ(59,"tr"),t.TgZ(60,"td"),t.TgZ(61,"input",25),t.NdJ("change",function(s){return i.ResetAuthorities(s,0)}),t.qZA(),t.qZA(),t.TgZ(62,"td"),t._uU(63),t.ALo(64,"translate"),t.qZA(),t.TgZ(65,"td"),t.TgZ(66,"input",26),t.NdJ("change",function(s){return i.ResetAuthorities(s,0)}),t.qZA(),t.qZA(),t.TgZ(67,"td"),t._uU(68),t.ALo(69,"translate"),t.qZA(),t.qZA(),t.TgZ(70,"tr"),t.TgZ(71,"td"),t.TgZ(72,"input",27),t.NdJ("change",function(s){return i.ResetAuthorities(s,0)}),t.qZA(),t.qZA(),t.TgZ(73,"td"),t._uU(74),t.ALo(75,"translate"),t.qZA(),t.TgZ(76,"td"),t.TgZ(77,"input",28),t.NdJ("change",function(s){return i.ResetAuthorities(s,0)}),t.qZA(),t.qZA(),t.TgZ(78,"td"),t._uU(79),t.ALo(80,"translate"),t.qZA(),t.qZA(),t.TgZ(81,"tr"),t.TgZ(82,"td"),t.TgZ(83,"input",29),t.NdJ("change",function(s){return i.ResetAuthorities(s,0)}),t.qZA(),t.qZA(),t.TgZ(84,"td"),t._uU(85),t.ALo(86,"translate"),t.qZA(),t.TgZ(87,"td"),t.TgZ(88,"input",30),t.NdJ("change",function(s){return i.ResetAuthorities(s,0)}),t.qZA(),t.qZA(),t.TgZ(89,"td"),t._uU(90),t.ALo(91,"translate"),t.qZA(),t.qZA(),t.TgZ(92,"tr"),t.TgZ(93,"td"),t.TgZ(94,"input",31),t.NdJ("change",function(s){return i.ResetAuthorities(s,0)}),t.qZA(),t.qZA(),t.TgZ(95,"td"),t._uU(96),t.ALo(97,"translate"),t.qZA(),t.TgZ(98,"td"),t.TgZ(99,"input",32),t.NdJ("change",function(s){return i.ResetAuthorities(s,0)}),t.qZA(),t.qZA(),t.TgZ(100,"td"),t._uU(101),t.ALo(102,"translate"),t.qZA(),t.qZA(),t.TgZ(103,"tr"),t.TgZ(104,"td"),t.TgZ(105,"input",33),t.NdJ("change",function(s){return i.ResetAuthorities(s,0)}),t.qZA(),t.qZA(),t.TgZ(106,"td"),t._uU(107),t.ALo(108,"translate"),t.qZA(),t.TgZ(109,"td"),t.TgZ(110,"input",34),t.NdJ("change",function(s){return i.ResetAuthorities(s,0)}),t.qZA(),t.qZA(),t.TgZ(111,"td"),t._uU(112),t.ALo(113,"translate"),t.qZA(),t.qZA(),t.TgZ(114,"tr"),t.TgZ(115,"td"),t.TgZ(116,"input",35),t.NdJ("change",function(s){return i.ResetAuthorities(s,0)}),t.qZA(),t.qZA(),t.TgZ(117,"td"),t._uU(118),t.ALo(119,"translate"),t.qZA(),t.TgZ(120,"td"),t.TgZ(121,"input",36),t.NdJ("change",function(s){return i.ResetAuthorities(s,0)}),t.qZA(),t.qZA(),t.TgZ(122,"td"),t._uU(123),t.ALo(124,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(125,"div",37),t.TgZ(126,"div",38),t.TgZ(127,"input",39),t.NdJ("click",function(){return i.closeModel()}),t.ALo(128,"translate"),t.qZA(),t._uU(129," \xa0 "),t._UZ(130,"input",40),t.ALo(131,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,28,i.modalTitle)),t.xp6(4),t.Q6J("formGroup",i.form),t.xp6(8),t.hij(" ",t.lcZ(14,30,"SalesAndDistributions")," "),t.xp6(3),t.Oqu(t.lcZ(17,32,"Authorities")),t.xp6(13),t.AsE("",t.lcZ(30,34,"Select")," ",t.lcZ(31,36,"Branch")," "),t.xp6(3),t.Q6J("ngForOf",i.branchCodeList),t.xp6(1),t.Q6J("control",i.form.controls.branchCode),t.xp6(4),t.Oqu(t.lcZ(38,38,"Select_User")),t.xp6(2),t.Q6J("ngForOf",i.userList),t.xp6(1),t.Q6J("control",i.form.controls.appAuth),t.xp6(6),t.Oqu(t.lcZ(47,40,"All")),t.xp6(6),t.Oqu(t.lcZ(53,42,"Create_Invoice")),t.xp6(5),t.Oqu(t.lcZ(58,44,"Edit_Invoice")),t.xp6(6),t.Oqu(t.lcZ(64,46,"Approve_Invoice")),t.xp6(5),t.Oqu(t.lcZ(69,48,"Settle_Invoice")),t.xp6(6),t.Oqu(t.lcZ(75,50,"Post_Invoice")),t.xp6(5),t.Oqu(t.lcZ(80,52,"Cancel_Invoice")),t.xp6(6),t.Oqu(t.lcZ(86,54,"Create_Quotation")),t.xp6(5),t.Oqu(t.lcZ(91,56,"Edit_Quotation")),t.xp6(6),t.Oqu(t.lcZ(97,58,"Approve_Quotation")),t.xp6(5),t.Oqu(t.lcZ(102,60,"Cancel_Quotation")),t.xp6(6),t.Oqu(t.lcZ(108,62,"Convert_To_Order")),t.xp6(5),t.Oqu(t.lcZ(113,64,"Convert_To_Invoice")),t.xp6(6),t.Oqu(t.lcZ(119,66,"Convert_To_Delivery_Note")),t.xp6(5),t.Oqu(t.lcZ(124,68,"Revise_Quotation")),t.xp6(4),t.s9C("value",t.lcZ(128,70,"Cancel")),t.xp6(3),t.s9C("value",t.lcZ(131,72,"Save")))},directives:[l._Y,l.JL,l.sg,l.EJ,l.JJ,l.u,l.YN,l.Kr,d.sg,nt.s,l.Wl],pipes:[h.X$],encapsulation:2}),n})();var j=m(1841),P=m(7928),et=m(6397);function yi(n,a){1&n&&(t.TgZ(0,"th",46),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Branch_Code")," "))}function Ui(n,a){if(1&n&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e.branchCode)}}function bi(n,a){1&n&&(t.TgZ(0,"th",46),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"User_Id")," "))}function Li(n,a){if(1&n&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.hij(" ",e.appAuth," ")}}function Ii(n,a){1&n&&(t.TgZ(0,"th",46),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"User_Name")," "))}function Ni(n,a){if(1&n&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.hij(" ",e.userName," ")}}function wi(n,a){1&n&&(t.TgZ(0,"th",46),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"CCI")," "))}function Di(n,a){1&n&&(t.TgZ(0,"span",50),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Yes"),""))}function Oi(n,a){1&n&&(t.TgZ(0,"span",51),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"No"),""))}function Mi(n,a){if(1&n&&(t.TgZ(0,"td",47),t.YNc(1,Di,3,3,"span",48),t.YNc(2,Oi,3,3,"ng-template",null,49,t.W1O),t.qZA()),2&n){const e=a.$implicit,i=t.MAs(3);t.xp6(1),t.Q6J("ngIf",e.canCreateSndInvoice)("ngIfElse",i)}}function ki(n,a){1&n&&(t.TgZ(0,"th",46),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"CEI")," "))}function Qi(n,a){1&n&&(t.TgZ(0,"span",50),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Yes"),""))}function ji(n,a){1&n&&(t.TgZ(0,"span",51),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"No"),""))}function Ri(n,a){if(1&n&&(t.TgZ(0,"td",47),t.YNc(1,Qi,3,3,"span",48),t.YNc(2,ji,3,3,"ng-template",null,49,t.W1O),t.qZA()),2&n){const e=a.$implicit,i=t.MAs(3);t.xp6(1),t.Q6J("ngIf",e.canEditSndInvoice)("ngIfElse",i)}}function Ji(n,a){1&n&&(t.TgZ(0,"th",46),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"CAI")," "))}function Pi(n,a){1&n&&(t.TgZ(0,"span",50),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Yes"),""))}function Yi(n,a){1&n&&(t.TgZ(0,"span",51),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"No"),""))}function Fi(n,a){if(1&n&&(t.TgZ(0,"td",47),t.YNc(1,Pi,3,3,"span",48),t.YNc(2,Yi,3,3,"ng-template",null,49,t.W1O),t.qZA()),2&n){const e=a.$implicit,i=t.MAs(3);t.xp6(1),t.Q6J("ngIf",e.canApproveSndInvoice)("ngIfElse",i)}}function Bi(n,a){1&n&&(t.TgZ(0,"th",46),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"CPI")," "))}function Ei(n,a){1&n&&(t.TgZ(0,"span",50),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Yes"),""))}function $i(n,a){1&n&&(t.TgZ(0,"span",51),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"No"),""))}function Vi(n,a){if(1&n&&(t.TgZ(0,"td",47),t.YNc(1,Ei,3,3,"span",48),t.YNc(2,$i,3,3,"ng-template",null,49,t.W1O),t.qZA()),2&n){const e=a.$implicit,i=t.MAs(3);t.xp6(1),t.Q6J("ngIf",e.canPostSndInvoice)("ngIfElse",i)}}function zi(n,a){1&n&&(t.TgZ(0,"th",46),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"CSI")," "))}function Wi(n,a){1&n&&(t.TgZ(0,"span",50),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Yes"),""))}function Hi(n,a){1&n&&(t.TgZ(0,"span",51),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"No"),""))}function Gi(n,a){if(1&n&&(t.TgZ(0,"td",47),t.YNc(1,Wi,3,3,"span",48),t.YNc(2,Hi,3,3,"ng-template",null,49,t.W1O),t.qZA()),2&n){const e=a.$implicit,i=t.MAs(3);t.xp6(1),t.Q6J("ngIf",e.canSettleSndInvoice)("ngIfElse",i)}}function Xi(n,a){1&n&&(t.TgZ(0,"th",46),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"CVI")," "))}function Ki(n,a){1&n&&(t.TgZ(0,"span",50),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Yes"),""))}function to(n,a){1&n&&(t.TgZ(0,"span",51),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"No"),""))}function eo(n,a){if(1&n&&(t.TgZ(0,"td",47),t.YNc(1,Ki,3,3,"span",48),t.YNc(2,to,3,3,"ng-template",null,49,t.W1O),t.qZA()),2&n){const e=a.$implicit,i=t.MAs(3);t.xp6(1),t.Q6J("ngIf",e.canVoidSndInvoice)("ngIfElse",i)}}function no(n,a){1&n&&(t.TgZ(0,"th",46),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"CCQ")," "))}function io(n,a){1&n&&(t.TgZ(0,"span",50),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Yes"),""))}function oo(n,a){1&n&&(t.TgZ(0,"span",51),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"No"),""))}function ao(n,a){if(1&n&&(t.TgZ(0,"td",47),t.YNc(1,io,3,3,"span",48),t.YNc(2,oo,3,3,"ng-template",null,49,t.W1O),t.qZA()),2&n){const e=a.$implicit,i=t.MAs(3);t.xp6(1),t.Q6J("ngIf",e.canCreateSndQuotation)("ngIfElse",i)}}function so(n,a){1&n&&(t.TgZ(0,"th",46),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"CEQ")," "))}function ro(n,a){1&n&&(t.TgZ(0,"span",50),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Yes"),""))}function lo(n,a){1&n&&(t.TgZ(0,"span",51),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"No"),""))}function uo(n,a){if(1&n&&(t.TgZ(0,"td",47),t.YNc(1,ro,3,3,"span",48),t.YNc(2,lo,3,3,"ng-template",null,49,t.W1O),t.qZA()),2&n){const e=a.$implicit,i=t.MAs(3);t.xp6(1),t.Q6J("ngIf",e.canEditSndQuotation)("ngIfElse",i)}}function co(n,a){1&n&&(t.TgZ(0,"th",46),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"CRQ")," "))}function po(n,a){1&n&&(t.TgZ(0,"span",50),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Yes"),""))}function go(n,a){1&n&&(t.TgZ(0,"span",51),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"No"),""))}function mo(n,a){if(1&n&&(t.TgZ(0,"td",47),t.YNc(1,po,3,3,"span",48),t.YNc(2,go,3,3,"ng-template",null,49,t.W1O),t.qZA()),2&n){const e=a.$implicit,i=t.MAs(3);t.xp6(1),t.Q6J("ngIf",e.canReviseSndQuotation)("ngIfElse",i)}}function Zo(n,a){1&n&&(t.TgZ(0,"th",46),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"CAQ")," "))}function _o(n,a){1&n&&(t.TgZ(0,"span",50),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Yes"),""))}function ho(n,a){1&n&&(t.TgZ(0,"span",51),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"No"),""))}function Ao(n,a){if(1&n&&(t.TgZ(0,"td",47),t.YNc(1,_o,3,3,"span",48),t.YNc(2,ho,3,3,"ng-template",null,49,t.W1O),t.qZA()),2&n){const e=a.$implicit,i=t.MAs(3);t.xp6(1),t.Q6J("ngIf",e.canApproveSndQuotation)("ngIfElse",i)}}function To(n,a){1&n&&(t.TgZ(0,"th",46),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"CVQ")," "))}function fo(n,a){1&n&&(t.TgZ(0,"span",50),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Yes"),""))}function qo(n,a){1&n&&(t.TgZ(0,"span",51),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"No"),""))}function vo(n,a){if(1&n&&(t.TgZ(0,"td",47),t.YNc(1,fo,3,3,"span",48),t.YNc(2,qo,3,3,"ng-template",null,49,t.W1O),t.qZA()),2&n){const e=a.$implicit,i=t.MAs(3);t.xp6(1),t.Q6J("ngIf",e.canVoidSndQuotation)("ngIfElse",i)}}function xo(n,a){1&n&&(t.TgZ(0,"th",46),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"CCQ-O")," "))}function Co(n,a){1&n&&(t.TgZ(0,"span",50),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Yes"),""))}function So(n,a){1&n&&(t.TgZ(0,"span",51),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"No"),""))}function yo(n,a){if(1&n&&(t.TgZ(0,"td",47),t.YNc(1,Co,3,3,"span",48),t.YNc(2,So,3,3,"ng-template",null,49,t.W1O),t.qZA()),2&n){const e=a.$implicit,i=t.MAs(3);t.xp6(1),t.Q6J("ngIf",e.canConvertSndQuotationToOrder)("ngIfElse",i)}}function Uo(n,a){1&n&&(t.TgZ(0,"th",46),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"CCQ-I")," "))}function bo(n,a){1&n&&(t.TgZ(0,"span",50),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Yes"),""))}function Lo(n,a){1&n&&(t.TgZ(0,"span",51),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"No"),""))}function Io(n,a){if(1&n&&(t.TgZ(0,"td",47),t.YNc(1,bo,3,3,"span",48),t.YNc(2,Lo,3,3,"ng-template",null,49,t.W1O),t.qZA()),2&n){const e=a.$implicit,i=t.MAs(3);t.xp6(1),t.Q6J("ngIf",e.canConvertSndQuotationToInvoice)("ngIfElse",i)}}function No(n,a){1&n&&(t.TgZ(0,"th",46),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"CCQ-DN")," "))}function wo(n,a){1&n&&(t.TgZ(0,"span",50),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Yes"),""))}function Do(n,a){1&n&&(t.TgZ(0,"span",51),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"No"),""))}function Oo(n,a){if(1&n&&(t.TgZ(0,"td",47),t.YNc(1,wo,3,3,"span",48),t.YNc(2,Do,3,3,"ng-template",null,49,t.W1O),t.qZA()),2&n){const e=a.$implicit,i=t.MAs(3);t.xp6(1),t.Q6J("ngIf",e.canConvertSndQuotationToDeliveryNote)("ngIfElse",i)}}function Mo(n,a){1&n&&(t.TgZ(0,"th",52),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Actions")))}function ko(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"td",47),t.TgZ(1,"a",53),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().edit(s.id)}),t._UZ(2,"i",54),t.qZA(),t.qZA()}}function Qo(n,a){1&n&&t._UZ(0,"tr",55)}function jo(n,a){1&n&&t._UZ(0,"tr",56)}const Ro=function(){return{standalone:!0}};let Jo=(()=>{class n extends v{constructor(e,i,o,s,r,u,p,c,Z,U){super(r),this.fb=e,this.http=i,this.router=o,this.apiService=s,this.authService=r,this.notifyService=u,this.utilService=p,this.validationService=c,this.dialog=Z,this.pageService=U,this.displayedColumns=["branchCode","appAuth","userName","canCreateSndInvoice","canEditSndInvoice","canApproveSndInvoice","canPostSndInvoice","canSettleSndInvoice","canVoidSndInvoice","canCreateSndQuotation","canEditSndQuotation","canApproveSndQuotation","canReviseSndQuotation","canVoidSndQuotation","canConvertSndQuotationToOrder","canConvertSndQuotationToInvoice","canConvertSndQuotationToDeliveryNote","Actions"],this.sortingOrder="id desc",this.isLoading=!1,this.searchValue=""}ngOnInit(){this.initialLoading()}initialLoading(){this.loadServices(0,this.pageService.pageCount,this.searchValue,this.sortingOrder)}onSortOrder(e){this.totalItemsCount=0,this.sortingOrder=e.active+" "+e.direction,this.loadServices(0,this.pageService.pageCount,this.searchValue,this.sortingOrder)}onPageSwitch(e){this.pageService.change(e),this.loadServices(e.pageIndex,e.pageSize,this.searchValue,this.sortingOrder)}loadServices(e,i,o,s){this.isLoading=!0,this.apiService.getPagination("SndAuthorities/getAuthoritiesPagedList",this.utilService.getQueryString(e,i,o,s)).subscribe(r=>{this.totalItemsCount=0,this.data=new g.by(r.items),this.totalItemsCount=r.totalCount,setTimeout(()=>{this.paginator.pageIndex=e,this.paginator.length=this.totalItemsCount}),this.data.sort=this.sort,this.isLoading=!1},r=>this.utilService.ShowApiErrorMessage(r))}applyFilter(e){e&&(this.searchValue=e,this.loadServices(0,this.pageService.pageCount,this.searchValue,this.sortingOrder))}openDialogManage(e=0,i,o,s){let r=this.utilService.openCrudDialog(this.dialog,Si);r.componentInstance.dbops=i,r.componentInstance.modalTitle=o,r.componentInstance.modalBtnTitle=s,r.componentInstance.id=e,r.afterClosed().subscribe(u=>{u&&!0===u&&this.initialLoading()})}create(){this.openDialogManage(0,f.Oi.create,"Adding_New_Authority","Add")}edit(e){this.openDialogManage(e,f.Oi.update,"Updating_Authority","Update")}delete(e){this.utilService.openDeleteConfirmDialog(this.dialog,pt.a).afterClosed().subscribe(o=>{o&&e>0&&this.apiService.delete("SndAuthorities",e).subscribe(s=>{this.utilService.OkMessage(),this.ngOnInit()})},o=>this.utilService.ShowApiErrorMessage(o))}submit(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.qu),t.Y36(j.eN),t.Y36(I.F0),t.Y36(x.s),t.Y36(T._),t.Y36(S.g),t.Y36(C.t),t.Y36(P.R),t.Y36(y.uw),t.Y36(et.N))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-snd-authorities"]],viewQuery:function(e,i){if(1&e&&(t.Gf(Q.NW,7),t.Gf(L.YE,7)),2&e){let o;t.iGM(o=t.CRH())&&(i.paginator=o.first),t.iGM(o=t.CRH())&&(i.sort=o.first)}},features:[t.qOj],decls:97,vars:34,consts:[[1,"page-breadcrumb"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],[1,"container-fluid"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title","pt6"],[1,"col-md-5","col-lg-5"],["type","text",1,"form-control",3,"placeholder","ngModel","ngModelOptions","ngModelChange","keyup","keydown"],[1,"col-md-7","col-lg-7","text-right"],["data-toggle","modal","data-target","#addServiceUnitMap","href","#",1,"btn","waves-effect","waves-light","btn-rounded","btn-outline-primary",3,"click"],[1,"icon-plus"],[1,"cardtitle-divider"],[1,"table-responsive"],["mat-table","","matSortDisableClear","","matSort","",1,"table","table-bordered","no-wrap",3,"dataSource","matSortChange"],["matColumnDef","branchCode","sticky",""],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","appAuth","sticky",""],["matColumnDef","userName","sticky",""],["matColumnDef","canCreateSndInvoice"],["matColumnDef","canEditSndInvoice"],["matColumnDef","canApproveSndInvoice"],["matColumnDef","canPostSndInvoice"],["matColumnDef","canSettleSndInvoice"],["matColumnDef","canVoidSndInvoice"],["matColumnDef","canCreateSndQuotation"],["matColumnDef","canEditSndQuotation"],["matColumnDef","canReviseSndQuotation"],["matColumnDef","canApproveSndQuotation"],["matColumnDef","canVoidSndQuotation"],["matColumnDef","canConvertSndQuotationToOrder"],["matColumnDef","canConvertSndQuotationToInvoice"],["matColumnDef","canConvertSndQuotationToDeliveryNote"],["matColumnDef","Actions","stickyEnd",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions","page"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["class","badge badge-pill badge-success",4,"ngIf","ngIfElse"],["inActive",""],[1,"badge","badge-pill","badge-success"],[1,"badge","badge-pill","badge-light"],["mat-header-cell",""],[1,"tableicons",3,"click"],[1,"icon-note"],["mat-header-row",""],["mat-row",""]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"div",4),t.TgZ(8,"nav",5),t.TgZ(9,"ol",6),t.TgZ(10,"li",7),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"li",8),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"div",9),t.TgZ(17,"div",1),t.TgZ(18,"div",10),t.TgZ(19,"div",11),t.TgZ(20,"div",12),t.TgZ(21,"div",1),t.TgZ(22,"div",10),t.TgZ(23,"h4",13),t._uU(24),t.ALo(25,"translate"),t.ALo(26,"translate"),t.qZA(),t.qZA(),t.TgZ(27,"div",14),t.TgZ(28,"input",15),t.NdJ("ngModelChange",function(s){return i.searchValue=s})("keyup",function(){return i.applyFilter(i.searchValue)})("keydown",function(){return i.applyFilter(i.searchValue)}),t.ALo(29,"translate"),t.qZA(),t.qZA(),t.TgZ(30,"div",16),t.TgZ(31,"a",17),t.NdJ("click",function(){return i.create()}),t._UZ(32,"i",18),t._uU(33),t.ALo(34,"translate"),t.qZA(),t.qZA(),t.qZA(),t._UZ(35,"div",19),t.TgZ(36,"div",20),t.ynx(37),t.TgZ(38,"table",21),t.NdJ("matSortChange",function(s){return i.onSortOrder(s)}),t.ynx(39,22),t.YNc(40,yi,3,3,"th",23),t.YNc(41,Ui,2,1,"td",24),t.BQk(),t.ynx(42,25),t.YNc(43,bi,3,3,"th",23),t.YNc(44,Li,2,1,"td",24),t.BQk(),t.ynx(45,26),t.YNc(46,Ii,3,3,"th",23),t.YNc(47,Ni,2,1,"td",24),t.BQk(),t.ynx(48,27),t.YNc(49,wi,3,3,"th",23),t.YNc(50,Mi,4,2,"td",24),t.BQk(),t.ynx(51,28),t.YNc(52,ki,3,3,"th",23),t.YNc(53,Ri,4,2,"td",24),t.BQk(),t.ynx(54,29),t.YNc(55,Ji,3,3,"th",23),t.YNc(56,Fi,4,2,"td",24),t.BQk(),t.ynx(57,30),t.YNc(58,Bi,3,3,"th",23),t.YNc(59,Vi,4,2,"td",24),t.BQk(),t.ynx(60,31),t.YNc(61,zi,3,3,"th",23),t.YNc(62,Gi,4,2,"td",24),t.BQk(),t.ynx(63,32),t.YNc(64,Xi,3,3,"th",23),t.YNc(65,eo,4,2,"td",24),t.BQk(),t.ynx(66,33),t.YNc(67,no,3,3,"th",23),t.YNc(68,ao,4,2,"td",24),t.BQk(),t.ynx(69,34),t.YNc(70,so,3,3,"th",23),t.YNc(71,uo,4,2,"td",24),t.BQk(),t.ynx(72,35),t.YNc(73,co,3,3,"th",23),t.YNc(74,mo,4,2,"td",24),t.BQk(),t.ynx(75,36),t.YNc(76,Zo,3,3,"th",23),t.YNc(77,Ao,4,2,"td",24),t.BQk(),t.ynx(78,37),t.YNc(79,To,3,3,"th",23),t.YNc(80,vo,4,2,"td",24),t.BQk(),t.ynx(81,38),t.YNc(82,xo,3,3,"th",23),t.YNc(83,yo,4,2,"td",24),t.BQk(),t.ynx(84,39),t.YNc(85,Uo,3,3,"th",23),t.YNc(86,Io,4,2,"td",24),t.BQk(),t.ynx(87,40),t.YNc(88,No,3,3,"th",23),t.YNc(89,Oo,4,2,"td",24),t.BQk(),t.ynx(90,41),t.YNc(91,Mo,3,3,"th",42),t.YNc(92,ko,3,0,"td",24),t.BQk(),t.YNc(93,Qo,1,0,"tr",43),t.YNc(94,jo,1,0,"tr",44),t.qZA(),t.BQk(),t.qZA(),t.ynx(95),t.TgZ(96,"mat-paginator",45),t.NdJ("page",function(s){return i.onPageSwitch(s)}),t.qZA(),t.BQk(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.AsE(" ",t.lcZ(5,17,"SaleAndDistributions")," ",t.lcZ(6,19,"Authorities")," "),t.xp6(7),t.hij(" ",t.lcZ(12,21,"SaleAndDistributions")," "),t.xp6(3),t.Oqu(t.lcZ(15,23,"Authorities")),t.xp6(10),t.AsE("",t.lcZ(25,25,"Authorities")," ",t.lcZ(26,27,"List")," "),t.xp6(4),t.MGl("placeholder","",t.lcZ(29,29,"Search"),"..."),t.Q6J("ngModel",i.searchValue)("ngModelOptions",t.DdM(33,Ro)),t.xp6(5),t.hij("",t.lcZ(34,31,"Add_New_Authority")," "),t.xp6(5),t.Q6J("dataSource",i.data),t.xp6(55),t.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(2),t.Q6J("length",i.totalItemsCount)("pageSize",i.pageService.pageCount)("pageSizeOptions",i.pageService.selectItemsPerPage))},directives:[l.Fj,l.JJ,l.On,g.BZ,L.YE,g.w1,g.fO,g.Dz,g.as,g.nj,Q.NW,g.ge,L.nU,g.ev,d.O5,g.XQ,g.Gk],pipes:[h.X$],encapsulation:2}),n})();var Po=m(4536),Yo=m(137);let Fo=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-sndcustomerinvoicestatement"]],decls:2,vars:0,template:function(e,i){1&e&&(t.TgZ(0,"p"),t._uU(1,"sndcustomerinvoicestatement works!"),t.qZA())},encapsulation:2}),n})(),Bo=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-sndcustomerstatement"]],decls:2,vars:0,template:function(e,i){1&e&&(t.TgZ(0,"p"),t._uU(1,"sndcustomerstatement works!"),t.qZA())},encapsulation:2}),n})();function Eo(n,a){1&n&&(t.TgZ(0,"th",42),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Customer_Code")," "))}function $o(n,a){if(1&n&&(t.TgZ(0,"td",43),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e.custCode)}}function Vo(n,a){1&n&&(t.TgZ(0,"th",42),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Customer_Name")," "))}function zo(n,a){if(1&n&&(t.TgZ(0,"td",43),t._uU(1),t.qZA()),2&n){const e=a.$implicit,i=t.oxw();t.xp6(1),t.Oqu(i.isArab?e.custArbName:e.custName)}}function Wo(n,a){1&n&&(t.TgZ(0,"th",42),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Alias_Name")," "))}function Ho(n,a){if(1&n&&(t.TgZ(0,"td",43),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e.custAlias)}}function Go(n,a){1&n&&(t.TgZ(0,"th",42),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Customer_Address")," "))}function Xo(n,a){if(1&n&&(t.TgZ(0,"td",43),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e.custAddress1)}}function Ko(n,a){1&n&&(t.TgZ(0,"th",42),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Category")," "))}function ta(n,a){if(1&n&&(t.TgZ(0,"td",43),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e.custCatCode)}}function ea(n,a){1&n&&(t.TgZ(0,"th",42),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Is_Customer_Active")," "))}function na(n,a){1&n&&(t.TgZ(0,"span",46),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Active"),""))}function ia(n,a){1&n&&(t.TgZ(0,"span",47),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"InActive"),""))}function oa(n,a){if(1&n&&(t.TgZ(0,"td",43),t.YNc(1,na,3,3,"span",44),t.YNc(2,ia,3,3,"ng-template",null,45,t.W1O),t.qZA()),2&n){const e=a.$implicit,i=t.MAs(3);t.xp6(1),t.Q6J("ngIf",e.isActive)("ngIfElse",i)}}function aa(n,a){1&n&&(t.TgZ(0,"th",48),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Actions"),""))}function sa(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"td",43),t.TgZ(1,"a",49),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().edit(s.id)}),t.ALo(2,"translate"),t._UZ(3,"i",50),t.qZA(),t.TgZ(4,"a",49),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().delete(s.id)}),t.ALo(5,"translate"),t._UZ(6,"i",51),t.qZA(),t.TgZ(7,"a",49),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().print(s.custCode)}),t.ALo(8,"translate"),t._UZ(9,"i",52),t.qZA(),t._uU(10,"\xa0 "),t.TgZ(11,"a",49),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().printCustInvoices(s.custCode)}),t.ALo(12,"translate"),t._UZ(13,"i",53),t.qZA(),t._uU(14,"\xa0 "),t.TgZ(15,"a",54),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().uploadFile(s.custCode)}),t.ALo(16,"translate"),t._UZ(17,"i",55),t.qZA(),t._uU(18," \xa0 "),t.qZA()}2&n&&(t.xp6(1),t.s9C("matTooltip",t.lcZ(2,5,"Edit_Item")),t.xp6(3),t.s9C("matTooltip",t.lcZ(5,7,"Delete_Item")),t.xp6(3),t.s9C("matTooltip",t.lcZ(8,9,"Customer_Statement_Report")),t.xp6(4),t.s9C("matTooltip",t.lcZ(12,11,"Customer_Payment")),t.xp6(4),t.s9C("matTooltip",t.lcZ(16,13,"Document_Upload")))}function ra(n,a){1&n&&t._UZ(0,"tr",56)}function la(n,a){1&n&&t._UZ(0,"tr",57)}let ua=(()=>{class n extends v{constructor(e,i,o,s,r,u,p,c,Z,U,N){super(r),this.fb=e,this.http=i,this.router=o,this.apiService=s,this.authService=r,this.translate=u,this.notifyService=p,this.utilService=c,this.validationService=Z,this.dialog=U,this.pageService=N,this.displayedColumns=["custCode","custName","custAlias","custAddress1","custCatCode","isActive","Actions"],this.searchValue="",this.sortingOrder="id desc",this.isLoading=!1,this.id=0,this.isArab=!1}ngOnInit(){this.isArab=this.utilService.isArabic(),this.initialLoading()}refresh(){this.searchValue="",this.sortingOrder="id desc",this.initialLoading()}initialLoading(){this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder)}onSortOrder(e){this.totalItemsCount=0,this.sortingOrder=e.active+" "+e.direction,this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder)}onPageSwitch(e){this.pageService.change(e),this.loadList(e.pageIndex,e.pageSize,this.searchValue,this.sortingOrder)}loadList(e,i,o,s){this.isLoading=!0,this.apiService.getPagination("CustomerMaster",this.utilService.getQueryString(e,i,o,s)).subscribe(r=>{this.totalItemsCount=0,this.data=new g.by(r.items),this.totalItemsCount=r.totalCount,setTimeout(()=>{this.paginator.pageIndex=e,this.paginator.length=this.totalItemsCount}),this.data.sort=this.sort,this.isLoading=!1},r=>this.utilService.ShowApiErrorMessage(r))}applyFilter(e){e&&(this.searchValue=e,this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder))}openDialogManage(e=0,i,o,s){let r=this.utilService.openCrudDialog(this.dialog,Po.L);r.componentInstance.dbops=i,r.componentInstance.modalTitle=o,r.componentInstance.modalBtnTitle=s,r.componentInstance.id=e,r.afterClosed().subscribe(u=>{u&&!0===u&&location.reload(),this.isLoading=!1})}openDialogManageOne(e="",i,o="",s){let r=this.utilService.openDialogCongif(this.dialog,s);r.componentInstance.dbops=i,r.componentInstance.modalTitle=o,r.componentInstance.customerCode=e}create(){this.openDialogManage(0,f.Oi.create,"Adding_New_Customer","Add")}edit(e){this.openDialogManage(e,f.Oi.update,"Updating_Customer","Update")}print(e){this.openDialogManageOne(e,f.Oi.update,this.translate.instant("Create_New_Sales_Invoice"),Bo)}printCustInvoices(e){this.openDialogManageOne(e,f.Oi.update,this.translate.instant("Create_New_Sales_Invoice"),Fo)}delete(e){this.utilService.openDeleteConfirmDialog(this.dialog,pt.a).afterClosed().subscribe(o=>{o&&e>0&&this.apiService.delete("CustomerMaster",e).subscribe(s=>{this.utilService.OkMessage(),this.ngOnInit()})},o=>this.utilService.ShowApiErrorMessage(o))}submit(){}openFileUploadDialogManage(e="",i,o,s=80){let r=this.utilService.openDialogCongif(this.dialog,i,s);r.componentInstance.modalTitle=e,r.componentInstance.moduleFile=o,r.afterClosed().subscribe(u=>{})}uploadFile(e){this.openFileUploadDialogManage(this.translate.instant("Document_Upload"),Yo.Y,{module:"SND",action:"SND_CUST",id:e,sourceId:e})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.qu),t.Y36(j.eN),t.Y36(I.F0),t.Y36(x.s),t.Y36(T._),t.Y36(h.sK),t.Y36(S.g),t.Y36(C.t),t.Y36(P.R),t.Y36(y.uw),t.Y36(et.N))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-snd-customer"]],viewQuery:function(e,i){if(1&e&&(t.Gf(Q.NW,7),t.Gf(L.YE,7)),2&e){let o;t.iGM(o=t.CRH())&&(i.paginator=o.first),t.iGM(o=t.CRH())&&(i.sort=o.first)}},features:[t.qOj],decls:77,vars:36,consts:[[1,"page-breadcrumb"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],[1,"container-fluid"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"row","pb-3"],[1,"col-md-3"],[1,"form-control",3,"placeholder","ngModel","ngModelChange"],[1,"col-md-4","arabicright"],[1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"col-md-4","col-lg-4"],[1,"card-title","pt6"],[1,"col-md-8","col-lg-8","text-right"],["data-toggle","modal","data-target","#addupdateUnit","href","#",1,"btn","waves-effect","waves-light","btn-rounded","btn-outline-primary",3,"click"],[1,"icon-plus"],[1,"cardtitle-divider"],[1,"table-responsive"],[3,"isLoading"],[1,"mat-elevation-z8"],["mat-table","","matSort","","matSortActive","id","matSortDisableClear","","matSortDirection","desc",1,"table","table-bordered","no-wrap",3,"dataSource","matSortChange"],["matColumnDef","custCode"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","custName"],["matColumnDef","custAlias"],["matColumnDef","custAddress1"],["matColumnDef","custCatCode"],["matColumnDef","isActive"],["matColumnDef","Actions","stickyEnd",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions","page"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["class","badge badge-pill badge-success",4,"ngIf","ngIfElse"],["inActive",""],[1,"badge","badge-pill","badge-success"],[1,"badge","badge-pill","badge-light"],["mat-header-cell",""],[1,"tableicons",3,"matTooltip","click"],[1,"icon-note"],[1,"icon-trash"],[1,"icon-printer"],[1,"icon-list"],["data-toggle","modal","data-target","#scrollable-modal",1,"tableicons","pcursor",3,"matTooltip","click"],[1,"icon-cloud-upload"],["mat-header-row",""],["mat-row",""]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"nav",5),t.TgZ(8,"ol",6),t.TgZ(9,"li",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"li",7),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"li",8),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",9),t.TgZ(19,"div",1),t.TgZ(20,"div",10),t.TgZ(21,"div",11),t.TgZ(22,"div",12),t.TgZ(23,"div",13),t._UZ(24,"div",10),t.TgZ(25,"div",14),t.TgZ(26,"input",15),t.NdJ("ngModelChange",function(s){return i.searchValue=s}),t.ALo(27,"translate"),t.qZA(),t.qZA(),t.TgZ(28,"div",16),t.TgZ(29,"button",17),t.NdJ("click",function(){return i.applyFilter(i.searchValue)}),t._uU(30),t.ALo(31,"translate"),t.qZA(),t._uU(32," \xa0 "),t.TgZ(33,"button",18),t.NdJ("click",function(){return i.refresh()}),t._uU(34),t.ALo(35,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(36,"div",1),t.TgZ(37,"div",19),t.TgZ(38,"h4",20),t._uU(39),t.ALo(40,"translate"),t.qZA(),t.qZA(),t.TgZ(41,"div",21),t.TgZ(42,"a",22),t.NdJ("click",function(){return i.create()}),t._UZ(43,"i",23),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.qZA(),t.qZA(),t._UZ(46,"div",24),t.TgZ(47,"div",25),t._UZ(48,"spinner-loader",26),t.TgZ(49,"div",27),t.ynx(50),t.TgZ(51,"table",28),t.NdJ("matSortChange",function(s){return i.onSortOrder(s)}),t.ynx(52,29),t.YNc(53,Eo,3,3,"th",30),t.YNc(54,$o,2,1,"td",31),t.BQk(),t.ynx(55,32),t.YNc(56,Vo,3,3,"th",30),t.YNc(57,zo,2,1,"td",31),t.BQk(),t.ynx(58,33),t.YNc(59,Wo,3,3,"th",30),t.YNc(60,Ho,2,1,"td",31),t.BQk(),t.ynx(61,34),t.YNc(62,Go,3,3,"th",30),t.YNc(63,Xo,2,1,"td",31),t.BQk(),t.ynx(64,35),t.YNc(65,Ko,3,3,"th",30),t.YNc(66,ta,2,1,"td",31),t.BQk(),t.ynx(67,36),t.YNc(68,ea,3,3,"th",30),t.YNc(69,oa,4,2,"td",31),t.BQk(),t.ynx(70,37),t.YNc(71,aa,3,3,"th",38),t.YNc(72,sa,19,15,"td",31),t.BQk(),t.YNc(73,ra,1,0,"tr",39),t.YNc(74,la,1,0,"tr",40),t.qZA(),t.ynx(75),t.TgZ(76,"mat-paginator",41),t.NdJ("page",function(s){return i.onPageSwitch(s)}),t.qZA(),t.BQk(),t.BQk(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.hij(" ",t.lcZ(5,18,"Customer_Master")," "),t.xp6(6),t.hij("",t.lcZ(11,20,"Sales_And_Distribution")," "),t.xp6(3),t.Oqu(t.lcZ(14,22,"Customer_Master")),t.xp6(3),t.hij("",t.lcZ(17,24,"Customers_List")," "),t.xp6(10),t.MGl("placeholder","",t.lcZ(27,26,"Search"),"..."),t.Q6J("ngModel",i.searchValue),t.xp6(4),t.Oqu(t.lcZ(31,28,"Search")),t.xp6(4),t.hij(" ",t.lcZ(35,30,"Refresh"),""),t.xp6(5),t.Oqu(t.lcZ(40,32,"Customer_Master_List")),t.xp6(5),t.Oqu(t.lcZ(45,34,"Add_New_Customer")),t.xp6(4),t.Q6J("isLoading",i.isLoading),t.xp6(3),t.Q6J("dataSource",i.data),t.xp6(22),t.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(2),t.Q6J("length",i.totalItemsCount)("pageSize",i.pageService.pageCount)("pageSizeOptions",i.pageService.selectItemsPerPage))},directives:[l.Fj,l.JJ,l.On,b.r,g.BZ,L.YE,g.w1,g.fO,g.Dz,g.as,g.nj,Q.NW,g.ge,L.nU,g.ev,d.O5,q.gM,g.XQ,g.Gk],pipes:[h.X$],encapsulation:2}),n})(),Y=(()=>{class n{constructor(e,i){this.http=e,this.authService=i,this.apiURL=""}set EnquiryNumber(e){this.enquiryNumber=e}get EnquiryNumber(){return this.enquiryNumber}set EnquiryID(e){this.enquiryID=e}get EnquiryID(){return this.enquiryID}set Input(e){this.input=e}get Input(){return this.input}set SurveyorCode(e){this.surveyorCode=e}get SurveyorCode(){return this.surveyorCode}verifyCode(e){return this.apiURL=this.authService.ApiEndPoint(),this.http.get(`${this.apiURL}/${e}`)}openApprovalDialog(e,i){return e.open(i,{disableClose:!0})}openAutoWidthDialog(e,i){return e.open(i,{disableClose:!0,width:"75%",height:"auto"})}confirmationDialog(e,i){return e.open(i,{disableClose:!0,width:"auto",height:"auto"})}fullWindow(e,i){return e.open(i,{disableClose:!0,width:"100%",height:"100%"})}getByObj(e,i){return this.apiURL=this.authService.ApiEndPoint(),this.http.get(`${this.apiURL}/${e}`,i)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(j.eN),t.LFG(T._))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),F=(()=>{class n extends v{constructor(e,i,o,s,r,u,p,c,Z){super(p),this.translate=e,this.notifyService=i,this.utilService=o,this.dialogRef=s,this.dialog=r,this.apiService=u,this.authService=p,this.fb=c,this.sndService=Z,this.confirmType="",this.remarks=""}ngOnInit(){this.setForm()}setForm(){this.form=this.fb.group({})}closeModel(e){this.dialogRef.close(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(h.sK),t.Y36(S.g),t.Y36(C.t),t.Y36(y.so),t.Y36(y.uw),t.Y36(x.s),t.Y36(T._),t.Y36(l.qu),t.Y36(Y))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-confirmation-dialog-window"]],features:[t.qOj],decls:11,vars:8,consts:[["novalidate","",1,"mt-4",3,"formGroup"],[1,"col-md-12","col-lg-12","text-center"],["type","button",1,"btn","waves-effect","waves-light","btn-rounded","btn-success","btn-midblock",3,"value","click"],["type","button",1,"btn","waves-effect","waves-light","btn-rounded","btn-danger","btn-midblock",3,"value","click"]],template:function(e,i){1&e&&(t.TgZ(0,"form",0),t.TgZ(1,"div",1),t._uU(2),t.qZA(),t._UZ(3,"br"),t.TgZ(4,"div",1),t.TgZ(5,"input",2),t.NdJ("click",function(){return i.closeModel("true")}),t.ALo(6,"translate"),t.qZA(),t._uU(7," \xa0 "),t.TgZ(8,"input",3),t.NdJ("click",function(){return i.closeModel("false")}),t.ALo(9,"translate"),t.qZA(),t._uU(10," \xa0 "),t.qZA(),t.qZA()),2&e&&(t.Q6J("formGroup",i.form),t.xp6(2),t.hij(" ",i.modalTitle," \xa0 "),t.xp6(3),t.s9C("value",t.lcZ(6,4,"Yes")),t.xp6(3),t.s9C("value",t.lcZ(9,6,"No")))},directives:[l._Y,l.JL,l.sg],pipes:[h.X$],encapsulation:2}),n})();function ca(n,a){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t._UZ(3,"br"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t.ynx(14),t._UZ(15,"i",9),t._uU(16," \xa0 "),t.BQk(),t.qZA(),t.qZA()),2&n){const e=a.$implicit,i=t.oxw();t.xp6(2),t.AsE(" ",e.invWarehouses.whName,"(",e.whCode,"), "),t.xp6(2),t.AsE(" ",e.invWarehouses.whCity,",",e.invWarehouses.whState,", "),t.xp6(2),t.hij(" ",null==e?null:e.qtyOH," "),t.xp6(2),t.hij(" ",null==e?null:e.qtyOnSalesOrder," "),t.xp6(2),t.hij(" ",null==e?null:e.qtyReserved," "),t.xp6(2),t.hij(" ",(null==e?null:e.qtyOH)-(null==e?null:e.qtyOnSalesOrder)-(null==e?null:e.qtyReserved)," "),t.xp6(3),t.s9C("id",i.getStatusColor(e))}}function da(n,a){1&n&&(t.TgZ(0,"td",10),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"No_Stock_Found")," "))}let ot=(()=>{class n extends v{constructor(e,i,o,s){super(i),this.dialogRef=e,this.authService=i,this.apiService=o,this.utilSerive=s,this.unitType="",this.tableData=[],this.isArabic=!1,this.convertedQty=0}ngOnInit(){this.isArabic=this.utilSerive.isArabic(),this.getItemUnitMap(),this.getItem(),this.getWarehouse(),this.CheckStockAvailability()}getItemUnitMap(){""==this.unitType?this.ium={itemConvFactor:1}:this.apiService.getall(`item/getItemUomMapByItemUnit/${this.itemCode}/${this.unitType}`).subscribe(e=>{this.ium=e})}getItem(){this.apiService.getall(`item/getItemByItemCode/${this.itemCode}`).subscribe(e=>{null!=e&&(console.log("item:"),console.log(e),this.item=e)})}getWarehouse(){this.apiService.getall(`warehouse/getWarehouseInfoByCode/${this.warehouseCode}`).subscribe(e=>{null!=e&&(console.log("warehouse:"),console.log(e),this.warehouse=e)})}CheckStockAvailability(){""!=this.itemCode&&this.apiService.getall(`item/itemStockAvailability/${this.itemCode}`).subscribe(e=>{e&&console.log(e),this.tableData=e})}closeModel(){this.dialogRef.close()}getStatusColor(e){var i;let o=this.quantity*(null===(i=this.ium)||void 0===i?void 0:i.itemConvFactor);return(null==e?void 0:e.qtyOH)-(null==e?void 0:e.qtyOnSalesOrder)-(null==e?void 0:e.qtyReserved)<0?"statusNegativeStock":(null==e?void 0:e.qtyOH)-(null==e?void 0:e.qtyOnSalesOrder)-(null==e?void 0:e.qtyReserved)==0?"statusNotAvailable":(null==e?void 0:e.qtyOH)-(null==e?void 0:e.qtyOnSalesOrder)-(null==e?void 0:e.qtyReserved)<o?"statusPartialAvailable":(null==e?void 0:e.qtyOH)-(null==e?void 0:e.qtyOnSalesOrder)-(null==e?void 0:e.qtyReserved)>=o?"statusAvailable":""}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(y.so),t.Y36(T._),t.Y36(x.s),t.Y36(C.t))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-itemstockavailabilitylist-popup"]],features:[t.qOj],decls:43,vars:36,consts:[[1,"row"],[1,"col-md-12","col-lg-12",2,"text-align","center"],["type","button","aria-hidden","true",1,"close",3,"click"],["width","100%"],["width","30%"],["width","45%"],[1,"table","table-bordered","no-wrap"],[4,"ngFor","ngForOf"],["style","text-align:center","colspan","6",4,"ngIf"],[1,"fas","fa-circle",3,"id"],["colspan","6",2,"text-align","center"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"h3"),t._uU(3),t.ALo(4,"translate"),t.TgZ(5,"button",2),t.NdJ("click",function(){return i.closeModel()}),t._uU(6," \xd7"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"div",1),t.TgZ(8,"table",3),t.TgZ(9,"tr"),t.TgZ(10,"td",4),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"td",5),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"div",1),t.TgZ(20,"table",6),t.TgZ(21,"thead"),t.TgZ(22,"tr"),t.TgZ(23,"th"),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"th"),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"th"),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.TgZ(32,"th"),t._uU(33),t.ALo(34,"translate"),t.qZA(),t.TgZ(35,"th"),t._uU(36),t.ALo(37,"translate"),t.qZA(),t._UZ(38,"th"),t.qZA(),t.qZA(),t.TgZ(39,"tbody"),t.YNc(40,ca,17,9,"tr",7),t.TgZ(41,"tr"),t.YNc(42,da,3,3,"td",8),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(3),t.hij(" ",t.lcZ(4,18,"Items_Stock_List")," "),t.xp6(8),t.lnq(" ",t.lcZ(12,20,"Item"),":",null==i.item?null:i.item.itemDescription,"(",i.itemCode,") "),t.xp6(3),t.lnq(" ",t.lcZ(15,22,"Warehouse"),":",null==i.warehouse?null:i.warehouse.whDesc,"(",i.warehouseCode,") "),t.xp6(3),t.HOy(" ",t.lcZ(18,24,"Qty_Required"),":",i.quantity,"x",null==i.ium?null:i.ium.itemConvFactor,"=",i.quantity*(null==i.ium?null:i.ium.itemConvFactor)," "),t.xp6(7),t.hij(" ",t.lcZ(25,26,"Warehouse")," "),t.xp6(3),t.hij(" ",t.lcZ(28,28,"OnHand")," "),t.xp6(3),t.hij(" ",t.lcZ(31,30,"Commited")," "),t.xp6(3),t.hij(" ",t.lcZ(34,32,"Reserved")," "),t.xp6(3),t.hij(" ",t.lcZ(37,34,"Available")," "),t.xp6(4),t.Q6J("ngForOf",i.tableData),t.xp6(2),t.Q6J("ngIf",0==(null==i.tableData?null:i.tableData.length)))},directives:[d.sg,d.O5],pipes:[h.X$],styles:["#statusAvailable[_ngcontent-%COMP%] {\n    color: #4cff00\n  }\n\n  #statusPartialAvailable[_ngcontent-%COMP%] {\n    color: #ffd800\n  }\n\n\n\n  #statusNotAvailable[_ngcontent-%COMP%] {\n    color: #ff0000\n  }\n\n  #statusNegativeStock[_ngcontent-%COMP%] {\n    color: #000000\n  }"]}),n})();function pa(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t.ynx(14),t._UZ(15,"i",6),t._uU(16," \xa0 "),t.TgZ(17,"span"),t.TgZ(18,"i",7),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().checkItemStockAvailability(s)}),t.qZA(),t.qZA(),t.BQk(),t.qZA(),t.qZA()}if(2&n){const e=a.$implicit,i=t.oxw();t.xp6(2),t.AsE(" ",i.isArabic?null==e||null==e.itemMaster?null:e.itemMaster.itemDescriptionAr:null==e||null==e.itemMaster?null:e.itemMaster.itemDescription," (",e.itemCode,") "),t.xp6(2),t.hij(" ",null==e||null==e.stockDetails?null:e.stockDetails.qtyOH," "),t.xp6(2),t.hij(" ",null==e||null==e.stockDetails?null:e.stockDetails.qtyOnSalesOrder," "),t.xp6(2),t.hij(" ",null==e||null==e.stockDetails?null:e.stockDetails.qtyReserved," "),t.xp6(2),t.hij(" ",null==e?null:e.quantity," "),t.xp6(2),t.hij(" ",null==e?null:e.availableQuantity," "),t.xp6(3),t.s9C("id",i.getStatusColor(e))}}let it=(()=>{class n extends v{constructor(e,i,o,s,r,u){super(s),this.dialog=e,this.sndService=i,this.dialogRef=o,this.authService=s,this.apiService=r,this.utilSerive=u,this.isArabic=!1,this.tableData=[]}ngOnInit(){this.isArabic=this.utilSerive.isArabic(),this.inputData.id>0?"D"==this.inputData.source?this.apiService.get("SndDeliveryNote/getSingleSndDeliveryNoteById",this.inputData.id).subscribe(e=>{e.itemList.length>0&&(this.inputData.itemList=e.itemList.slice(0),this.apiService.getall(`Warehouse/getWarehouseInfoByCode/${e.warehouseCode}`).subscribe(o=>{null!=o&&(this.warehouse=o)})),console.log(e);let i={warehouseCode:e.warehouseCode,itemList:this.inputData.itemList.slice(0)};this.apiService.post("generateSndQuotation/quotationStockAvailabilty",i).subscribe(o=>{console.log(o),this.tableData=o},o=>{})}):("Q"==this.inputData.source||null==this.inputData)&&this.apiService.get("generateSndQuotation/getSingleSndQuotationById",this.inputData.id).subscribe(e=>{e.itemList.length>0&&(this.inputData.itemList=e.itemList.slice(0),this.apiService.getall(`Warehouse/getWarehouseInfoByCode/${e.warehouseCode}`).subscribe(o=>{null!=o&&(this.warehouse=o)})),console.log(e);let i={warehouseCode:e.warehouseCode,itemList:this.inputData.itemList.slice(0)};this.apiService.post("generateSndQuotation/quotationStockAvailabilty",i).subscribe(o=>{console.log(o),this.tableData=o},o=>{})}):0==this.inputData.id&&(this.apiService.getall(`Warehouse/getWarehouseInfoByCode/${this.inputData.warehouseCode}`).subscribe(i=>{null!=i&&(this.warehouse=i)}),this.apiService.post("generateSndQuotation/quotationStockAvailabilty",{warehouseCode:this.inputData.warehouseCode,itemList:this.inputData.itemList}).subscribe(i=>{console.log(i),this.tableData=i},i=>{}))}closeModel(){this.dialogRef.close()}getStatusColor(e){var i,o,s,r,u,p;return(null===(i=null==e?void 0:e.stockDetails)||void 0===i?void 0:i.qtyOH)-(null===(o=null==e?void 0:e.stockDetails)||void 0===o?void 0:o.qtyOnSalesOrder)-(null===(s=null==e?void 0:e.stockDetails)||void 0===s?void 0:s.qtyReserved)<0?"statusNegativeStock":(null===(r=null==e?void 0:e.stockDetails)||void 0===r?void 0:r.qtyOH)-(null===(u=null==e?void 0:e.stockDetails)||void 0===u?void 0:u.qtyOnSalesOrder)-(null===(p=null==e?void 0:e.stockDetails)||void 0===p?void 0:p.qtyReserved)==0?"statusNotAvailable":(null==e?void 0:e.availableQuantity)<(null==e?void 0:e.quantity)?"statusPartialAvailable":(null==e?void 0:e.availableQuantity)>=(null==e?void 0:e.quantity)?"statusAvailable":""}checkItemStockAvailability(e){this.openDialogManage2(e.itemCode,this.warehouse.whCode,e.quantity,"",ot)}openDialogManage2(e,i,o,s,r){let u=this.sndService.openAutoWidthDialog(this.dialog,r);u.componentInstance.itemCode=e,u.componentInstance.warehouseCode=i,u.componentInstance.quantity=o,u.componentInstance.unitType=s,u.afterClosed().subscribe(p=>{})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(y.uw),t.Y36(Y),t.Y36(y.so),t.Y36(T._),t.Y36(x.s),t.Y36(C.t))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-quotationstockavailability-popup"]],features:[t.qOj],decls:38,vars:27,consts:[[1,"row"],[1,"col-md-12","col-lg-12",2,"text-align","center"],["type","button","aria-hidden","true",1,"close",3,"click"],["width","100%"],[1,"table","table-bordered","no-wrap"],[4,"ngFor","ngForOf"],[1,"fas","fa-circle",3,"id"],[1,"icon","icon-question",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"h3"),t._uU(3),t.ALo(4,"translate"),t.TgZ(5,"button",2),t.NdJ("click",function(){return i.closeModel()}),t._uU(6," \xd7"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"div",1),t.TgZ(8,"table",3),t.TgZ(9,"tr"),t.TgZ(10,"td"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"div",1),t.TgZ(14,"table",4),t.TgZ(15,"thead"),t.TgZ(16,"tr"),t.TgZ(17,"th"),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"th"),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"th"),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"th"),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"th"),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.TgZ(32,"th"),t._uU(33),t.ALo(34,"translate"),t.qZA(),t._UZ(35,"th"),t.qZA(),t.qZA(),t.TgZ(36,"tbody"),t.YNc(37,pa,19,8,"tr",5),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(3),t.hij(" ",t.lcZ(4,11,"Items_Stock_List")," "),t.xp6(8),t.lnq(" ",t.lcZ(12,13,"Warehouse"),":",null==i.warehouse?null:i.warehouse.whDesc,"(",null==i.warehouse?null:i.warehouse.whCode,") "),t.xp6(7),t.hij(" ",t.lcZ(19,15,"Item")," "),t.xp6(3),t.hij(" ",t.lcZ(22,17,"OnHand")," "),t.xp6(3),t.hij(" ",t.lcZ(25,19,"Commited")," "),t.xp6(3),t.hij(" ",t.lcZ(28,21,"Reserved")," "),t.xp6(3),t.hij(" ",t.lcZ(31,23,"Required")," "),t.xp6(3),t.hij(" ",t.lcZ(34,25,"Available")," "),t.xp6(4),t.Q6J("ngForOf",i.tableData))},directives:[d.sg],pipes:[h.X$],styles:["#statusAvailable[_ngcontent-%COMP%] {\n    color: #4cff00\n  }\n\n  #statusPartialAvailable[_ngcontent-%COMP%] {\n    color: #ffd800\n  }\n\n\n\n  #statusNotAvailable[_ngcontent-%COMP%] {\n    color: #ff0000\n  }\n\n  #statusNegativeStock[_ngcontent-%COMP%] {\n    color: #000000\n  }"]}),n})();var at=m(5620);function ga(n,a){if(1&n&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(null==e?null:e.delivery)}}const ma=function(){return{standalone:!0}};function Za(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"td"),t.TgZ(1,"input",9),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw(2).editingItem.delivery=o})("change",function(){t.CHM(e);const o=t.oxw().index;return t.oxw().changeDeliveryQuantity(o)}),t.qZA(),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngModel",e.editingItem.delivery)("ngModelOptions",t.DdM(2,ma))}}function _a(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"span"),t.TgZ(1,"i",10),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().index;return t.oxw().editDeliveryNoteItem(o)}),t.ALo(2,"translate"),t.qZA(),t._uU(3," \xa0 "),t.qZA()}2&n&&(t.xp6(1),t.s9C("matTooltip",t.lcZ(2,1,"Edit")))}function ha(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"span"),t.TgZ(1,"i",11),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).cancelEditing()}),t.ALo(2,"translate"),t.qZA(),t._uU(3," \xa0 "),t.TgZ(4,"i",12),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).save()}),t.ALo(5,"translate"),t.qZA(),t._uU(6," \xa0 "),t.qZA()}2&n&&(t.xp6(1),t.s9C("matTooltip",t.lcZ(2,2,"Cancel")),t.xp6(3),t.s9C("matTooltip",t.lcZ(5,4,"Save")))}function Aa(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.YNc(9,ga,2,1,"td",6),t.YNc(10,Za,2,3,"td",6),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td",7),t.TgZ(16,"i",8),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().CheckStockAvailability(s)}),t.ALo(17,"translate"),t.qZA(),t._uU(18," \xa0 "),t.YNc(19,_a,4,3,"span",6),t.YNc(20,ha,7,6,"span",6),t.qZA(),t.qZA()}if(2&n){const e=a.$implicit,i=a.index,o=t.oxw();t.xp6(2),t.Oqu(e.itemName),t.xp6(2),t.Oqu(e.description),t.xp6(2),t.Oqu(e.quantity),t.xp6(2),t.Oqu(e.unitType),t.xp6(1),t.Q6J("ngIf",o.editRowNumber!=i),t.xp6(1),t.Q6J("ngIf",o.editRowNumber==i),t.xp6(2),t.Oqu(e.delivered),t.xp6(2),t.Oqu(e.backOrder),t.xp6(2),t.s9C("matTooltip",t.lcZ(17,11,"Check_Stock_Availability")),t.xp6(3),t.Q6J("ngIf",o.editRowNumber!=i&&-1==o.editRowNumber),t.xp6(1),t.Q6J("ngIf",o.editRowNumber==i)}}let Ta=(()=>{class n extends v{constructor(e,i,o,s,r,u,p,c,Z,U,N,R,ct){super(p),this.sndService=e,this.translate=i,this.fb=o,this.http=s,this.router=r,this.apiService=u,this.authService=p,this.utilService=c,this.dialogRef=Z,this.notifyService=U,this.validationService=N,this.commonService=R,this.dialog=ct,this.id=0,this.customerList=[],this.companyList=[],this.paymentTermsList=[],this.warehouseList=[],this.itemList=[],this.vatList=[],this.itemId="",this.quantity=0,this.unitPrice=0,this.vat=0,this.vatAmount=0,this.total=0,this.itemInvAmount=0,this.discount=0,this.discountAmount=0,this.unitType="",this.description="",this.item="",this.itemCode="",this.grandDiscountAmount=0,this.grandTotal=0,this.grandFooterDiscountAmount=0,this.grandVatTotal=0,this.grandQuotationTotal=0,this.grandTotalStr="",this.grandVatTotalStr="",this.grandQuotationTotalStr="",this.grandFooterDiscountAmountStr="",this.footerDiscount=0,this.footerDiscountAmount=0,this.sequence=1,this.editsequence=0,this.listOfDeliveryNotes=[],this.canShowNotes=!1,this.canShowRemarks=!1,this.isArab=!1,this.delivery=0,this.unitTypesList=[],this.editingItem={delivery:0},this.editingInitialDelivery=0,this.editRowNumber=-1,this.isLoading=!1,this.isUpdated=!1}ngOnInit(){this.seteditform()}seteditform(){this.apiService.get("SndDeliveryNote/getSingleSndDeliveryNoteById",this.id).subscribe(e=>{e&&(this.footerDiscount=e.footerDiscount,this.warehouseCode=e.warehouseCode,this.listOfDeliveryNotes=e.itemList)})}editDeliveryNoteItem(e){this.editingInitialDelivery=this.listOfDeliveryNotes[e].delivery,this.editingItem=this.listOfDeliveryNotes[e],this.editRowNumber=e}closeModel(){this.dialogRef.close(this.isUpdated)}changeDeliveryQuantity(e){this.editingItem.delivery>=0&&this.editingItem.quantity-this.editingItem.delivery>=0&&null!=this.editingItem.quantity?(this.listOfDeliveryNotes[e].delivery=this.editingItem.delivery,this.listOfDeliveryNotes[e].backOrder=this.editingItem.quantity-this.editingItem.delivery,this.editRowNumber=e):(this.editingItem.delivery=0,this.listOfDeliveryNotes[e].delivery=this.listOfDeliveryNotes[e].quantity,this.listOfDeliveryNotes[e].backOrder=0)}CheckStockAvailability(e){let i=null==e?this.itemCode:e.itemCode,o=null==e?this.quantity:e.quantity,s=null==e?this.unitType:e.unitType;""!=i&&this.warehouseCode&&o>0&&""!=s&&this.openDialogManage2(i,this.warehouseCode,o,s,ot)}openDialogManage2(e,i,o,s,r){let u=this.sndService.openAutoWidthDialog(this.dialog,r);u.componentInstance.itemCode=e,u.componentInstance.warehouseCode=i,u.componentInstance.quantity=o,u.componentInstance.unitType=s,u.afterClosed().subscribe(p=>{})}checkQuotationStock(){this.form.value.id=0,this.form.value.itemList=this.listOfDeliveryNotes.slice(0),this.openDialogManage3(this.form.value,it)}openDialogManage3(e,i){let o=this.sndService.openAutoWidthDialog(this.dialog,i);o.componentInstance.inputData=e,o.afterClosed().subscribe(s=>{})}cancelEditing(){this.listOfDeliveryNotes[this.editRowNumber].delivery=this.editingInitialDelivery,this.listOfDeliveryNotes[this.editRowNumber].backOrder=this.editingItem.quantity-this.editingItem.delivery,this.editRowNumber=-1,this.editingItem=null}save(){if(!this.isLoading&&-1!=this.editRowNumber){let e=this.listOfDeliveryNotes[this.editRowNumber];this.isLoading=!0,this.apiService.post("SndDeliveryNote/updateSndDeliveryNoteLineDeliveryQty",e).subscribe(i=>{this.utilService.OkMessage(),this.seteditform(),this.editRowNumber=-1,this.isLoading=!1,this.isUpdated=!0},i=>{console.error(i),this.utilService.ShowApiErrorMessage(i),this.isLoading=!1})}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Y),t.Y36(h.sK),t.Y36(l.qu),t.Y36(j.eN),t.Y36(I.F0),t.Y36(x.s),t.Y36(T._),t.Y36(C.t),t.Y36(y.so),t.Y36(S.g),t.Y36(P.R),t.Y36(at.v),t.Y36(y.uw))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-editdeliverynote"]],features:[t.qOj],decls:33,vars:23,consts:[["type","button","aria-hidden","true",1,"close",3,"click"],[1,"row","rowm0"],[1,"table-responsive"],["id","zero_config",1,"table","table-bordered","no-wrap"],[1,"text-center"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"text-center",2,"font-size","larger"],[1,"icon-question",3,"matTooltip","click"],["type","number",3,"ngModel","ngModelOptions","ngModelChange","change"],[1,"icon-note","cpointer",3,"matTooltip","click"],[1,"fas","fa-window-close",3,"matTooltip","click"],[1,"fas","fa-save",3,"matTooltip","click"]],template:function(e,i){1&e&&(t.TgZ(0,"h3"),t._uU(1),t.TgZ(2,"button",0),t.NdJ("click",function(){return i.closeModel()}),t._uU(3," \xd7"),t.qZA(),t.qZA(),t.TgZ(4,"div",1),t.TgZ(5,"div",2),t.TgZ(6,"table",3),t.TgZ(7,"thead"),t.TgZ(8,"tr"),t.TgZ(9,"th"),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"th"),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"th"),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"th"),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"th"),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"th"),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.TgZ(27,"th"),t._uU(28),t.ALo(29,"translate"),t.qZA(),t._UZ(30,"th",4),t.qZA(),t.qZA(),t.TgZ(31,"tbody"),t.YNc(32,Aa,21,13,"tr",5),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",i.modalTitle," "),t.xp6(9),t.Oqu(t.lcZ(11,9,"Item")),t.xp6(3),t.Oqu(t.lcZ(14,11,"Description")),t.xp6(3),t.Oqu(t.lcZ(17,13,"Quantity")),t.xp6(3),t.Oqu(t.lcZ(20,15,"Unit")),t.xp6(3),t.Oqu(t.lcZ(23,17,"Delivery")),t.xp6(3),t.Oqu(t.lcZ(26,19,"Delivered")),t.xp6(3),t.Oqu(t.lcZ(29,21,"Back_Order")),t.xp6(4),t.Q6J("ngForOf",i.listOfDeliveryNotes))},directives:[d.sg,d.O5,q.gM,l.wV,l.Fj,l.JJ,l.On],pipes:[h.X$],encapsulation:2}),n})();var st=m(946);function fa(n,a){if(1&n&&t._UZ(0,"img",61),2&n){const e=t.oxw(2);t.s9C("src",e.company.logoURL,t.LSH)}}function qa(n,a){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td",62),t._uU(2),t.qZA(),t.TgZ(3,"td",62),t.TgZ(4,"b",63),t._uU(5),t._UZ(6,"br"),t.qZA(),t.qZA(),t.TgZ(7,"td",64),t.TgZ(8,"div",65),t._uU(9),t.qZA(),t.qZA(),t.TgZ(10,"td",62),t._uU(11),t.qZA(),t.TgZ(12,"td",62),t._uU(13),t.ALo(14,"number"),t.qZA(),t.TgZ(15,"td",62),t._uU(16),t.qZA(),t.TgZ(17,"td",66),t._uU(18),t.ALo(19,"number"),t.qZA(),t.TgZ(20,"td",66),t._uU(21),t.ALo(22,"number"),t.qZA(),t.qZA()),2&n){const e=a.$implicit;t.xp6(2),t.hij(" ",e.itemCode," "),t.xp6(3),t.hij(" ",e.itemName,""),t.xp6(4),t.hij(" ",e.description," "),t.xp6(2),t.hij(" ",e.quantity," "),t.xp6(2),t.hij(" ",t.xi3(14,8,e.unitPrice,"1.2")," "),t.xp6(3),t.hij(" ",e.taxTariffPercentage+" %"," "),t.xp6(2),t.hij(" ",t.xi3(19,11,e.taxAmount,"1.2")," "),t.xp6(3),t.hij(" ",t.xi3(22,14,e.totalAmount,"1.2")," ")}}function va(n,a){1&n&&(t.TgZ(0,"table",5),t.TgZ(1,"tr"),t._UZ(2,"td",67),t.qZA(),t.qZA())}function xa(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"div",1),t.TgZ(2,"table",2),t.TgZ(3,"tr"),t.TgZ(4,"td",3),t.YNc(5,fa,1,1,"img",4),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"table",5),t.TgZ(7,"tr"),t.TgZ(8,"td",6),t.TgZ(9,"h4",7),t._uU(10),t.qZA(),t.TgZ(11,"h4",7),t._uU(12),t.qZA(),t._UZ(13,"span"),t.TgZ(14,"h4",7),t._uU(15," VAT NO : "),t.TgZ(16,"span",8),t._uU(17),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"td",9),t.TgZ(19,"span",10),t._uU(20),t.ALo(21,"translate"),t.qZA(),t._UZ(22,"br"),t.TgZ(23,"span",11),t._uU(24," DELIVERY NOTE \xa0 \xa0\xa0 "),t.qZA(),t.qZA(),t.TgZ(25,"td",12),t.TgZ(26,"h4",13),t._uU(27),t.qZA(),t.TgZ(28,"h4",13),t._uU(29),t.qZA(),t.TgZ(30,"h4",13),t._uU(31),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(32,"div",14),t.TgZ(33,"table",15),t.TgZ(34,"tr"),t.TgZ(35,"td",16),t.TgZ(36,"table",17),t.TgZ(37,"tr"),t.TgZ(38,"td",18),t._uU(39," Quotation # "),t.qZA(),t.TgZ(40,"td",19),t._uU(41),t.qZA(),t.TgZ(42,"td",20),t._uU(43," \u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629 "),t.qZA(),t.qZA(),t.TgZ(44,"tr"),t.TgZ(45,"td",18),t._uU(46," Service Month "),t.qZA(),t.TgZ(47,"td",19),t._uU(48),t.qZA(),t.TgZ(49,"td",20),t._uU(50," \u0634\u0647\u0631 \u0627\u0644\u0639\u0645\u0644 "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(51,"td",21),t.TgZ(52,"td",22),t.TgZ(53,"table",17),t.TgZ(54,"tr"),t.TgZ(55,"td",18),t._uU(56," Issue Date "),t.qZA(),t.TgZ(57,"td",19),t.TgZ(58,"label",23),t._uU(59),t.ALo(60,"date"),t.qZA(),t.qZA(),t.TgZ(61,"td",20),t._uU(62," \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0635\u062f\u0627\u0631 "),t.qZA(),t.qZA(),t.TgZ(63,"tr"),t.TgZ(64,"td",18),t._uU(65," Due Date "),t.qZA(),t.TgZ(66,"td",19),t.TgZ(67,"label",23),t._uU(68),t.ALo(69,"date"),t.qZA(),t.qZA(),t.TgZ(70,"td",20),t._uU(71," \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0633\u062a\u062d\u0642\u0627\u0642 "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(72,"div",24),t.TgZ(73,"table",17),t.TgZ(74,"tr"),t.TgZ(75,"td",25),t._uU(76," Address "),t.qZA(),t.TgZ(77,"td",26),t._uU(78),t.qZA(),t.TgZ(79,"td",27),t._uU(80),t.ALo(81,"translate"),t.qZA(),t.TgZ(82,"td",28),t._uU(83),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(84,"div",24),t.TgZ(85,"table",17),t.TgZ(86,"tr"),t.TgZ(87,"td",29),t._uU(88),t.qZA(),t.TgZ(89,"td",30),t._uU(90," \u0627\u0644\u0639\u0646\u0648\u0627\u0646 "),t.qZA(),t.TgZ(91,"td",31),t._uU(92),t.qZA(),t.TgZ(93,"td",32),t._uU(94," \u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064a\u0644 "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(95,"div",24),t.TgZ(96,"table",17),t.TgZ(97,"tr"),t.TgZ(98,"td",33),t._uU(99," \u0634\u0631\u0648\u0637 \u0627\u0644\u062f\u0641\u0639 "),t.TgZ(100,"span",34),t._uU(101," Payment Terms "),t.qZA(),t.qZA(),t.TgZ(102,"td",35),t._uU(103," \u0631\u0642\u0645 \u0623\u0645\u0631 \u0627\u0644\u0634\u0631\u0627\u0621 \xa0 \xa0 "),t.TgZ(104,"span",34),t._uU(105,"P.O. No."),t.qZA(),t.qZA(),t.TgZ(106,"td",19),t._uU(107," \u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064a\u0628\u064a \u0644\u0644\u0639\u0645\u064a\u0644 \xa0 \xa0 "),t.TgZ(108,"span",34),t._uU(109),t.ALo(110,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(111,"tr"),t.TgZ(112,"td",33),t._uU(113),t.qZA(),t.TgZ(114,"td",35),t._uU(115),t.qZA(),t.TgZ(116,"td",19),t._uU(117),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(118,"div",36),t.TgZ(119,"table",17),t.TgZ(120,"tr"),t.TgZ(121,"th",37),t.TgZ(122,"div",38),t._uU(123,"\u0631\u0642\u0645 \u0627\u0644\u0635\u0646\u0641"),t.qZA(),t.TgZ(124,"div",39),t._uU(125,"Item"),t.qZA(),t.qZA(),t.TgZ(126,"th",37),t.TgZ(127,"div",38),t._uU(128," \u0627\u0633\u0645"),t.qZA(),t.TgZ(129,"div",39),t._uU(130,"Name"),t.qZA(),t.qZA(),t.TgZ(131,"th",19),t.TgZ(132,"div",38),t._uU(133,"\u0627\u0644\u0648\u0635\u0641"),t.qZA(),t.TgZ(134,"div",39),t._uU(135,"Description"),t.qZA(),t.qZA(),t.TgZ(136,"th",37),t.TgZ(137,"div",38),t._uU(138," \u0627\u0644\u0643\u0645\u064a\u0629"),t.qZA(),t.TgZ(139,"div",39),t._uU(140,"Qty"),t.qZA(),t.qZA(),t.TgZ(141,"th",37),t.TgZ(142,"div",38),t._uU(143,"\u0633\u0639\u0631 \u0627\u0644\u0648\u062d\u062f\u0629"),t.qZA(),t.TgZ(144,"div",39),t._uU(145,"Unit Price"),t.qZA(),t.qZA(),t.TgZ(146,"th",37),t.TgZ(147,"div",38),t._uU(148," \u0636\u0631\u064a\u0628\u0629 \u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0645\u0636\u0627\u0641\u0629"),t.qZA(),t.TgZ(149,"div",39),t._uU(150,"Vat"),t.qZA(),t.qZA(),t.TgZ(151,"th",40),t.TgZ(152,"div",38),t._uU(153," \u0625\u062c\u0645\u0627\u0644\u064a \u0636\u0631\u064a\u0628\u0629 \u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0645\u0636\u0627\u0641\u0629"),t.qZA(),t.TgZ(154,"div",39),t._uU(155,"Vat Amount"),t.qZA(),t.qZA(),t.TgZ(156,"th",40),t.TgZ(157,"div",38),t._uU(158,"\u0627\u0644\u0633\u0639\u0631 \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a"),t.qZA(),t.TgZ(159,"div",39),t._uU(160,"Total Price"),t.qZA(),t.qZA(),t.qZA(),t.YNc(161,qa,23,17,"tr",41),t.TgZ(162,"tr"),t.TgZ(163,"td",42),t.TgZ(164,"div",43),t._uU(165),t.qZA(),t.TgZ(166,"div",44),t._uU(167),t.qZA(),t.TgZ(168,"div",45),t._UZ(169,"img",46),t.qZA(),t.qZA(),t.TgZ(170,"td",47),t.TgZ(171,"div",48),t._uU(172," \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a \u063a\u064a\u0631 \u0634\u0627\u0645\u0644 \u0627\u0644\u0636\u0631\u064a\u0628\u0629"),t.qZA(),t.TgZ(173,"div",49),t._uU(174,"Subtotal Excl. VAT"),t.qZA(),t.qZA(),t.TgZ(175,"td",50),t._uU(176),t.ALo(177,"number"),t.qZA(),t.qZA(),t.TgZ(178,"tr"),t.TgZ(179,"td",47),t.TgZ(180,"div",48),t._UZ(181,"span",49),t._uU(182," \u0636\u0631\u064a\u0628\u0629 \u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0645\u0636\u0627\u0641\u0629 "),t.qZA(),t.TgZ(183,"div",49),t._uU(184,"VAT Amount"),t.qZA(),t.qZA(),t.TgZ(185,"td",50),t._uU(186),t.ALo(187,"number"),t.qZA(),t.qZA(),t.TgZ(188,"tr"),t.TgZ(189,"td",51),t.TgZ(190,"table",52),t.TgZ(191,"tr"),t.TgZ(192,"td",53),t.TgZ(193,"div",54),t._uU(194,":Bank Account Details"),t.qZA(),t.TgZ(195,"div",54),t._uU(196),t.qZA(),t.TgZ(197,"div",54),t._uU(198),t.qZA(),t.TgZ(199,"div",54),t._uU(200),t.qZA(),t.TgZ(201,"div",54),t._uU(202),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(203,"td",55),t.TgZ(204,"div",56),t._uU(205," \u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a \u0634\u0627\u0645\u0644 \u0627\u0644\u0636\u0631\u064a\u0628\u0629"),t.qZA(),t.TgZ(206,"div",57),t._uU(207,"Total Incl. VAT"),t.qZA(),t.qZA(),t.TgZ(208,"td",58),t._uU(209," SAR "),t.TgZ(210,"span",59),t._uU(211),t.ALo(212,"number"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(213,"tr"),t.TgZ(214,"td",47),t.TgZ(215,"div",48),t._uU(216,"\u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u0645\u062f\u0641\u0648\u0639"),t.qZA(),t.TgZ(217,"div",49),t._uU(218,"Amount Paid"),t.qZA(),t.qZA(),t.TgZ(219,"td",50),t._uU(220),t.ALo(221,"number"),t.qZA(),t.qZA(),t.TgZ(222,"tr"),t.TgZ(223,"td",55),t.TgZ(224,"div",56),t._uU(225,"\u0627\u0644\u0631\u0635\u064a\u062f \u0627\u0644\u0645\u0633\u062a\u062d\u0642"),t.qZA(),t.TgZ(226,"div",57),t._uU(227,"Balance Due "),t.qZA(),t.qZA(),t.TgZ(228,"td",58),t._uU(229),t.ALo(230,"number"),t.qZA(),t.qZA(),t.qZA(),t.YNc(231,va,3,0,"table",60),t.qZA(),t.qZA(),t.BQk()),2&n){const e=t.oxw();t.xp6(4),t.Akn(e.isSavePDF?"height : 0px ":"height:150px"),t.xp6(1),t.Q6J("ngIf",e.isSavePDF),t.xp6(5),t.hij(" ",e.company.companyName," "),t.xp6(2),t.hij(" ",e.company.companyAddress," "),t.xp6(5),t.hij("",e.company.vatNumber," "),t.xp6(3),t.hij(" ",t.lcZ(21,38,"DELIVERY_NOTE")," "),t.xp6(7),t.hij(" ",e.company.companyName," "),t.xp6(2),t.hij(" ",e.company.companyAddress," "),t.xp6(2),t.hij(" ",e.company.vatNumber," : \u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064a\u0628\u064a "),t.xp6(10),t.hij(" ",e.deliveryNote.quotationNumber," "),t.xp6(7),t.hij(" ",e.deliveryNote.serviceDate1," "),t.xp6(11),t.hij(" ",t.xi3(60,40,e.deliveryNote.quotationDate,"dd-MM-yyyy")," "),t.xp6(9),t.Oqu(t.xi3(69,43,e.deliveryNote.quotationDueDate,"dd-MM-yyyy")),t.xp6(10),t.hij(" ",e.customer.custAddress1," "),t.xp6(2),t.AsE(" ",e.deliveryNote.customerName?"Walk-In / \u0641\u064a \u0627\u0644\u0645\u0648\u0642\u0639 ":""," ",t.lcZ(81,46,"Customer_Name")," "),t.xp6(3),t.hij(" ",e.customer.custName," "),t.xp6(5),t.hij(" ",e.customer.custAddress1," "),t.xp6(4),t.hij(" ",e.customer.custArbName," "),t.xp6(17),t.Oqu(t.lcZ(110,48,"Customer_VAT_No")),t.xp6(4),t.hij(" ",e.deliveryNote.paymentTermId," "),t.xp6(2),t.hij(" ",e.deliveryNote.quotationRefNumber," "),t.xp6(2),t.hij(" ",e.customer.vatNumber," "),t.xp6(44),t.Q6J("ngForOf",e.tableData),t.xp6(4),t.hij(" \u0627\u0644\u0645\u062c\u0645\u0648\u0639 \u0643\u062a\u0627\u0628\u0629 : ",e.totalAmountAr," "),t.xp6(2),t.hij(" Total In Words: ",e.totalAmountEn," "),t.xp6(2),t.s9C("src",e.deliveryNote.qrCode,t.LSH),t.xp6(7),t.hij(" SAR ",t.xi3(177,50,e.deliveryNote.subTotal,"3.2-5")," "),t.xp6(10),t.hij(" SAR ",t.xi3(187,53,e.deliveryNote.taxAmount,"3.2-5")," "),t.xp6(10),t.hij(" Account Name: ",e.company.companyName,""),t.xp6(2),t.hij("Bank Name: ",e.bank.branchName,""),t.xp6(2),t.hij("Address:",e.bank.branchAddress," "),t.xp6(2),t.Oqu(e.bank.accountNumber),t.xp6(9),t.Oqu(t.xi3(212,56,e.deliveryNote.totalAmount,"3.2-5")),t.xp6(9),t.hij(" SAR ",t.xi3(221,59,e.deliveryNote.paidAmount,"3.2-5")," "),t.xp6(9),t.hij(" SAR ",t.xi3(230,62,e.deliveryNote.totalAmount-e.deliveryNote.paidAmount,"3.2-5")," "),t.xp6(2),t.Q6J("ngIf",e.isSavePDF)}}function Ca(n,a){if(1&n&&t._UZ(0,"img",61),2&n){const e=t.oxw(2);t.s9C("src",e.company.logoURL,t.LSH)}}function Sa(n,a){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td",71),t._uU(2),t.qZA(),t.TgZ(3,"td",71),t.TgZ(4,"b",63),t._uU(5),t._UZ(6,"br"),t.qZA(),t.qZA(),t.TgZ(7,"td",64),t.TgZ(8,"div",65),t._uU(9),t.qZA(),t.qZA(),t.TgZ(10,"td",71),t._uU(11),t.qZA(),t.TgZ(12,"td",71),t._uU(13),t.ALo(14,"number"),t.qZA(),t.TgZ(15,"td",71),t._uU(16),t.ALo(17,"number"),t.qZA(),t.qZA()),2&n){const e=a.$implicit;t.xp6(2),t.hij(" ",e.itemCode," "),t.xp6(3),t.hij(" ",e.itemName,""),t.xp6(4),t.hij(" ",e.unitType," "),t.xp6(2),t.hij(" ",e.quantity," "),t.xp6(2),t.hij(" ",t.xi3(14,6,e.unitPrice,"1.2")," "),t.xp6(3),t.hij(" ",t.xi3(17,9,e.totalAmount,"1.2")," ")}}function ya(n,a){1&n&&(t.TgZ(0,"table",5),t.TgZ(1,"tr"),t._UZ(2,"td",72),t.qZA(),t.qZA())}function Ua(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"div",1),t.TgZ(2,"table",2),t.TgZ(3,"tr"),t.TgZ(4,"td",3),t.YNc(5,Ca,1,1,"img",4),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"table",5),t.TgZ(7,"tr"),t.TgZ(8,"td",6),t.TgZ(9,"h4",7),t._uU(10),t.qZA(),t.TgZ(11,"h4",7),t._uU(12),t.qZA(),t._UZ(13,"span"),t.TgZ(14,"h4",7),t._uU(15," VAT NO : "),t.TgZ(16,"span",8),t._uU(17),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"td",9),t.TgZ(19,"span",10),t._uU(20),t.ALo(21,"translate"),t.qZA(),t._UZ(22,"br"),t.TgZ(23,"span",11),t._uU(24," DELIVERY NOTE \xa0 \xa0\xa0 "),t.qZA(),t.qZA(),t.TgZ(25,"td",12),t.TgZ(26,"h4",13),t._uU(27),t.qZA(),t.TgZ(28,"h4",13),t._uU(29),t.qZA(),t.TgZ(30,"h4",13),t._uU(31),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(32,"div",14),t.TgZ(33,"table",15),t.TgZ(34,"tr"),t.TgZ(35,"td",16),t.TgZ(36,"table",17),t.TgZ(37,"tr"),t.TgZ(38,"td",18),t._uU(39," Quotation # "),t.qZA(),t.TgZ(40,"td",19),t._uU(41),t.qZA(),t.TgZ(42,"td",20),t._uU(43," \u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629 "),t.qZA(),t.qZA(),t.TgZ(44,"tr"),t.TgZ(45,"td",18),t._uU(46," Service Month "),t.qZA(),t.TgZ(47,"td",19),t._uU(48),t.qZA(),t.TgZ(49,"td",20),t._uU(50," \u0634\u0647\u0631 \u0627\u0644\u0639\u0645\u0644 "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(51,"td",21),t.TgZ(52,"td",22),t.TgZ(53,"table",17),t.TgZ(54,"tr"),t.TgZ(55,"td",18),t._uU(56," Issue Date "),t.qZA(),t.TgZ(57,"td",19),t.TgZ(58,"label",23),t._uU(59),t.ALo(60,"date"),t.qZA(),t.qZA(),t.TgZ(61,"td",20),t._uU(62," \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0635\u062f\u0627\u0631 "),t.qZA(),t.qZA(),t.TgZ(63,"tr"),t.TgZ(64,"td",18),t._uU(65," Due Date "),t.qZA(),t.TgZ(66,"td",19),t.TgZ(67,"label",23),t._uU(68),t.ALo(69,"date"),t.qZA(),t.qZA(),t.TgZ(70,"td",20),t._uU(71," \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0633\u062a\u062d\u0642\u0627\u0642 "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(72,"div",24),t.TgZ(73,"table",17),t.TgZ(74,"tr"),t.TgZ(75,"td",25),t._uU(76," Address "),t.qZA(),t.TgZ(77,"td",26),t._uU(78),t.qZA(),t.TgZ(79,"td",27),t._uU(80),t.ALo(81,"translate"),t.qZA(),t.TgZ(82,"td",28),t._uU(83),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(84,"div",24),t.TgZ(85,"table",17),t.TgZ(86,"tr"),t.TgZ(87,"td",29),t._uU(88),t.qZA(),t.TgZ(89,"td",30),t._uU(90," \u0627\u0644\u0639\u0646\u0648\u0627\u0646 "),t.qZA(),t.TgZ(91,"td",31),t._uU(92),t.qZA(),t.TgZ(93,"td",32),t._uU(94," \u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064a\u0644 "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(95,"div",24),t.TgZ(96,"table",17),t.TgZ(97,"tr"),t.TgZ(98,"td",33),t._uU(99," \u0634\u0631\u0648\u0637 \u0627\u0644\u062f\u0641\u0639 "),t.TgZ(100,"span",34),t._uU(101," Payment Terms "),t.qZA(),t.qZA(),t.TgZ(102,"td",35),t._uU(103),t.TgZ(104,"span",34),t._uU(105,"Delivery Number"),t.qZA(),t.qZA(),t.TgZ(106,"td",19),t._uU(107," \u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064a\u0628\u064a \u0644\u0644\u0639\u0645\u064a\u0644 \xa0 \xa0 "),t.TgZ(108,"span",34),t._uU(109),t.ALo(110,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(111,"tr"),t.TgZ(112,"td",33),t._uU(113),t.qZA(),t.TgZ(114,"td",35),t._uU(115),t.qZA(),t.TgZ(116,"td",19),t._uU(117),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(118,"div",36),t.TgZ(119,"table",17),t.TgZ(120,"tr"),t.TgZ(121,"th",40),t.TgZ(122,"div",38),t._uU(123,"\u0631\u0642\u0645 \u0627\u0644\u0635\u0646\u0641"),t.qZA(),t.TgZ(124,"div",39),t._uU(125,"Item"),t.qZA(),t.qZA(),t.TgZ(126,"th",68),t.TgZ(127,"div",38),t._uU(128),t.ALo(129,"translate"),t.qZA(),t.TgZ(130,"div",39),t._uU(131,"Item Details"),t.qZA(),t.qZA(),t.TgZ(132,"th",40),t.TgZ(133,"div",38),t._uU(134),t.ALo(135,"translate"),t.qZA(),t.TgZ(136,"div",39),t._uU(137,"Unit"),t.qZA(),t.qZA(),t.TgZ(138,"th",40),t.TgZ(139,"div",38),t._uU(140," \u0627\u0644\u0643\u0645\u064a\u0629"),t.qZA(),t.TgZ(141,"div",39),t._uU(142,"Qty"),t.qZA(),t.qZA(),t.TgZ(143,"th",40),t.TgZ(144,"div",38),t._uU(145,"\u0633\u0639\u0631 \u0627\u0644\u0648\u062d\u062f\u0629"),t.qZA(),t.TgZ(146,"div",39),t._uU(147,"Unit Price"),t.qZA(),t.qZA(),t.TgZ(148,"th",68),t.TgZ(149,"div",38),t._uU(150,"\u0627\u0644\u0633\u0639\u0631 \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a"),t.qZA(),t.TgZ(151,"div",39),t._uU(152,"Total Price"),t.qZA(),t.qZA(),t.qZA(),t.YNc(153,Sa,18,12,"tr",41),t.TgZ(154,"tr"),t.TgZ(155,"td",69),t.TgZ(156,"div",43),t._uU(157),t.qZA(),t.TgZ(158,"div",44),t._uU(159),t.qZA(),t.TgZ(160,"div",45),t._UZ(161,"img",46),t.qZA(),t.qZA(),t.TgZ(162,"td",47),t.TgZ(163,"div",48),t._uU(164),t.ALo(165,"translate"),t.qZA(),t.TgZ(166,"div",49),t._uU(167,"Total"),t.qZA(),t.qZA(),t.TgZ(168,"td",50),t._uU(169),t.ALo(170,"number"),t.qZA(),t.qZA(),t.TgZ(171,"tr"),t.TgZ(172,"td",47),t.TgZ(173,"div",48),t._uU(174),t.ALo(175,"translate"),t.qZA(),t.TgZ(176,"div",49),t._uU(177,"Discount"),t.qZA(),t.qZA(),t.TgZ(178,"td",50),t._uU(179),t.ALo(180,"number"),t.qZA(),t.qZA(),t.TgZ(181,"tr"),t.TgZ(182,"td",47),t.TgZ(183,"div",48),t._uU(184," \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a \u063a\u064a\u0631 \u0634\u0627\u0645\u0644 \u0627\u0644\u0636\u0631\u064a\u0628\u0629"),t.qZA(),t.TgZ(185,"div",49),t._uU(186,"Subtotal Excl. VAT"),t.qZA(),t.qZA(),t.TgZ(187,"td",50),t._uU(188),t.ALo(189,"number"),t.qZA(),t.qZA(),t.TgZ(190,"tr"),t.TgZ(191,"td",47),t.TgZ(192,"div",48),t._UZ(193,"span",49),t._uU(194," \u0636\u0631\u064a\u0628\u0629 \u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0645\u0636\u0627\u0641\u0629 "),t.qZA(),t.TgZ(195,"div",49),t._uU(196,"VAT Amount"),t.qZA(),t.qZA(),t.TgZ(197,"td",50),t._uU(198),t.ALo(199,"number"),t.qZA(),t.qZA(),t.TgZ(200,"tr"),t.TgZ(201,"td",70),t.TgZ(202,"table",52),t.TgZ(203,"tr"),t.TgZ(204,"td",53),t.TgZ(205,"div",54),t._uU(206,":Bank Account Details"),t.qZA(),t.TgZ(207,"div",54),t._uU(208),t.qZA(),t.TgZ(209,"div",54),t._uU(210),t.qZA(),t.TgZ(211,"div",54),t._uU(212),t.qZA(),t._UZ(213,"div",54),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(214,"td",55),t.TgZ(215,"div",56),t._uU(216," \u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a \u0634\u0627\u0645\u0644 \u0627\u0644\u0636\u0631\u064a\u0628\u0629"),t.qZA(),t.TgZ(217,"div",57),t._uU(218,"Total Incl. VAT"),t.qZA(),t.qZA(),t.TgZ(219,"td",58),t._uU(220," SAR "),t.TgZ(221,"span",59),t._uU(222),t.ALo(223,"number"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(224,"tr"),t.TgZ(225,"td",47),t.TgZ(226,"div",48),t._uU(227,"\u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u0645\u062f\u0641\u0648\u0639"),t.qZA(),t.TgZ(228,"div",49),t._uU(229,"Amount Paid"),t.qZA(),t.qZA(),t.TgZ(230,"td",50),t._uU(231),t.ALo(232,"number"),t.qZA(),t.qZA(),t.TgZ(233,"tr"),t.TgZ(234,"td",55),t.TgZ(235,"div",56),t._uU(236,"\u0627\u0644\u0631\u0635\u064a\u062f \u0627\u0644\u0645\u0633\u062a\u062d\u0642"),t.qZA(),t.TgZ(237,"div",57),t._uU(238,"Balance Due "),t.qZA(),t.qZA(),t.TgZ(239,"td",58),t._uU(240),t.ALo(241,"number"),t.qZA(),t.qZA(),t.qZA(),t.YNc(242,ya,3,0,"table",60),t.qZA(),t.qZA(),t.BQk()),2&n){const e=t.oxw();t.xp6(4),t.Akn(e.isSavePDF?"height : 0px ":"height:150px"),t.xp6(1),t.Q6J("ngIf",e.isSavePDF),t.xp6(5),t.hij(" ",e.company.companyName," "),t.xp6(2),t.hij(" ",e.company.companyAddress," "),t.xp6(5),t.hij("",e.company.vatNumber," "),t.xp6(3),t.hij(" ",t.lcZ(21,46,"DELIVERY_NOTE")," "),t.xp6(7),t.hij(" ",e.company.companyName," "),t.xp6(2),t.hij(" ",e.company.companyAddress," "),t.xp6(2),t.hij(" ",e.company.vatNumber," : \u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064a\u0628\u064a "),t.xp6(10),t.AsE(" ",e.deliveryNote.quotationNumber,"/",e.deliveryNote.revisedNumber," "),t.xp6(7),t.hij(" ",e.deliveryNote.serviceDate1," "),t.xp6(11),t.hij(" ",t.xi3(60,48,e.deliveryNote.quotationDate,"dd-MM-yyyy")," "),t.xp6(9),t.Oqu(t.xi3(69,51,e.deliveryNote.quotationDueDate,"dd-MM-yyyy")),t.xp6(10),t.hij(" ",e.customer.custAddress1," "),t.xp6(2),t.AsE(" ",e.deliveryNote.customerName?"Walk-In / \u0641\u064a \u0627\u0644\u0645\u0648\u0642\u0639 ":""," ",t.lcZ(81,54,"Customer_Name")," "),t.xp6(3),t.hij(" ",e.customer.custName," "),t.xp6(5),t.hij(" ",e.customer.custAddress1," "),t.xp6(4),t.hij(" ",e.customer.custArbName," "),t.xp6(11),t.hij(" ",e.Delivery_Number," \xa0 \xa0 "),t.xp6(6),t.Oqu(t.lcZ(110,56,"Customer_VAT_No")),t.xp6(4),t.hij(" ",e.deliveryNote.paymentTermId," "),t.xp6(2),t.AsE(" ",e.deliveryNote.isConvertedFromQuotation?"Q":"O","",e.deliveryNote.deliveryNumber," "),t.xp6(2),t.hij(" ",e.customer.vatNumber," "),t.xp6(11),t.hij(" ",t.lcZ(129,58,"Item_Details"),""),t.xp6(6),t.Oqu(t.lcZ(135,60,"Unit")),t.xp6(19),t.Q6J("ngForOf",e.tableData),t.xp6(4),t.hij(" \u0627\u0644\u0645\u062c\u0645\u0648\u0639 \u0643\u062a\u0627\u0628\u0629 : ",e.totalAmountAr," "),t.xp6(2),t.hij(" Total In Words: ",e.totalAmountEn," "),t.xp6(2),t.s9C("src",e.deliveryNote.qrCode,t.LSH),t.xp6(3),t.hij(" ",t.lcZ(165,62,"Total"),""),t.xp6(5),t.hij(" SAR ",t.xi3(170,64,e.grandTotalData.total,"3.2-5")," "),t.xp6(5),t.hij(" ",t.lcZ(175,67,"Discount"),""),t.xp6(5),t.hij(" SAR ",t.xi3(180,69,e.grandTotalData.discAmnt+e.grandTotalData.footerDiscAmnt,"3.2-5")," "),t.xp6(9),t.hij(" SAR ",t.xi3(189,72,e.grandTotalData.totalBeforeVat,"3.2-5")," "),t.xp6(10),t.hij(" SAR ",t.xi3(199,75,e.grandTotalData.vatAmnt,"3.2-5")," "),t.xp6(10),t.hij(" Account Name: ",e.company.companyName,""),t.xp6(2),t.hij("Bank Name: ",e.bank.branchName,""),t.xp6(2),t.hij(" Address: ",e.bank.branchAddress,""),t.xp6(10),t.Oqu(t.xi3(223,78,e.grandTotalData.invTotalAmnt,"3.2-5")),t.xp6(9),t.hij(" SAR ",t.xi3(232,81,e.deliveryNote.paidAmount,"3.2-5")," "),t.xp6(9),t.hij(" SAR ",t.xi3(241,84,e.grandTotalData.invTotalAmnt-e.deliveryNote.paidAmount,"3.2-5")," "),t.xp6(2),t.Q6J("ngIf",e.isSavePDF)}}function ba(n,a){if(1&n&&t._UZ(0,"img",61),2&n){const e=t.oxw(2);t.s9C("src",e.company.logoURL,t.LSH)}}function La(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"tr"),t.TgZ(2,"td",75),t._uU(3),t.qZA(),t.TgZ(4,"td",71),t._uU(5),t.qZA(),t._UZ(6,"td",71),t.TgZ(7,"td",71),t._uU(8),t.qZA(),t.TgZ(9,"td",71),t._uU(10),t.qZA(),t.TgZ(11,"td",71),t._uU(12),t.qZA(),t.qZA(),t.TgZ(13,"tr"),t.TgZ(14,"td",71),t.TgZ(15,"b",63),t._uU(16),t._UZ(17,"br"),t.qZA(),t.qZA(),t._UZ(18,"td",71),t.TgZ(19,"td",76),t.TgZ(20,"div",65),t._uU(21),t.qZA(),t.qZA(),t.TgZ(22,"td",71),t._uU(23),t.ALo(24,"number"),t.qZA(),t.TgZ(25,"td",71),t._uU(26),t.ALo(27,"number"),t.qZA(),t.qZA(),t.BQk()),2&n){const e=a.$implicit,i=a.index;t.xp6(3),t.Oqu(i+1),t.xp6(2),t.hij(" ",e.itemCode," "),t.xp6(3),t.hij(" ",e.quantity," "),t.xp6(2),t.hij(" ",e.unitPrice," "),t.xp6(2),t.hij(" ",e.totalAmount," "),t.xp6(4),t.hij(" ",e.itemName,""),t.xp6(5),t.hij(" ",e.unitType," "),t.xp6(2),t.hij(" ",t.xi3(24,9,e.calUnitTotalDiscPrice,"1.2")," "),t.xp6(3),t.hij(" ",t.xi3(27,12,e.calSubTotal,"1.2")," ")}}function Ia(n,a){1&n&&(t.TgZ(0,"table",5),t.TgZ(1,"tr"),t._UZ(2,"td",77),t.qZA(),t.qZA())}function Na(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"div",1),t.TgZ(2,"table",2),t.TgZ(3,"tr"),t.TgZ(4,"td",3),t.YNc(5,ba,1,1,"img",4),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"table",5),t.TgZ(7,"tr"),t.TgZ(8,"td",6),t.TgZ(9,"h4",7),t._uU(10),t.qZA(),t.TgZ(11,"h4",7),t._uU(12),t.qZA(),t._UZ(13,"span"),t.TgZ(14,"h4",7),t._uU(15," VAT NO : "),t.TgZ(16,"span",8),t._uU(17),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"td",9),t.TgZ(19,"span",10),t._uU(20),t.ALo(21,"translate"),t.qZA(),t._UZ(22,"br"),t.TgZ(23,"span",11),t._uU(24," DELIVERY NOTE \xa0 \xa0\xa0 "),t.qZA(),t.qZA(),t.TgZ(25,"td",12),t.TgZ(26,"h4",13),t._uU(27),t.qZA(),t.TgZ(28,"h4",13),t._uU(29),t.qZA(),t.TgZ(30,"h4",13),t._uU(31),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(32,"div",14),t.TgZ(33,"table",15),t.TgZ(34,"tr"),t.TgZ(35,"td",16),t.TgZ(36,"table",17),t.TgZ(37,"tr"),t.TgZ(38,"td",18),t._uU(39," Quotation # "),t.qZA(),t.TgZ(40,"td",19),t._uU(41),t.qZA(),t.TgZ(42,"td",20),t._uU(43," \u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629 "),t.qZA(),t.qZA(),t.TgZ(44,"tr"),t.TgZ(45,"td",18),t._uU(46," Service Month "),t.qZA(),t.TgZ(47,"td",19),t._uU(48),t.qZA(),t.TgZ(49,"td",20),t._uU(50," \u0634\u0647\u0631 \u0627\u0644\u0639\u0645\u0644 "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(51,"td",21),t.TgZ(52,"td",22),t.TgZ(53,"table",17),t.TgZ(54,"tr"),t.TgZ(55,"td",18),t._uU(56," Issue Date "),t.qZA(),t.TgZ(57,"td",19),t.TgZ(58,"label",23),t._uU(59),t.ALo(60,"date"),t.qZA(),t.qZA(),t.TgZ(61,"td",20),t._uU(62," \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0635\u062f\u0627\u0631 "),t.qZA(),t.qZA(),t.TgZ(63,"tr"),t.TgZ(64,"td",18),t._uU(65," Due Date "),t.qZA(),t.TgZ(66,"td",19),t.TgZ(67,"label",23),t._uU(68),t.ALo(69,"date"),t.qZA(),t.qZA(),t.TgZ(70,"td",20),t._uU(71," \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0633\u062a\u062d\u0642\u0627\u0642 "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(72,"div",24),t.TgZ(73,"table",17),t.TgZ(74,"tr"),t.TgZ(75,"td",25),t._uU(76," Address "),t.qZA(),t.TgZ(77,"td",26),t._uU(78),t.qZA(),t.TgZ(79,"td",27),t._uU(80),t.ALo(81,"translate"),t.qZA(),t.TgZ(82,"td",28),t._uU(83),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(84,"div",24),t.TgZ(85,"table",17),t.TgZ(86,"tr"),t.TgZ(87,"td",29),t._uU(88),t.qZA(),t.TgZ(89,"td",30),t._uU(90," \u0627\u0644\u0639\u0646\u0648\u0627\u0646 "),t.qZA(),t.TgZ(91,"td",31),t._uU(92),t.qZA(),t.TgZ(93,"td",32),t._uU(94," \u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064a\u0644 "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(95,"div",24),t.TgZ(96,"table",17),t.TgZ(97,"tr"),t.TgZ(98,"td",33),t._uU(99," \u0634\u0631\u0648\u0637 \u0627\u0644\u062f\u0641\u0639 "),t.TgZ(100,"span",34),t._uU(101," Payment Terms "),t.qZA(),t.qZA(),t.TgZ(102,"td",35),t._uU(103," \u0631\u0642\u0645 \u0623\u0645\u0631 \u0627\u0644\u0634\u0631\u0627\u0621 \xa0 \xa0 "),t.TgZ(104,"span",34),t._uU(105,"P.O. No."),t.qZA(),t.qZA(),t.TgZ(106,"td",19),t._uU(107," \u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064a\u0628\u064a \u0644\u0644\u0639\u0645\u064a\u0644 \xa0 \xa0 "),t.TgZ(108,"span",34),t._uU(109),t.ALo(110,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(111,"tr"),t.TgZ(112,"td",33),t._uU(113),t.qZA(),t.TgZ(114,"td",35),t._uU(115),t.qZA(),t.TgZ(116,"td",19),t._uU(117),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(118,"div",36),t.TgZ(119,"table",17),t.TgZ(120,"tr"),t.TgZ(121,"th",73),t._uU(122," S.No "),t.qZA(),t.TgZ(123,"th",68),t.TgZ(124,"div",38),t._uU(125,"\u0631\u0642\u0645 \u0627\u0644\u0635\u0646\u0641"),t.qZA(),t.TgZ(126,"div",39),t._uU(127,"Item"),t.qZA(),t.qZA(),t.TgZ(128,"th",33),t._uU(129),t.ALo(130,"translate"),t.qZA(),t.TgZ(131,"th",40),t.TgZ(132,"div",38),t._uU(133," \u0627\u0644\u0643\u0645\u064a\u0629"),t.qZA(),t.TgZ(134,"div",39),t._uU(135,"Qty"),t.qZA(),t.qZA(),t.TgZ(136,"th",40),t.TgZ(137,"div",38),t._uU(138),t.ALo(139,"translate"),t.qZA(),t.TgZ(140,"div",39),t._uU(141,"Cost"),t.qZA(),t.qZA(),t.TgZ(142,"th",40),t.TgZ(143,"div",38),t._uU(144),t.ALo(145,"translate"),t.qZA(),t.TgZ(146,"div",39),t._uU(147,"Total"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(148,"tr"),t.TgZ(149,"th",19),t.TgZ(150,"div",38),t._uU(151),t.ALo(152,"translate"),t.qZA(),t.TgZ(153,"div",39),t._uU(154,"Item Details"),t.qZA(),t.qZA(),t.TgZ(155,"th",19),t._uU(156," Remarks "),t.qZA(),t.TgZ(157,"th",19),t.TgZ(158,"div",38),t._uU(159),t.ALo(160,"translate"),t.qZA(),t.TgZ(161,"div",39),t._uU(162,"Unit"),t.qZA(),t.qZA(),t.TgZ(163,"th",19),t.TgZ(164,"div",38),t._uU(165),t.ALo(166,"translate"),t.qZA(),t.TgZ(167,"div",39),t._uU(168,"Net Cost"),t.qZA(),t.qZA(),t.TgZ(169,"th",19),t.TgZ(170,"div",38),t._uU(171),t.ALo(172,"translate"),t.qZA(),t.TgZ(173,"div",39),t._uU(174,"Net Total"),t.qZA(),t.qZA(),t.qZA(),t.YNc(175,La,28,15,"ng-container",41),t.TgZ(176,"tr"),t.TgZ(177,"td",69),t.TgZ(178,"div",43),t._uU(179),t.qZA(),t.TgZ(180,"div",44),t._uU(181),t.qZA(),t.TgZ(182,"div",45),t._UZ(183,"img",46),t.qZA(),t.qZA(),t.TgZ(184,"td",47),t.TgZ(185,"div",48),t._uU(186),t.ALo(187,"translate"),t.qZA(),t.TgZ(188,"div",49),t._uU(189,"Total"),t.qZA(),t.qZA(),t.TgZ(190,"td",50),t._uU(191),t.ALo(192,"number"),t.qZA(),t.qZA(),t.TgZ(193,"tr"),t.TgZ(194,"td",47),t.TgZ(195,"div",48),t._uU(196),t.ALo(197,"translate"),t.qZA(),t.TgZ(198,"div",49),t._uU(199,"Discount"),t.qZA(),t.qZA(),t.TgZ(200,"td",50),t._uU(201),t.ALo(202,"number"),t.qZA(),t.qZA(),t.TgZ(203,"tr"),t.TgZ(204,"td",47),t.TgZ(205,"div",48),t._uU(206," \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a \u063a\u064a\u0631 \u0634\u0627\u0645\u0644 \u0627\u0644\u0636\u0631\u064a\u0628\u0629"),t.qZA(),t.TgZ(207,"div",49),t._uU(208,"Subtotal Excl. VAT"),t.qZA(),t.qZA(),t.TgZ(209,"td",50),t._uU(210),t.ALo(211,"number"),t.qZA(),t.qZA(),t.TgZ(212,"tr"),t.TgZ(213,"td",47),t.TgZ(214,"div",48),t._UZ(215,"span",49),t._uU(216," \u0636\u0631\u064a\u0628\u0629 \u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0645\u0636\u0627\u0641\u0629 "),t.qZA(),t.TgZ(217,"div",49),t._uU(218,"VAT Amount"),t.qZA(),t.qZA(),t.TgZ(219,"td",50),t._uU(220),t.ALo(221,"number"),t.qZA(),t.qZA(),t.TgZ(222,"tr"),t.TgZ(223,"td",74),t.TgZ(224,"table",52),t.TgZ(225,"tr"),t.TgZ(226,"td",53),t.TgZ(227,"div",54),t._uU(228,":Bank Account Details"),t.qZA(),t.TgZ(229,"div",54),t._uU(230),t.qZA(),t.TgZ(231,"div",54),t._uU(232),t.qZA(),t.TgZ(233,"div",54),t._uU(234),t.qZA(),t._UZ(235,"div",54),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(236,"td",55),t.TgZ(237,"div",56),t._uU(238," \u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a \u0634\u0627\u0645\u0644 \u0627\u0644\u0636\u0631\u064a\u0628\u0629"),t.qZA(),t.TgZ(239,"div",57),t._uU(240,"Total Incl. VAT"),t.qZA(),t.qZA(),t.TgZ(241,"td",58),t._uU(242," SAR "),t.TgZ(243,"span",59),t._uU(244),t.ALo(245,"number"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(246,"tr"),t.TgZ(247,"td",47),t.TgZ(248,"div",48),t._uU(249,"\u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u0645\u062f\u0641\u0648\u0639"),t.qZA(),t.TgZ(250,"div",49),t._uU(251,"Amount Paid"),t.qZA(),t.qZA(),t.TgZ(252,"td",50),t._uU(253),t.ALo(254,"number"),t.qZA(),t.qZA(),t.TgZ(255,"tr"),t.TgZ(256,"td",55),t.TgZ(257,"div",56),t._uU(258,"\u0627\u0644\u0631\u0635\u064a\u062f \u0627\u0644\u0645\u0633\u062a\u062d\u0642"),t.qZA(),t.TgZ(259,"div",57),t._uU(260,"Balance Due "),t.qZA(),t.qZA(),t.TgZ(261,"td",58),t._uU(262),t.ALo(263,"number"),t.qZA(),t.qZA(),t.qZA(),t.YNc(264,Ia,3,0,"table",60),t.qZA(),t.qZA(),t.BQk()),2&n){const e=t.oxw();t.xp6(4),t.Akn(e.isSavePDF?"height : 0px ":"height:150px"),t.xp6(1),t.Q6J("ngIf",e.isSavePDF),t.xp6(5),t.hij(" ",e.company.companyName," "),t.xp6(2),t.hij(" ",e.company.companyAddress," "),t.xp6(5),t.hij("",e.company.vatNumber," "),t.xp6(3),t.hij(" ",t.lcZ(21,48,"DELIVERY_NOTE")," "),t.xp6(7),t.hij(" ",e.company.companyName," "),t.xp6(2),t.hij(" ",e.company.companyAddress," "),t.xp6(2),t.hij(" ",e.company.vatNumber," : \u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064a\u0628\u064a "),t.xp6(10),t.hij(" ",e.deliveryNote.quotationNumber," "),t.xp6(7),t.hij(" ",e.deliveryNote.serviceDate1," "),t.xp6(11),t.hij(" ",t.xi3(60,50,e.deliveryNote.quotationDate,"dd-MM-yyyy")," "),t.xp6(9),t.Oqu(t.xi3(69,53,e.deliveryNote.quotationDueDate,"dd-MM-yyyy")),t.xp6(10),t.hij(" ",e.customer.custAddress1," "),t.xp6(2),t.AsE(" ",e.deliveryNote.customerName?"Walk-In / \u0641\u064a \u0627\u0644\u0645\u0648\u0642\u0639 ":""," ",t.lcZ(81,56,"Customer_Name")," "),t.xp6(3),t.hij(" ",e.customer.custName," "),t.xp6(5),t.hij(" ",e.customer.custAddress1," "),t.xp6(4),t.hij(" ",e.customer.custArbName," "),t.xp6(17),t.Oqu(t.lcZ(110,58,"Customer_VAT_No")),t.xp6(4),t.hij(" ",e.deliveryNote.paymentTermId," "),t.xp6(2),t.hij(" ",e.deliveryNote.quotationRefNumber," "),t.xp6(2),t.hij(" ",e.customer.vatNumber," "),t.xp6(12),t.hij(" ",t.lcZ(130,60,"Remarks")," "),t.xp6(9),t.Oqu(t.lcZ(139,62,"Cost")),t.xp6(6),t.Oqu(t.lcZ(145,64,"Total")),t.xp6(7),t.hij(" ",t.lcZ(152,66,"Item_Details"),""),t.xp6(8),t.Oqu(t.lcZ(160,68,"Unit")),t.xp6(6),t.Oqu(t.lcZ(166,70,"Net_Cost")),t.xp6(6),t.Oqu(t.lcZ(172,72,"Net_Total")),t.xp6(4),t.Q6J("ngForOf",e.tableData),t.xp6(4),t.hij(" \u0627\u0644\u0645\u062c\u0645\u0648\u0639 \u0643\u062a\u0627\u0628\u0629 : ",e.totalAmountAr," "),t.xp6(2),t.hij(" Total In Words: ",e.totalAmountEn," "),t.xp6(2),t.s9C("src",e.deliveryNote.qrCode,t.LSH),t.xp6(3),t.hij(" ",t.lcZ(187,74,"Total"),""),t.xp6(5),t.hij(" SAR ",t.xi3(192,76,e.grandTotalData.total,"3.2-5")," "),t.xp6(5),t.hij(" ",t.lcZ(197,79,"Discount"),""),t.xp6(5),t.hij(" SAR ",t.xi3(202,81,e.grandTotalData.discAmnt+e.grandTotalData.footerDiscAmnt,"3.2-5")," "),t.xp6(9),t.hij(" SAR ",t.xi3(211,84,e.grandTotalData.totalBeforeVat,"3.2-5")," "),t.xp6(10),t.hij(" SAR ",t.xi3(221,87,e.grandTotalData.vatAmnt,"3.2-5")," "),t.xp6(10),t.hij(" Account Name: ",e.company.companyName,""),t.xp6(2),t.hij("Bank Name: ",e.bank.branchName,""),t.xp6(2),t.hij("Address :",e.bank.branchAddress," "),t.xp6(10),t.Oqu(t.xi3(245,90,e.grandTotalData.invTotalAmnt,"3.2-5")),t.xp6(9),t.hij(" SAR ",t.xi3(254,93,e.deliveryNote.paidAmount,"3.2-5")," "),t.xp6(9),t.hij(" SAR ",t.xi3(263,96,e.grandTotalData.invTotalAmnt-e.deliveryNote.paidAmount,"3.2-5")," "),t.xp6(2),t.Q6J("ngIf",e.isSavePDF)}}let wa=(()=>{class n{constructor(){this.items=[],this.totalAmountAr="",this.totalAmountEn="",this.footerDiscount=0,this.tableData=[],this.grandTotalData={total:0,discAmnt:0,footerDiscAmnt:0,vatAmnt:0,invTotalAmnt:0},this.isSavePDF=!1,this.format="format1"}ngOnChanges(e){this.res&&(this.totalAmountAr=this.res.totalAmountAr,this.totalAmountEn=this.res.totalAmountEn,this.company=this.res.company,this.customer=this.res.customer,this.bank=this.res.bankDetails,this.deliveryNote=this.res.deliveryNoteHead,this.items=this.res.deliveryNoteItems,this.footerDiscount=this.deliveryNote.footerDiscount,console.log(this.res),this.items.length>0&&(this.tableData=[],this.grandTotalData={total:0,discAmnt:0,footerDiscAmnt:0,vatAmnt:0,invTotalAmnt:0},this.items.forEach(i=>{let o=i;o.calTotal=i.quantity*o.unitPrice*1,o.calDiscAmnt=o.calTotal*(o.discount/100),o.calFooterDiscAmnt=o.calTotal*(1-o.discount/100)*(this.footerDiscount/100),o.calVatAmnt=o.taxTariffPercentage/100*(o.calTotal-o.calDiscAmnt-o.calFooterDiscAmnt),o.calInvAmnt=o.calTotal-o.calDiscAmnt-o.calFooterDiscAmnt+o.calVatAmnt,o.calUnitDiscPrice=o.unitPrice*(o.discount/100),o.calUnitFooterDiscPrice=o.unitPrice*(o.footerDiscount/100),o.calUnitTotalDiscPrice=o.unitPrice*(1-o.discount/100)*(1-this.footerDiscount/100),o.calSubTotal=o.calUnitTotalDiscPrice*o.quantity,this.grandTotalData.total+=o.calTotal,this.grandTotalData.discAmnt+=o.calDiscAmnt,this.grandTotalData.footerDiscAmnt+=o.calFooterDiscAmnt,this.grandTotalData.vatAmnt+=o.calVatAmnt,this.grandTotalData.invTotalAmnt+=o.calInvAmnt,this.grandTotalData.totalBeforeVat=this.grandTotalData.total-this.grandTotalData.discAmnt-this.grandTotalData.footerDiscAmnt,this.grandTotalData.totalBeforeFooterDis=this.grandTotalData.total-this.grandTotalData.discAmnt,this.tableData.push(o)}),console.log(this.tableData),console.log(this.grandTotalData)))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-snddeliverynoteviewar"]],inputs:{res:"res",isSavePDF:"isSavePDF",format:"format"},features:[t.TTD],decls:4,vars:3,consts:[[4,"ngIf"],["id","printcontainer",1,"container-fluid","deliveryNote-container","print-container",2,"width","850px","margin","auto","padding-top","150px !important","border","1px solid #ccc","border-radius","10px"],["border","0","cellpadding","0","cellspacing","0","width","100%",1,"ur_tablestyle",2,"width","100%","padding-bottom","5px"],["colspan","5",2,"text-align","center","padding-bottom","30px"],["alt","","style","width:200px;height:150px;",3,"src",4,"ngIf"],["border","0","cellpadding","0","cellspacing","0","width","100%",1,"ur_tablestyle",2,"width","100%"],[1,"table_right",2,"width","35%"],[2,"font-size","0.875rem !important","color","#0c2f54","font-family","'Poppins', sans-serif","font-weight","500","line-height","1.2","margin","0","padding-top","4px"],[2,"font-size","0.75rem !important","color","#0c2f54","font-family","'Poppins', sans-serif","font-weight","500","line-height","1.2","margin","0"],[2,"width","30%","text-align","center","vertical-align","middle"],[2,"font-size","1.75rem !important","color","#0c2f54","font-family","'Poppins', sans-serif","font-weight","500","line-height","1.2","margin","0"],[2,"font-size","1.3rem !important","color","#0c2f54","font-family","'Poppins', sans-serif","font-weight","500","line-height","1.2","margin","0"],[1,"table_left",2,"text-align","left","width","35%"],[2,"font-size","0.75rem !important","color","#0c2f54","font-family","'Poppins', sans-serif","font-weight","500","line-height","1.2","margin","0","padding-top","4px"],[2,"padding-top","10px","padding-bottom","5px"],["border","0","cellpadding","0","cellspacing","0","width","100%",2,"width","100%"],[2,"width","40%","text-align","center"],["border","0","cellpadding","0","cellspacing","0","width","100%",1,"custumtable",2,"width","100%"],[2,"border","2px solid #878787","border-left","2px solid #878787","padding","5px","width","33%","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","2px solid #878787","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","2px solid #878787","padding","5px","width","33%","text-align","center","font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"width","20%"],[2,"width","40%"],[1,"two"],[2,"padding-bottom","5px"],[2,"border","2px solid #878787","padding","5px","width","10%","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","2px solid #878787","padding","5px","width","22%","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","2px solid #878787","padding","5px","width","20%","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","2px solid #878787","padding","5px","text-align","left","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[1,"ur_left",2,"border","2px solid #878787","padding","5px","width","25%","text-align","right","font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","2px solid #878787","width","10%","padding","5px","text-align","center","font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[1,"ur_left",2,"border","2px solid #878787","padding","5px","text-align","right","font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","2px solid #878787","padding","5px","width","15%","text-align","center","font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"width","30%","border","2px solid #878787","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"padding","5px","text-align","right","font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","2px solid #878787","width","30%","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],["dir","rtl",2,"padding-bottom","5px"],[2,"width","10%","border","2px solid #878787","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"width","15%","border","2px solid #878787","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[4,"ngFor","ngForOf"],["rowspan","2","colspan","5",2,"border","2px solid #878787","padding","5px","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[1,"ur_right",2,"text-align","right","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[1,"ur_left",2,"text-align","left","font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[1,"ur_right"],["alt","QR Code",3,"src"],["colspan","2",1,"ur_right",2,"border","2px solid #878787","border-right","0","padding","5px","text-align","left","font-size","0.675rem !important","color","#706f6f","font-family","'Poppins', sans-serif","font-weight","500"],[2,"font-size","1rem !important","color","#706f6f","font-family","'Poppins', sans-serif","font-weight","500"],[2,"font-size","0.875rem !important","color","#706f6f","font-family","'Poppins', sans-serif","font-weight","500"],[1,"ur_left",2,"border","2px solid #878787","padding","5px","text-align","right","font-size","0.875rem !important","color","#706f6f","font-family","'Poppins', sans-serif","font-weight","500"],["rowspan","3","colspan","5",1,"ur_right",2,"border","2px solid #878787","padding","5px","font-size","0.675rem !important","color","#706f6f","font-family","'Poppins', sans-serif","font-weight","500","vertical-align","top"],["border","0",2,"width","100%"],["colspan","12",2,"text-align","left","padding","8px","border","none!important"],[2,"line-height","18px"],["colspan","2",1,"ur_right",2,"border","2px solid #878787","border-right","0","padding","5px","text-align","left","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[2,"font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[2,"font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[1,"ur_left",2,"border","2px solid #878787","padding","5px","text-align","right","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],["id","spnTotalInclVat"],["style","width:100%;","border","0","cellpadding","0","cellspacing","0","width","100%","class","ur_tablestyle",4,"ngIf"],["alt","",2,"width","200px","height","150px",3,"src"],[2,"width","10%","border","2px solid #878787","padding","5px","text-align","center","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"font-weight","600"],[1,"ur_right",2,"border","2px solid #878787","padding","5px","text-align","left","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"width","15%","border","2px solid #878787","padding","5px","text-align","center","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],["colspan","5"],[2,"width","20%","border","2px solid #878787","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],["rowspan","4","colspan","3",2,"border","2px solid #878787","padding","5px","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],["rowspan","3","colspan","3",1,"ur_right",2,"border","2px solid #878787","padding","5px","font-size","0.675rem !important","color","#706f6f","font-family","'Poppins', sans-serif","font-weight","500","vertical-align","top"],[2,"border","2px solid #878787","padding","5px","text-align","center","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],["colspan","3"],["rowspan","2",2,"width","5%","border","2px solid #878787","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],["rowspan","4","colspan","3",1,"ur_right",2,"border","2px solid #878787","padding","5px","font-size","0.675rem !important","color","#706f6f","font-family","'Poppins', sans-serif","font-weight","500","vertical-align","top"],["rowspan","2",2,"border","2px solid #878787","padding","5px","text-align","center","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[1,"ur_right",2,"border","2px solid #878787","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],["colspan","2"]],template:function(e,i){1&e&&(t._UZ(0,"br"),t.YNc(1,xa,232,65,"ng-container",0),t.YNc(2,Ua,243,87,"ng-container",0),t.YNc(3,Na,265,99,"ng-container",0)),2&e&&(t.xp6(1),t.Q6J("ngIf",i.items&&i.items.length>0&&"default"==i.format&&i.tableData.length==i.items.length),t.xp6(1),t.Q6J("ngIf",i.items&&i.items.length>0&&"format1"==i.format&&i.tableData.length==i.items.length),t.xp6(1),t.Q6J("ngIf",i.items&&i.items.length>0&&"format2"==i.format&&i.tableData.length==i.items.length))},directives:[d.O5,st.Lv,d.sg],pipes:[h.X$,d.uU,d.JJ],styles:["@media print {\n    div.print-container[_ngcontent-%COMP%] {\n      padding-top: 50px !important;\n      border: 1px solid red;\n    }\n  }\n\n  .customrow[_ngcontent-%COMP%] {\n    width: 850px;\n    margin: auto\n  }\n\n  .custumtable[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .custumtable[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n    border: 0.3px solid #d1d0d0 !important;\n  }\n\n  .custumtable[_ngcontent-%COMP%] {\n    border: 0.3px solid #d1d0d0 !important;\n  }\n\n  .custumtable_bottom[_ngcontent-%COMP%] {\n    border-top: 0px solid #878787 !important;\n  }\n\n    .custumtable_bottom[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .custumtable_bottom[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n      border-top: 0px solid #20b4e2 !important;\n      border-left: 0.5px solid #20b4e2 !important;\n      border-right: 0.5px solid #20b4e2 !important;\n      border-bottom: 0.5px solid #20b4e2 !important\n    }"]}),n})();function Da(n,a){if(1&n&&(t.TgZ(0,"option",10),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.s9C("value",e.text),t.xp6(1),t.Oqu(e.text)}}const Oa=function(){return{standalone:!0}};let Ma=(()=>{class n extends v{constructor(e,i,o,s,r){super(i),this.apiService=e,this.authService=i,this.utilService=o,this.dialogRef=s,this.notifyService=r,this.id=0,this.isSavePDF=!1,this.isArabic=!1,this.isLoading=!1,this.printFormats=[{text:"format1",value:"format1"},{text:"format2",value:"format2"},{text:"format3",value:"format3"},{text:"format4",value:"format4"},{text:"format5",value:"format5"},{text:"format6",value:"format6"},{text:"format7",value:"format7"},{text:"format8",value:"format8"},{text:"format9",value:"format9"},{text:"format10",value:"format10"}],this.format="format1"}ngOnInit(){this.id>0&&this.loadSalesView()}loadSalesView(){this.isLoading=!0,this.apiService.get("SndDeliveryNote/getSndDeliveryNoteReportById",this.id).subscribe(e=>{this.isLoading=!1,e&&(console.log(e),this.result=e,this.isArabic=this.authService.isArabic())})}closeModel(){this.dialogRef.close()}printInvoice(){this.isSavePDF=!1,this.openPrint()}openPrint(){const e=document.getElementById("printcontainer"),i=window.open("","","left=0,top=0,width=2000,height=1000,toolbar=0,scrollbars=0,status=0");setTimeout(()=>{i.document.write(e.innerHTML),i.document.close(),i.focus(),i.print(),i.close()},50)}saveAsPDF(){setTimeout(()=>{this.isSavePDF=!0,this.openPrint()},600)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x.s),t.Y36(T._),t.Y36(C.t),t.Y36(y.so),t.Y36(S.g))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-snddeliverynoteview"]],features:[t.qOj],decls:20,vars:11,consts:[["href","/assets/style_new.css","rel","stylesheet"],[1,"row"],[1,"col-md-12","col-lg-12"],[3,"click"],["type","button","aria-hidden","true",1,"",3,"click"],[3,"ngModel","ngModelOptions","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"isLoading"],[3,"res","isSavePDF","format"],[3,"value"]],template:function(e,i){1&e&&(t._UZ(0,"link",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"button",3),t.NdJ("click",function(){return i.printInvoice()}),t._uU(4,"Print"),t.qZA(),t._uU(5," \xa0 "),t.TgZ(6,"button",3),t.NdJ("click",function(){return i.saveAsPDF()}),t._uU(7,"Save As PDF"),t.qZA(),t._uU(8," \xa0 "),t.TgZ(9,"button",4),t.NdJ("click",function(){return i.closeModel()}),t._uU(10," Close"),t.qZA(),t._uU(11,"\xa0 "),t.TgZ(12,"select",5),t.NdJ("ngModelChange",function(s){return i.format=s}),t.TgZ(13,"option",6),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.YNc(16,Da,2,2,"option",7),t.qZA(),t.qZA(),t.qZA(),t._UZ(17,"br"),t._UZ(18,"spinner-loader",8),t._UZ(19,"app-snddeliverynoteviewar",9)),2&e&&(t.xp6(12),t.Q6J("ngModel",i.format)("ngModelOptions",t.DdM(10,Oa)),t.xp6(2),t.Oqu(t.lcZ(15,8,"Select_Format")),t.xp6(2),t.Q6J("ngForOf",i.printFormats),t.xp6(2),t.Q6J("isLoading",i.isLoading),t.xp6(1),t.Q6J("res",i.result)("isSavePDF",i.isSavePDF)("format",i.format))},directives:[l.EJ,l.JJ,l.On,l.YN,l.Kr,d.sg,b.r,wa],pipes:[h.X$],encapsulation:2}),n})();function ka(n,a){1&n&&(t.TgZ(0,"th",57),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Delivery_Number")," "))}function Qa(n,a){if(1&n&&(t.TgZ(0,"td",58),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e.deliveryNumber)}}function ja(n,a){1&n&&(t.TgZ(0,"th",57),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Sales_QuotationNumber")," "))}function Ra(n,a){if(1&n&&(t.TgZ(0,"td",58),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e.quotationNumber)}}function Ja(n,a){1&n&&(t.TgZ(0,"th",57),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Revised_Number")," "))}function Pa(n,a){if(1&n&&(t.TgZ(0,"td",58),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e.revisedNumber)}}function Ya(n,a){1&n&&(t.TgZ(0,"th",57),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Sales_Quotation_Date")," "))}function Fa(n,a){if(1&n&&(t.TgZ(0,"td",58),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.quotationDate,"dd/MM/yyyy"))}}function Ba(n,a){1&n&&(t.TgZ(0,"th",57),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Organization")," "))}function Ea(n,a){if(1&n&&(t.TgZ(0,"td",58),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e.companyName)}}function $a(n,a){1&n&&(t.TgZ(0,"th",57),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Quotation_Reference_Number")," "))}function Va(n,a){if(1&n&&(t.TgZ(0,"td",58),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e.quotationRefNumber)}}function za(n,a){1&n&&(t.TgZ(0,"th",57),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Store")," "))}function Wa(n,a){if(1&n&&(t.TgZ(0,"td",58),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e.warehouseName)}}function Ha(n,a){1&n&&(t.TgZ(0,"th",57),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Customer")," "))}function Ga(n,a){if(1&n&&(t.TgZ(0,"td",58),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e.customerName)}}function Xa(n,a){1&n&&(t.TgZ(0,"th",57),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Sales_Quotation_Amount")," (SAR) "))}function Ka(n,a){if(1&n&&(t.TgZ(0,"td",58),t._uU(1),t.ALo(2,"number"),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.totalAmount,"1.2"))}}function ts(n,a){1&n&&(t.TgZ(0,"th",57),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"LPO_Contract")," "))}function es(n,a){if(1&n&&(t.TgZ(0,"td",58),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e.lpoContract)}}function ns(n,a){1&n&&(t.TgZ(0,"th",57),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Payment_Terms")," "))}function is(n,a){if(1&n&&(t.TgZ(0,"td",58),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e.paymentTermId)}}function os(n,a){1&n&&(t.TgZ(0,"th",57),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Tax_Id_Number")," "))}function as(n,a){if(1&n&&(t.TgZ(0,"td",58),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e.taxIdNumber)}}function ss(n,a){1&n&&(t.TgZ(0,"th",57),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Delivery_Date")," "))}function rs(n,a){if(1&n&&(t.TgZ(0,"td",58),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.quotationDueDate,"dd/MM/yyyy"))}}function ls(n,a){1&n&&(t.TgZ(0,"th",59),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Actions")))}function us(n,a){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"span"),t.TgZ(2,"a",62),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw().checkStock(o)}),t.ALo(3,"translate"),t._UZ(4,"i",63),t.qZA(),t._uU(5," \xa0 "),t.qZA(),t.TgZ(6,"span"),t.TgZ(7,"a",62),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw().editDeliveryNote(o)}),t.ALo(8,"translate"),t._UZ(9,"i",64),t.qZA(),t._uU(10," \xa0 "),t.qZA(),t.TgZ(11,"span"),t.TgZ(12,"a",62),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw().convertToInvoice(o)}),t.ALo(13,"translate"),t._UZ(14,"i",65),t.qZA(),t._uU(15," \xa0 "),t.qZA(),t.BQk()}2&n&&(t.xp6(2),t.s9C("matTooltip",t.lcZ(3,3,"Check_Stock_Availability")),t.xp6(5),t.s9C("matTooltip",t.lcZ(8,5,"Edit_Qty")),t.xp6(5),t.s9C("matTooltip",t.lcZ(13,7,"Convert_To_Invoice")))}function cs(n,a){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"span"),t.TgZ(2,"a",62),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw().view(o)}),t.ALo(3,"translate"),t._UZ(4,"i",66),t.qZA(),t._uU(5," \xa0 "),t.qZA(),t.BQk()}2&n&&(t.xp6(2),t.s9C("matTooltip",t.lcZ(3,1,"View_Details")))}function ds(n,a){if(1&n&&(t.TgZ(0,"td",58),t.TgZ(1,"div"),t.ynx(2),t.TgZ(3,"span"),t._UZ(4,"i",60),t._uU(5," \xa0 "),t.qZA(),t.BQk(),t.YNc(6,us,16,9,"ng-container",61),t.YNc(7,cs,6,3,"ng-container",61),t.qZA(),t.qZA()),2&n){const e=a.$implicit,i=t.oxw();t.xp6(4),t.s9C("id",i.getStatusColor(e)),t.xp6(2),t.Q6J("ngIf",!e.isConvertedDeliveryNoteToInvoice&&!e.isVoid),t.xp6(1),t.Q6J("ngIf",e.isConvertedDeliveryNoteToInvoice&&!e.isVoid)}}function ps(n,a){1&n&&t._UZ(0,"tr",67)}function gs(n,a){1&n&&t._UZ(0,"tr",68)}let ms=(()=>{class n extends v{constructor(e,i,o,s,r,u,p,c,Z,U,N,R){super(r),this.fb=e,this.http=i,this.router=o,this.apiService=s,this.authService=r,this.utilService=u,this.sndService=p,this.translate=c,this.notifyService=Z,this.validationService=U,this.pageService=N,this.dialog=R,this.displayedColumns=["deliveryNumber","quotationNumber","revisedNumber","quotationDate","companyName","quotationRefNumber","warehouseName","customerName","totalAmount","lpoContract","paymentTermId","taxIdNumber","quotationDueDate","Actions"],this.totalItemsCount=0,this.searchValue="",this.sortingOrder="id desc",this.isLoading=!1,this.IsApproved=!1,this.statusId="",this.selectListType="",this.itemList=[],this.itemCode=0,this.isArab=!1}ngOnInit(){this.isArab=this.utilService.isArabic(),this.initialLoading()}refresh(){this.searchValue="",this.itemCode=0,this.sortingOrder="id desc",this.initialLoading(),document.getElementById("approvalList").value="",this.selectListType=""}initialLoading(){this.isLoading=!0,this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder)}onSortOrder(e){this.sortingOrder=e.active+" "+e.direction,this.totalItemsCount=0,this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder)}onPageSwitch(e){this.pageService.change(e),this.loadList(e.pageIndex,e.pageSize,this.searchValue,this.sortingOrder)}loadList(e,i,o,s,r=this.selectListType){var u;this.isLoading=!0,r=document.getElementById("approvalList").value,this.apiService.getPagination("SndDeliveryNote",this.utilService.getQueryString(e,i,o,s,r,this.statusId,null!==(u=this.itemCode)&&void 0!==u?u:0)).subscribe(c=>{this.isLoading=!1,this.data=new g.by(c.items),this.totalItemsCount=c.totalCount,setTimeout(()=>{this.paginator.pageIndex=e,this.paginator.length=this.totalItemsCount}),this.data.sort=this.sort,this.isLoading=!1},c=>this.utilService.ShowApiErrorMessage(c))}applyFilter(e,i){(e||i)&&(this.searchValue=e,this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder))}loadApprovals(e){this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder,e.target.value)}setStatus(e){this.statusId=`${e}`}openDialogManage(e=0,i,o="",s="",r,u={module:"00",action:"00act"},p=100){let c=this.sndService.openAutoWidthDialog(this.dialog,r);c.componentInstance.dbops=i,c.componentInstance.modalTitle=o,c.componentInstance.id=e,c.componentInstance.moduleFile=u,c.afterClosed().subscribe(Z=>{Z&&!0===Z&&this.initialLoading()})}openDialogManage2(e=0,i,o="",s="",r,u={module:"00",action:"00act"},p=100){let c=this.utilService.openDialogCongif(this.dialog,r);c.componentInstance.dbops=i,c.componentInstance.modalTitle=o,c.componentInstance.id=e,c.componentInstance.moduleFile=u,c.afterClosed().subscribe(Z=>{Z&&!0===Z&&this.initialLoading()})}editDeliveryNote(e){this.isLoading||this.openDialogManage(e.id,f.Oi.update,this.translate.instant("Edit_Delivery_Note"),"",Ta)}view(e){this.isLoading||this.openDialogManage2(e.id,f.Oi.create,"","",Ma,{action:"",module:""},100)}convertToInvoice(e){this.isLoading?this.notifyService.showError(this.translate.instant("Please_Wait")+"..."):this.openConfirmationDialog(f.Oi.create,"Are_You_Sure? Do You Want to Convert Delivery Note To Invoice?",F,{operation:"ConvertDeliverynoteToInvoice",id:e.id})}print(){}getStatusColor(e){return(null==e?void 0:e.isVoid)?"statusVoid":(null==e?void 0:e.isConvertedDeliveryNoteToInvoice)?"statusConvToInv":"statusOpen"}cancel(e){this.isLoading?this.notifyService.showError(this.translate.instant("Please_Wait")+"..."):this.openConfirmationDialog(f.Oi.create,"Are_You_Sure? Do You Want Delete?",F,{operation:"deleteDeliveryNote",id:e.id})}openConfirmationDialog(e,i,o,s){let r=this.sndService.confirmationDialog(this.dialog,o);r.componentInstance.dbops=e,r.componentInstance.modalTitle=i,r.componentInstance.InputData=s,r.afterClosed().subscribe(u=>{"true"==u?"deleteDeliveryNote"==s.operation?this.apiService.post("SndDeliveryNote/cancelSndDeliveryNote",{id:s.id}).subscribe(c=>{this.utilService.OkMessage(),this.ngOnInit()},c=>{console.error(c),this.utilService.ShowApiErrorMessage(c)}):"ConvertDeliverynoteToInvoice"==s.operation&&this.apiService.post("GenerateSndInvoice/convertDeliveryNoteToInvoiceByDeliveryNoteId",{id:s.id}).subscribe(c=>{this.utilService.OkMessage(),this.ngOnInit()},c=>{console.error(c),this.utilService.ShowApiErrorMessage(c)}):(console.log("False"),this.isLoading=!1)})}checkStock(e){this.openDialogManage3({id:e.id,source:"D"},it)}openDialogManage3(e,i){let o=this.sndService.openAutoWidthDialog(this.dialog,i);o.componentInstance.inputData=e,o.afterClosed().subscribe(s=>{})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.qu),t.Y36(j.eN),t.Y36(I.F0),t.Y36(x.s),t.Y36(T._),t.Y36(C.t),t.Y36(Y),t.Y36(h.sK),t.Y36(S.g),t.Y36(P.R),t.Y36(et.N),t.Y36(y.uw))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-snd-delivery-notes"]],viewQuery:function(e,i){if(1&e&&(t.Gf(Q.NW,7),t.Gf(L.YE,7)),2&e){let o;t.iGM(o=t.CRH())&&(i.paginator=o.first),t.iGM(o=t.CRH())&&(i.sort=o.first)}},features:[t.qOj],decls:124,vars:54,consts:[[1,"page-breadcrumb"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],[1,"container-fluid"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"row","pb-3"],[1,"col-md-3"],[1,"form-control",3,"placeholder","ngModel","ngModelChange"],[1,"col-md-4","arabicright"],[1,"btn","btn-primary",3,"click"],[1,"",3,"click"],[1,"btn","btn-primary","icon-refresh"],[1,"mr-sm-2"],["id","approvalList",1,"custom-select","mr-sm-2",3,"change"],["value",""],["value","open"],["value","convertedToInvoice"],["value","closed"],[1,"row","rowm0"],[1,"col-md-4","col-lg-4"],[1,"card-title","pt6"],[1,"col-md-4","col-lg-4","text-center"],[3,"isLoading"],[1,"cardtitle-divider"],[1,"example-table-container","table-responsive","pt-3"],["mat-table","","matSort","","matSortActive","Id","matSortDisableClear","","matSortDirection","desc",1,"table","table-bordered","no-wrap",3,"dataSource","matSortChange"],["matColumnDef","deliveryNumber"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","quotationNumber"],["matColumnDef","revisedNumber"],["matColumnDef","quotationDate"],["matColumnDef","companyName"],["matColumnDef","quotationRefNumber"],["matColumnDef","warehouseName"],["matColumnDef","customerName"],["matColumnDef","totalAmount"],["matColumnDef","lpoContract"],["matColumnDef","paymentTermId"],["matColumnDef","taxIdNumber"],["matColumnDef","quotationDueDate"],["matColumnDef","Actions","stickyEnd",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions","page"],["id","statusOpen",1,"fas","fa-circle"],["id","statusConvToInv",1,"fas","fa-circle"],["id","statusVoid",1,"fas","fa-circle"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[1,"fas","fa-circle",3,"id"],[4,"ngIf"],[1,"tableicons","pcursor",3,"matTooltip","click"],[1,"icon-question"],[1,"icon-note"],[1,"icon-action-redo"],[1,"icon-list"],["mat-header-row",""],["mat-row",""]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"nav",5),t.TgZ(8,"ol",6),t.TgZ(9,"li",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"li",8),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"div",9),t.TgZ(16,"div",1),t.TgZ(17,"div",10),t.TgZ(18,"div",11),t.TgZ(19,"div",12),t.TgZ(20,"div",13),t._UZ(21,"div",10),t.TgZ(22,"div",14),t.TgZ(23,"input",15),t.NdJ("ngModelChange",function(s){return i.searchValue=s}),t.ALo(24,"translate"),t.qZA(),t.qZA(),t.TgZ(25,"div",16),t.TgZ(26,"button",17),t.NdJ("click",function(){return i.applyFilter(i.searchValue,i.itemCode)}),t._uU(27),t.ALo(28,"translate"),t.qZA(),t._uU(29," \xa0 "),t.TgZ(30,"a",18),t.NdJ("click",function(){return i.refresh()}),t._UZ(31,"i",19),t.qZA(),t._uU(32," \xa0 "),t.TgZ(33,"button",17),t.NdJ("click",function(){return i.print()}),t._uU(34),t.ALo(35,"translate"),t.qZA(),t._uU(36," \xa0 "),t.qZA(),t.qZA(),t.TgZ(37,"div",13),t.TgZ(38,"div",14),t.TgZ(39,"label",20),t._uU(40),t.ALo(41,"translate"),t.qZA(),t.TgZ(42,"select",21),t.NdJ("change",function(s){return i.loadApprovals(s)}),t.TgZ(43,"option",22),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.TgZ(46,"option",23),t._uU(47),t.ALo(48,"translate"),t.qZA(),t.TgZ(49,"option",24),t._uU(50),t.ALo(51,"translate"),t.qZA(),t.TgZ(52,"option",25),t._uU(53),t.ALo(54,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(55,"div",26),t.TgZ(56,"div",27),t.TgZ(57,"h4",28),t._uU(58),t.ALo(59,"translate"),t.qZA(),t.qZA(),t.TgZ(60,"div",29),t._UZ(61,"spinner-loader",30),t.qZA(),t.qZA(),t._UZ(62,"div",31),t.TgZ(63,"div",32),t.ynx(64),t.TgZ(65,"table",33),t.NdJ("matSortChange",function(s){return i.onSortOrder(s)}),t.ynx(66,34),t.YNc(67,ka,3,3,"th",35),t.YNc(68,Qa,2,1,"td",36),t.BQk(),t.ynx(69,37),t.YNc(70,ja,3,3,"th",35),t.YNc(71,Ra,2,1,"td",36),t.BQk(),t.ynx(72,38),t.YNc(73,Ja,3,3,"th",35),t.YNc(74,Pa,2,1,"td",36),t.BQk(),t.ynx(75,39),t.YNc(76,Ya,3,3,"th",35),t.YNc(77,Fa,3,4,"td",36),t.BQk(),t.ynx(78,40),t.YNc(79,Ba,3,3,"th",35),t.YNc(80,Ea,2,1,"td",36),t.BQk(),t.ynx(81,41),t.YNc(82,$a,3,3,"th",35),t.YNc(83,Va,2,1,"td",36),t.BQk(),t.ynx(84,42),t.YNc(85,za,3,3,"th",35),t.YNc(86,Wa,2,1,"td",36),t.BQk(),t.ynx(87,43),t.YNc(88,Ha,3,3,"th",35),t.YNc(89,Ga,2,1,"td",36),t.BQk(),t.ynx(90,44),t.YNc(91,Xa,3,3,"th",35),t.YNc(92,Ka,3,4,"td",36),t.BQk(),t.ynx(93,45),t.YNc(94,ts,3,3,"th",35),t.YNc(95,es,2,1,"td",36),t.BQk(),t.ynx(96,46),t.YNc(97,ns,3,3,"th",35),t.YNc(98,is,2,1,"td",36),t.BQk(),t.ynx(99,47),t.YNc(100,os,3,3,"th",35),t.YNc(101,as,2,1,"td",36),t.BQk(),t.ynx(102,48),t.YNc(103,ss,3,3,"th",35),t.YNc(104,rs,3,4,"td",36),t.BQk(),t.ynx(105,49),t.YNc(106,ls,3,3,"th",50),t.YNc(107,ds,8,3,"td",36),t.BQk(),t.YNc(108,ps,1,0,"tr",51),t.YNc(109,gs,1,0,"tr",52),t.qZA(),t.BQk(),t.qZA(),t.ynx(110),t.TgZ(111,"mat-paginator",53),t.NdJ("page",function(s){return i.onPageSwitch(s)}),t.qZA(),t.BQk(),t.qZA(),t.TgZ(112,"div",12),t.ynx(113),t._uU(114),t.ALo(115,"translate"),t._UZ(116,"i",54),t._uU(117),t.ALo(118,"translate"),t._UZ(119,"i",55),t._uU(120),t.ALo(121,"translate"),t._UZ(122,"i",56),t._uU(123," \xa0\xa0 |\xa0\xa0 "),t.BQk(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.hij(" ",t.lcZ(5,24,"Delivery_Notes")," "),t.xp6(6),t.hij("",t.lcZ(11,26,"Sales_And_Distribution")," "),t.xp6(3),t.hij("",t.lcZ(14,28,"Delivery_Notes")," "),t.xp6(10),t.MGl("placeholder","",t.lcZ(24,30,"Search"),"..."),t.Q6J("ngModel",i.searchValue),t.xp6(4),t.Oqu(t.lcZ(28,32,"Search")),t.xp6(7),t.Oqu(t.lcZ(35,34,"Print")),t.xp6(6),t.Oqu(t.lcZ(41,36,"Delivery_Notes")),t.xp6(4),t.Oqu(t.lcZ(45,38,"All")),t.xp6(3),t.Oqu(t.lcZ(48,40,"Open")),t.xp6(3),t.Oqu(t.lcZ(51,42,"Converted_To_Invoice")),t.xp6(3),t.Oqu(t.lcZ(54,44,"Closed")),t.xp6(5),t.Oqu(t.lcZ(59,46,"Delivery_Notes")),t.xp6(3),t.Q6J("isLoading",i.isLoading),t.xp6(4),t.Q6J("dataSource",i.data),t.xp6(43),t.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(2),t.Q6J("length",i.totalItemsCount)("pageSize",i.pageService.pageCount)("pageSizeOptions",i.pageService.selectItemsPerPage),t.xp6(3),t.hij(" \xa0\xa0",t.lcZ(115,48,"Open"),":\xa0"),t.xp6(3),t.hij(" \xa0\xa0 |\xa0\xa0 ",t.lcZ(118,50,"Converted_To_Invoice"),":\xa0 "),t.xp6(3),t.hij("\xa0\xa0|\xa0\xa0 ",t.lcZ(121,52,"Void"),":\xa0"))},directives:[l.Fj,l.JJ,l.On,l.YN,l.Kr,b.r,g.BZ,L.YE,g.w1,g.fO,g.Dz,g.as,g.nj,Q.NW,g.ge,L.nU,g.ev,d.O5,q.gM,g.XQ,g.Gk],pipes:[h.X$,d.uU,d.JJ],styles:["#statusOpen[_ngcontent-%COMP%] {\n    color: #ff6a00\n  }\n\n \n\n\n  #statusVoid[_ngcontent-%COMP%] {\n    color: #000000\n  }\n\n  \n  #statusConvToInv[_ngcontent-%COMP%] {\n    color: #4cff00\n  }"]}),n})(),gt=(()=>{class n extends v{constructor(e,i,o,s,r,u){super(o),this.fb=e,this.apiService=i,this.authService=o,this.utilService=s,this.dialogRef=r,this.notifyService=u,this.id=0,this.serviceType=0,this.serviceCode=this.id.toString(),this.isLoading=!1}ngOnInit(){this.setForm()}setForm(){this.form=this.fb.group({appRemarks:["",l.kI.required],serviceType:[this.serviceType,l.kI.required],serviceCode:[this.serviceCode,l.kI.required]})}submit(){console.log(this.inputData),this.isLoading||(this.form.valid?(this.form.value.id=this.id,console.log(this.form.value),this.isLoading=!0,this.apiService.post("SndApproval/createSndApproval",this.form.value).subscribe(e=>{this.isLoading=!1,this.utilService.OkMessage(),this.reset(),this.dialogRef.close(!0)},e=>{this.isLoading=!1,this.utilService.ShowApiErrorMessage(e)})):this.notifyService.showWarning("Enter Remarks"))}reset(){this.form.reset()}closeModel(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.qu),t.Y36(x.s),t.Y36(T._),t.Y36(C.t),t.Y36(y.so),t.Y36(S.g))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-snduserapproval"]],features:[t.qOj],decls:23,vars:17,consts:[["type","button","aria-hidden","true",1,"close",3,"click"],["novalidate","",1,"mt-1",3,"formGroup","ngSubmit"],[1,"row","rowm0"],[1,"col-md-4","col-lg-4"],[1,"form-group"],[1,"mr-sm-2"],["type","text","formControlName","appRemarks",1,"form-control",3,"placeholder"],[3,"control"],[1,"row"],[1,"col-lg-12","col-md-12","text-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","waves-effect","waves-light","btn-primary",3,"value"]],template:function(e,i){1&e&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"button",0),t.NdJ("click",function(){return i.closeModel()}),t._uU(4," \xd7"),t.qZA(),t.qZA(),t.TgZ(5,"form",1),t.NdJ("ngSubmit",function(){return i.submit()}),t.TgZ(6,"div",2),t.TgZ(7,"div",3),t.TgZ(8,"div",4),t.TgZ(9,"label",5),t._uU(10),t.ALo(11,"translate"),t.qZA(),t._UZ(12,"input",6),t.ALo(13,"translate"),t._UZ(14,"validation-message",7),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"div",8),t.TgZ(16,"div",9),t.TgZ(17,"button",10),t.NdJ("click",function(){return i.closeModel()}),t._uU(18),t.ALo(19,"translate"),t.qZA(),t._uU(20," \xa0\xa0 "),t._UZ(21,"input",11),t.ALo(22,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,7,"User_Approval_Page")," "),t.xp6(4),t.Q6J("formGroup",i.form),t.xp6(5),t.hij(" ",t.lcZ(11,9,"User_Approval")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(13,11,"User_Approval")),t.xp6(2),t.Q6J("control",i.form.controls.appRemarks),t.xp6(4),t.hij(" ",t.lcZ(19,13,"Cancel")," "),t.xp6(3),t.s9C("value",t.lcZ(22,15,"Save")))},directives:[l._Y,l.JL,l.sg,l.Fj,l.JJ,l.u,nt.s],pipes:[h.X$],encapsulation:2}),n})();var mt=m(7049);function Zs(n,a){if(1&n&&(t.TgZ(0,"option",63),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function _s(n,a){if(1&n&&(t.TgZ(0,"option",63),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}const M=function(){return{standalone:!0}};function hs(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"ng-select",64),t.NdJ("clear",function(){return t.CHM(e),t.oxw().resetItem()})("change",function(o){return t.CHM(e),t.oxw().loadItemdata(o)})("ngModelChange",function(o){return t.CHM(e),t.oxw().itemId=o}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("items",e.itemList)("ngModel",e.itemId)("ngModelOptions",t.DdM(3,M))}}function As(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"input",65),t.NdJ("change",function(o){return t.CHM(e),t.oxw().loadItemdataByBarcode(o)})("ngModelChange",function(o){return t.CHM(e),t.oxw().itemBarcode=o}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("ngModel",e.itemBarcode)("ngModelOptions",t.DdM(2,M))}}function Ts(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",66),t.TgZ(1,"a",67),t.NdJ("click",function(){return t.CHM(e),t.oxw().CheckStockAvailability(null)}),t.ALo(2,"translate"),t._UZ(3,"i",68),t.qZA(),t.qZA()}2&n&&(t.xp6(1),t.s9C("matTooltip",t.lcZ(2,1,"Check_Stock_Availability")))}function fs(n,a){if(1&n&&(t.TgZ(0,"option",63),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function qs(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.ALo(11,"number"),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td",69),t._uU(17),t.ALo(18,"number"),t.qZA(),t.TgZ(19,"td",52),t.TgZ(20,"i",70),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().editQuotationItem(s)}),t.qZA(),t._uU(21," \xa0 "),t.TgZ(22,"i",71),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().deleteQuotationItem(s)}),t.qZA(),t._uU(23," \xa0 "),t.TgZ(24,"i",72),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().CheckStockAvailability(s)}),t.ALo(25,"translate"),t.qZA(),t._uU(26," \xa0 "),t.qZA(),t.qZA()}if(2&n){const e=a.$implicit;t.xp6(2),t.Oqu(e.item),t.xp6(2),t.Oqu(e.description),t.xp6(2),t.Oqu(e.quantity),t.xp6(2),t.Oqu(e.unitType),t.xp6(2),t.Oqu(t.xi3(11,9,e.unitPrice,"1.2")),t.xp6(3),t.Oqu(e.discount),t.xp6(2),t.Oqu(e.taxTariffPercentage),t.xp6(2),t.Oqu(t.xi3(18,12,e.itemInvAmount,"1.2")),t.xp6(7),t.s9C("matTooltip",t.lcZ(25,15,"Check_Stock_Availability"))}}function vs(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"span"),t.TgZ(1,"button",73),t.NdJ("click",function(){return t.CHM(e),t.oxw().Save(0)}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._uU(4," \xa0\xa0 "),t.qZA()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"Save")," "))}function xs(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"span"),t.TgZ(1,"button",73),t.NdJ("click",function(){return t.CHM(e),t.oxw().Save(1)}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._uU(4," \xa0\xa0 "),t.qZA()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"Save_And_Approve")," "))}function Cs(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"span"),t.TgZ(1,"button",73),t.NdJ("click",function(){return t.CHM(e),t.oxw().Save(2)}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._uU(4," \xa0\xa0 "),t.qZA()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"Revise")," "))}function Ss(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"span"),t.TgZ(1,"a",67),t.NdJ("click",function(){return t.CHM(e),t.oxw().checkQuotationStock()}),t.ALo(2,"translate"),t._UZ(3,"i",74),t.qZA(),t._uU(4," \xa0 "),t.qZA()}2&n&&(t.xp6(1),t.s9C("matTooltip",t.lcZ(2,1,"Check_Overall_Stock_Availability")))}let rt=(()=>{class n extends v{constructor(e,i,o,s,r,u,p,c,Z,U,N,R,ct){super(p),this.sndService=e,this.translate=i,this.fb=o,this.http=s,this.router=r,this.apiService=u,this.authService=p,this.utilService=c,this.dialogRef=Z,this.notifyService=U,this.validationService=N,this.commonService=R,this.dialog=ct,this.id=0,this.revisedNumber=0,this.customerList=[],this.companyList=[],this.paymentTermsList=[],this.warehouseList=[],this.itemList=[],this.vatList=[],this.itemId="",this.quantity=0,this.unitPrice=0,this.vat=0,this.vatAmount=0,this.total=0,this.itemInvAmount=0,this.discount=0,this.discountAmount=0,this.unitType="",this.description="",this.item="",this.itemCode="",this.grandDiscountAmount=0,this.grandTotal=0,this.grandFooterDiscountAmount=0,this.grandVatTotal=0,this.grandQuotationTotal=0,this.grandTotalStr="",this.grandVatTotalStr="",this.grandQuotationTotalStr="",this.grandFooterDiscountAmountStr="",this.footerDiscount=0,this.footerDiscountAmount=0,this.sequence=1,this.editsequence=0,this.listOfQuotations=[],this.canShowNotes=!1,this.canShowRemarks=!1,this.isArab=!1,this.canSave=!1,this.canSaveAndApprove=!1,this.canSaveAndSettle=!1,this.canCreate=!1,this.unitTypesList=[],this.isBarcodeScannerOn=!0,this.itemBarcode="",this.isLoading=!1}ngOnInit(){this.setForm(),this.loadData(),this.id>0&&this.seteditform()}setForm(){this.form=this.fb.group({customerId:["",l.kI.required],quotationDate:["",l.kI.required],quotationDueDate:["",l.kI.required],serviceDate1:["",l.kI.required],companyId:["",l.kI.required],warehouseCode:["",l.kI.required],quotationRefNumber:[""],lpoContract:[""],paymentTermId:["",l.kI.required],taxIdNumber:["",l.kI.required],remarks:[""],quotationNotes:[""],quotationStatusId:["1"],originalQuotationId:[0]})}seteditform(){this.apiService.get("generateSndQuotation/getSingleSndQuotationById",this.id).subscribe(e=>{e&&(this.footerDiscount=e.footerDiscount,this.loadWarehousesForCompany(e.companyId,e),this.loadBranch(),this.displayItems(e))})}openDialogManage(e){let i=this.utilService.openDialogCongif(this.dialog,mt.R,e);i.componentInstance.data=this.customerData,i.afterClosed().subscribe(o=>{var s,r;o&&(this.customerData=o.value,this.form.value.custName=null===(s=o.value)||void 0===s?void 0:s.custName,this.form.value.custArbName=null===(r=o.value)||void 0===r?void 0:r.custArbName)})}updateCustomer(){this.openDialogManage(50)}loadData(){this.apiService.getall("vat/getSelectVatList").subscribe(e=>{e&&(this.vatList=e)}),this.apiService.getall("item/getSelectItemMOUList").subscribe(e=>{e&&(this.itemList=e,this.itemList.forEach(i=>{i.text=i.text+" ("+i.textTwo+")"}))}),this.apiService.getall("customer/getSelectCustomerList").subscribe(e=>{e&&(this.customerList=e,this.customerList.map(o=>(o.text=this.isArab?o.textTwo:o.text,o)))}),this.apiService.getall("company/getSelectCompanyList").subscribe(e=>{e&&(this.companyList=e)}),this.apiService.getall("salesTermsCode/getCustomSelectSalesTermsCodeList").subscribe(e=>{e&&(this.paymentTermsList=e)})}customerChange(e){this.apiService.getall(`customer/getCustomerById/${e.value}`).subscribe(s=>{s&&this.form.controls.taxIdNumber.setValue(s.vatNumber)})}loadWarehousesForCompany(e,i){e&&this.apiService.getall("warehouse/getSelectWarehouseCodeList").subscribe(o=>{o&&(this.warehouseList=o,this.warehouseList.forEach(s=>{s.lable=s.value+"-"+s.text}),this.form.patchValue(i),this.footerDiscount=i.footerDiscount,this.form.patchValue({customerId:`${i.customerId}`}),this.form.patchValue({originalQuotationId:`${i.originalQuotationId}`}),this.isRevised=i.isRevised),this.loadBranch()})}displayItems(e){e.itemList.forEach(o=>{this.itemId=o.itemId.toString(),this.itemCode=o.itemCode,this.item=o.itemName,this.description=o.description,this.quantity=o.quantity,this.unitType=o.unitType,this.unitPrice=o.unitPrice,this.vat=o.taxTariffPercentage,this.discount=o.discount,this.total=o.unitPrice*o.quantity,this.discountAmount=this.total*this.discount/100,this.footerDiscountAmount=(this.total-this.discountAmount)*this.footerDiscount/100,this.vatAmount=(this.total-this.discountAmount-this.footerDiscountAmount)*this.vat/100,this.itemInvAmount=this.total-this.discountAmount-this.footerDiscountAmount+this.vatAmount,this.addQuotation()})}checkUserAuthority(e){this.apiService.getall(`sndAuthorities/getAuthorityByBranchCurrentUser/${e}`).subscribe(i=>{i?(this.canCreate=i.canCreateSndQuotation,this.canSaveAndApprove=i.canCreateSndQuotation&&i.canApproveSndQuotation,this.canSaveAndSettle=i.canCreateSndQuotation&&i.canApproveSndQuotation&&i.canSettleSndQuotation):(this.canCreate=!1,this.canSaveAndApprove=!1,this.canSaveAndSettle=!1)})}loadWarehouses(e){e.target.value&&this.apiService.getall("warehouse/getSelectWarehouseCodeList").subscribe(o=>{o&&(this.warehouseList=o,this.warehouseList.forEach(s=>{s.lable=s.value+"-"+s.text}))})}resetItem(){this.item="",this.itemCode="",this.itemId="",this.unitType="",this.description="",this.unitPrice=0,this.total=0,this.discount=0,this.discountAmount=0,this.vat=0,this.quantity=0,this.itemInvAmount=0}loadItemdata(e){let i=null!=e?e.value:"";""!=i?(this.resetItem(),this.quantity=1,this.apiService.getall(`item/itemUnitPriceItem/${i}`).subscribe(o=>{o&&(this.itemId=i.toString(),this.itemCode=o.itemCode,this.item=o.nameEN,this.description=o.description,this.unitPrice=o.unitPrice,this.vat=o.vat,this.apiService.getall(`item/getSelectItemMOUUnitTypeListByItem/${o.itemCode}`).subscribe(s=>{s?s.findIndex(r=>r.value==o.unitType)>=0?(this.unitTypesList=s,this.unitType=o.unitType,this.calculate()):(this.resetItem(),this.notifyService.showInfo("No Base Unit Mapping Found:"+o.itemCode+"x"+o.unitType)):this.resetItem()}))})):this.resetItem()}addUpdateQuotation(){if(!this.isLoading&&this.total>0&&parseInt(this.itemId)>0){if(this.editsequence>0){var e=this.listOfQuotations.findIndex(o=>o.sequence===this.editsequence);let i=this.listOfQuotations[e];i.sequence=this.editsequence,i.item=this.item,i.itemId=this.itemId,i.itemCode=this.itemCode,i.description=this.description,i.quantity=this.quantity,i.unitType=this.unitType,i.unitPrice=this.unitPrice,i.taxTariffPercentage=this.vat,i.taxAmount=this.vatAmount,i.totalAmount=this.total,i.discount=this.discount,i.discountAmount=this.discountAmount,i.footerDiscountAmount=this.footerDiscountAmount,i.itemInvAmount=this.itemInvAmount,i.itemBarcode=this.itemBarcode,this.editsequence=0}else if((e=this.listOfQuotations.findIndex(o=>o.itemCode==this.itemCode&&o.unitType==this.unitType))>=0){let o=this.listOfQuotations[e];o.sequence=this.editsequence,o.item=this.item,o.itemId=this.itemId,o.itemCode=this.itemCode,o.description=this.description,o.quantity=this.quantity,o.unitType=this.unitType,o.unitPrice=this.unitPrice,o.taxTariffPercentage=this.vat,o.taxAmount=this.vatAmount,o.totalAmount=this.total,o.discount=this.discount,o.discountAmount=this.discountAmount,o.footerDiscountAmount=this.footerDiscountAmount,o.itemInvAmount=this.itemInvAmount,o.itemBarCode=this.itemBarcode,this.editsequence=0}else this.listOfQuotations.push({sequence:this.getSequence(),item:this.item,itemId:this.itemId,itemCode:this.itemCode,description:this.description,quantity:this.quantity,unitType:this.unitType,unitPrice:this.unitPrice,taxTariffPercentage:this.vat,taxAmount:this.vatAmount,totalAmount:this.total,discount:this.discount,discountAmount:this.discountAmount,footerDiscountAmount:this.footerDiscountAmount,itemInvAmount:this.itemInvAmount,itemBarcode:this.itemBarcode});this.setGrandTotal(),this.setToDefault(),this.canSave=!0}}addQuotation(){var e;if(this.editsequence>0){var i=this.listOfQuotations.findIndex(s=>s.sequence===this.editsequence);let o=this.listOfQuotations[i];o.sequence=this.editsequence,o.item=this.item,o.itemId=this.itemId,o.itemCode=this.itemCode,o.description=this.description,o.quantity=this.quantity,o.unitType=this.unitType,o.unitPrice=this.unitPrice,o.taxTariffPercentage=this.vat,o.taxAmount=this.vatAmount,o.totalAmount=this.total,o.discount=this.discount,o.discountAmount=null!==(e=this.discountAmount)&&void 0!==e?e:0,o.footerDiscountAmount=this.footerDiscountAmount,o.itemInvAmount=this.itemInvAmount,o.itemBarcode=this.itemBarcode,this.editsequence=0}else this.listOfQuotations.push({sequence:this.getSequence(),item:this.item,itemId:this.itemId,itemCode:this.itemCode,description:this.description,quantity:this.quantity,unitType:this.unitType,unitPrice:this.unitPrice,taxTariffPercentage:this.vat,taxAmount:this.vatAmount,totalAmount:this.total,discount:this.discount,discountAmount:this.discountAmount,footerDiscountAmount:this.footerDiscountAmount,itemInvAmount:this.itemInvAmount,itemBarcode:this.itemBarcode});this.setGrandTotal(),this.setToDefault()}getSequence(){return this.sequence+=this.sequence+1}showCanShowNotes(){this.canShowNotes=!this.canShowNotes}showCanShowRemarks(){this.canShowRemarks=!this.canShowRemarks}deleteQuotationItem(e){this.removeQuotationList(e.sequence),this.setGrandTotal()}removeQuotationList(e){let i=this.listOfQuotations.findIndex(o=>o.sequence===e);this.listOfQuotations.splice(i,1)}editQuotationItem(e){this.unitTypesList=[],this.unitType="",this.apiService.getall(`item/getSelectItemMOUUnitTypeListByItem/${e.itemCode}`).subscribe(i=>{i?(this.unitTypesList=i,this.unitType=e.unitType):this.resetItem()}),this.editsequence=e.sequence,this.item=e.item,this.itemCode=e.itemCode,this.itemId=e.itemId,this.description=e.description,this.quantity=e.quantity,this.unitType=e.unitType,this.unitPrice=e.unitPrice,this.vat=e.taxTariffPercentage,this.vatAmount=e.taxAmount,this.total=e.totalAmount,this.discount=e.discount,this.discountAmount=e.discountAmount,this.footerDiscountAmount=e.footerDiscountAmount,this.itemInvAmount=e.itemInvAmount,this.itemBarcode=null==e?void 0:e.itemBarcode}setGrandTotal(){this.grandTotal=0,this.grandVatTotal=0,this.grandQuotationTotal=0,this.grandDiscountAmount=0,this.grandFooterDiscountAmount=0,this.listOfQuotations.forEach(e=>{this.grandTotal+=e.totalAmount,this.grandVatTotal+=e.taxAmount,this.grandQuotationTotal+=e.itemInvAmount,this.grandDiscountAmount+=e.discountAmount,this.grandFooterDiscountAmount+=e.footerDiscountAmount}),this.form.value.discountAmount=this.grandDiscountAmount,this.form.value.taxAmount=this.grandVatTotal,this.form.value.subTotal=this.grandTotal,this.grandTotalStr=this.grandTotal.toString(),this.grandVatTotalStr=this.grandVatTotal.toString(),this.grandQuotationTotalStr=this.grandQuotationTotal.toString()}setToDefault(){this.itemId="",this.item=this.description=this.unitType="",this.quantity=this.unitPrice=this.vat=this.vatAmount=this.total=this.discount=this.discountAmount=this.itemInvAmount=0,this.itemBarcode="",this.itemInvAmount=0}calculate(){this.discount>100&&(this.discount=0),this.total=this.unitPrice*this.quantity,this.discountAmount=parseFloat((this.total*this.discount/100).toFixed(2)),this.footerDiscountAmount=(this.total-this.discountAmount)*this.footerDiscount/100,this.vatAmount=parseFloat(((this.total-this.discountAmount-this.footerDiscountAmount)*this.vat/100).toFixed(2)),this.itemInvAmount=this.total-this.discountAmount-this.footerDiscountAmount+this.vatAmount}submit(){}Save(e){this.calculate(),this.form.valid?(this.id>0&&(this.form.value.id=this.id),this.form.value.itemList=this.listOfQuotations,this.form.value.quotationDate=this.utilService.selectedDateTime(this.form.controls.quotationDate.value),this.form.value.quotationDueDate=this.utilService.selectedDateTime(this.form.controls.quotationDueDate.value),this.form.value.footerDiscount=this.footerDiscount,this.form.value.totalAmount=this.grandQuotationTotal,this.form.value.saveType=e,this.apiService.post("generateSndQuotation",this.form.value).subscribe(i=>{this.utilService.OkMessage(),this.reset(),this.dialogRef.close(!0)},i=>{console.error(i),this.utilService.ShowApiErrorMessage(i)})):this.utilService.FillUpFields()}reset(){this.form.reset()}closeModel(){this.dialogRef.close()}changeFooterDiscount(){(this.footerDiscount<0||this.footerDiscount>100||null==this.footerDiscount||""==this.footerDiscount.toString())&&(this.footerDiscount=0),this.footerDiscount=parseInt(this.footerDiscount.toString());for(let e=0;e<this.listOfQuotations.length;e++)this.listOfQuotations[e].footerDiscountAmount=(this.listOfQuotations[e].totalAmount-this.listOfQuotations[e].discountAmount)*this.footerDiscount/100,this.listOfQuotations[e].taxAmount=(this.listOfQuotations[e].totalAmount-this.listOfQuotations[e].discountAmount-this.listOfQuotations[e].footerDiscountAmount)*this.listOfQuotations[e].taxTariffPercentage/100,this.listOfQuotations[e].itemInvAmount=this.listOfQuotations[e].totalAmount-this.listOfQuotations[e].discountAmount-this.listOfQuotations[e].footerDiscountAmount+this.listOfQuotations[e].taxAmount;this.setGrandTotal(),this.canSave=!0}changeUnitType(){""!=this.unitType?this.apiService.getall(`item/itemUnitPriceItemUnit/${this.itemCode}/${this.unitType}`).subscribe(e=>{e&&(this.unitPrice=e.unitPrice)}):this.resetItem()}loadUnitTypes(){this.apiService.getall(`item/getSelectItemMOUUnitTypeListByItem/${this.itemCode}`).subscribe(e=>{e&&(this.unitTypesList=e)})}loadBranch(){""!=this.form.controls.warehouseCode.value?this.apiService.getall(`Warehouse/getWarehouseInfoByCode/${this.form.controls.warehouseCode.value}`).subscribe(e=>{null!=e&&this.checkUserAuthority(e.whBranchCode)}):(this.canCreate=!1,this.canSaveAndApprove=!1,this.canSaveAndSettle=!1)}CheckStockAvailability(e){let i=null==e?this.itemCode:e.itemCode,o=null==e?this.quantity:e.quantity,s=null==e?this.unitType:e.unitType;""!=i&&""!=this.form.controls.warehouseCode.value&&o>0&&""!=s&&this.openDialogManage2(i,this.form.controls.warehouseCode.value,o,s,ot)}openDialogManage2(e,i,o,s,r){let u=this.sndService.openAutoWidthDialog(this.dialog,r);u.componentInstance.itemCode=e,u.componentInstance.warehouseCode=i,u.componentInstance.quantity=o,u.componentInstance.unitType=s,u.afterClosed().subscribe(p=>{})}checkQuotationStock(){this.form.value.id=0,this.form.value.itemList=this.listOfQuotations.slice(0),this.openDialogManage3(this.form.value,it)}openDialogManage3(e,i){let o=this.sndService.openAutoWidthDialog(this.dialog,i);o.componentInstance.inputData=e,o.afterClosed().subscribe(s=>{})}loadItemdataByBarcode(e){""==e.target.value||this.isLoading?""==e.target.value&&this.resetItem():this.apiService.getall(`item/getSelctedItemByItemBarcode/${e.target.value}`).subscribe(i=>{if(i){this.itemId=i.value;let o=0;this.isLoading=!0,this.interval=1e3,this.interval=setInterval(()=>{o++,1==o?this.loadItemdata(i):2==o&&(this.itemCode=i.text,this.itemId=i.value,this.unitType=i.textTwo,this.changeUnitType(),this.isLoading=!1)},o>2?0:500)}else this.resetItem(),this.notifyService.showWarning("Item Not Found")},i=>{this.notifyService.showWarning("error")})}onChangeItemCodeInput(){this.isBarcodeScannerOn||(this.itemBarcode=""),this.resetItem()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Y),t.Y36(h.sK),t.Y36(l.qu),t.Y36(j.eN),t.Y36(I.F0),t.Y36(x.s),t.Y36(T._),t.Y36(C.t),t.Y36(y.so),t.Y36(S.g),t.Y36(P.R),t.Y36(at.v),t.Y36(y.uw))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-addupdatesndquotation"]],features:[t.qOj],decls:286,vars:251,consts:[["type","button","aria-hidden","true",1,"close",3,"click"],["novalidate","",1,"mt-4",3,"formGroup","ngSubmit"],[1,"row","rowm0"],[1,"col-md-12","col-lg-12"],[1,"row","mt-3"],[1,"p-3",2,"border","1px solid #f4f4f4"],[1,"row","mt-2"],[1,"col-md-4","col-lg-4"],[1,"form-group"],[1,"mr-sm-2"],[1,"mr-sm-2","btn","btn-primary",3,"click"],["bindLabel","text","bindValue","value","formControlName","customerId",3,"items","change"],[1,"input-group","mb-2"],["formControlName","quotationDate",1,"form-control","datapickerinput",3,"placeholder","matDatepicker"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker1",""],["formControlName","quotationDueDate",1,"form-control","datapickerinput",3,"placeholder","matDatepicker"],["picker",""],["formControlName","serviceDate1",1,"form-control","datapickerinput",3,"placeholder","matDatepicker"],["serviceDate1",""],[3,"control"],["formControlName","companyId",1,"custom-select","mr-sm-2",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["bindLabel","lable","bindValue","value","formControlName","warehouseCode",3,"items","change"],["type","text","formControlName","quotationRefNumber",1,"form-control",3,"placeholder"],["type","text","formControlName","lpoContract",1,"form-control",3,"placeholder"],["formControlName","paymentTermId",1,"custom-select","mr-sm-2"],["type","text","readonly","","formControlName","taxIdNumber",1,"form-control",3,"placeholder"],["type","text",1,"form-control",3,"placeholder","ngModel","ngModelOptions","ngModelChange","keyup"],[1,"col-md-5","col-lg-5"],["formControlName","quotationNotes",1,"form-control",3,"placeholder"],["formControlName","remarks",1,"form-control",3,"placeholder"],[1,"table-responsive"],["id","zero_config",1,"table","table-bordered","no-wrap"],["width","15%"],[2,"width","stretch"],["width","8%"],["style","width:250px","bindLabel","text","placeholder","select item","bindValue","value",3,"items","ngModel","ngModelOptions","clear","change","ngModelChange",4,"ngIf"],["class","form-control","style","width:250px","type","text","placeholder","scan barcode",3,"ngModel","ngModelOptions","change","ngModelChange",4,"ngIf"],[1,"row"],[1,"btn-list",2,"padding","10px 15px"],[2,"font-size","smaller","padding-right","10px"],["color","primary",3,"ngModel","ngModelOptions","ngModelChange","change"],[1,"form-control",3,"placeholder","ngModel","ngModelOptions","ngModelChange"],[1,"col-md-1","col-lg-10",2,"text-align","center","padding-right","2px"],["class","col-md-1 col-lg-1","style","text-align:left;padding-left:2px;",4,"ngIf"],[1,"custom-select","mr-sm-2",3,"ngModel","ngModelOptions","ngModelChange","change"],["type","number","readonly","",1,"form-control",3,"placeholder","ngModel","ngModelOptions","ngModelChange"],["type","text","readonly","",1,"form-control",3,"placeholder","ngModel","ngModelOptions","ngModelChange"],["type","button",1,"btn","waves-effect","waves-light","btn-primary",3,"click"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"tfoot"],["colspan","6","rowspan","5"],[1,"text-right","bgcolor"],[1,"bgcolor"],[1,"text-right","bgcolor_bottom"],[1,"bgcolor_bottom"],[1,"col-lg-12","col-md-12","text-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],[4,"ngIf"],[3,"value"],["bindLabel","text","placeholder","select item","bindValue","value",2,"width","250px",3,"items","ngModel","ngModelOptions","clear","change","ngModelChange"],["type","text","placeholder","scan barcode",1,"form-control",2,"width","250px",3,"ngModel","ngModelOptions","change","ngModelChange"],[1,"col-md-1","col-lg-1",2,"text-align","left","padding-left","2px"],[1,"tableicons","pcursor",3,"matTooltip","click"],[1,"icon-question",2,"color","#ff0000"],[1,"text-right"],[1,"icon-note","cpointer",3,"click"],[1,"icon-trash","cpointer",3,"click"],[1,"icon-question",3,"matTooltip","click"],["type","button","data-dismiss","modal",1,"btn","waves-effect","waves-light","btn-primary",3,"click"],[1,"icon-question"]],template:function(e,i){if(1&e&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"button",0),t.NdJ("click",function(){return i.closeModel()}),t._uU(4," \xd7"),t.qZA(),t.qZA(),t.TgZ(5,"form",1),t.NdJ("ngSubmit",function(){return i.submit()}),t.TgZ(6,"div",2),t.TgZ(7,"div",3),t.TgZ(8,"div",4),t.TgZ(9,"div",3),t.TgZ(10,"div",5),t.TgZ(11,"div",6),t.TgZ(12,"div",7),t.TgZ(13,"div",8),t.TgZ(14,"label",9),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"label",10),t.NdJ("click",function(){return i.updateCustomer()}),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"ng-select",11),t.NdJ("change",function(s){return i.customerChange(s)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"div",7),t.TgZ(22,"label",9),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"div",8),t.TgZ(26,"div",12),t._UZ(27,"input",13),t.ALo(28,"translate"),t.TgZ(29,"div",14),t._UZ(30,"mat-datepicker-toggle",15),t._UZ(31,"mat-datepicker",null,16),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(33,"div",7),t.TgZ(34,"label",9),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.TgZ(37,"div",8),t.TgZ(38,"div",12),t._UZ(39,"input",17),t.ALo(40,"translate"),t.TgZ(41,"div",14),t._UZ(42,"mat-datepicker-toggle",15),t._UZ(43,"mat-datepicker",null,18),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(45,"div",7),t.TgZ(46,"label",9),t._uU(47),t.ALo(48,"translate"),t.qZA(),t.TgZ(49,"div",8),t.TgZ(50,"div",12),t._UZ(51,"input",19),t.ALo(52,"translate"),t.TgZ(53,"div",14),t._UZ(54,"mat-datepicker-toggle",15),t._UZ(55,"mat-datepicker",null,20),t._UZ(57,"br"),t._UZ(58,"br"),t.qZA(),t.qZA(),t._UZ(59,"validation-message",21),t.qZA(),t.qZA(),t.TgZ(60,"div",7),t.TgZ(61,"div",8),t.TgZ(62,"label",9),t._uU(63),t.ALo(64,"translate"),t.qZA(),t.TgZ(65,"select",22),t.NdJ("change",function(s){return i.loadWarehouses(s)}),t.TgZ(66,"option",23),t._uU(67),t.ALo(68,"translate"),t.qZA(),t.YNc(69,Zs,2,2,"option",24),t.qZA(),t.qZA(),t.qZA(),t.TgZ(70,"div",7),t.TgZ(71,"div",8),t.TgZ(72,"label",9),t._uU(73),t.ALo(74,"translate"),t.qZA(),t.TgZ(75,"ng-select",25),t.NdJ("change",function(){return i.loadBranch()}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(76,"div",7),t.TgZ(77,"div",8),t.TgZ(78,"label",9),t._uU(79),t.ALo(80,"translate"),t.qZA(),t._UZ(81,"input",26),t.ALo(82,"translate"),t.ALo(83,"translate"),t.qZA(),t.qZA(),t.TgZ(84,"div",7),t.TgZ(85,"div",8),t.TgZ(86,"label",9),t._uU(87),t.ALo(88,"translate"),t.qZA(),t._UZ(89,"input",27),t.ALo(90,"translate"),t.ALo(91,"translate"),t.qZA(),t.qZA(),t.TgZ(92,"div",7),t.TgZ(93,"div",8),t.TgZ(94,"label",9),t._uU(95),t.ALo(96,"translate"),t.qZA(),t.TgZ(97,"select",28),t.TgZ(98,"option",23),t._uU(99),t.ALo(100,"translate"),t.qZA(),t.YNc(101,_s,2,2,"option",24),t.qZA(),t.qZA(),t.qZA(),t.TgZ(102,"div",7),t.TgZ(103,"div",8),t.TgZ(104,"label",9),t._uU(105),t.ALo(106,"translate"),t.qZA(),t._UZ(107,"input",29),t.ALo(108,"translate"),t.qZA(),t.qZA(),t.TgZ(109,"div",7),t.TgZ(110,"div",8),t.TgZ(111,"label",9),t._uU(112),t.ALo(113,"translate"),t.qZA(),t.TgZ(114,"input",30),t.NdJ("ngModelChange",function(s){return i.footerDiscount=s})("keyup",function(){return i.changeFooterDiscount()}),t.ALo(115,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(116,"div",31),t.TgZ(117,"div",8),t.TgZ(118,"label",9),t._uU(119),t.ALo(120,"translate"),t.qZA(),t._UZ(121,"textarea",32),t.ALo(122,"translate"),t.ALo(123,"translate"),t.qZA(),t.qZA(),t.TgZ(124,"div",31),t.TgZ(125,"div",8),t.TgZ(126,"label",9),t._uU(127),t.ALo(128,"translate"),t.qZA(),t._UZ(129,"textarea",33),t.ALo(130,"translate"),t.ALo(131,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(132,"div",34),t.TgZ(133,"table",35),t.TgZ(134,"thead"),t.TgZ(135,"tr"),t.TgZ(136,"th",36),t._uU(137),t.ALo(138,"translate"),t.qZA(),t.TgZ(139,"th",36),t._uU(140),t.ALo(141,"translate"),t.qZA(),t.TgZ(142,"th",37),t._uU(143),t.ALo(144,"translate"),t.qZA(),t.TgZ(145,"th"),t._uU(146),t.ALo(147,"translate"),t.qZA(),t.TgZ(148,"th"),t._uU(149),t.ALo(150,"translate"),t.qZA(),t.TgZ(151,"th"),t._uU(152),t.ALo(153,"translate"),t.qZA(),t.TgZ(154,"th",38),t._uU(155),t.ALo(156,"translate"),t.qZA(),t.TgZ(157,"th"),t._uU(158),t.ALo(159,"translate"),t.qZA(),t._UZ(160,"th"),t.qZA(),t.qZA(),t.TgZ(161,"tbody"),t.TgZ(162,"tr"),t.TgZ(163,"td"),t.TgZ(164,"div"),t.YNc(165,hs,1,4,"ng-select",39),t.YNc(166,As,1,3,"input",40),t.qZA(),t.TgZ(167,"div",41),t.TgZ(168,"div",42),t.TgZ(169,"span",43),t._uU(170),t.ALo(171,"translate"),t.qZA(),t.TgZ(172,"mat-slide-toggle",44),t.NdJ("ngModelChange",function(s){return i.isBarcodeScannerOn=s})("change",function(){return i.onChangeItemCodeInput()}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(173,"td"),t.TgZ(174,"textarea",45),t.NdJ("ngModelChange",function(s){return i.description=s}),t.ALo(175,"translate"),t.qZA(),t.qZA(),t.TgZ(176,"td"),t.TgZ(177,"div",2),t.TgZ(178,"div",46),t.TgZ(179,"input",30),t.NdJ("ngModelChange",function(s){return i.quantity=s})("keyup",function(){return i.calculate()}),t.ALo(180,"translate"),t.qZA(),t.qZA(),t.YNc(181,Ts,4,3,"div",47),t.qZA(),t.qZA(),t.TgZ(182,"td"),t.TgZ(183,"select",48),t.NdJ("ngModelChange",function(s){return i.unitType=s})("change",function(){return i.changeUnitType()}),t.TgZ(184,"option",23),t._uU(185),t.ALo(186,"translate"),t.qZA(),t.YNc(187,fs,2,2,"option",24),t.qZA(),t.qZA(),t.TgZ(188,"td"),t.TgZ(189,"input",30),t.NdJ("ngModelChange",function(s){return i.unitPrice=s})("keyup",function(){return i.calculate()}),t.ALo(190,"translate"),t.qZA(),t.qZA(),t.TgZ(191,"td"),t.TgZ(192,"input",30),t.NdJ("ngModelChange",function(s){return i.discount=s})("keyup",function(){return i.calculate()}),t.ALo(193,"translate"),t.qZA(),t.qZA(),t.TgZ(194,"td"),t.TgZ(195,"input",49),t.NdJ("ngModelChange",function(s){return i.vat=s}),t.ALo(196,"translate"),t.qZA(),t.qZA(),t.TgZ(197,"td"),t.TgZ(198,"input",50),t.NdJ("ngModelChange",function(s){return i.itemInvAmount=s}),t.ALo(199,"translate"),t.qZA(),t.qZA(),t.TgZ(200,"td"),t.TgZ(201,"button",51),t.NdJ("click",function(){return i.addUpdateQuotation()}),t._uU(202),t.ALo(203,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(204,"thead"),t.TgZ(205,"tr"),t.TgZ(206,"th"),t._uU(207),t.ALo(208,"translate"),t.qZA(),t.TgZ(209,"th"),t._uU(210),t.ALo(211,"translate"),t.qZA(),t.TgZ(212,"th"),t._uU(213),t.ALo(214,"translate"),t.qZA(),t.TgZ(215,"th"),t._uU(216),t.ALo(217,"translate"),t.qZA(),t.TgZ(218,"th"),t._uU(219),t.ALo(220,"translate"),t.qZA(),t.TgZ(221,"th"),t._uU(222),t.ALo(223,"translate"),t.qZA(),t.TgZ(224,"th"),t._uU(225),t.ALo(226,"translate"),t.qZA(),t.TgZ(227,"th"),t._uU(228),t.ALo(229,"translate"),t.qZA(),t._UZ(230,"th",52),t.qZA(),t.qZA(),t.TgZ(231,"tbody"),t.YNc(232,qs,27,17,"tr",53),t.qZA(),t.TgZ(233,"tfoot"),t.TgZ(234,"tr",54),t._UZ(235,"td",55),t.TgZ(236,"td",56),t._uU(237),t.ALo(238,"translate"),t.qZA(),t.TgZ(239,"td",56),t._uU(240),t.ALo(241,"number"),t.qZA(),t._UZ(242,"td",57),t.qZA(),t.TgZ(243,"tr",54),t.TgZ(244,"td",56),t._uU(245),t.ALo(246,"translate"),t.qZA(),t.TgZ(247,"td",56),t._uU(248),t.ALo(249,"number"),t.qZA(),t._UZ(250,"td",57),t.qZA(),t.TgZ(251,"tr",54),t.TgZ(252,"td",56),t._uU(253),t.ALo(254,"translate"),t.qZA(),t.TgZ(255,"td",56),t._uU(256),t.ALo(257,"number"),t.qZA(),t._UZ(258,"td",57),t.qZA(),t.TgZ(259,"tr",54),t.TgZ(260,"td",56),t._uU(261),t.ALo(262,"translate"),t.qZA(),t.TgZ(263,"td",56),t._uU(264),t.ALo(265,"number"),t.qZA(),t._UZ(266,"td",57),t.qZA(),t.TgZ(267,"tr",54),t.TgZ(268,"td",58),t._uU(269),t.ALo(270,"translate"),t.qZA(),t.TgZ(271,"td",58),t._uU(272),t.ALo(273,"number"),t.qZA(),t._UZ(274,"td",59),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(275,"div",41),t.TgZ(276,"div",60),t.TgZ(277,"span"),t.TgZ(278,"button",61),t.NdJ("click",function(){return i.closeModel()}),t._uU(279),t.ALo(280,"translate"),t.qZA(),t._uU(281," \xa0\xa0 "),t.qZA(),t.YNc(282,vs,5,3,"span",62),t.YNc(283,xs,5,3,"span",62),t.YNc(284,Cs,5,3,"span",62),t.YNc(285,Ss,5,3,"span",62),t.qZA(),t.qZA(),t.qZA()),2&e){const o=t.MAs(32),s=t.MAs(44),r=t.MAs(56);t.xp6(1),t.hij(" ",t.lcZ(2,105,"Create_New_Sales_Quotation")," "),t.xp6(4),t.Q6J("formGroup",i.form),t.xp6(10),t.Oqu(t.lcZ(16,107,"Customer")),t.xp6(3),t.Oqu(t.lcZ(19,109,"Walk-In")),t.xp6(2),t.Q6J("items",i.customerList),t.xp6(3),t.Oqu(t.lcZ(24,111,"Quotation_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(28,113,"Select_a_Date")),t.Q6J("matDatepicker",o),t.xp6(3),t.Q6J("for",o),t.xp6(5),t.Oqu(t.lcZ(36,115,"Delivery_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(40,117,"Select_a_Date")),t.Q6J("matDatepicker",s),t.xp6(3),t.Q6J("for",s),t.xp6(5),t.Oqu(t.lcZ(48,119,"ServiceDate")),t.xp6(4),t.s9C("placeholder",t.lcZ(52,121,"Select_a_Date")),t.Q6J("matDatepicker",r),t.xp6(3),t.Q6J("for",r),t.xp6(5),t.Q6J("control",i.form.controls.serviceDate1),t.xp6(4),t.Oqu(t.lcZ(64,123,"Organization")),t.xp6(4),t.Oqu(t.lcZ(68,125,"Select_Organization")),t.xp6(2),t.Q6J("ngForOf",i.companyList),t.xp6(4),t.Oqu(t.lcZ(74,127,"Warehouse")),t.xp6(2),t.Q6J("items",i.warehouseList),t.xp6(4),t.Oqu(t.lcZ(80,129,"Quotation_Reference_Number")),t.xp6(2),t.hYB("placeholder","",t.lcZ(82,131,"Please_Enter")," ",t.lcZ(83,133,"Quotation_Reference_Number"),""),t.xp6(6),t.hij(" ",t.lcZ(88,135,"LPO_Contract")," "),t.xp6(2),t.hYB("placeholder","",t.lcZ(90,137,"Please_Enter")," ",t.lcZ(91,139,"LPO_Contract"),""),t.xp6(6),t.hij(" ",t.lcZ(96,141,"Payment_Terms")," "),t.xp6(4),t.Oqu(t.lcZ(100,143,"Select_Payment_Terms")),t.xp6(2),t.Q6J("ngForOf",i.paymentTermsList),t.xp6(4),t.Oqu(t.lcZ(106,145,"TAX_Id_Number")),t.xp6(2),t.s9C("placeholder",t.lcZ(108,147,"TAX_Id_Number")),t.xp6(5),t.Oqu(t.lcZ(113,149,"Footer_Discount")),t.xp6(2),t.s9C("placeholder",t.lcZ(115,151,"Footer_Discount")),t.Q6J("ngModel",i.footerDiscount)("ngModelOptions",t.DdM(242,M)),t.xp6(5),t.Oqu(t.lcZ(120,153,"Quotation_Notes")),t.xp6(2),t.hYB("placeholder","",t.lcZ(122,155,"Please_Select")," ",t.lcZ(123,157,"Quotation_Notes"),""),t.xp6(6),t.Oqu(t.lcZ(128,159,"Remarks")),t.xp6(2),t.hYB("placeholder","",t.lcZ(130,161,"Please_Select")," ",t.lcZ(131,163,"Remarks"),""),t.xp6(8),t.Oqu(t.lcZ(138,165,"Item")),t.xp6(3),t.Oqu(t.lcZ(141,167,"Description")),t.xp6(3),t.Oqu(t.lcZ(144,169,"Quantity")),t.xp6(3),t.Oqu(t.lcZ(147,171,"Unit")),t.xp6(3),t.Oqu(t.lcZ(150,173,"Price")),t.xp6(3),t.Oqu(t.lcZ(153,175,"Discount")),t.xp6(3),t.hij("",t.lcZ(156,177,"VAT"),"%"),t.xp6(3),t.Oqu(t.lcZ(159,179,"Total")),t.xp6(7),t.Q6J("ngIf",!i.isBarcodeScannerOn),t.xp6(1),t.Q6J("ngIf",i.isBarcodeScannerOn),t.xp6(4),t.Oqu(t.lcZ(171,181,"Barcode_Scanner")),t.xp6(2),t.Q6J("ngModel",i.isBarcodeScannerOn)("ngModelOptions",t.DdM(243,M)),t.xp6(2),t.s9C("placeholder",t.lcZ(175,183,"Description")),t.Q6J("ngModel",i.description)("ngModelOptions",t.DdM(244,M)),t.xp6(5),t.s9C("placeholder",t.lcZ(180,185,"Quantity")),t.Q6J("ngModel",i.quantity)("ngModelOptions",t.DdM(245,M)),t.xp6(2),t.Q6J("ngIf",""!=i.itemId&&i.quantity>0),t.xp6(2),t.Q6J("ngModel",i.unitType)("ngModelOptions",t.DdM(246,M)),t.xp6(2),t.Oqu(t.lcZ(186,187,"Unit")),t.xp6(2),t.Q6J("ngForOf",i.unitTypesList),t.xp6(2),t.s9C("placeholder",t.lcZ(190,189,"Price")),t.Q6J("ngModel",i.unitPrice)("ngModelOptions",t.DdM(247,M)),t.xp6(3),t.s9C("placeholder",t.lcZ(193,191,"Discount")),t.Q6J("ngModel",i.discount)("ngModelOptions",t.DdM(248,M)),t.xp6(3),t.s9C("placeholder",t.lcZ(196,193,"VAT")),t.Q6J("ngModel",i.vat)("ngModelOptions",t.DdM(249,M)),t.xp6(3),t.s9C("placeholder",t.lcZ(199,195,"Total")),t.Q6J("ngModel",i.itemInvAmount)("ngModelOptions",t.DdM(250,M)),t.xp6(4),t.Oqu(t.lcZ(203,197,"Add")),t.xp6(5),t.Oqu(t.lcZ(208,199,"Item")),t.xp6(3),t.Oqu(t.lcZ(211,201,"Description")),t.xp6(3),t.Oqu(t.lcZ(214,203,"Quantity")),t.xp6(3),t.Oqu(t.lcZ(217,205,"Unit")),t.xp6(3),t.Oqu(t.lcZ(220,207,"Price")),t.xp6(3),t.hij("",t.lcZ(223,209,"Disc"),"%"),t.xp6(3),t.hij("",t.lcZ(226,211,"VAT"),"%"),t.xp6(3),t.Oqu(t.lcZ(229,213,"Total")),t.xp6(4),t.Q6J("ngForOf",i.listOfQuotations),t.xp6(5),t.Oqu(t.lcZ(238,215,"Total_Amount")),t.xp6(3),t.Oqu(t.xi3(241,217,i.grandTotal,"1.2")),t.xp6(5),t.Oqu(t.lcZ(246,220,"Line_Discount")),t.xp6(3),t.Oqu(t.xi3(249,222,i.grandDiscountAmount,"1.2")),t.xp6(5),t.Oqu(t.lcZ(254,225,"Footer_Discount")),t.xp6(3),t.Oqu(t.xi3(257,227,i.grandFooterDiscountAmount,"1.2")),t.xp6(5),t.Oqu(t.lcZ(262,230,"VAT_Amount")),t.xp6(3),t.Oqu(t.xi3(265,232,i.grandVatTotal,"1.2")),t.xp6(5),t.Oqu(t.lcZ(270,235,"Quotation_Total")),t.xp6(3),t.Oqu(t.xi3(273,237,i.grandQuotationTotal,"1.2")),t.xp6(7),t.hij(" ",t.lcZ(280,240,"Cancel")," "),t.xp6(3),t.Q6J("ngIf",i.canSave&&i.canCreate&&!i.isRevising),t.xp6(1),t.Q6J("ngIf",i.canSave&&i.canSaveAndApprove&&!i.isRevising&&!i.isRevised),t.xp6(1),t.Q6J("ngIf",i.canSave&&i.canSaveAndApprove&&i.isRevising),t.xp6(1),t.Q6J("ngIf",i.canSave)}},directives:[l._Y,l.JL,l.sg,D.w9,l.JJ,l.u,l.Fj,_.hl,_.nW,A.R9,_.Mq,nt.s,l.EJ,l.YN,l.Kr,d.sg,l.On,d.O5,O.Rr,l.wV,q.gM],pipes:[h.X$,d.JJ],encapsulation:2}),n})(),ys=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-sndquotationprinting"]],decls:2,vars:0,template:function(e,i){1&e&&(t.TgZ(0,"p"),t._uU(1,"sndquotationprinting works!"),t.qZA())},encapsulation:2}),n})();function Us(n,a){if(1&n&&t._UZ(0,"img",61),2&n){const e=t.oxw(2);t.s9C("src",e.company.logoURL,t.LSH)}}function bs(n,a){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td",62),t._uU(2),t.qZA(),t.TgZ(3,"td",62),t.TgZ(4,"b",63),t._uU(5),t._UZ(6,"br"),t.qZA(),t.qZA(),t.TgZ(7,"td",64),t.TgZ(8,"div",65),t._uU(9),t.qZA(),t.qZA(),t.TgZ(10,"td",62),t._uU(11),t.qZA(),t.TgZ(12,"td",62),t._uU(13),t.ALo(14,"number"),t.qZA(),t.TgZ(15,"td",62),t._uU(16),t.qZA(),t.TgZ(17,"td",66),t._uU(18),t.ALo(19,"number"),t.qZA(),t.TgZ(20,"td",66),t._uU(21),t.ALo(22,"number"),t.qZA(),t.qZA()),2&n){const e=a.$implicit;t.xp6(2),t.hij(" ",e.itemCode," "),t.xp6(3),t.hij(" ",e.itemName,""),t.xp6(4),t.hij(" ",e.description," "),t.xp6(2),t.hij(" ",e.quantity," "),t.xp6(2),t.hij(" ",t.xi3(14,8,e.unitPrice,"3.2-5")," "),t.xp6(3),t.hij(" ",e.taxTariffPercentage+" %"," "),t.xp6(2),t.hij(" ",t.xi3(19,11,e.taxAmount,"3.2-5")," "),t.xp6(3),t.hij(" ",t.xi3(22,14,e.totalAmount,"3.2-5")," ")}}function Ls(n,a){1&n&&(t.TgZ(0,"table",5),t.TgZ(1,"tr"),t._UZ(2,"td",67),t.qZA(),t.qZA())}function Is(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"div",1),t.TgZ(2,"table",2),t.TgZ(3,"tr"),t.TgZ(4,"td",3),t.YNc(5,Us,1,1,"img",4),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"table",5),t.TgZ(7,"tr"),t.TgZ(8,"td",6),t.TgZ(9,"h4",7),t._uU(10),t.qZA(),t.TgZ(11,"h4",7),t._uU(12),t.qZA(),t._UZ(13,"span"),t.TgZ(14,"h4",7),t._uU(15," VAT NO : "),t.TgZ(16,"span",8),t._uU(17),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"td",9),t.TgZ(19,"span",10),t._uU(20),t.ALo(21,"translate"),t.qZA(),t._UZ(22,"br"),t.TgZ(23,"span",11),t._uU(24," QUOTATION \xa0 \xa0\xa0 "),t.qZA(),t.qZA(),t.TgZ(25,"td",12),t.TgZ(26,"h4",13),t._uU(27),t.qZA(),t.TgZ(28,"h4",13),t._uU(29),t.qZA(),t.TgZ(30,"h4",13),t._uU(31),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(32,"div",14),t.TgZ(33,"table",15),t.TgZ(34,"tr"),t.TgZ(35,"td",16),t.TgZ(36,"table",17),t.TgZ(37,"tr"),t.TgZ(38,"td",18),t._uU(39," Quotation # "),t.qZA(),t.TgZ(40,"td",19),t._uU(41),t.qZA(),t.TgZ(42,"td",20),t._uU(43," \u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629 "),t.qZA(),t.qZA(),t.TgZ(44,"tr"),t.TgZ(45,"td",18),t._uU(46," Service Month "),t.qZA(),t.TgZ(47,"td",19),t._uU(48),t.qZA(),t.TgZ(49,"td",20),t._uU(50," \u0634\u0647\u0631 \u0627\u0644\u0639\u0645\u0644 "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(51,"td",21),t.TgZ(52,"td",22),t.TgZ(53,"table",17),t.TgZ(54,"tr"),t.TgZ(55,"td",18),t._uU(56," Issue Date "),t.qZA(),t.TgZ(57,"td",19),t.TgZ(58,"label",23),t._uU(59),t.ALo(60,"date"),t.qZA(),t.qZA(),t.TgZ(61,"td",20),t._uU(62," \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0635\u062f\u0627\u0631 "),t.qZA(),t.qZA(),t.TgZ(63,"tr"),t.TgZ(64,"td",18),t._uU(65," Due Date "),t.qZA(),t.TgZ(66,"td",19),t.TgZ(67,"label",23),t._uU(68),t.ALo(69,"date"),t.qZA(),t.qZA(),t.TgZ(70,"td",20),t._uU(71," \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0633\u062a\u062d\u0642\u0627\u0642 "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(72,"div",24),t.TgZ(73,"table",17),t.TgZ(74,"tr"),t.TgZ(75,"td",25),t._uU(76," Address "),t.qZA(),t.TgZ(77,"td",26),t._uU(78),t.qZA(),t.TgZ(79,"td",27),t._uU(80),t.ALo(81,"translate"),t.qZA(),t.TgZ(82,"td",28),t._uU(83),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(84,"div",24),t.TgZ(85,"table",17),t.TgZ(86,"tr"),t.TgZ(87,"td",29),t._uU(88),t.qZA(),t.TgZ(89,"td",30),t._uU(90," \u0627\u0644\u0639\u0646\u0648\u0627\u0646 "),t.qZA(),t.TgZ(91,"td",31),t._uU(92),t.qZA(),t.TgZ(93,"td",32),t._uU(94," \u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064a\u0644 "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(95,"div",24),t.TgZ(96,"table",17),t.TgZ(97,"tr"),t.TgZ(98,"td",33),t._uU(99," \u0634\u0631\u0648\u0637 \u0627\u0644\u062f\u0641\u0639 "),t.TgZ(100,"span",34),t._uU(101," Payment Terms "),t.qZA(),t.qZA(),t.TgZ(102,"td",35),t._uU(103," \u0631\u0642\u0645 \u0623\u0645\u0631 \u0627\u0644\u0634\u0631\u0627\u0621 \xa0 \xa0 "),t.TgZ(104,"span",34),t._uU(105,"P.O. No."),t.qZA(),t.qZA(),t.TgZ(106,"td",19),t._uU(107," \u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064a\u0628\u064a \u0644\u0644\u0639\u0645\u064a\u0644 \xa0 \xa0 "),t.TgZ(108,"span",34),t._uU(109),t.ALo(110,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(111,"tr"),t.TgZ(112,"td",33),t._uU(113),t.qZA(),t.TgZ(114,"td",35),t._uU(115),t.qZA(),t.TgZ(116,"td",19),t._uU(117),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(118,"div",36),t.TgZ(119,"table",17),t.TgZ(120,"tr"),t.TgZ(121,"th",37),t.TgZ(122,"div",38),t._uU(123,"\u0631\u0642\u0645 \u0627\u0644\u0635\u0646\u0641"),t.qZA(),t.TgZ(124,"div",39),t._uU(125,"Item"),t.qZA(),t.qZA(),t.TgZ(126,"th",37),t.TgZ(127,"div",38),t._uU(128," \u0627\u0633\u0645"),t.qZA(),t.TgZ(129,"div",39),t._uU(130,"Name"),t.qZA(),t.qZA(),t.TgZ(131,"th",19),t.TgZ(132,"div",38),t._uU(133,"\u0627\u0644\u0648\u0635\u0641"),t.qZA(),t.TgZ(134,"div",39),t._uU(135,"Description"),t.qZA(),t.qZA(),t.TgZ(136,"th",37),t.TgZ(137,"div",38),t._uU(138," \u0627\u0644\u0643\u0645\u064a\u0629"),t.qZA(),t.TgZ(139,"div",39),t._uU(140,"Qty"),t.qZA(),t.qZA(),t.TgZ(141,"th",37),t.TgZ(142,"div",38),t._uU(143,"\u0633\u0639\u0631 \u0627\u0644\u0648\u062d\u062f\u0629"),t.qZA(),t.TgZ(144,"div",39),t._uU(145,"Unit Price"),t.qZA(),t.qZA(),t.TgZ(146,"th",37),t.TgZ(147,"div",38),t._uU(148," \u0636\u0631\u064a\u0628\u0629 \u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0645\u0636\u0627\u0641\u0629"),t.qZA(),t.TgZ(149,"div",39),t._uU(150,"Vat"),t.qZA(),t.qZA(),t.TgZ(151,"th",40),t.TgZ(152,"div",38),t._uU(153," \u0625\u062c\u0645\u0627\u0644\u064a \u0636\u0631\u064a\u0628\u0629 \u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0645\u0636\u0627\u0641\u0629"),t.qZA(),t.TgZ(154,"div",39),t._uU(155,"Vat Amount"),t.qZA(),t.qZA(),t.TgZ(156,"th",40),t.TgZ(157,"div",38),t._uU(158,"\u0627\u0644\u0633\u0639\u0631 \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a"),t.qZA(),t.TgZ(159,"div",39),t._uU(160,"Total Price"),t.qZA(),t.qZA(),t.qZA(),t.YNc(161,bs,23,17,"tr",41),t.TgZ(162,"tr"),t.TgZ(163,"td",42),t.TgZ(164,"div",43),t._uU(165),t.qZA(),t.TgZ(166,"div",44),t._uU(167),t.qZA(),t.TgZ(168,"div",45),t._UZ(169,"img",46),t.qZA(),t.qZA(),t.TgZ(170,"td",47),t.TgZ(171,"div",48),t._uU(172," \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a \u063a\u064a\u0631 \u0634\u0627\u0645\u0644 \u0627\u0644\u0636\u0631\u064a\u0628\u0629"),t.qZA(),t.TgZ(173,"div",49),t._uU(174,"Subtotal Excl. VAT"),t.qZA(),t.qZA(),t.TgZ(175,"td",50),t._uU(176),t.ALo(177,"number"),t.qZA(),t.qZA(),t.TgZ(178,"tr"),t.TgZ(179,"td",47),t.TgZ(180,"div",48),t._UZ(181,"span",49),t._uU(182," \u0636\u0631\u064a\u0628\u0629 \u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0645\u0636\u0627\u0641\u0629 "),t.qZA(),t.TgZ(183,"div",49),t._uU(184,"VAT Amount"),t.qZA(),t.qZA(),t.TgZ(185,"td",50),t._uU(186),t.ALo(187,"number"),t.qZA(),t.qZA(),t.TgZ(188,"tr"),t.TgZ(189,"td",51),t.TgZ(190,"table",52),t.TgZ(191,"tr"),t.TgZ(192,"td",53),t.TgZ(193,"div",54),t._uU(194,":Bank Account Details"),t.qZA(),t.TgZ(195,"div",54),t._uU(196),t.qZA(),t.TgZ(197,"div",54),t._uU(198),t.qZA(),t.TgZ(199,"div",54),t._uU(200),t.qZA(),t._UZ(201,"div",54),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(202,"td",55),t.TgZ(203,"div",56),t._uU(204," \u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a \u0634\u0627\u0645\u0644 \u0627\u0644\u0636\u0631\u064a\u0628\u0629"),t.qZA(),t.TgZ(205,"div",57),t._uU(206,"Total Incl. VAT"),t.qZA(),t.qZA(),t.TgZ(207,"td",58),t._uU(208," SAR "),t.TgZ(209,"span",59),t._uU(210),t.ALo(211,"number"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(212,"tr"),t.TgZ(213,"td",47),t.TgZ(214,"div",48),t._uU(215,"\u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u0645\u062f\u0641\u0648\u0639"),t.qZA(),t.TgZ(216,"div",49),t._uU(217,"Amount Paid"),t.qZA(),t.qZA(),t.TgZ(218,"td",50),t._uU(219),t.ALo(220,"number"),t.qZA(),t.qZA(),t.TgZ(221,"tr"),t.TgZ(222,"td",55),t.TgZ(223,"div",56),t._uU(224,"\u0627\u0644\u0631\u0635\u064a\u062f \u0627\u0644\u0645\u0633\u062a\u062d\u0642"),t.qZA(),t.TgZ(225,"div",57),t._uU(226,"Balance Due "),t.qZA(),t.qZA(),t.TgZ(227,"td",58),t._uU(228),t.ALo(229,"number"),t.qZA(),t.qZA(),t.qZA(),t.YNc(230,Ls,3,0,"table",60),t.qZA(),t.qZA(),t.BQk()),2&n){const e=t.oxw();t.xp6(4),t.Akn(e.isSavePDF?"height : 0px ":"height:150px"),t.xp6(1),t.Q6J("ngIf",e.isSavePDF),t.xp6(5),t.hij(" ",e.company.companyName," "),t.xp6(2),t.hij(" ",e.company.companyAddress," "),t.xp6(5),t.hij("",e.company.vatNumber," "),t.xp6(3),t.hij(" ",t.lcZ(21,37,"QUOTATION")," "),t.xp6(7),t.hij(" ",e.company.companyName," "),t.xp6(2),t.hij(" ",e.company.companyAddress," "),t.xp6(2),t.hij(" ",e.company.vatNumber," : \u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064a\u0628\u064a "),t.xp6(10),t.hij(" ",e.quotation.quotationNumber," "),t.xp6(7),t.hij(" ",e.quotation.serviceDate1," "),t.xp6(11),t.hij(" ",t.xi3(60,39,e.quotation.quotationDate,"dd-MM-yyyy")," "),t.xp6(9),t.Oqu(t.xi3(69,42,e.quotation.quotationDueDate,"dd-MM-yyyy")),t.xp6(10),t.hij(" ",e.customer.custAddress1," "),t.xp6(2),t.AsE(" ",e.quotation.customerName?"Walk-In / \u0641\u064a \u0627\u0644\u0645\u0648\u0642\u0639 ":""," ",t.lcZ(81,45,"Customer_Name")," "),t.xp6(3),t.hij(" ",e.customer.custName," "),t.xp6(5),t.hij(" ",e.customer.custAddress1," "),t.xp6(4),t.hij(" ",e.customer.custArbName," "),t.xp6(17),t.Oqu(t.lcZ(110,47,"Customer_VAT_No")),t.xp6(4),t.hij(" ",e.quotation.paymentTermId," "),t.xp6(2),t.hij(" ",e.quotation.quotationRefNumber," "),t.xp6(2),t.hij(" ",e.customer.vatNumber," "),t.xp6(44),t.Q6J("ngForOf",e.tableData),t.xp6(4),t.hij(" \u0627\u0644\u0645\u062c\u0645\u0648\u0639 \u0643\u062a\u0627\u0628\u0629 : ",e.totalAmountAr," "),t.xp6(2),t.hij(" Total In Words: ",e.totalAmountEn," "),t.xp6(2),t.s9C("src",e.quotation.qrCode,t.LSH),t.xp6(7),t.hij(" SAR ",t.xi3(177,49,e.quotation.subTotal,"3.2-5")," "),t.xp6(10),t.hij(" SAR ",t.xi3(187,52,e.quotation.taxAmount,"3.2-5")," "),t.xp6(10),t.hij(" Account Name: ",e.company.companyName,""),t.xp6(2),t.hij("Bank Name: ",e.bank.branchName,""),t.xp6(2),t.hij("Address :",e.bank.branchAddress," "),t.xp6(10),t.Oqu(t.xi3(211,55,e.quotation.totalAmount,"3.2-5")),t.xp6(9),t.hij(" SAR ",t.xi3(220,58,e.quotation.paidAmount,"3.2-5")," "),t.xp6(9),t.hij(" SAR ",t.xi3(229,61,e.quotation.totalAmount-e.quotation.paidAmount,"3.2-5")," "),t.xp6(2),t.Q6J("ngIf",e.isSavePDF)}}function Ns(n,a){if(1&n&&t._UZ(0,"img",61),2&n){const e=t.oxw(2);t.s9C("src",e.company.logoURL,t.LSH)}}function ws(n,a){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td",71),t._uU(2),t.qZA(),t.TgZ(3,"td",71),t.TgZ(4,"b",63),t._uU(5),t._UZ(6,"br"),t.qZA(),t.qZA(),t.TgZ(7,"td",64),t.TgZ(8,"div",65),t._uU(9),t.qZA(),t.qZA(),t.TgZ(10,"td",71),t._uU(11),t.qZA(),t.TgZ(12,"td",71),t._uU(13),t.ALo(14,"number"),t.qZA(),t.TgZ(15,"td",71),t._uU(16),t.ALo(17,"number"),t.qZA(),t.qZA()),2&n){const e=a.$implicit;t.xp6(2),t.hij(" ",e.itemCode," "),t.xp6(3),t.hij(" ",e.itemName,""),t.xp6(4),t.hij(" ",e.unitType," "),t.xp6(2),t.hij(" ",e.quantity," "),t.xp6(2),t.hij(" ",t.xi3(14,6,e.unitPrice,"1.2")," "),t.xp6(3),t.hij(" ",t.xi3(17,9,e.totalAmount,"1.2")," ")}}function Ds(n,a){1&n&&(t.TgZ(0,"table",5),t.TgZ(1,"tr"),t._UZ(2,"td",72),t.qZA(),t.qZA())}function Os(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"div",1),t.TgZ(2,"table",2),t.TgZ(3,"tr"),t.TgZ(4,"td",3),t.YNc(5,Ns,1,1,"img",4),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"table",5),t.TgZ(7,"tr"),t.TgZ(8,"td",6),t.TgZ(9,"h4",7),t._uU(10),t.qZA(),t.TgZ(11,"h4",7),t._uU(12),t.qZA(),t._UZ(13,"span"),t.TgZ(14,"h4",7),t._uU(15," VAT NO : "),t.TgZ(16,"span",8),t._uU(17),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"td",9),t.TgZ(19,"span",10),t._uU(20),t.ALo(21,"translate"),t.qZA(),t._UZ(22,"br"),t.TgZ(23,"span",11),t._uU(24," QUOTATION \xa0 \xa0\xa0 "),t.qZA(),t.qZA(),t.TgZ(25,"td",12),t.TgZ(26,"h4",13),t._uU(27),t.qZA(),t.TgZ(28,"h4",13),t._uU(29),t.qZA(),t.TgZ(30,"h4",13),t._uU(31),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(32,"div",14),t.TgZ(33,"table",15),t.TgZ(34,"tr"),t.TgZ(35,"td",16),t.TgZ(36,"table",17),t.TgZ(37,"tr"),t.TgZ(38,"td",18),t._uU(39," Quotation # "),t.qZA(),t.TgZ(40,"td",19),t._uU(41),t.qZA(),t.TgZ(42,"td",20),t._uU(43," \u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629 "),t.qZA(),t.qZA(),t.TgZ(44,"tr"),t.TgZ(45,"td",18),t._uU(46," Service Month "),t.qZA(),t.TgZ(47,"td",19),t._uU(48),t.qZA(),t.TgZ(49,"td",20),t._uU(50," \u0634\u0647\u0631 \u0627\u0644\u0639\u0645\u0644 "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(51,"td",21),t.TgZ(52,"td",22),t.TgZ(53,"table",17),t.TgZ(54,"tr"),t.TgZ(55,"td",18),t._uU(56," Issue Date "),t.qZA(),t.TgZ(57,"td",19),t.TgZ(58,"label",23),t._uU(59),t.ALo(60,"date"),t.qZA(),t.qZA(),t.TgZ(61,"td",20),t._uU(62," \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0635\u062f\u0627\u0631 "),t.qZA(),t.qZA(),t.TgZ(63,"tr"),t.TgZ(64,"td",18),t._uU(65," Due Date "),t.qZA(),t.TgZ(66,"td",19),t.TgZ(67,"label",23),t._uU(68),t.ALo(69,"date"),t.qZA(),t.qZA(),t.TgZ(70,"td",20),t._uU(71," \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0633\u062a\u062d\u0642\u0627\u0642 "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(72,"div",24),t.TgZ(73,"table",17),t.TgZ(74,"tr"),t.TgZ(75,"td",25),t._uU(76," Address "),t.qZA(),t.TgZ(77,"td",26),t._uU(78),t.qZA(),t.TgZ(79,"td",27),t._uU(80),t.ALo(81,"translate"),t.qZA(),t.TgZ(82,"td",28),t._uU(83),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(84,"div",24),t.TgZ(85,"table",17),t.TgZ(86,"tr"),t.TgZ(87,"td",29),t._uU(88),t.qZA(),t.TgZ(89,"td",30),t._uU(90," \u0627\u0644\u0639\u0646\u0648\u0627\u0646 "),t.qZA(),t.TgZ(91,"td",31),t._uU(92),t.qZA(),t.TgZ(93,"td",32),t._uU(94," \u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064a\u0644 "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(95,"div",24),t.TgZ(96,"table",17),t.TgZ(97,"tr"),t.TgZ(98,"td",33),t._uU(99," \u0634\u0631\u0648\u0637 \u0627\u0644\u062f\u0641\u0639 "),t.TgZ(100,"span",34),t._uU(101," Payment Terms "),t.qZA(),t.qZA(),t.TgZ(102,"td",35),t._uU(103," \u0631\u0642\u0645 \u0623\u0645\u0631 \u0627\u0644\u0634\u0631\u0627\u0621 \xa0 \xa0 "),t.TgZ(104,"span",34),t._uU(105,"P.O. No."),t.qZA(),t.qZA(),t.TgZ(106,"td",19),t._uU(107," \u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064a\u0628\u064a \u0644\u0644\u0639\u0645\u064a\u0644 \xa0 \xa0 "),t.TgZ(108,"span",34),t._uU(109),t.ALo(110,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(111,"tr"),t.TgZ(112,"td",33),t._uU(113),t.qZA(),t.TgZ(114,"td",35),t._uU(115),t.qZA(),t.TgZ(116,"td",19),t._uU(117),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(118,"div",36),t.TgZ(119,"table",17),t.TgZ(120,"tr"),t.TgZ(121,"th",40),t.TgZ(122,"div",38),t._uU(123,"\u0631\u0642\u0645 \u0627\u0644\u0635\u0646\u0641"),t.qZA(),t.TgZ(124,"div",39),t._uU(125,"Item"),t.qZA(),t.qZA(),t.TgZ(126,"th",68),t.TgZ(127,"div",38),t._uU(128),t.ALo(129,"translate"),t.qZA(),t.TgZ(130,"div",39),t._uU(131,"Item Details"),t.qZA(),t.qZA(),t.TgZ(132,"th",40),t.TgZ(133,"div",38),t._uU(134),t.ALo(135,"translate"),t.qZA(),t.TgZ(136,"div",39),t._uU(137,"Unit"),t.qZA(),t.qZA(),t.TgZ(138,"th",40),t.TgZ(139,"div",38),t._uU(140," \u0627\u0644\u0643\u0645\u064a\u0629"),t.qZA(),t.TgZ(141,"div",39),t._uU(142,"Qty"),t.qZA(),t.qZA(),t.TgZ(143,"th",40),t.TgZ(144,"div",38),t._uU(145,"\u0633\u0639\u0631 \u0627\u0644\u0648\u062d\u062f\u0629"),t.qZA(),t.TgZ(146,"div",39),t._uU(147,"Unit Price"),t.qZA(),t.qZA(),t.TgZ(148,"th",68),t.TgZ(149,"div",38),t._uU(150,"\u0627\u0644\u0633\u0639\u0631 \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a"),t.qZA(),t.TgZ(151,"div",39),t._uU(152,"Total Price"),t.qZA(),t.qZA(),t.qZA(),t.YNc(153,ws,18,12,"tr",41),t.TgZ(154,"tr"),t.TgZ(155,"td",69),t.TgZ(156,"div",43),t._uU(157),t.qZA(),t.TgZ(158,"div",44),t._uU(159),t.qZA(),t.TgZ(160,"div",45),t._UZ(161,"img",46),t.qZA(),t.qZA(),t.TgZ(162,"td",47),t.TgZ(163,"div",48),t._uU(164),t.ALo(165,"translate"),t.qZA(),t.TgZ(166,"div",49),t._uU(167,"Total"),t.qZA(),t.qZA(),t.TgZ(168,"td",50),t._uU(169),t.ALo(170,"number"),t.qZA(),t.qZA(),t.TgZ(171,"tr"),t.TgZ(172,"td",47),t.TgZ(173,"div",48),t._uU(174),t.ALo(175,"translate"),t.qZA(),t.TgZ(176,"div",49),t._uU(177,"Discount"),t.qZA(),t.qZA(),t.TgZ(178,"td",50),t._uU(179),t.ALo(180,"number"),t.qZA(),t.qZA(),t.TgZ(181,"tr"),t.TgZ(182,"td",47),t.TgZ(183,"div",48),t._uU(184," \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a \u063a\u064a\u0631 \u0634\u0627\u0645\u0644 \u0627\u0644\u0636\u0631\u064a\u0628\u0629"),t.qZA(),t.TgZ(185,"div",49),t._uU(186,"Subtotal Excl. VAT"),t.qZA(),t.qZA(),t.TgZ(187,"td",50),t._uU(188),t.ALo(189,"number"),t.qZA(),t.qZA(),t.TgZ(190,"tr"),t.TgZ(191,"td",47),t.TgZ(192,"div",48),t._UZ(193,"span",49),t._uU(194," \u0636\u0631\u064a\u0628\u0629 \u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0645\u0636\u0627\u0641\u0629 "),t.qZA(),t.TgZ(195,"div",49),t._uU(196,"VAT Amount"),t.qZA(),t.qZA(),t.TgZ(197,"td",50),t._uU(198),t.ALo(199,"number"),t.qZA(),t.qZA(),t.TgZ(200,"tr"),t.TgZ(201,"td",70),t.TgZ(202,"table",52),t.TgZ(203,"tr"),t.TgZ(204,"td",53),t.TgZ(205,"div",54),t._uU(206,":Bank Account Details"),t.qZA(),t.TgZ(207,"div",54),t._uU(208),t.qZA(),t.TgZ(209,"div",54),t._uU(210),t.qZA(),t.TgZ(211,"div",54),t._uU(212),t.qZA(),t._UZ(213,"div",54),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(214,"td",55),t.TgZ(215,"div",56),t._uU(216," \u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a \u0634\u0627\u0645\u0644 \u0627\u0644\u0636\u0631\u064a\u0628\u0629"),t.qZA(),t.TgZ(217,"div",57),t._uU(218,"Total Incl. VAT"),t.qZA(),t.qZA(),t.TgZ(219,"td",58),t._uU(220," SAR "),t.TgZ(221,"span",59),t._uU(222),t.ALo(223,"number"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(224,"tr"),t.TgZ(225,"td",47),t.TgZ(226,"div",48),t._uU(227,"\u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u0645\u062f\u0641\u0648\u0639"),t.qZA(),t.TgZ(228,"div",49),t._uU(229,"Amount Paid"),t.qZA(),t.qZA(),t.TgZ(230,"td",50),t._uU(231),t.ALo(232,"number"),t.qZA(),t.qZA(),t.TgZ(233,"tr"),t.TgZ(234,"td",55),t.TgZ(235,"div",56),t._uU(236,"\u0627\u0644\u0631\u0635\u064a\u062f \u0627\u0644\u0645\u0633\u062a\u062d\u0642"),t.qZA(),t.TgZ(237,"div",57),t._uU(238,"Balance Due "),t.qZA(),t.qZA(),t.TgZ(239,"td",58),t._uU(240),t.ALo(241,"number"),t.qZA(),t.qZA(),t.qZA(),t.YNc(242,Ds,3,0,"table",60),t.qZA(),t.qZA(),t.BQk()),2&n){const e=t.oxw();t.xp6(4),t.Akn(e.isSavePDF?"height : 0px ":"height:150px"),t.xp6(1),t.Q6J("ngIf",e.isSavePDF),t.xp6(5),t.hij(" ",e.company.companyName," "),t.xp6(2),t.hij(" ",e.company.companyAddress," "),t.xp6(5),t.hij("",e.company.vatNumber," "),t.xp6(3),t.hij(" ",t.lcZ(21,43,"QUOTATION")," "),t.xp6(7),t.hij(" ",e.company.companyName," "),t.xp6(2),t.hij(" ",e.company.companyAddress," "),t.xp6(2),t.hij(" ",e.company.vatNumber," : \u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064a\u0628\u064a "),t.xp6(10),t.hij(" ",e.quotation.quotationNumber," "),t.xp6(7),t.hij(" ",e.quotation.serviceDate1," "),t.xp6(11),t.hij(" ",t.xi3(60,45,e.quotation.quotationDate,"dd-MM-yyyy")," "),t.xp6(9),t.Oqu(t.xi3(69,48,e.quotation.quotationDueDate,"dd-MM-yyyy")),t.xp6(10),t.hij(" ",e.customer.custAddress1," "),t.xp6(2),t.AsE(" ",e.quotation.customerName?"Walk-In / \u0641\u064a \u0627\u0644\u0645\u0648\u0642\u0639 ":""," ",t.lcZ(81,51,"Customer_Name")," "),t.xp6(3),t.hij(" ",e.customer.custName," "),t.xp6(5),t.hij(" ",e.customer.custAddress1," "),t.xp6(4),t.hij(" ",e.customer.custArbName," "),t.xp6(17),t.Oqu(t.lcZ(110,53,"Customer_VAT_No")),t.xp6(4),t.hij(" ",e.quotation.paymentTermId," "),t.xp6(2),t.hij(" ",e.quotation.quotationRefNumber," "),t.xp6(2),t.hij(" ",e.customer.vatNumber," "),t.xp6(11),t.hij(" ",t.lcZ(129,55,"Item_Details"),""),t.xp6(6),t.Oqu(t.lcZ(135,57,"Unit")),t.xp6(19),t.Q6J("ngForOf",e.tableData),t.xp6(4),t.hij(" \u0627\u0644\u0645\u062c\u0645\u0648\u0639 \u0643\u062a\u0627\u0628\u0629 : ",e.totalAmountAr," "),t.xp6(2),t.hij(" Total In Words: ",e.totalAmountEn," "),t.xp6(2),t.s9C("src",e.quotation.qrCode,t.LSH),t.xp6(3),t.hij(" ",t.lcZ(165,59,"Total"),""),t.xp6(5),t.hij(" SAR ",t.xi3(170,61,e.grandTotalData.total,"3.2-5")," "),t.xp6(5),t.hij(" ",t.lcZ(175,64,"Discount"),""),t.xp6(5),t.hij(" SAR ",t.xi3(180,66,e.grandTotalData.discAmnt+e.grandTotalData.footerDiscAmnt,"3.2-5")," "),t.xp6(9),t.hij(" SAR ",t.xi3(189,69,e.grandTotalData.totalBeforeVat,"3.2-5")," "),t.xp6(10),t.hij(" SAR ",t.xi3(199,72,e.grandTotalData.vatAmnt,"3.2-5")," "),t.xp6(10),t.hij(" Account Name: ",e.company.companyName,""),t.xp6(2),t.hij("Bank Name: ",e.bank.branchName,""),t.xp6(2),t.hij("Address :",e.bank.branchAddress," "),t.xp6(10),t.Oqu(t.xi3(223,75,e.grandTotalData.invTotalAmnt,"3.2-5")),t.xp6(9),t.hij(" SAR ",t.xi3(232,78,e.quotation.paidAmount,"3.2-5")," "),t.xp6(9),t.hij(" SAR ",t.xi3(241,81,e.grandTotalData.invTotalAmnt-e.quotation.paidAmount,"3.2-5")," "),t.xp6(2),t.Q6J("ngIf",e.isSavePDF)}}function Ms(n,a){if(1&n&&t._UZ(0,"img",61),2&n){const e=t.oxw(2);t.s9C("src",e.company.logoURL,t.LSH)}}function ks(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"tr"),t.TgZ(2,"td",75),t._uU(3),t.qZA(),t.TgZ(4,"td",71),t._uU(5),t.qZA(),t._UZ(6,"td",71),t.TgZ(7,"td",71),t._uU(8),t.qZA(),t.TgZ(9,"td",71),t._uU(10),t.ALo(11,"number"),t.qZA(),t.TgZ(12,"td",71),t._uU(13),t.ALo(14,"number"),t.qZA(),t.qZA(),t.TgZ(15,"tr"),t.TgZ(16,"td",71),t.TgZ(17,"b",63),t._uU(18),t._UZ(19,"br"),t.qZA(),t.qZA(),t._UZ(20,"td",71),t.TgZ(21,"td",76),t.TgZ(22,"div",65),t._uU(23),t.qZA(),t.qZA(),t.TgZ(24,"td",71),t._uU(25),t.ALo(26,"number"),t.qZA(),t.TgZ(27,"td",71),t._uU(28),t.ALo(29,"number"),t.qZA(),t.qZA(),t.BQk()),2&n){const e=a.$implicit,i=a.index;t.xp6(3),t.Oqu(i+1),t.xp6(2),t.hij(" ",e.itemCode," "),t.xp6(3),t.hij(" ",e.quantity," "),t.xp6(2),t.hij(" ",t.xi3(11,9,e.unitPrice,"1.2")," "),t.xp6(3),t.hij(" ",t.xi3(14,12,e.totalAmount,"1.2")," "),t.xp6(5),t.hij(" ",e.itemName,""),t.xp6(5),t.hij(" ",e.unitType," "),t.xp6(2),t.hij(" ",t.xi3(26,15,e.calUnitTotalDiscPrice,"1.2")," "),t.xp6(3),t.hij(" ",t.xi3(29,18,e.calSubTotal,"1.2")," ")}}function Qs(n,a){1&n&&(t.TgZ(0,"table",5),t.TgZ(1,"tr"),t._UZ(2,"td",77),t.qZA(),t.qZA())}function js(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"div",1),t.TgZ(2,"table",2),t.TgZ(3,"tr"),t.TgZ(4,"td",3),t.YNc(5,Ms,1,1,"img",4),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"table",5),t.TgZ(7,"tr"),t.TgZ(8,"td",6),t.TgZ(9,"h4",7),t._uU(10),t.qZA(),t.TgZ(11,"h4",7),t._uU(12),t.qZA(),t._UZ(13,"span"),t.TgZ(14,"h4",7),t._uU(15," VAT NO : "),t.TgZ(16,"span",8),t._uU(17),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"td",9),t.TgZ(19,"span",10),t._uU(20),t.ALo(21,"translate"),t.qZA(),t._UZ(22,"br"),t.TgZ(23,"span",11),t._uU(24," QUOTATION \xa0 \xa0\xa0 "),t.qZA(),t.qZA(),t.TgZ(25,"td",12),t.TgZ(26,"h4",13),t._uU(27),t.qZA(),t.TgZ(28,"h4",13),t._uU(29),t.qZA(),t.TgZ(30,"h4",13),t._uU(31),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(32,"div",14),t.TgZ(33,"table",15),t.TgZ(34,"tr"),t.TgZ(35,"td",16),t.TgZ(36,"table",17),t.TgZ(37,"tr"),t.TgZ(38,"td",18),t._uU(39," Quotation # "),t.qZA(),t.TgZ(40,"td",19),t._uU(41),t.qZA(),t.TgZ(42,"td",20),t._uU(43," \u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629 "),t.qZA(),t.qZA(),t.TgZ(44,"tr"),t.TgZ(45,"td",18),t._uU(46," Service Month "),t.qZA(),t.TgZ(47,"td",19),t._uU(48),t.qZA(),t.TgZ(49,"td",20),t._uU(50," \u0634\u0647\u0631 \u0627\u0644\u0639\u0645\u0644 "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(51,"td",21),t.TgZ(52,"td",22),t.TgZ(53,"table",17),t.TgZ(54,"tr"),t.TgZ(55,"td",18),t._uU(56," Issue Date "),t.qZA(),t.TgZ(57,"td",19),t.TgZ(58,"label",23),t._uU(59),t.ALo(60,"date"),t.qZA(),t.qZA(),t.TgZ(61,"td",20),t._uU(62," \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0635\u062f\u0627\u0631 "),t.qZA(),t.qZA(),t.TgZ(63,"tr"),t.TgZ(64,"td",18),t._uU(65," Due Date "),t.qZA(),t.TgZ(66,"td",19),t.TgZ(67,"label",23),t._uU(68),t.ALo(69,"date"),t.qZA(),t.qZA(),t.TgZ(70,"td",20),t._uU(71," \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0633\u062a\u062d\u0642\u0627\u0642 "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(72,"div",24),t.TgZ(73,"table",17),t.TgZ(74,"tr"),t.TgZ(75,"td",25),t._uU(76," Address "),t.qZA(),t.TgZ(77,"td",26),t._uU(78),t.qZA(),t.TgZ(79,"td",27),t._uU(80),t.ALo(81,"translate"),t.qZA(),t.TgZ(82,"td",28),t._uU(83),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(84,"div",24),t.TgZ(85,"table",17),t.TgZ(86,"tr"),t.TgZ(87,"td",29),t._uU(88),t.qZA(),t.TgZ(89,"td",30),t._uU(90," \u0627\u0644\u0639\u0646\u0648\u0627\u0646 "),t.qZA(),t.TgZ(91,"td",31),t._uU(92),t.qZA(),t.TgZ(93,"td",32),t._uU(94," \u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064a\u0644 "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(95,"div",24),t.TgZ(96,"table",17),t.TgZ(97,"tr"),t.TgZ(98,"td",33),t._uU(99," \u0634\u0631\u0648\u0637 \u0627\u0644\u062f\u0641\u0639 "),t.TgZ(100,"span",34),t._uU(101," Payment Terms "),t.qZA(),t.qZA(),t.TgZ(102,"td",35),t._uU(103," \u0631\u0642\u0645 \u0623\u0645\u0631 \u0627\u0644\u0634\u0631\u0627\u0621 \xa0 \xa0 "),t.TgZ(104,"span",34),t._uU(105,"P.O. No."),t.qZA(),t.qZA(),t.TgZ(106,"td",19),t._uU(107," \u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064a\u0628\u064a \u0644\u0644\u0639\u0645\u064a\u0644 \xa0 \xa0 "),t.TgZ(108,"span",34),t._uU(109),t.ALo(110,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(111,"tr"),t.TgZ(112,"td",33),t._uU(113),t.qZA(),t.TgZ(114,"td",35),t._uU(115),t.qZA(),t.TgZ(116,"td",19),t._uU(117),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(118,"div",36),t.TgZ(119,"table",17),t.TgZ(120,"tr"),t.TgZ(121,"th",73),t._uU(122," S.No "),t.qZA(),t.TgZ(123,"th",68),t.TgZ(124,"div",38),t._uU(125,"\u0631\u0642\u0645 \u0627\u0644\u0635\u0646\u0641"),t.qZA(),t.TgZ(126,"div",39),t._uU(127,"Item"),t.qZA(),t.qZA(),t.TgZ(128,"th",33),t._uU(129),t.ALo(130,"translate"),t.qZA(),t.TgZ(131,"th",40),t.TgZ(132,"div",38),t._uU(133," \u0627\u0644\u0643\u0645\u064a\u0629"),t.qZA(),t.TgZ(134,"div",39),t._uU(135,"Qty"),t.qZA(),t.qZA(),t.TgZ(136,"th",40),t.TgZ(137,"div",38),t._uU(138),t.ALo(139,"translate"),t.qZA(),t.TgZ(140,"div",39),t._uU(141,"Cost"),t.qZA(),t.qZA(),t.TgZ(142,"th",40),t.TgZ(143,"div",38),t._uU(144),t.ALo(145,"translate"),t.qZA(),t.TgZ(146,"div",39),t._uU(147,"Total"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(148,"tr"),t.TgZ(149,"th",19),t.TgZ(150,"div",38),t._uU(151),t.ALo(152,"translate"),t.qZA(),t.TgZ(153,"div",39),t._uU(154,"Item Details"),t.qZA(),t.qZA(),t.TgZ(155,"th",19),t._uU(156," Remarks "),t.qZA(),t.TgZ(157,"th",19),t.TgZ(158,"div",38),t._uU(159),t.ALo(160,"translate"),t.qZA(),t.TgZ(161,"div",39),t._uU(162,"Unit"),t.qZA(),t.qZA(),t.TgZ(163,"th",19),t.TgZ(164,"div",38),t._uU(165),t.ALo(166,"translate"),t.qZA(),t.TgZ(167,"div",39),t._uU(168,"Net Cost"),t.qZA(),t.qZA(),t.TgZ(169,"th",19),t.TgZ(170,"div",38),t._uU(171),t.ALo(172,"translate"),t.qZA(),t.TgZ(173,"div",39),t._uU(174,"Net Total"),t.qZA(),t.qZA(),t.qZA(),t.YNc(175,ks,30,21,"ng-container",41),t.TgZ(176,"tr"),t.TgZ(177,"td",69),t.TgZ(178,"div",43),t._uU(179),t.qZA(),t.TgZ(180,"div",44),t._uU(181),t.qZA(),t.TgZ(182,"div",45),t._UZ(183,"img",46),t.qZA(),t.qZA(),t.TgZ(184,"td",47),t.TgZ(185,"div",48),t._uU(186),t.ALo(187,"translate"),t.qZA(),t.TgZ(188,"div",49),t._uU(189,"Total"),t.qZA(),t.qZA(),t.TgZ(190,"td",50),t._uU(191),t.ALo(192,"number"),t.qZA(),t.qZA(),t.TgZ(193,"tr"),t.TgZ(194,"td",47),t.TgZ(195,"div",48),t._uU(196),t.ALo(197,"translate"),t.qZA(),t.TgZ(198,"div",49),t._uU(199,"Discount"),t.qZA(),t.qZA(),t.TgZ(200,"td",50),t._uU(201),t.ALo(202,"number"),t.qZA(),t.qZA(),t.TgZ(203,"tr"),t.TgZ(204,"td",47),t.TgZ(205,"div",48),t._uU(206," \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a \u063a\u064a\u0631 \u0634\u0627\u0645\u0644 \u0627\u0644\u0636\u0631\u064a\u0628\u0629"),t.qZA(),t.TgZ(207,"div",49),t._uU(208,"Subtotal Excl. VAT"),t.qZA(),t.qZA(),t.TgZ(209,"td",50),t._uU(210),t.ALo(211,"number"),t.qZA(),t.qZA(),t.TgZ(212,"tr"),t.TgZ(213,"td",47),t.TgZ(214,"div",48),t._UZ(215,"span",49),t._uU(216," \u0636\u0631\u064a\u0628\u0629 \u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0645\u0636\u0627\u0641\u0629 "),t.qZA(),t.TgZ(217,"div",49),t._uU(218,"VAT Amount"),t.qZA(),t.qZA(),t.TgZ(219,"td",50),t._uU(220),t.ALo(221,"number"),t.qZA(),t.qZA(),t.TgZ(222,"tr"),t.TgZ(223,"td",74),t.TgZ(224,"table",52),t.TgZ(225,"tr"),t.TgZ(226,"td",53),t.TgZ(227,"div",54),t._uU(228,":Bank Account Details"),t.qZA(),t.TgZ(229,"div",54),t._uU(230),t.qZA(),t.TgZ(231,"div",54),t._uU(232),t.qZA(),t.TgZ(233,"div",54),t._uU(234),t.qZA(),t._UZ(235,"div",54),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(236,"td",55),t.TgZ(237,"div",56),t._uU(238," \u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a \u0634\u0627\u0645\u0644 \u0627\u0644\u0636\u0631\u064a\u0628\u0629"),t.qZA(),t.TgZ(239,"div",57),t._uU(240,"Total Incl. VAT"),t.qZA(),t.qZA(),t.TgZ(241,"td",58),t._uU(242," SAR "),t.TgZ(243,"span",59),t._uU(244),t.ALo(245,"number"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(246,"tr"),t.TgZ(247,"td",47),t.TgZ(248,"div",48),t._uU(249,"\u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u0645\u062f\u0641\u0648\u0639"),t.qZA(),t.TgZ(250,"div",49),t._uU(251,"Amount Paid"),t.qZA(),t.qZA(),t.TgZ(252,"td",50),t._uU(253),t.ALo(254,"number"),t.qZA(),t.qZA(),t.TgZ(255,"tr"),t.TgZ(256,"td",55),t.TgZ(257,"div",56),t._uU(258,"\u0627\u0644\u0631\u0635\u064a\u062f \u0627\u0644\u0645\u0633\u062a\u062d\u0642"),t.qZA(),t.TgZ(259,"div",57),t._uU(260,"Balance Due "),t.qZA(),t.qZA(),t.TgZ(261,"td",58),t._uU(262),t.ALo(263,"number"),t.qZA(),t.qZA(),t.qZA(),t.YNc(264,Qs,3,0,"table",60),t.qZA(),t.qZA(),t.BQk()),2&n){const e=t.oxw();t.xp6(4),t.Akn(e.isSavePDF?"height : 0px ":"height:150px"),t.xp6(1),t.Q6J("ngIf",e.isSavePDF),t.xp6(5),t.hij(" ",e.company.companyName," "),t.xp6(2),t.hij(" ",e.company.companyAddress," "),t.xp6(5),t.hij("",e.company.vatNumber," "),t.xp6(3),t.hij(" ",t.lcZ(21,48,"QUOTATION")," "),t.xp6(7),t.hij(" ",e.company.companyName," "),t.xp6(2),t.hij(" ",e.company.companyAddress," "),t.xp6(2),t.hij(" ",e.company.vatNumber," : \u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064a\u0628\u064a "),t.xp6(10),t.hij(" ",e.quotation.quotationNumber," "),t.xp6(7),t.hij(" ",e.quotation.serviceDate1," "),t.xp6(11),t.hij(" ",t.xi3(60,50,e.quotation.quotationDate,"dd-MM-yyyy")," "),t.xp6(9),t.Oqu(t.xi3(69,53,e.quotation.quotationDueDate,"dd-MM-yyyy")),t.xp6(10),t.hij(" ",e.customer.custAddress1," "),t.xp6(2),t.AsE(" ",e.quotation.customerName?"Walk-In / \u0641\u064a \u0627\u0644\u0645\u0648\u0642\u0639 ":""," ",t.lcZ(81,56,"Customer_Name")," "),t.xp6(3),t.hij(" ",e.customer.custName," "),t.xp6(5),t.hij(" ",e.customer.custAddress1," "),t.xp6(4),t.hij(" ",e.customer.custArbName," "),t.xp6(17),t.Oqu(t.lcZ(110,58,"Customer_VAT_No")),t.xp6(4),t.hij(" ",e.quotation.paymentTermId," "),t.xp6(2),t.hij(" ",e.quotation.quotationRefNumber," "),t.xp6(2),t.hij(" ",e.customer.vatNumber," "),t.xp6(12),t.hij(" ",t.lcZ(130,60,"Remarks")," "),t.xp6(9),t.Oqu(t.lcZ(139,62,"Cost")),t.xp6(6),t.Oqu(t.lcZ(145,64,"Total")),t.xp6(7),t.hij(" ",t.lcZ(152,66,"Item_Details"),""),t.xp6(8),t.Oqu(t.lcZ(160,68,"Unit")),t.xp6(6),t.Oqu(t.lcZ(166,70,"Net_Cost")),t.xp6(6),t.Oqu(t.lcZ(172,72,"Net_Total")),t.xp6(4),t.Q6J("ngForOf",e.tableData),t.xp6(4),t.hij(" \u0627\u0644\u0645\u062c\u0645\u0648\u0639 \u0643\u062a\u0627\u0628\u0629 : ",e.totalAmountAr," "),t.xp6(2),t.hij(" Total In Words: ",e.totalAmountEn," "),t.xp6(2),t.s9C("src",e.quotation.qrCode,t.LSH),t.xp6(3),t.hij(" ",t.lcZ(187,74,"Total"),""),t.xp6(5),t.hij(" SAR ",t.xi3(192,76,e.grandTotalData.total,"3.2-5")," "),t.xp6(5),t.hij(" ",t.lcZ(197,79,"Discount"),""),t.xp6(5),t.hij(" SAR ",t.xi3(202,81,e.grandTotalData.discAmnt+e.grandTotalData.footerDiscAmnt,"3.2-5")," "),t.xp6(9),t.hij(" SAR ",t.xi3(211,84,e.grandTotalData.totalBeforeVat,"3.2-5")," "),t.xp6(10),t.hij(" SAR ",t.xi3(221,87,e.grandTotalData.vatAmnt,"3.2-5")," "),t.xp6(10),t.hij(" Account Name: ",e.company.companyName,""),t.xp6(2),t.hij("Bank Name: ",e.bank.branchName,""),t.xp6(2),t.hij("Address :",e.bank.branchAddress," "),t.xp6(10),t.Oqu(t.xi3(245,90,e.grandTotalData.invTotalAmnt,"3.2-5")),t.xp6(9),t.hij(" SAR ",t.xi3(254,93,e.quotation.paidAmount,"3.2-5")," "),t.xp6(9),t.hij(" SAR ",t.xi3(263,96,e.grandTotalData.invTotalAmnt-e.quotation.paidAmount,"3.2-5")," "),t.xp6(2),t.Q6J("ngIf",e.isSavePDF)}}let Rs=(()=>{class n{constructor(){this.items=[],this.totalAmountAr="",this.totalAmountEn="",this.footerDiscount=0,this.tableData=[],this.grandTotalData={total:0,discAmnt:0,footerDiscAmnt:0,vatAmnt:0,invTotalAmnt:0},this.isSavePDF=!1,this.format="format1"}ngOnChanges(e){this.res&&(this.totalAmountAr=this.res.totalAmountAr,this.totalAmountEn=this.res.totalAmountEn,this.company=this.res.company,this.customer=this.res.customer,this.bank=this.res.bankDetails,this.quotation=this.res.quotation,this.items=this.res.quotationItems,this.footerDiscount=this.quotation.footerDiscount,console.log(this.res),this.items.length>0&&(this.tableData=[],this.grandTotalData={total:0,discAmnt:0,footerDiscAmnt:0,vatAmnt:0,invTotalAmnt:0},this.items.forEach(i=>{let o=i;o.calTotal=i.quantity*o.unitPrice*1,o.calDiscAmnt=o.calTotal*(o.discount/100),o.calFooterDiscAmnt=o.calTotal*(1-o.discount/100)*(this.footerDiscount/100),o.calVatAmnt=o.taxTariffPercentage/100*(o.calTotal-o.calDiscAmnt-o.calFooterDiscAmnt),o.calInvAmnt=o.calTotal-o.calDiscAmnt-o.calFooterDiscAmnt+o.calVatAmnt,o.calUnitDiscPrice=o.unitPrice*(o.discount/100),o.calUnitFooterDiscPrice=o.unitPrice*(o.footerDiscount/100),o.calUnitTotalDiscPrice=o.unitPrice*(1-o.discount/100)*(1-this.footerDiscount/100),o.calSubTotal=o.calUnitTotalDiscPrice*o.quantity,this.grandTotalData.total+=o.calTotal,this.grandTotalData.discAmnt+=o.calDiscAmnt,this.grandTotalData.footerDiscAmnt+=o.calFooterDiscAmnt,this.grandTotalData.vatAmnt+=o.calVatAmnt,this.grandTotalData.invTotalAmnt+=o.calInvAmnt,this.grandTotalData.totalBeforeVat=this.grandTotalData.total-this.grandTotalData.discAmnt-this.grandTotalData.footerDiscAmnt,this.grandTotalData.totalBeforeFooterDis=this.grandTotalData.total-this.grandTotalData.discAmnt,this.tableData.push(o)}),console.log(this.tableData),console.log(this.grandTotalData)))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-sndquotationviewar"]],inputs:{res:"res",isSavePDF:"isSavePDF",format:"format"},features:[t.TTD],decls:4,vars:3,consts:[[4,"ngIf"],["id","printcontainer",1,"container-fluid","quotation-container","print-container",2,"width","850px","margin","auto","padding-top","150px !important","border","1px solid #ccc","border-radius","10px"],["border","0","cellpadding","0","cellspacing","0","width","100%",1,"ur_tablestyle",2,"width","100%","padding-bottom","5px"],["colspan","5",2,"text-align","center","padding-bottom","30px"],["alt","","style","width:200px;height:150px;",3,"src",4,"ngIf"],["border","0","cellpadding","0","cellspacing","0","width","100%",1,"ur_tablestyle",2,"width","100%"],[1,"table_right",2,"width","35%"],[2,"font-size","0.875rem !important","color","#0c2f54","font-family","'Poppins', sans-serif","font-weight","500","line-height","1.2","margin","0","padding-top","4px"],[2,"font-size","0.75rem !important","color","#0c2f54","font-family","'Poppins', sans-serif","font-weight","500","line-height","1.2","margin","0"],[2,"width","30%","text-align","center","vertical-align","middle"],[2,"font-size","1.75rem !important","color","#0c2f54","font-family","'Poppins', sans-serif","font-weight","500","line-height","1.2","margin","0"],[2,"font-size","1.3rem !important","color","#0c2f54","font-family","'Poppins', sans-serif","font-weight","500","line-height","1.2","margin","0"],[1,"table_left",2,"text-align","left","width","35%"],[2,"font-size","0.75rem !important","color","#0c2f54","font-family","'Poppins', sans-serif","font-weight","500","line-height","1.2","margin","0","padding-top","4px"],[2,"padding-top","10px","padding-bottom","5px"],["border","0","cellpadding","0","cellspacing","0","width","100%",2,"width","100%"],[2,"width","40%","text-align","center"],["border","0","cellpadding","0","cellspacing","0","width","100%",1,"custumtable",2,"width","100%"],[2,"border","2px solid #878787","border-left","2px solid #878787","padding","5px","width","33%","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","2px solid #878787","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","2px solid #878787","padding","5px","width","33%","text-align","center","font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"width","20%"],[2,"width","40%"],[1,"two"],[2,"padding-bottom","5px"],[2,"border","2px solid #878787","padding","5px","width","10%","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","2px solid #878787","padding","5px","width","22%","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","2px solid #878787","padding","5px","width","20%","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","2px solid #878787","padding","5px","text-align","left","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[1,"ur_left",2,"border","2px solid #878787","padding","5px","width","25%","text-align","right","font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","2px solid #878787","width","10%","padding","5px","text-align","center","font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[1,"ur_left",2,"border","2px solid #878787","padding","5px","text-align","right","font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","2px solid #878787","padding","5px","width","15%","text-align","center","font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"width","30%","border","2px solid #878787","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"padding","5px","text-align","right","font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","2px solid #878787","width","30%","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],["dir","rtl",2,"padding-bottom","5px"],[2,"width","10%","border","2px solid #878787","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"width","15%","border","2px solid #878787","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[4,"ngFor","ngForOf"],["rowspan","2","colspan","5",2,"border","2px solid #878787","padding","5px","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[1,"ur_right",2,"text-align","right","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[1,"ur_left",2,"text-align","left","font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[1,"ur_right"],["alt","QR Code",3,"src"],["colspan","2",1,"ur_right",2,"border","2px solid #878787","border-right","0","padding","5px","text-align","left","font-size","0.675rem !important","color","#706f6f","font-family","'Poppins', sans-serif","font-weight","500"],[2,"font-size","1rem !important","color","#706f6f","font-family","'Poppins', sans-serif","font-weight","500"],[2,"font-size","0.875rem !important","color","#706f6f","font-family","'Poppins', sans-serif","font-weight","500"],[1,"ur_left",2,"border","2px solid #878787","padding","5px","text-align","right","font-size","0.875rem !important","color","#706f6f","font-family","'Poppins', sans-serif","font-weight","500"],["rowspan","3","colspan","5",1,"ur_right",2,"border","2px solid #878787","padding","5px","font-size","0.675rem !important","color","#706f6f","font-family","'Poppins', sans-serif","font-weight","500","vertical-align","top"],["border","0",2,"width","100%"],["colspan","12",2,"text-align","left","padding","8px","border","none!important"],[2,"line-height","18px"],["colspan","2",1,"ur_right",2,"border","2px solid #878787","border-right","0","padding","5px","text-align","left","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[2,"font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[2,"font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[1,"ur_left",2,"border","2px solid #878787","padding","5px","text-align","right","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],["id","spnTotalInclVat"],["style","width:100%;","border","0","cellpadding","0","cellspacing","0","width","100%","class","ur_tablestyle",4,"ngIf"],["alt","",2,"width","200px","height","150px",3,"src"],[2,"width","10%","border","2px solid #878787","padding","5px","text-align","center","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"font-weight","600"],[1,"ur_right",2,"border","2px solid #878787","padding","5px","text-align","left","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"width","15%","border","2px solid #878787","padding","5px","text-align","center","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],["colspan","5"],[2,"width","20%","border","2px solid #878787","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],["rowspan","4","colspan","3",2,"border","2px solid #878787","padding","5px","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],["rowspan","3","colspan","3",1,"ur_right",2,"border","2px solid #878787","padding","5px","font-size","0.675rem !important","color","#706f6f","font-family","'Poppins', sans-serif","font-weight","500","vertical-align","top"],[2,"border","2px solid #878787","padding","5px","text-align","center","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],["colspan","3"],["rowspan","2",2,"width","5%","border","2px solid #878787","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],["rowspan","4","colspan","3",1,"ur_right",2,"border","2px solid #878787","padding","5px","font-size","0.675rem !important","color","#706f6f","font-family","'Poppins', sans-serif","font-weight","500","vertical-align","top"],["rowspan","2",2,"border","2px solid #878787","padding","5px","text-align","center","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[1,"ur_right",2,"border","2px solid #878787","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],["colspan","2"]],template:function(e,i){1&e&&(t._UZ(0,"br"),t.YNc(1,Is,231,64,"ng-container",0),t.YNc(2,Os,243,84,"ng-container",0),t.YNc(3,js,265,99,"ng-container",0)),2&e&&(t.xp6(1),t.Q6J("ngIf",i.items&&i.items.length>0&&"default"==i.format&&i.tableData.length==i.items.length),t.xp6(1),t.Q6J("ngIf",i.items&&i.items.length>0&&"format1"==i.format&&i.tableData.length==i.items.length),t.xp6(1),t.Q6J("ngIf",i.items&&i.items.length>0&&"format2"==i.format&&i.tableData.length==i.items.length))},directives:[d.O5,st.Lv,d.sg],pipes:[h.X$,d.uU,d.JJ],styles:["@media print {\n    div.print-container[_ngcontent-%COMP%] {\n      padding-top: 50px !important;\n      border: 1px solid red;\n    }\n  }\n\n  .customrow[_ngcontent-%COMP%] {\n    width: 850px;\n    margin: auto\n  }\n\n  .custumtable[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .custumtable[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n    border: 0.3px solid #d1d0d0 !important;\n  }\n\n  .custumtable[_ngcontent-%COMP%] {\n    border: 0.3px solid #d1d0d0 !important;\n  }\n\n  .custumtable_bottom[_ngcontent-%COMP%] {\n    border-top: 0px solid #878787 !important;\n  }\n\n    .custumtable_bottom[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .custumtable_bottom[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n      border-top: 0px solid #20b4e2 !important;\n      border-left: 0.5px solid #20b4e2 !important;\n      border-right: 0.5px solid #20b4e2 !important;\n      border-bottom: 0.5px solid #20b4e2 !important\n    }"]}),n})();function Js(n,a){if(1&n&&(t.TgZ(0,"option",10),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.s9C("value",e.text),t.xp6(1),t.Oqu(e.text)}}const Ps=function(){return{standalone:!0}};let Ys=(()=>{class n extends v{constructor(e,i,o,s,r){super(i),this.apiService=e,this.authService=i,this.utilService=o,this.dialogRef=s,this.notifyService=r,this.id=0,this.isSavePDF=!1,this.isArabic=!1,this.isLoading=!1,this.printFormats=[{text:"format1",value:"format1"},{text:"format2",value:"format2"},{text:"format3",value:"format3"},{text:"format4",value:"format4"},{text:"format5",value:"format5"},{text:"format6",value:"format6"},{text:"format7",value:"format7"},{text:"format8",value:"format8"},{text:"format9",value:"format9"},{text:"format10",value:"format10"}],this.format="format1"}ngOnInit(){this.id>0&&this.loadSalesView()}loadSalesView(){this.isLoading=!0,this.apiService.get("generateSndQuotation/generateSndQuotationReportById",this.id).subscribe(e=>{this.isLoading=!1,e&&(this.result=e,this.isArabic=this.authService.isArabic())})}closeModel(){this.dialogRef.close()}printInvoice(){this.isSavePDF=!1,this.openPrint()}openPrint(){const e=document.getElementById("printcontainer"),i=window.open("","","left=0,top=0,width=2000,height=1000,toolbar=0,scrollbars=0,status=0");setTimeout(()=>{i.document.write(e.innerHTML),i.document.close(),i.focus(),i.print(),i.close()},50)}saveAsPDF(){setTimeout(()=>{this.isSavePDF=!0,this.openPrint()},600)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x.s),t.Y36(T._),t.Y36(C.t),t.Y36(y.so),t.Y36(S.g))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-sndquotationview"]],features:[t.qOj],decls:20,vars:11,consts:[["href","/assets/style_new.css","rel","stylesheet"],[1,"row"],[1,"col-md-12","col-lg-12"],[3,"click"],["type","button","aria-hidden","true",1,"",3,"click"],[3,"ngModel","ngModelOptions","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"isLoading"],[3,"res","isSavePDF","format"],[3,"value"]],template:function(e,i){1&e&&(t._UZ(0,"link",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"button",3),t.NdJ("click",function(){return i.printInvoice()}),t._uU(4,"Print"),t.qZA(),t._uU(5," \xa0 "),t.TgZ(6,"button",3),t.NdJ("click",function(){return i.saveAsPDF()}),t._uU(7,"Save As PDF"),t.qZA(),t._uU(8," \xa0 "),t.TgZ(9,"button",4),t.NdJ("click",function(){return i.closeModel()}),t._uU(10," Close"),t.qZA(),t._uU(11,"\xa0 "),t.TgZ(12,"select",5),t.NdJ("ngModelChange",function(s){return i.format=s}),t.TgZ(13,"option",6),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.YNc(16,Js,2,2,"option",7),t.qZA(),t.qZA(),t.qZA(),t._UZ(17,"br"),t._UZ(18,"spinner-loader",8),t._UZ(19,"app-sndquotationviewar",9)),2&e&&(t.xp6(12),t.Q6J("ngModel",i.format)("ngModelOptions",t.DdM(10,Ps)),t.xp6(2),t.Oqu(t.lcZ(15,8,"Select_Format")),t.xp6(2),t.Q6J("ngForOf",i.printFormats),t.xp6(2),t.Q6J("isLoading",i.isLoading),t.xp6(1),t.Q6J("res",i.result)("isSavePDF",i.isSavePDF)("format",i.format))},directives:[l.EJ,l.JJ,l.On,l.YN,l.Kr,d.sg,b.r,Rs],pipes:[h.X$],encapsulation:2}),n})();function Fs(n,a){1&n&&(t.TgZ(0,"th",66),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Sales_QuotationNumber")," "))}function Bs(n,a){if(1&n&&(t.TgZ(0,"td",67),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e.quotationNumber)}}function Es(n,a){1&n&&(t.TgZ(0,"th",66),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Revised_Number")," "))}function $s(n,a){if(1&n&&(t.TgZ(0,"td",67),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e.revisedNumber)}}function Vs(n,a){1&n&&(t.TgZ(0,"th",66),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Sales_Quotation_Date")," "))}function zs(n,a){if(1&n&&(t.TgZ(0,"td",67),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.quotationDate,"dd/MM/yyyy"))}}function Ws(n,a){1&n&&(t.TgZ(0,"th",66),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Organization")," "))}function Hs(n,a){if(1&n&&(t.TgZ(0,"td",67),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e.companyName)}}function Gs(n,a){1&n&&(t.TgZ(0,"th",66),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Quotation_Reference_Number")," "))}function Xs(n,a){if(1&n&&(t.TgZ(0,"td",67),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e.quotationRefNumber)}}function Ks(n,a){1&n&&(t.TgZ(0,"th",66),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Store")," "))}function tr(n,a){if(1&n&&(t.TgZ(0,"td",67),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e.warehouseName)}}function er(n,a){1&n&&(t.TgZ(0,"th",66),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Customer")," "))}function nr(n,a){if(1&n&&(t.TgZ(0,"td",67),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e.customerName)}}function ir(n,a){1&n&&(t.TgZ(0,"th",66),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Sales_Quotation_Amount")," (SAR) "))}function or(n,a){if(1&n&&(t.TgZ(0,"td",67),t._uU(1),t.ALo(2,"number"),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.totalAmount,"1.2"))}}function ar(n,a){1&n&&(t.TgZ(0,"th",66),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"LPO_Contract")," "))}function sr(n,a){if(1&n&&(t.TgZ(0,"td",67),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e.lpoContract)}}function rr(n,a){1&n&&(t.TgZ(0,"th",66),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Payment_Terms")," "))}function lr(n,a){if(1&n&&(t.TgZ(0,"td",67),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e.paymentTermId)}}function ur(n,a){1&n&&(t.TgZ(0,"th",66),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Tax_Id_Number")," "))}function cr(n,a){if(1&n&&(t.TgZ(0,"td",67),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e.taxIdNumber)}}function dr(n,a){1&n&&(t.TgZ(0,"th",66),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Delivery_Date")," "))}function pr(n,a){if(1&n&&(t.TgZ(0,"td",67),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.quotationDueDate,"dd/MM/yyyy"))}}function gr(n,a){1&n&&(t.TgZ(0,"th",68),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Actions")))}function mr(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"span"),t.TgZ(1,"a",70),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw().checkStock(o)}),t.ALo(2,"translate"),t._UZ(3,"i",73),t.qZA(),t._uU(4," \xa0 "),t.qZA()}2&n&&(t.xp6(1),t.s9C("matTooltip",t.lcZ(2,1,"Check_Stock_Availability")))}function Zr(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"span"),t.TgZ(1,"a",70),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).$implicit;return t.oxw().edit(o)}),t.ALo(2,"translate"),t._UZ(3,"i",74),t.qZA(),t._uU(4," \xa0 "),t.qZA()}2&n&&(t.xp6(1),t.s9C("matTooltip",t.lcZ(2,1,"Edit")))}function _r(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"span"),t.TgZ(1,"a",70),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).$implicit;return t.oxw().revise(o)}),t.ALo(2,"translate"),t._UZ(3,"i",75),t.qZA(),t._uU(4," \xa0 "),t.qZA()}2&n&&(t.xp6(1),t.s9C("matTooltip",t.lcZ(2,1,"Revise")))}function hr(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"span"),t.TgZ(1,"a",70),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).$implicit;return t.oxw().approve(o)}),t.ALo(2,"translate"),t._UZ(3,"i",76),t.qZA(),t._uU(4," \xa0 "),t.qZA()}2&n&&(t.xp6(1),t.s9C("matTooltip",t.lcZ(2,1,"Approve")))}function Ar(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"span"),t.TgZ(1,"a",70),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).$implicit;return t.oxw().convertQuotationToInvoice(o)}),t.ALo(2,"translate"),t._UZ(3,"i",75),t.qZA(),t._uU(4," \xa0 "),t.qZA()}2&n&&(t.xp6(1),t.s9C("matTooltip",t.lcZ(2,1,"Convert_To_Invoice")))}function Tr(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"span"),t.TgZ(1,"a",70),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).$implicit;return t.oxw().convertQuotationToDeliveryNote(o)}),t.ALo(2,"translate"),t._UZ(3,"i",75),t.qZA(),t._uU(4," \xa0 "),t.qZA()}2&n&&(t.xp6(1),t.s9C("matTooltip",t.lcZ(2,1,"Convert_To_Delivery_Note")))}function fr(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"span"),t.TgZ(1,"a",70),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).$implicit;return t.oxw().convertToOrder(o)}),t.ALo(2,"translate"),t._UZ(3,"i",75),t.qZA(),t._uU(4," \xa0 "),t.qZA()}2&n&&(t.xp6(1),t.s9C("matTooltip",t.lcZ(2,1,"Convert_To_Order")))}function qr(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"span"),t.TgZ(1,"a",70),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).$implicit;return t.oxw().convertToInvoice(o)}),t.ALo(2,"translate"),t._UZ(3,"i",75),t.qZA(),t._uU(4," \xa0 "),t.qZA()}2&n&&(t.xp6(1),t.s9C("matTooltip",t.lcZ(2,1,"Convert_To_Invoice")))}function vr(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"span"),t.TgZ(1,"a",70),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).$implicit;return t.oxw().cancelQuotation(o)}),t.ALo(2,"translate"),t._UZ(3,"i",77),t.qZA(),t._uU(4," \xa0 "),t.qZA()}2&n&&(t.xp6(1),t.s9C("matTooltip",t.lcZ(2,1,"Cancel_Quotation")))}function xr(n,a){if(1&n&&(t.ynx(0),t.YNc(1,Zr,5,3,"span",72),t.YNc(2,_r,5,3,"span",72),t.YNc(3,hr,5,3,"span",72),t.YNc(4,Ar,5,3,"span",72),t.YNc(5,Tr,5,3,"span",72),t.YNc(6,fr,5,3,"span",72),t.YNc(7,qr,5,3,"span",72),t.YNc(8,vr,5,3,"span",72),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.authority.canEditSndQuotation&&(!e.isApproved||e.revisedNumber>0)&&!e.isConvertedSndQuotationToDeliveryNote&&!e.isConvertedSndQuotationToInvoice&&!e.isConvertedToOrder&&!e.isVoid),t.xp6(1),t.Q6J("ngIf",e.authority.canReviseSndQuotation&&!e.isConvertedSndQuotationToDeliveryNote&&!e.isConvertedToOrder&&e.isApproved&&!e.isConvertedSndQuotationToInvoice&&!e.isVoid),t.xp6(1),t.Q6J("ngIf",e.authority.canApproveSndQuotation&&!e.isApproved&&!e.isVoid),t.xp6(1),t.Q6J("ngIf",e.authority.canConvertSndQuotationToDeliveryNote&&e.isApproved&&e.isApproved&&!e.isConvertedSndQuotationToOrder&&!e.isConvertedSndQuotationToDeliveryNote&&!e.isConvertedSndQuotationToInvoice&&!e.isVoid),t.xp6(1),t.Q6J("ngIf",e.authority.canConvertSndQuotationToDeliveryNote&&e.isApproved&&e.isApproved&&!e.isConvertedSndQuotationToOrder&&!e.isConvertedSndQuotationToDeliveryNote&&!e.isConvertedSndQuotationToInvoice&&!e.isVoid),t.xp6(1),t.Q6J("ngIf",e.authority.canConvertSndQuotationToOrder&&e.isApproved&&!e.isConvertedSndQuotationToOrder&&!e.isConvertedSndQuotationToDeliveryNote&&!e.isConvertedSndQuotationToInvoice&&!e.isVoid),t.xp6(1),t.Q6J("ngIf",e.authority.canConvertSndQuotationToInvoice&&e.isApproved&&e.isConvertedSndQuotationToDeliveryNote&&!e.isConvertedSndQuotationToOrder&&!e.isConvertedSndQuotationToDeliveryNote&&!e.isConvertedSndQuotationToInvoice&&!e.isVoid),t.xp6(1),t.Q6J("ngIf",e.authority.canVoidSndQuotation&&!e.isVoid&&!e.isConvertedSndQuotationToDeliveryNote&&!e.isConvertedSndQuotationToOrder&&!e.isConvertedSndQuotationToInvoice)}}function Cr(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"td",67),t.TgZ(1,"div"),t.ynx(2),t._UZ(3,"i",69),t._uU(4," \xa0 "),t.BQk(),t.ynx(5),t.TgZ(6,"a",70),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().view(s)}),t.ALo(7,"translate"),t._UZ(8,"i",71),t.qZA(),t._uU(9," \xa0 "),t.YNc(10,mr,5,3,"span",72),t.BQk(),t.YNc(11,xr,9,8,"ng-container",72),t.qZA(),t.qZA()}if(2&n){const e=a.$implicit,i=t.oxw();t.xp6(3),t.s9C("id",i.getStatusColor(e)),t.xp6(3),t.s9C("matTooltip",t.lcZ(7,4,"View_Details")),t.xp6(4),t.Q6J("ngIf",!e.isConvertedToOrder&&!e.isConvertedToDeliveryNote&&e.isFinalRevision),t.xp6(1),t.Q6J("ngIf",e.hasAuthority&&e.isFinalRevision)}}function Sr(n,a){1&n&&t._UZ(0,"tr",78)}function yr(n,a){1&n&&t._UZ(0,"tr",79)}const Ur=function(){return{standalone:!0}};let br=(()=>{class n extends v{constructor(e,i,o,s,r,u,p,c,Z,U,N,R){super(r),this.fb=e,this.http=i,this.router=o,this.apiService=s,this.authService=r,this.utilService=u,this.sndService=p,this.translate=c,this.notifyService=Z,this.validationService=U,this.pageService=N,this.dialog=R,this.displayedColumns=["quotationNumber","revisedNumber","quotationDate","companyName","quotationRefNumber","warehouseName","customerName","totalAmount","lpoContract","paymentTermId","taxIdNumber","quotationDueDate","Actions"],this.totalItemsCount=0,this.searchValue="",this.sortingOrder="id desc",this.isLoading=!1,this.IsApproved=!1,this.statusId="",this.itemList=[],this.itemCode=0,this.isArab=!1}ngOnInit(){this.isArab=this.utilService.isArabic(),this.initialLoading(),this.loadItems()}refresh(){this.searchValue="",this.itemCode=0,this.sortingOrder="id desc",this.initialLoading(),document.getElementById("approvalList").value=""}loadItems(){this.apiService.getall("item/getSelectItemMOUList").subscribe(e=>{e&&(this.itemList=e,this.itemList.forEach(i=>{i.text=i.text+" ("+i.textTwo+")"}))})}initialLoading(){this.isLoading=!0,this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder)}onSortOrder(e){this.sortingOrder=e.active+" "+e.direction,this.totalItemsCount=0,this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder)}onPageSwitch(e){this.pageService.change(e),this.loadList(e.pageIndex,e.pageSize,this.searchValue,this.sortingOrder)}loadList(e,i,o,s,r=""){var u;this.isLoading=!0,r=document.getElementById("approvalList").value,this.apiService.getPagination("generateSndQuotation",this.utilService.getQueryString(e,i,o,s,r,this.statusId,null!==(u=this.itemCode)&&void 0!==u?u:0)).subscribe(c=>{this.isLoading=!1,this.data=new g.by(c.items),this.totalItemsCount=c.totalCount,setTimeout(()=>{this.paginator.pageIndex=e,this.paginator.length=this.totalItemsCount}),this.data.sort=this.sort,this.isLoading=!1},c=>this.utilService.ShowApiErrorMessage(c))}applyFilter(e,i){(e||i)&&(this.searchValue=e,this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder))}loadApprovals(e){this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder,e.target.value)}loadQuotations(e){document.getElementById("approvalList"),this.setStatus(e.target.value),this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder,"")}setStatus(e){this.statusId=`${e}`}openDialogManage(e=0,i,o="",s="",r,u={module:"00",action:"00act"},p=100){let c=this.utilService.openDialogCongif(this.dialog,r,p);c.componentInstance.dbops=i,c.componentInstance.modalTitle=o,c.componentInstance.id=e,c.componentInstance.moduleFile=u,c.afterClosed().subscribe(Z=>{Z&&!0===Z&&this.initialLoading()})}openDialogManage2(e=0,i=!0,o,s="",r="",u,p={module:"00",action:"00act"},c=100){let Z=this.utilService.openDialogCongif(this.dialog,u,c);Z.componentInstance.dbops=o,Z.componentInstance.modalTitle=s,Z.componentInstance.id=e,Z.componentInstance.moduleFile=p,Z.componentInstance.moduleFile=p,Z.componentInstance.isRevising=i,Z.afterClosed().subscribe(U=>{U&&!0===U&&this.initialLoading()})}openDialogManage3(e,i){let o=this.sndService.openAutoWidthDialog(this.dialog,i);o.componentInstance.inputData=e,o.afterClosed().subscribe(s=>{})}openDialogManageApproval(e,i=0,o,s="",r,u={module:"00",action:"00act"},p=100){let c=this.utilService.openDialogCongif(this.dialog,r,p);c.componentInstance.dbops=o,c.componentInstance.serviceType=1,c.componentInstance.id=i,c.componentInstance.inputData=e,c.componentInstance.moduleFile=u,c.afterClosed().subscribe(Z=>{Z&&!0===Z&&this.initialLoading()})}create(){this.isLoading||this.openDialogManage(0,f.Oi.create,this.translate.instant("Create_New_Sales_Quotation"),"",rt)}edit(e){this.isLoading||this.openDialogManage(e.id,f.Oi.update,this.translate.instant("Create_New_Sales_Quotation"),"",rt)}revise(e){this.isLoading||this.openDialogManage2(e.id,!0,f.Oi.update,this.translate.instant("Revise_Quotation"),"",rt)}view(e){this.isLoading||this.openDialogManage(e.id,f.Oi.create,"","",Ys,{action:"",module:""},100)}converToOrder(e){}approve(e){this.isLoading?this.notifyService.showError(this.translate.instant("Please_Wait")+"..."):this.openDialogManageApproval(e,e.id,f.Oi.create,"",gt,{action:"",module:""},50)}convertQuotationToDeliveryNote(e){this.isLoading?this.notifyService.showError(this.translate.instant("Please_Wait")+"..."):this.openConfirmationDialog(f.Oi.create,"Are_You_Sure?",F,{id:e.id,operation:"ConvertQuotationToDeliveryNote"})}printQuotation(){this.openDialogManage(0,f.Oi.create,"","",ys)}getStatusColor(e){return(null==e?void 0:e.isVoid)?"statusVoid":!(null==e?void 0:e.isApproved)||(null==e?void 0:e.isConvertedSndQuotationToDeliveryNote)||(null==e?void 0:e.isConvertedSndQuotationToOrder)||(null==e?void 0:e.isConvertedSndQuotationToInvoice)?(null==e?void 0:e.isConvertedSndQuotationToDeliveryNote)?"statusConvertedToDeliveryNote":(null==e?void 0:e.isConvertedSndQuotationToInvoice)?"statusConvertedToInvoice":(null==e?void 0:e.isConvertedSndQuotationToOrder)?"statusConvertedToOrder":"statusOpen":"statusApproved"}openConfirmationDialog(e,i,o,s){let r=this.sndService.confirmationDialog(this.dialog,o);r.componentInstance.dbops=e,r.componentInstance.modalTitle=i,r.componentInstance.InputData=s,r.afterClosed().subscribe(u=>{"true"==u?"deleteQuotation"==s.operation?this.apiService.post("GenerateSndQuotation/cancelSndlQuotation",{id:s.id}).subscribe(c=>{this.utilService.OkMessage(),this.ngOnInit()},c=>{console.error(c),this.utilService.ShowApiErrorMessage(c)}):"ConvertQuotationToDeliveryNote"==s.operation?(this.isLoading=!0,this.apiService.post("SndDeliveryNote/generateSndDeliveryNoteByQuotationId",{id:s.id}).subscribe(p=>{this.utilService.OkMessage(),this.isLoading=!1,this.ngOnInit()},p=>{console.error(p),this.utilService.ShowApiErrorMessage(p),this.isLoading=!1})):"ConvertQuotationToInvoice"==s.operation&&(this.isLoading=!0,this.apiService.post("GenerateSndInvoice/convertQuotationToInvoiceByQuotationId",{id:s.id}).subscribe(p=>{this.utilService.OkMessage(),this.isLoading=!1,this.ngOnInit()},p=>{console.error(p),this.utilService.ShowApiErrorMessage(p),this.isLoading=!1})):(console.log("False"),this.isLoading=!1)})}cancelQuotation(e){this.isLoading?this.notifyService.showError(this.translate.instant("Please_Wait")+"..."):this.openConfirmationDialog(f.Oi.create,"Are_You_Sure?",F,{operation:"deleteQuotation",id:e.id})}checkStock(e){this.openDialogManage3({id:e.id,source:"Q"},it)}convertQuotationToInvoice(e){this.isLoading?this.notifyService.showError(this.translate.instant("Please_Wait")+"..."):this.openConfirmationDialog(f.Oi.create,"Are_You_Sure?",F,{id:e.id,operation:"ConvertQuotationToInvoice"})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.qu),t.Y36(j.eN),t.Y36(I.F0),t.Y36(x.s),t.Y36(T._),t.Y36(C.t),t.Y36(Y),t.Y36(h.sK),t.Y36(S.g),t.Y36(P.R),t.Y36(et.N),t.Y36(y.uw))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-snd-quotations"]],viewQuery:function(e,i){if(1&e&&(t.Gf(Q.NW,7),t.Gf(L.YE,7)),2&e){let o;t.iGM(o=t.CRH())&&(i.paginator=o.first),t.iGM(o=t.CRH())&&(i.sort=o.first)}},features:[t.qOj],decls:139,vars:61,consts:[[1,"page-breadcrumb"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],[1,"container-fluid"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"row","pb-3"],[1,"col-md-3"],[1,"form-control",3,"placeholder","ngModel","ngModelChange"],["bindLabel","text","bindValue","textTwo",2,"width","250px",3,"items","ngModel","ngModelOptions","ngModelChange"],[1,"col-md-4","arabicright"],[1,"btn","btn-primary",3,"click"],[1,"",3,"click"],[1,"btn","btn-primary","icon-refresh"],[1,"mr-sm-2"],["id","approvalList",1,"custom-select","mr-sm-2",3,"change"],["value",""],["value","approved"],["value","unapproved"],["value","original"],["value","finalquot"],["value","cancelled"],[1,"row","rowm0"],[1,"col-md-4","col-lg-4"],[1,"card-title","pt6"],[1,"col-md-4","col-lg-4","text-center"],[3,"isLoading"],[1,"col-md-4","col-lg-4","text-right"],[1,"nav-item","dropdown"],["data-toggle","modal","data-target","#scrollable-modal","href","#",1,"btn","waves-effect","waves-light","btn-rounded","btn-outline-primary",3,"click"],[1,"icon-plus"],[1,"cardtitle-divider"],[1,"example-table-container","table-responsive","pt-3"],["mat-table","","matSort","","matSortActive","Id","matSortDisableClear","","matSortDirection","desc",1,"table","table-bordered","no-wrap",3,"dataSource","matSortChange"],["matColumnDef","quotationNumber"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","revisedNumber"],["matColumnDef","quotationDate"],["matColumnDef","companyName"],["matColumnDef","quotationRefNumber"],["matColumnDef","warehouseName"],["matColumnDef","customerName"],["matColumnDef","totalAmount"],["matColumnDef","lpoContract"],["matColumnDef","paymentTermId"],["matColumnDef","taxIdNumber"],["matColumnDef","quotationDueDate"],["matColumnDef","Actions","stickyEnd",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions","page"],["id","statusOpen",1,"fas","fa-circle"],["id","statusApproved",1,"fas","fa-circle"],["id","statusConvertedToDeliveryNote",1,"fas","fa-circle"],["id","statusConvertedToInvoice",1,"fas","fa-circle"],["id","statusConvertedToOrder",1,"fas","fa-circle"],["id","statusVoid",1,"fas","fa-circle"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[1,"fas","fa-circle",3,"id"],[1,"tableicons","pcursor",3,"matTooltip","click"],[1,"icon-list"],[4,"ngIf"],[1,"icon-question"],[1,"icon-note"],[1,"icon-action-redo"],[1,"icon-arrow-up-circle"],[1,"icon-action-undo"],["mat-header-row",""],["mat-row",""]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"nav",5),t.TgZ(8,"ol",6),t.TgZ(9,"li",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"li",8),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"div",9),t.TgZ(16,"div",1),t.TgZ(17,"div",10),t.TgZ(18,"div",11),t.TgZ(19,"div",12),t.TgZ(20,"div",13),t._UZ(21,"div",10),t.TgZ(22,"div",14),t.TgZ(23,"input",15),t.NdJ("ngModelChange",function(s){return i.searchValue=s}),t.ALo(24,"translate"),t.qZA(),t.qZA(),t.TgZ(25,"div",14),t.TgZ(26,"ng-select",16),t.NdJ("ngModelChange",function(s){return i.itemCode=s}),t.qZA(),t.qZA(),t.TgZ(27,"div",17),t.TgZ(28,"button",18),t.NdJ("click",function(){return i.applyFilter(i.searchValue,i.itemCode)}),t._uU(29),t.ALo(30,"translate"),t.qZA(),t._uU(31," \xa0 "),t.TgZ(32,"a",19),t.NdJ("click",function(){return i.refresh()}),t._UZ(33,"i",20),t.qZA(),t._uU(34," \xa0 "),t.TgZ(35,"button",18),t.NdJ("click",function(){return i.printQuotation()}),t._uU(36),t.ALo(37,"translate"),t.qZA(),t._uU(38," \xa0 "),t.qZA(),t.qZA(),t.TgZ(39,"div",13),t.TgZ(40,"div",14),t.TgZ(41,"label",21),t._uU(42),t.ALo(43,"translate"),t.qZA(),t.TgZ(44,"select",22),t.NdJ("change",function(s){return i.loadApprovals(s)}),t.TgZ(45,"option",23),t._uU(46),t.ALo(47,"translate"),t.qZA(),t.TgZ(48,"option",24),t._uU(49,"Approved"),t.qZA(),t.TgZ(50,"option",25),t._uU(51,"UnApproved"),t.qZA(),t.TgZ(52,"option",26),t._uU(53,"Original"),t.qZA(),t.TgZ(54,"option",27),t._uU(55,"Final Quotations"),t.qZA(),t.TgZ(56,"option",28),t._uU(57,"Cancelled"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(58,"div",29),t.TgZ(59,"div",30),t.TgZ(60,"h4",31),t._uU(61),t.ALo(62,"translate"),t.qZA(),t.qZA(),t.TgZ(63,"div",32),t._UZ(64,"spinner-loader",33),t.qZA(),t.TgZ(65,"div",34),t.TgZ(66,"div",35),t.TgZ(67,"a",36),t.NdJ("click",function(){return i.create()}),t._UZ(68,"i",37),t._uU(69),t.ALo(70,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(71,"div",38),t.TgZ(72,"div",39),t.ynx(73),t.TgZ(74,"table",40),t.NdJ("matSortChange",function(s){return i.onSortOrder(s)}),t.ynx(75,41),t.YNc(76,Fs,3,3,"th",42),t.YNc(77,Bs,2,1,"td",43),t.BQk(),t.ynx(78,44),t.YNc(79,Es,3,3,"th",42),t.YNc(80,$s,2,1,"td",43),t.BQk(),t.ynx(81,45),t.YNc(82,Vs,3,3,"th",42),t.YNc(83,zs,3,4,"td",43),t.BQk(),t.ynx(84,46),t.YNc(85,Ws,3,3,"th",42),t.YNc(86,Hs,2,1,"td",43),t.BQk(),t.ynx(87,47),t.YNc(88,Gs,3,3,"th",42),t.YNc(89,Xs,2,1,"td",43),t.BQk(),t.ynx(90,48),t.YNc(91,Ks,3,3,"th",42),t.YNc(92,tr,2,1,"td",43),t.BQk(),t.ynx(93,49),t.YNc(94,er,3,3,"th",42),t.YNc(95,nr,2,1,"td",43),t.BQk(),t.ynx(96,50),t.YNc(97,ir,3,3,"th",42),t.YNc(98,or,3,4,"td",43),t.BQk(),t.ynx(99,51),t.YNc(100,ar,3,3,"th",42),t.YNc(101,sr,2,1,"td",43),t.BQk(),t.ynx(102,52),t.YNc(103,rr,3,3,"th",42),t.YNc(104,lr,2,1,"td",43),t.BQk(),t.ynx(105,53),t.YNc(106,ur,3,3,"th",42),t.YNc(107,cr,2,1,"td",43),t.BQk(),t.ynx(108,54),t.YNc(109,dr,3,3,"th",42),t.YNc(110,pr,3,4,"td",43),t.BQk(),t.ynx(111,55),t.YNc(112,gr,3,3,"th",56),t.YNc(113,Cr,12,6,"td",43),t.BQk(),t.YNc(114,Sr,1,0,"tr",57),t.YNc(115,yr,1,0,"tr",58),t.qZA(),t.BQk(),t.qZA(),t.ynx(116),t.TgZ(117,"mat-paginator",59),t.NdJ("page",function(s){return i.onPageSwitch(s)}),t.qZA(),t.BQk(),t.qZA(),t.TgZ(118,"div",12),t.ynx(119),t._uU(120),t.ALo(121,"translate"),t._UZ(122,"i",60),t._uU(123),t.ALo(124,"translate"),t._UZ(125,"i",61),t._uU(126),t.ALo(127,"translate"),t._UZ(128,"i",62),t._uU(129),t.ALo(130,"translate"),t._UZ(131,"i",63),t._uU(132),t.ALo(133,"translate"),t._UZ(134,"i",64),t._uU(135),t.ALo(136,"translate"),t._UZ(137,"i",65),t._uU(138," \xa0\xa0 |\xa0\xa0 "),t.BQk(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.hij(" ",t.lcZ(5,28,"Sales_Quotation")," "),t.xp6(6),t.hij("",t.lcZ(11,30,"Sales_And_Distribution")," "),t.xp6(3),t.hij("",t.lcZ(14,32,"Sales_Quotation")," "),t.xp6(10),t.MGl("placeholder","",t.lcZ(24,34,"Search"),"..."),t.Q6J("ngModel",i.searchValue),t.xp6(3),t.Q6J("items",i.itemList)("ngModel",i.itemCode)("ngModelOptions",t.DdM(60,Ur)),t.xp6(3),t.Oqu(t.lcZ(30,36,"Search")),t.xp6(7),t.Oqu(t.lcZ(37,38,"Print")),t.xp6(6),t.Oqu(t.lcZ(43,40,"Sales_Quotation_List")),t.xp6(4),t.Oqu(t.lcZ(47,42,"Quotations_List")),t.xp6(15),t.Oqu(t.lcZ(62,44,"Sales_Quotation_List")),t.xp6(3),t.Q6J("isLoading",i.isLoading),t.xp6(5),t.hij("",t.lcZ(70,46,"Add_New_Sales_Quotation")," "),t.xp6(5),t.Q6J("dataSource",i.data),t.xp6(40),t.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(2),t.Q6J("length",i.totalItemsCount)("pageSize",i.pageService.pageCount)("pageSizeOptions",i.pageService.selectItemsPerPage),t.xp6(3),t.hij(" \xa0\xa0",t.lcZ(121,48,"Open"),":\xa0"),t.xp6(3),t.hij(" \xa0\xa0 |\xa0\xa0 ",t.lcZ(124,50,"Approved"),":\xa0 "),t.xp6(3),t.hij("\xa0\xa0|\xa0\xa0 ",t.lcZ(127,52,"Converted_To_DeliveryNote"),":\xa0 "),t.xp6(3),t.hij(" \xa0\xa0|\xa0\xa0 ",t.lcZ(130,54,"Converted_To_Invoice"),":\xa0 "),t.xp6(3),t.hij(" \xa0\xa0|\xa0\xa0 ",t.lcZ(133,56,"Converted_To_Order"),":\xa0 "),t.xp6(3),t.hij("\xa0\xa0|\xa0\xa0 ",t.lcZ(136,58,"Void"),":\xa0"))},directives:[l.Fj,l.JJ,l.On,D.w9,l.YN,l.Kr,b.r,g.BZ,L.YE,g.w1,g.fO,g.Dz,g.as,g.nj,Q.NW,g.ge,L.nU,g.ev,q.gM,d.O5,g.XQ,g.Gk],pipes:[h.X$,d.uU,d.JJ],styles:["#statusOpen[_ngcontent-%COMP%] {\n    color: #ff6a00\n  }\n\n  #statusApproved[_ngcontent-%COMP%] {\n    color: #4cff00\n  }\n\n   #statusClosed[_ngcontent-%COMP%] {   \n    color: #ff00dc\n  }\n\n  #statusConvertedToInvoice[_ngcontent-%COMP%] {      \n    color: #0026ff\n  }\n\n   #statusConvertedToDeliveryNote[_ngcontent-%COMP%] {      \n    color: #f900f4\n  }\n   \n   #statusConvertedToOrder[_ngcontent-%COMP%] {      \n    color: #fdb144\n  }\n\n  \n\n  #statusVoid[_ngcontent-%COMP%] {\n    color: #000000\n  }"]}),n})();var Zt=m(2613);function Lr(n,a){1&n&&(t.TgZ(0,"mat-radio-button",14),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij("",t.lcZ(2,1,"Credit")," \xa0\xa0"))}function Ir(n,a){if(1&n&&(t.TgZ(0,"option",31),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.s9C("value",e.text),t.xp6(1),t.Oqu(e.text)}}function Nr(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"number"),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t.TgZ(11,"span"),t.TgZ(12,"a",33),t.NdJ("click",function(){const s=t.CHM(e).index;return t.oxw(3).updatePaymentData(s)}),t.ALo(13,"translate"),t._UZ(14,"i",34),t.qZA(),t._uU(15," \xa0 "),t.qZA(),t.TgZ(16,"span"),t.TgZ(17,"a",33),t.NdJ("click",function(){const s=t.CHM(e).index;return t.oxw(3).deletePayment(s)}),t.ALo(18,"translate"),t._UZ(19,"i",35),t.qZA(),t._uU(20," \xa0 "),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=a.$implicit,i=a.index;t.xp6(2),t.Oqu(i+1),t.xp6(2),t.Oqu(e.paymentCode),t.xp6(2),t.Oqu(t.xi3(7,6,e.settledAmount,"1.2")),t.xp6(3),t.hij(" ",e.remarks,""),t.xp6(3),t.s9C("matTooltip",t.lcZ(13,9,"Edit")),t.xp6(5),t.s9C("matTooltip",t.lcZ(18,11,"Remove"))}}function wr(n,a){if(1&n&&(t.ynx(0),t.YNc(1,Nr,21,13,"tr",32),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.paymentsList)}}const lt=function(){return{standalone:!0}};function Dr(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",15),t.TgZ(1,"div",16),t.TgZ(2,"table"),t.TgZ(3,"tr"),t.TgZ(4,"td",17),t.TgZ(5,"select",18),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw().editPaymentData.paymentCode=o}),t.TgZ(6,"option",19),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.YNc(9,Ir,2,2,"option",20),t.qZA(),t.qZA(),t.TgZ(10,"td",17),t.TgZ(11,"input",21),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw().editPaymentData.settledAmount=o}),t.ALo(12,"translate"),t.qZA(),t.qZA(),t.TgZ(13,"td",22),t.TgZ(14,"input",23),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw().editPaymentData.remarks=o}),t.ALo(15,"translate"),t.qZA(),t.qZA(),t.TgZ(16,"td"),t.TgZ(17,"button",24),t.NdJ("click",function(){return t.CHM(e),t.oxw().AddPaymentItem()}),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"table",25),t.TgZ(21,"thead"),t.TgZ(22,"tr"),t.TgZ(23,"th",26),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"th",27),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"th",27),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.TgZ(32,"th",28),t._uU(33),t.ALo(34,"translate"),t.qZA(),t.TgZ(35,"th"),t._uU(36),t.ALo(37,"translate"),t.qZA(),t.qZA(),t.qZA(),t.YNc(38,wr,2,1,"ng-container",29),t.TgZ(39,"tr"),t.TgZ(40,"td",30),t._uU(41),t.ALo(42,"number"),t.ALo(43,"number"),t.ALo(44,"number"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(5),t.Q6J("ngModel",e.editPaymentData.paymentCode)("ngModelOptions",t.DdM(50,lt)),t.xp6(2),t.Oqu(t.lcZ(8,23,"Select_Payment")),t.xp6(2),t.Q6J("ngForOf",e.paymentCodeList),t.xp6(2),t.s9C("placeholder",t.lcZ(12,25,"Amount")),t.Q6J("ngModel",e.editPaymentData.settledAmount)("ngModelOptions",t.DdM(51,lt)),t.xp6(3),t.s9C("placeholder",t.lcZ(15,27,"Remarks")),t.Q6J("ngModel",e.editPaymentData.remarks)("ngModelOptions",t.DdM(52,lt)),t.xp6(4),t.Oqu(t.lcZ(19,29,"Add")),t.xp6(6),t.Oqu(t.lcZ(25,31,"S.No")),t.xp6(3),t.Oqu(t.lcZ(28,33,"paymentCode")),t.xp6(3),t.Oqu(t.lcZ(31,35,"Amount")),t.xp6(3),t.Oqu(t.lcZ(34,37,"Remarks")),t.xp6(3),t.Oqu(t.lcZ(37,39,"Action")),t.xp6(2),t.Q6J("ngIf",e.paymentsList.length>0),t.xp6(3),t.gL8("","Settled_Amount",":",t.xi3(42,41,e.settledAmount,"1.2"),"\xa0;","Invoice_Amount",":",t.xi3(43,44,e.inputData.totalAmount,"1.2"),"\xa0;","Balance_Amount",":",t.xi3(44,47,e.balanceAmount,"1.2"),"")}}let ut=(()=>{class n extends v{constructor(e,i,o,s,r,u,p){super(o),this.fb=e,this.apiService=i,this.authService=o,this.utilService=s,this.dialogRef=r,this.notifyService=u,this.translate=p,this.id=0,this.trantype="Invoice",this.modalBtnTitle="Invoice",this.selectedPayment="",this.paymentTermId="",this.paymentTermsList=[],this.paymentCodeList=[],this.isCreditSelected=!0,this.paymentsList=[],this.settledAmount=0,this.balanceAmount=0,this.editPaymentData={id:0,invoiceId:0,paymentCode:"",settledAmount:0,remarks:""},this.editIndex=-1,this.canHaveCredit=!1}ngOnInit(){console.log(this.inputData),this.balanceAmount=this.inputData.totalAmount,this.settledAmount=0,this.loadData(),this.setForm()}setForm(){this.form=this.fb.group({createdOn:"",paymentType:""})}loadData(){this.apiService.getall("paymentcodes/getSelectPaymentCodeList").subscribe(e=>{e&&(this.paymentCodeList=e)})}paymentSelected(e){this.isCreditSelected="Credit"==e.value,this.isCreditSelected&&(this.paymentsList=[])}submit(){var e;if(this.form.valid){if("Cash"==this.form.controls.paymentType.value){if(0==this.paymentsList.length||this.balanceAmount>=.01)return void this.notifyService.showError("Incomplete_Settlement")}else if(""==this.form.controls.paymentType.value)return void this.notifyService.showError("Select_PaymentType");let i={invoiceId:this.inputData.id,paymentType:this.form.controls.paymentType.value,paymentsList:this.paymentsList.slice()};(null===(e=this.inputData)||void 0===e?void 0:e.isApproved)?this.apiService.post("SndInvoiceSettlements/CreateSndInvoicePaymentSettlement",i).subscribe(o=>{this.utilService.OkMessage(),this.reset(),this.dialogRef.close(!0)},o=>{console.error(o),this.utilService.ShowApiErrorMessage(o)}):(this.inputData.saveType=2,this.inputData.SettlementData=i,console.log(this.inputData),this.apiService.post("generateSndInvoice",this.inputData).subscribe(o=>{this.utilService.OkMessage(),this.reset(),this.dialogRef.close(!0)},o=>{console.error(o),this.utilService.ShowApiErrorMessage(o)}))}else this.utilService.FillUpFields()}reset(){this.selectedPayment=this.paymentTermId=""}closeModel(){this.dialogRef.close()}AddPaymentItem(){if(""!=this.editPaymentData.paymentCode&&this.editPaymentData.settledAmount>0&&this.editPaymentData.settledAmount<=this.balanceAmount+.001){let e=this.paymentsList.findIndex(i=>i.paymentCode==this.editPaymentData.paymentCode);e>=0?this.paymentsList[e]=this.editPaymentData:this.paymentsList.push(this.editPaymentData),this.ResetEditPaymentData(),this.calculate()}else this.editPaymentData.settledAmount>this.balanceAmount?this.notifyService.showWarning(this.translate.instant("Payments_Exceedig_invoice_Amount")):""==this.editPaymentData.paymentCode?this.notifyService.showWarning(this.translate.instant("PaymentCode_Not_Selected")):(this.editPaymentData.settledAmount<=0||null==this.editPaymentData.settledAmount)&&this.notifyService.showWarning(this.translate.instant("Enter_The_Amount"))}calculate(){this.settledAmount=0,this.balanceAmount=this.inputData.totalAmount,this.paymentsList.forEach(e=>{this.settledAmount+=e.settledAmount,this.balanceAmount-=e.settledAmount})}ResetEditPaymentData(){this.editPaymentData={id:0,invoiceId:0,paymentCode:"",settledAmount:0,remarks:""}}deletePayment(e){this.paymentsList.splice(e,1),this.calculate()}updatePaymentData(e){this.editPaymentData=this.paymentsList[e],this.paymentsList.splice(e,1),this.calculate()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.qu),t.Y36(x.s),t.Y36(T._),t.Y36(C.t),t.Y36(y.so),t.Y36(S.g),t.Y36(h.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-sndsettleinvoice"]],features:[t.qOj],decls:27,vars:19,consts:[["type","button","aria-hidden","true",1,"close",3,"click"],["novalidate","",1,"mt-1",3,"formGroup","ngSubmit"],[1,"row","rowm0"],[1,"col-md-4","col-lg-4"],[1,"form-group"],[1,"mr-sm-2"],["aria-label","Select an option","formControlName","paymentType",3,"change"],["value","Credit",4,"ngIf"],["value","Cash"],["class","table-responsive",4,"ngIf"],[1,"row"],[1,"col-lg-12","col-md-12","text-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","waves-effect","waves-light","btn-primary",3,"value"],["value","Credit"],[1,"table-responsive"],[2,"padding-bottom","10px"],[2,"width","20%"],[1,"custom-select","mr-sm-2",3,"ngModel","ngModelOptions","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","number",1,"form-control",3,"placeholder","ngModel","ngModelOptions","ngModelChange"],[2,"width","55%"],["type","text",1,"form-control",2,"width","75%",3,"placeholder","ngModel","ngModelOptions","ngModelChange"],["type","button",1,"btn","waves-effect","waves-light","btn-primary",3,"click"],["id","zero_config",1,"table","table-bordered","no-wrap"],[2,"width","5%"],[2,"width","25%"],[2,"width","45%"],[4,"ngIf"],["colspan","5"],[3,"value"],[4,"ngFor","ngForOf"],[1,"tableicons","pcursor",3,"matTooltip","click"],[1,"icon-note"],[1,"icon-trash"]],template:function(e,i){1&e&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"button",0),t.NdJ("click",function(){return i.closeModel()}),t._uU(4," \xd7"),t.qZA(),t.qZA(),t.TgZ(5,"form",1),t.NdJ("ngSubmit",function(){return i.submit()}),t.TgZ(6,"div",2),t.TgZ(7,"div",3),t.TgZ(8,"div",4),t.TgZ(9,"label",5),t._uU(10),t.ALo(11,"translate"),t.qZA(),t._UZ(12,"br"),t.TgZ(13,"mat-radio-group",6),t.NdJ("change",function(s){return i.paymentSelected(s)}),t.YNc(14,Lr,3,3,"mat-radio-button",7),t.TgZ(15,"mat-radio-button",8),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(18,Dr,45,53,"div",9),t.qZA(),t.TgZ(19,"div",10),t.TgZ(20,"div",11),t.TgZ(21,"button",12),t.NdJ("click",function(){return i.closeModel()}),t._uU(22),t.ALo(23,"translate"),t.qZA(),t._uU(24," \xa0\xa0 "),t._UZ(25,"input",13),t.ALo(26,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.AsE(" ",t.lcZ(2,9,"Create_New_Sales_Invoice")," (",null==i.inputData?null:i.inputData.invoiceNumber,") "),t.xp6(4),t.Q6J("formGroup",i.form),t.xp6(5),t.hij(" ",t.lcZ(11,11,"Select_Payment")," "),t.xp6(4),t.Q6J("ngIf",(null==i.inputData?null:i.inputData.dueDays)>0),t.xp6(2),t.Oqu(t.lcZ(17,13,"Cash_Bank")),t.xp6(2),t.Q6J("ngIf",!i.isCreditSelected),t.xp6(4),t.hij(" ",t.lcZ(23,15,"Cancel")," "),t.xp6(3),t.s9C("value",t.lcZ(26,17,"Save")))},directives:[l._Y,l.JL,l.sg,Zt.VQ,l.JJ,l.u,d.O5,Zt.U0,l.EJ,l.On,l.YN,l.Kr,d.sg,l.wV,l.Fj,q.gM],pipes:[h.X$,d.JJ],encapsulation:2}),n})();function Or(n,a){if(1&n&&(t.TgZ(0,"option",64),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function Mr(n,a){if(1&n&&(t.TgZ(0,"option",64),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}const w=function(){return{standalone:!0}};function kr(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"ng-select",65),t.NdJ("clear",function(){return t.CHM(e),t.oxw().resetItem()})("change",function(o){return t.CHM(e),t.oxw().loadItemdata(o)})("ngModelChange",function(o){return t.CHM(e),t.oxw().itemId=o}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("items",e.itemList)("ngModel",e.itemId)("ngModelOptions",t.DdM(3,w))}}function Qr(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"input",66),t.NdJ("change",function(o){return t.CHM(e),t.oxw().loadItemdataByBarcode(o)})("ngModelChange",function(o){return t.CHM(e),t.oxw().itemBarcode=o}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("ngModel",e.itemBarcode)("ngModelOptions",t.DdM(2,w))}}function jr(n,a){if(1&n&&(t.TgZ(0,"option",64),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.text)}}function Rr(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td",67),t._uU(16),t.ALo(17,"number"),t.qZA(),t.TgZ(18,"td",53),t.TgZ(19,"i",68),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().editInvoiceItem(s)}),t.qZA(),t._uU(20," \xa0 "),t.TgZ(21,"i",69),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().deleteInvoiceItem(s)}),t.qZA(),t._uU(22," \xa0 "),t.qZA(),t.qZA()}if(2&n){const e=a.$implicit;t.xp6(2),t.Oqu(e.item),t.xp6(2),t.Oqu(e.description),t.xp6(2),t.Oqu(e.quantity),t.xp6(2),t.Oqu(e.unitType),t.xp6(2),t.Oqu(e.unitPrice),t.xp6(2),t.Oqu(e.discount),t.xp6(2),t.Oqu(e.taxTariffPercentage),t.xp6(2),t.Oqu(t.xi3(17,8,e.itemInvAmount,"1.2"))}}function Jr(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"span"),t.TgZ(1,"button",70),t.NdJ("click",function(){return t.CHM(e),t.oxw().Save(0)}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._uU(4," \xa0\xa0 "),t.qZA()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"Save")," "))}function Pr(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"span"),t.TgZ(1,"button",70),t.NdJ("click",function(){return t.CHM(e),t.oxw().Save(1)}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._uU(4," \xa0\xa0 "),t.qZA()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"Save_And_Approve")," "))}function Yr(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"span"),t.TgZ(1,"button",70),t.NdJ("click",function(){return t.CHM(e),t.oxw().Save(2)}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.qZA()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"Save_And_Settle")," "))}let _t=(()=>{class n extends v{constructor(e,i,o,s,r,u,p,c,Z,U,N){super(r),this.fb=e,this.http=i,this.router=o,this.apiService=s,this.authService=r,this.utilService=u,this.dialogRef=p,this.notifyService=c,this.validationService=Z,this.commonService=U,this.dialog=N,this.id=0,this.customerList=[],this.companyList=[],this.paymentTermsList=[],this.warehouseList=[],this.itemList=[],this.vatList=[],this.itemId=null,this.quantity=0,this.unitPrice=0,this.vat=0,this.vatAmount=0,this.total=0,this.itemInvAmount=0,this.discount=0,this.discountAmount=0,this.unitType="",this.description="",this.item="",this.itemCode="",this.grandDiscountAmount=0,this.grandTotal=0,this.grandFooterDiscountAmount=0,this.grandVatTotal=0,this.grandInvoiceTotal=0,this.grandTotalStr="",this.grandVatTotalStr="",this.grandInvoiceTotalStr="",this.grandFooterDiscountAmountStr="",this.footerDiscount=0,this.footerDiscountAmount=0,this.sequence=1,this.editsequence=0,this.listOfInvoices=[],this.canShowNotes=!1,this.canShowRemarks=!1,this.isArab=!1,this.canSave=!1,this.canSaveAndApprove=!1,this.canSaveAndSettle=!1,this.canCreate=!1,this.unitTypesList=[],this.invoiceStatusId="1",this.isBarcodeScannerOn=!0,this.itemBarcode="",this.isLoading=!1}ngOnInit(){this.setForm(),this.loadData(),this.id>0&&this.seteditform()}setForm(){this.form=this.fb.group({customerId:["",l.kI.required],invoiceDate:["",l.kI.required],invoiceDueDate:["",l.kI.required],serviceDate1:["",l.kI.required],companyId:["",l.kI.required],warehouseCode:["",l.kI.required],invoiceRefNumber:[""],lpoContract:[""],paymentTermId:["",l.kI.required],taxIdNumber:["",l.kI.required],remarks:[""],invoiceNotes:[""]})}seteditform(){this.apiService.get("generateSndInvoice/getSingleSndInvoiceById",this.id).subscribe(e=>{e&&(this.invoiceStatusId=e.invoiceStatusId,this.footerDiscount=e.footerDiscount,this.loadWarehousesForCompany(e.companyId,e),this.loadBranch(),this.displayItems(e))})}openDialogManage(e){let i=this.utilService.openDialogCongif(this.dialog,mt.R,e);i.componentInstance.data=this.customerData,i.afterClosed().subscribe(o=>{var s,r;o&&(this.customerData=o.value,this.form.value.custName=null===(s=o.value)||void 0===s?void 0:s.custName,this.form.value.custArbName=null===(r=o.value)||void 0===r?void 0:r.custArbName)})}updateCustomer(){this.openDialogManage(50)}loadData(){this.apiService.getall("vat/getSelectVatList").subscribe(e=>{e&&(this.vatList=e)}),this.apiService.getall("item/getSelectItemMOUList").subscribe(e=>{e&&(this.itemList=e,this.itemList.forEach(i=>{i.text=i.text+" ("+i.textTwo+")"}))}),this.apiService.getall("customer/getSelectCustomerList").subscribe(e=>{e&&(this.customerList=e,this.customerList.map(o=>(o.text=this.isArab?o.textTwo:o.text,o)))}),this.apiService.getall("company/getSelectCompanyList").subscribe(e=>{e&&(this.companyList=e)}),this.apiService.getall("salesTermsCode/getCustomSelectSalesTermsCodeList").subscribe(e=>{e&&(this.paymentTermsList=e)})}customerChange(e){this.apiService.getall(`customer/getCustomerById/${e.value}`).subscribe(s=>{s&&this.form.controls.taxIdNumber.setValue(s.vatNumber)})}loadWarehousesForCompany(e,i){e&&this.apiService.getall("warehouse/getSelectWarehouseCodeList").subscribe(o=>{o&&(this.warehouseList=o,this.warehouseList.forEach(s=>{s.lable=s.value+"-"+s.text}),this.form.patchValue(i),this.footerDiscount=i.footerDiscount,this.form.patchValue({customerId:`${i.customerId}`})),this.loadBranch()})}displayItems(e){e.itemList.forEach(o=>{this.itemId=o.itemId.toString(),this.itemCode=o.itemCode,this.item=o.itemName,this.description=o.description,this.quantity=o.quantity,this.unitType=o.unitType,this.unitPrice=o.unitPrice,this.vat=o.taxTariffPercentage,this.discount=o.discount,this.total=o.unitPrice*o.quantity,this.discountAmount=this.total*this.discount/100,this.footerDiscountAmount=(this.total-this.discountAmount)*this.footerDiscount/100,this.vatAmount=(this.total-this.discountAmount-this.footerDiscountAmount)*this.vat/100,this.itemInvAmount=this.total-this.discountAmount-this.footerDiscountAmount+this.vatAmount,this.addInvoice()})}checkUserAuthority(e){this.apiService.getall(`sndAuthorities/getAuthorityByBranchCurrentUser/${e}`).subscribe(i=>{i?(this.canCreate=i.canCreateSndInvoice,this.canSaveAndApprove=i.canCreateSndInvoice&&i.canApproveSndInvoice,this.canSaveAndSettle=i.canCreateSndInvoice&&i.canApproveSndInvoice&&i.canSettleSndInvoice):(this.canCreate=!1,this.canSaveAndApprove=!1,this.canSaveAndSettle=!1)})}loadWarehouses(e){e.target.value&&this.apiService.getall("warehouse/getSelectWarehouseCodeList").subscribe(o=>{o&&(this.warehouseList=o),this.warehouseList.forEach(s=>{s.lable=s.value+"-"+s.text})})}resetItem(){this.item="",this.itemCode="",this.itemId="",this.unitType="",this.description="",this.unitPrice=0,this.total=0,this.discount=0,this.discountAmount=0,this.vat=0,this.quantity=0,this.itemInvAmount=0}loadItemdata(e){let i=null!=e?e.value:"";""!=i?(this.resetItem(),this.quantity=1,this.apiService.getall(`item/itemUnitPriceItem/${i}`).subscribe(o=>{o&&(this.itemId=i.toString(),this.itemCode=o.itemCode,this.item=o.nameEN,this.description=o.description,this.unitPrice=o.unitPrice,this.vat=o.vat,this.apiService.getall(`item/getSelectItemMOUUnitTypeListByItem/${o.itemCode}`).subscribe(s=>{s?s.findIndex(r=>r.value==o.unitType)>=0?(this.unitTypesList=s,this.unitType=o.unitType,this.calculate()):(this.resetItem(),this.notifyService.showInfo("No Base Unit Mapping Found:"+o.itemCode+"x"+o.unitType)):this.resetItem()}))})):this.resetItem()}addUpdateInvoice(){if(!this.isLoading&&this.total>0&&parseInt(this.itemId)>0){if(this.editsequence>0){var e=this.listOfInvoices.findIndex(o=>o.sequence===this.editsequence);let i=this.listOfInvoices[e];i.sequence=this.editsequence,i.item=this.item,i.itemId=this.itemId,i.itemCode=this.itemCode,i.description=this.description,i.quantity=this.quantity,i.unitType=this.unitType,i.unitPrice=this.unitPrice,i.taxTariffPercentage=this.vat,i.taxAmount=this.vatAmount,i.totalAmount=this.total,i.discount=this.discount,i.discountAmount=this.discountAmount,i.footerDiscountAmount=this.footerDiscountAmount,i.itemInvAmount=this.itemInvAmount,i.itemBarcode=this.itemBarcode,this.editsequence=0}else if((e=this.listOfInvoices.findIndex(o=>o.itemCode==this.itemCode&&o.unitType==this.unitType))>=0){let o=this.listOfInvoices[e];o.sequence=this.editsequence,o.item=this.item,o.itemId=this.itemId,o.itemCode=this.itemCode,o.description=this.description,o.quantity=this.quantity,o.unitType=this.unitType,o.unitPrice=this.unitPrice,o.taxTariffPercentage=this.vat,o.taxAmount=this.vatAmount,o.totalAmount=this.total,o.discount=this.discount,o.discountAmount=this.discountAmount,o.footerDiscountAmount=this.footerDiscountAmount,o.itemInvAmount=this.itemInvAmount,o.itemBarcode=this.itemBarcode,this.editsequence=0}else this.listOfInvoices.push({sequence:this.getSequence(),item:this.item,itemId:this.itemId,itemCode:this.itemCode,description:this.description,quantity:this.quantity,unitType:this.unitType,unitPrice:this.unitPrice,taxTariffPercentage:this.vat,taxAmount:this.vatAmount,totalAmount:this.total,discount:this.discount,discountAmount:this.discountAmount,footerDiscountAmount:this.footerDiscountAmount,itemInvAmount:this.itemInvAmount,itemBarcode:this.itemBarcode});this.setGrandTotal(),this.setToDefault(),this.canSave=!0}}addInvoice(){var e;if(this.editsequence>0){var i=this.listOfInvoices.findIndex(s=>s.sequence===this.editsequence);let o=this.listOfInvoices[i];o.sequence=this.editsequence,o.item=this.item,o.itemId=this.itemId,o.itemCode=this.itemCode,o.description=this.description,o.quantity=this.quantity,o.unitType=this.unitType,o.unitPrice=this.unitPrice,o.taxTariffPercentage=this.vat,o.taxAmount=this.vatAmount,o.totalAmount=this.total,o.discount=this.discount,o.discountAmount=null!==(e=this.discountAmount)&&void 0!==e?e:0,o.footerDiscountAmount=this.footerDiscountAmount,o.itemInvAmount=this.itemInvAmount,o.itemBarcode=this.itemBarcode,this.editsequence=0}else this.listOfInvoices.push({sequence:this.getSequence(),item:this.item,itemId:this.itemId,itemCode:this.itemCode,description:this.description,quantity:this.quantity,unitType:this.unitType,unitPrice:this.unitPrice,taxTariffPercentage:this.vat,taxAmount:this.vatAmount,totalAmount:this.total,discount:this.discount,discountAmount:this.discountAmount,footerDiscountAmount:this.footerDiscountAmount,itemInvAmount:this.itemInvAmount,itemBarcode:this.itemBarcode});this.setGrandTotal(),this.setToDefault()}getSequence(){return this.sequence+=this.sequence+1}showCanShowNotes(){this.canShowNotes=!this.canShowNotes}showCanShowRemarks(){this.canShowRemarks=!this.canShowRemarks}deleteInvoiceItem(e){this.removeInvoiceList(e.sequence),this.setGrandTotal()}removeInvoiceList(e){let i=this.listOfInvoices.findIndex(o=>o.sequence===e);this.listOfInvoices.splice(i,1)}editInvoiceItem(e){this.unitTypesList=[],this.unitType="",this.apiService.getall(`item/getSelectItemMOUUnitTypeListByItem/${e.itemCode}`).subscribe(i=>{i?(this.unitTypesList=i,this.unitType=e.unitType):this.resetItem()}),this.editsequence=e.sequence,this.item=e.item,this.itemCode=e.itemCode,this.itemId=e.itemId,this.description=e.description,this.quantity=e.quantity,this.unitType=e.unitType,this.unitPrice=e.unitPrice,this.vat=e.taxTariffPercentage,this.vatAmount=e.taxAmount,this.total=e.totalAmount,this.discount=e.discount,this.discountAmount=e.discountAmount,this.footerDiscountAmount=e.footerDiscountAmount,this.itemInvAmount=e.itemInvAmount,this.itemBarcode=null==e?void 0:e.itemBarcode}setGrandTotal(){this.grandTotal=0,this.grandVatTotal=0,this.grandInvoiceTotal=0,this.grandDiscountAmount=0,this.grandFooterDiscountAmount=0,this.listOfInvoices.forEach(e=>{this.grandTotal+=e.totalAmount,this.grandVatTotal+=e.taxAmount,this.grandInvoiceTotal+=e.itemInvAmount,this.grandDiscountAmount+=e.discountAmount,this.grandFooterDiscountAmount+=e.footerDiscountAmount}),this.form.value.discountAmount=this.grandDiscountAmount,this.form.value.taxAmount=this.grandVatTotal,this.form.value.subTotal=this.grandTotal,this.grandTotalStr=this.grandTotal.toString(),this.grandVatTotalStr=this.grandVatTotal.toString(),this.grandInvoiceTotalStr=this.grandInvoiceTotal.toString()}setToDefault(){this.itemId="",this.item=this.description=this.unitType="",this.quantity=this.unitPrice=this.vat=this.vatAmount=this.total=this.discount=this.discountAmount=this.itemInvAmount=0,this.itemBarcode="",this.itemInvAmount=0}calculate(){this.discount>100&&this.setToDefault(),this.total=this.unitPrice*this.quantity,this.discountAmount=parseFloat((this.total*this.discount/100).toFixed(2)),this.footerDiscountAmount=(this.total-this.discountAmount)*this.footerDiscount/100,this.vatAmount=parseFloat(((this.total-this.discountAmount-this.footerDiscountAmount)*this.vat/100).toFixed(2)),this.itemInvAmount=this.total-this.discountAmount-this.footerDiscountAmount+this.vatAmount}submit(){}Save(e){var i;this.calculate(),this.form.value.invoiceStatusId=this.invoiceStatusId,this.form.valid?(this.id>0&&(this.form.value.id=this.id),this.form.value.itemList=this.listOfInvoices,this.form.value.invoiceDate=this.utilService.selectedDateTime(this.form.controls.invoiceDate.value),this.form.value.invoiceDueDate=this.utilService.selectedDateTime(this.form.controls.invoiceDueDate.value),this.form.value.footerDiscount=this.footerDiscount,this.form.value.totalAmount=this.grandInvoiceTotal,this.form.value.saveType=e,0==e||1==e?this.apiService.post("generateSndInvoice",this.form.value).subscribe(o=>{this.utilService.OkMessage(),this.reset(),this.dialogRef.close(!0)},o=>{console.error(o),this.utilService.ShowApiErrorMessage(o)}):2==e&&(this.form.value.dueDays=null===(i=this.paymentTermsList.find(o=>o.value==this.form.controls.paymentTermId.value))||void 0===i?void 0:i.textTwo,this.form.value.totalAmount=this.grandInvoiceTotal,this.form.value.isApproved=!1,this.openDialogManageApproval(this.form.value,this.id,f.Oi.create,"","",ut,{action:"",module:""},75))):this.utilService.FillUpFields()}reset(){this.form.reset()}closeModel(){this.dialogRef.close()}changeFooterDiscount(){(this.footerDiscount<0||this.footerDiscount>100||null==this.footerDiscount||""==this.footerDiscount.toString())&&(this.footerDiscount=0),this.footerDiscount=parseInt(this.footerDiscount.toString());for(let e=0;e<this.listOfInvoices.length;e++)this.listOfInvoices[e].footerDiscountAmount=(this.listOfInvoices[e].totalAmount-this.listOfInvoices[e].discountAmount)*this.footerDiscount/100,this.listOfInvoices[e].taxAmount=(this.listOfInvoices[e].totalAmount-this.listOfInvoices[e].discountAmount-this.listOfInvoices[e].footerDiscountAmount)*this.listOfInvoices[e].taxTariffPercentage/100,this.listOfInvoices[e].itemInvAmount=this.listOfInvoices[e].totalAmount-this.listOfInvoices[e].discountAmount-this.listOfInvoices[e].footerDiscountAmount+this.listOfInvoices[e].taxAmount;this.setGrandTotal(),this.canSave=!0}changeUnitType(){""!=this.unitType?this.apiService.getall(`item/itemUnitPriceItemUnit/${this.itemCode}/${this.unitType}`).subscribe(e=>{e?this.unitPrice=e.unitPrice:(this.notifyService.showWarning("Item Unit Mapping Not Found"),this.resetItem())}):this.resetItem()}loadUnitTypes(){this.apiService.getall(`item/getSelectItemMOUUnitTypeListByItem/${this.itemCode}`).subscribe(e=>{e&&(this.unitTypesList=e)})}loadBranch(){""!=this.form.controls.warehouseCode.value?this.apiService.getall(`Warehouse/getWarehouseInfoByCode/${this.form.controls.warehouseCode.value}`).subscribe(e=>{null!=e&&this.checkUserAuthority(e.whBranchCode)}):(this.canCreate=!1,this.canSaveAndApprove=!1,this.canSaveAndSettle=!1)}openDialogManageApproval(e,i,o,s="",r="",u,p={module:"00",action:"00act"},c=100){let Z=this.utilService.openDialogCongif(this.dialog,u,c);Z.componentInstance.dbops=o,Z.componentInstance.trantype=s,Z.componentInstance.id=i,Z.componentInstance.inputData=e,Z.componentInstance.moduleFile=p,Z.afterClosed().subscribe(U=>{U&&!0===U&&this.dialogRef.close(!0)})}SaveAndSettle(){var e;this.form.value.dueDays=null===(e=this.paymentTermsList.find(i=>i.value==this.form.controls.paymentTermId.value))||void 0===e?void 0:e.textTwo,this.form.value.totalAmount=this.grandInvoiceTotal,this.form.value.isApproved=!1,this.openDialogManageApproval(this.form.value,this.id,f.Oi.create,"","",ut,{action:"",module:""},75)}onChangeItemCodeInput(){this.isBarcodeScannerOn||(this.itemBarcode=""),this.resetItem()}loadItemdataByBarcode(e){""==e.target.value||this.isLoading?""==e.target.value&&this.resetItem():this.apiService.getall(`item/getSelctedItemByItemBarcode/${e.target.value}`).subscribe(i=>{if(i){this.itemId=i.value;let o=0;this.isLoading=!0,this.interval=1e3,this.interval=setInterval(()=>{o++,1==o?this.loadItemdata(i):2==o&&(this.itemCode=i.text,this.itemId=i.value,this.unitType=i.textTwo,this.changeUnitType(),this.isLoading=!1)},o>2?0:500)}else this.resetItem(),this.notifyService.showWarning("Item Not Found")},i=>{this.notifyService.showWarning("error")})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.qu),t.Y36(j.eN),t.Y36(I.F0),t.Y36(x.s),t.Y36(T._),t.Y36(C.t),t.Y36(y.so),t.Y36(S.g),t.Y36(P.R),t.Y36(at.v),t.Y36(y.uw))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-editsndsalesinvoice"]],features:[t.qOj],decls:294,vars:262,consts:[["type","button","aria-hidden","true",1,"close",3,"click"],["novalidate","",1,"mt-4",3,"formGroup","ngSubmit"],[1,"row","rowm0"],[1,"col-md-12","col-lg-12"],[1,"row","mt-3"],[1,"p-3",2,"border","1px solid #f4f4f4"],[1,"row","mt-2"],[1,"col-md-4","col-lg-4"],[1,"mr-sm-2"],[1,"form-group"],[1,"custom-select","mr-sm-2",3,"ngModel","ngModelOptions","disabled","ngModelChange"],["value","1"],["value","2"],[1,"mr-sm-2","btn","btn-primary",3,"click"],["bindLabel","text","bindValue","value","formControlName","customerId",3,"items","change"],[1,"input-group","mb-2"],["formControlName","invoiceDate",1,"form-control","datapickerinput",3,"placeholder","matDatepicker"],[1,"input-group-prepend","datapickericon"],["matSuffix","",3,"for"],["picker1",""],["formControlName","invoiceDueDate",1,"form-control","datapickerinput",3,"placeholder","matDatepicker"],["picker",""],["formControlName","serviceDate1",1,"form-control","datapickerinput",3,"placeholder","matDatepicker"],["serviceDate1",""],[3,"control"],["formControlName","companyId",1,"custom-select","mr-sm-2",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["bindLabel","lable","bindValue","value","formControlName","warehouseCode",3,"items","change"],["type","text","formControlName","invoiceRefNumber",1,"form-control",3,"placeholder"],["type","text","formControlName","lpoContract",1,"form-control",3,"placeholder"],["formControlName","paymentTermId",1,"custom-select","mr-sm-2"],["type","text","readonly","","formControlName","taxIdNumber",1,"form-control",3,"placeholder"],["type","text",1,"form-control",3,"placeholder","ngModel","ngModelOptions","ngModelChange","keyup"],[1,"col-md-5","col-lg-5"],["formControlName","invoiceNotes",1,"form-control",3,"placeholder"],["formControlName","remarks",1,"form-control",3,"placeholder"],[1,"table-responsive"],["id","zero_config",1,"table","table-bordered","no-wrap"],["width","15%"],["width","8%"],["style","width:250px","bindLabel","text","placeholder","select item","bindValue","value",3,"items","ngModel","ngModelOptions","clear","change","ngModelChange",4,"ngIf"],["class","form-control","style","width:250px","type","text","placeholder","scan barcode",3,"ngModel","ngModelOptions","change","ngModelChange",4,"ngIf"],[1,"row"],[1,"btn-list",2,"padding","10px 15px"],[2,"font-size","smaller","padding-right","10px"],["color","primary",3,"ngModel","ngModelOptions","ngModelChange","change"],["disabled","",1,"form-control",3,"placeholder","ngModel","ngModelOptions","ngModelChange"],["type","number",1,"form-control",3,"placeholder","ngModel","ngModelOptions","ngModelChange","keyup"],[1,"custom-select","mr-sm-2",3,"ngModel","ngModelOptions","ngModelChange","change"],["type","number","readonly","",1,"form-control",3,"placeholder","ngModel","ngModelOptions","ngModelChange"],["type","text","readonly","",1,"form-control",3,"placeholder","ngModel","ngModelOptions","ngModelChange"],["type","button",1,"btn","waves-effect","waves-light","btn-primary",3,"click"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"tfoot"],["colspan","6","rowspan","5"],[1,"text-right","bgcolor"],[1,"bgcolor"],[1,"text-right","bgcolor_bottom"],[1,"bgcolor_bottom"],[1,"col-lg-12","col-md-12","text-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],[4,"ngIf"],[3,"value"],["bindLabel","text","placeholder","select item","bindValue","value",2,"width","250px",3,"items","ngModel","ngModelOptions","clear","change","ngModelChange"],["type","text","placeholder","scan barcode",1,"form-control",2,"width","250px",3,"ngModel","ngModelOptions","change","ngModelChange"],[1,"text-right"],[1,"icon-note","cpointer",3,"click"],[1,"icon-trash","cpointer",3,"click"],["type","button","data-dismiss","modal",1,"btn","waves-effect","waves-light","btn-primary",3,"click"]],template:function(e,i){if(1&e&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"button",0),t.NdJ("click",function(){return i.closeModel()}),t._uU(4," \xd7"),t.qZA(),t.qZA(),t.TgZ(5,"form",1),t.NdJ("ngSubmit",function(){return i.submit()}),t.TgZ(6,"div",2),t.TgZ(7,"div",3),t.TgZ(8,"div",4),t.TgZ(9,"div",3),t.TgZ(10,"div",5),t.TgZ(11,"div",6),t.TgZ(12,"div",7),t.TgZ(13,"label",8),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"div",9),t.TgZ(17,"select",10),t.NdJ("ngModelChange",function(s){return i.invoiceStatusId=s}),t.TgZ(18,"option",11),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"option",12),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"div",7),t.TgZ(25,"div",9),t.TgZ(26,"label",8),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"label",13),t.NdJ("click",function(){return i.updateCustomer()}),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.TgZ(32,"ng-select",14),t.NdJ("change",function(s){return i.customerChange(s)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(33,"div",7),t.TgZ(34,"label",8),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.TgZ(37,"div",9),t.TgZ(38,"div",15),t._UZ(39,"input",16),t.ALo(40,"translate"),t.TgZ(41,"div",17),t._UZ(42,"mat-datepicker-toggle",18),t._UZ(43,"mat-datepicker",null,19),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(45,"div",7),t.TgZ(46,"label",8),t._uU(47),t.ALo(48,"translate"),t.qZA(),t.TgZ(49,"div",9),t.TgZ(50,"div",15),t._UZ(51,"input",20),t.ALo(52,"translate"),t.TgZ(53,"div",17),t._UZ(54,"mat-datepicker-toggle",18),t._UZ(55,"mat-datepicker",null,21),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(57,"div",7),t.TgZ(58,"label",8),t._uU(59),t.ALo(60,"translate"),t.qZA(),t.TgZ(61,"div",9),t.TgZ(62,"div",15),t._UZ(63,"input",22),t.ALo(64,"translate"),t.TgZ(65,"div",17),t._UZ(66,"mat-datepicker-toggle",18),t._UZ(67,"mat-datepicker",null,23),t._UZ(69,"br"),t._UZ(70,"br"),t.qZA(),t.qZA(),t._UZ(71,"validation-message",24),t.qZA(),t.qZA(),t.TgZ(72,"div",7),t.TgZ(73,"div",9),t.TgZ(74,"label",8),t._uU(75),t.ALo(76,"translate"),t.qZA(),t.TgZ(77,"select",25),t.NdJ("change",function(s){return i.loadWarehouses(s)}),t.TgZ(78,"option",26),t._uU(79),t.ALo(80,"translate"),t.qZA(),t.YNc(81,Or,2,2,"option",27),t.qZA(),t.qZA(),t.qZA(),t.TgZ(82,"div",7),t.TgZ(83,"div",9),t.TgZ(84,"label",8),t._uU(85),t.ALo(86,"translate"),t.qZA(),t.TgZ(87,"ng-select",28),t.NdJ("change",function(){return i.loadBranch()}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(88,"div",7),t.TgZ(89,"div",9),t.TgZ(90,"label",8),t._uU(91),t.ALo(92,"translate"),t.qZA(),t._UZ(93,"input",29),t.ALo(94,"translate"),t.ALo(95,"translate"),t.qZA(),t.qZA(),t.TgZ(96,"div",7),t.TgZ(97,"div",9),t.TgZ(98,"label",8),t._uU(99),t.ALo(100,"translate"),t.qZA(),t._UZ(101,"input",30),t.ALo(102,"translate"),t.ALo(103,"translate"),t.qZA(),t.qZA(),t.TgZ(104,"div",7),t.TgZ(105,"div",9),t.TgZ(106,"label",8),t._uU(107),t.ALo(108,"translate"),t.qZA(),t.TgZ(109,"select",31),t.TgZ(110,"option",26),t._uU(111),t.ALo(112,"translate"),t.qZA(),t.YNc(113,Mr,2,2,"option",27),t.qZA(),t.qZA(),t.qZA(),t.TgZ(114,"div",7),t.TgZ(115,"div",9),t.TgZ(116,"label",8),t._uU(117),t.ALo(118,"translate"),t.qZA(),t._UZ(119,"input",32),t.ALo(120,"translate"),t.qZA(),t.qZA(),t.TgZ(121,"div",7),t.TgZ(122,"div",9),t.TgZ(123,"label",8),t._uU(124),t.ALo(125,"translate"),t.qZA(),t.TgZ(126,"input",33),t.NdJ("ngModelChange",function(s){return i.footerDiscount=s})("keyup",function(){return i.changeFooterDiscount()}),t.ALo(127,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(128,"div",34),t.TgZ(129,"div",9),t.TgZ(130,"label",8),t._uU(131),t.ALo(132,"translate"),t.qZA(),t._UZ(133,"textarea",35),t.ALo(134,"translate"),t.ALo(135,"translate"),t.qZA(),t.qZA(),t.TgZ(136,"div",34),t.TgZ(137,"div",9),t.TgZ(138,"label",8),t._uU(139),t.ALo(140,"translate"),t.qZA(),t._UZ(141,"textarea",36),t.ALo(142,"translate"),t.ALo(143,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(144,"div",37),t.TgZ(145,"table",38),t.TgZ(146,"thead"),t.TgZ(147,"tr"),t.TgZ(148,"th",39),t._uU(149),t.ALo(150,"translate"),t.qZA(),t.TgZ(151,"th",39),t._uU(152),t.ALo(153,"translate"),t.qZA(),t.TgZ(154,"th"),t._uU(155),t.ALo(156,"translate"),t.qZA(),t.TgZ(157,"th"),t._uU(158),t.ALo(159,"translate"),t.qZA(),t.TgZ(160,"th"),t._uU(161),t.ALo(162,"translate"),t.qZA(),t.TgZ(163,"th"),t._uU(164),t.ALo(165,"translate"),t.qZA(),t.TgZ(166,"th",40),t._uU(167),t.ALo(168,"translate"),t.qZA(),t.TgZ(169,"th"),t._uU(170),t.ALo(171,"translate"),t.qZA(),t._UZ(172,"th"),t.qZA(),t.qZA(),t.TgZ(173,"tbody"),t.TgZ(174,"tr"),t.TgZ(175,"td"),t.TgZ(176,"div"),t.YNc(177,kr,1,4,"ng-select",41),t.YNc(178,Qr,1,3,"input",42),t.qZA(),t.TgZ(179,"div",43),t.TgZ(180,"div",44),t.TgZ(181,"span",45),t._uU(182),t.ALo(183,"translate"),t.qZA(),t.TgZ(184,"mat-slide-toggle",46),t.NdJ("ngModelChange",function(s){return i.isBarcodeScannerOn=s})("change",function(){return i.onChangeItemCodeInput()}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(185,"td"),t.TgZ(186,"textarea",47),t.NdJ("ngModelChange",function(s){return i.description=s}),t.ALo(187,"translate"),t.qZA(),t.qZA(),t.TgZ(188,"td"),t.TgZ(189,"input",48),t.NdJ("ngModelChange",function(s){return i.quantity=s})("keyup",function(){return i.calculate()}),t.ALo(190,"translate"),t.qZA(),t.qZA(),t.TgZ(191,"td"),t.TgZ(192,"select",49),t.NdJ("ngModelChange",function(s){return i.unitType=s})("change",function(){return i.changeUnitType()}),t.TgZ(193,"option",26),t._uU(194),t.ALo(195,"translate"),t.qZA(),t.YNc(196,jr,2,2,"option",27),t.qZA(),t.qZA(),t.TgZ(197,"td"),t.TgZ(198,"input",33),t.NdJ("ngModelChange",function(s){return i.unitPrice=s})("keyup",function(){return i.calculate()}),t.ALo(199,"translate"),t.qZA(),t.qZA(),t.TgZ(200,"td"),t.TgZ(201,"input",33),t.NdJ("ngModelChange",function(s){return i.discount=s})("keyup",function(){return i.calculate()}),t.ALo(202,"translate"),t.qZA(),t.qZA(),t.TgZ(203,"td"),t.TgZ(204,"input",50),t.NdJ("ngModelChange",function(s){return i.vat=s}),t.ALo(205,"translate"),t.qZA(),t.qZA(),t.TgZ(206,"td"),t.TgZ(207,"input",51),t.NdJ("ngModelChange",function(s){return i.itemInvAmount=s}),t.ALo(208,"translate"),t.qZA(),t.qZA(),t.TgZ(209,"td"),t.TgZ(210,"button",52),t.NdJ("click",function(){return i.addUpdateInvoice()}),t._uU(211),t.ALo(212,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(213,"thead"),t.TgZ(214,"tr"),t.TgZ(215,"th"),t._uU(216),t.ALo(217,"translate"),t.qZA(),t.TgZ(218,"th"),t._uU(219),t.ALo(220,"translate"),t.qZA(),t.TgZ(221,"th"),t._uU(222),t.ALo(223,"translate"),t.qZA(),t.TgZ(224,"th"),t._uU(225),t.ALo(226,"translate"),t.qZA(),t.TgZ(227,"th"),t._uU(228),t.ALo(229,"translate"),t.qZA(),t.TgZ(230,"th"),t._uU(231),t.ALo(232,"translate"),t.qZA(),t.TgZ(233,"th"),t._uU(234),t.ALo(235,"translate"),t.qZA(),t.TgZ(236,"th"),t._uU(237),t.ALo(238,"translate"),t.qZA(),t._UZ(239,"th",53),t.qZA(),t.qZA(),t.TgZ(240,"tbody"),t.YNc(241,Rr,23,11,"tr",54),t.qZA(),t.TgZ(242,"tfoot"),t.TgZ(243,"tr",55),t._UZ(244,"td",56),t.TgZ(245,"td",57),t._uU(246),t.ALo(247,"translate"),t.qZA(),t.TgZ(248,"td",57),t._uU(249),t.ALo(250,"number"),t.qZA(),t._UZ(251,"td",58),t.qZA(),t.TgZ(252,"tr",55),t.TgZ(253,"td",57),t._uU(254),t.ALo(255,"translate"),t.qZA(),t.TgZ(256,"td",57),t._uU(257),t.ALo(258,"number"),t.qZA(),t._UZ(259,"td",58),t.qZA(),t.TgZ(260,"tr",55),t.TgZ(261,"td",57),t._uU(262),t.ALo(263,"translate"),t.qZA(),t.TgZ(264,"td",57),t._uU(265),t.ALo(266,"number"),t.qZA(),t._UZ(267,"td",58),t.qZA(),t.TgZ(268,"tr",55),t.TgZ(269,"td",57),t._uU(270),t.ALo(271,"translate"),t.qZA(),t.TgZ(272,"td",57),t._uU(273),t.ALo(274,"number"),t.qZA(),t._UZ(275,"td",58),t.qZA(),t.TgZ(276,"tr",55),t.TgZ(277,"td",59),t._uU(278),t.ALo(279,"translate"),t.qZA(),t.TgZ(280,"td",59),t._uU(281),t.ALo(282,"number"),t.qZA(),t._UZ(283,"td",60),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(284,"div",43),t.TgZ(285,"div",61),t.TgZ(286,"span"),t.TgZ(287,"button",62),t.NdJ("click",function(){return i.closeModel()}),t._uU(288),t.ALo(289,"translate"),t.qZA(),t._uU(290," \xa0\xa0 "),t.qZA(),t.YNc(291,Jr,5,3,"span",63),t.YNc(292,Pr,5,3,"span",63),t.YNc(293,Yr,4,3,"span",63),t.qZA(),t.qZA(),t.qZA()),2&e){const o=t.MAs(44),s=t.MAs(56),r=t.MAs(68);t.xp6(1),t.hij(" ",t.lcZ(2,109,"Create_New_Sales_Invoice")," "),t.xp6(4),t.Q6J("formGroup",i.form),t.xp6(9),t.Oqu(t.lcZ(15,111,"Invoice_Type")),t.xp6(3),t.Q6J("ngModel",i.invoiceStatusId)("ngModelOptions",t.DdM(252,w))("disabled",i.id>0),t.xp6(2),t.Oqu(t.lcZ(20,113,"Invoice")),t.xp6(3),t.Oqu(t.lcZ(23,115,"Credit")),t.xp6(5),t.Oqu(t.lcZ(28,117,"Customer")),t.xp6(3),t.Oqu(t.lcZ(31,119,"Walk-In")),t.xp6(2),t.Q6J("items",i.customerList),t.xp6(3),t.Oqu(t.lcZ(36,121,"Sales_Invoice_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(40,123,"Select_a_Date")),t.Q6J("matDatepicker",o),t.xp6(3),t.Q6J("for",o),t.xp6(5),t.Oqu(t.lcZ(48,125,"Delivery_Date")),t.xp6(4),t.s9C("placeholder",t.lcZ(52,127,"Select_a_Date")),t.Q6J("matDatepicker",s),t.xp6(3),t.Q6J("for",s),t.xp6(5),t.Oqu(t.lcZ(60,129,"ServiceDate")),t.xp6(4),t.s9C("placeholder",t.lcZ(64,131,"Select_a_Date")),t.Q6J("matDatepicker",r),t.xp6(3),t.Q6J("for",r),t.xp6(5),t.Q6J("control",i.form.controls.serviceDate1),t.xp6(4),t.Oqu(t.lcZ(76,133,"Organization")),t.xp6(4),t.Oqu(t.lcZ(80,135,"Select_Organization")),t.xp6(2),t.Q6J("ngForOf",i.companyList),t.xp6(4),t.Oqu(t.lcZ(86,137,"Warehouse")),t.xp6(2),t.Q6J("items",i.warehouseList),t.xp6(4),t.Oqu(t.lcZ(92,139,"Invoice_Reference_Number")),t.xp6(2),t.hYB("placeholder","",t.lcZ(94,141,"Please_Enter")," ",t.lcZ(95,143,"Invoice_Reference_Number"),""),t.xp6(6),t.hij(" ",t.lcZ(100,145,"LPO_Contract")," "),t.xp6(2),t.hYB("placeholder","",t.lcZ(102,147,"Please_Enter")," ",t.lcZ(103,149,"LPO_Contract"),""),t.xp6(6),t.hij(" ",t.lcZ(108,151,"Payment_Terms")," "),t.xp6(4),t.Oqu(t.lcZ(112,153,"Select_Payment_Terms")),t.xp6(2),t.Q6J("ngForOf",i.paymentTermsList),t.xp6(4),t.Oqu(t.lcZ(118,155,"TAX_Id_Number")),t.xp6(2),t.s9C("placeholder",t.lcZ(120,157,"TAX_Id_Number")),t.xp6(5),t.Oqu(t.lcZ(125,159,"Footer_Discount")),t.xp6(2),t.s9C("placeholder",t.lcZ(127,161,"Footer_Discount")),t.Q6J("ngModel",i.footerDiscount)("ngModelOptions",t.DdM(253,w)),t.xp6(5),t.Oqu(t.lcZ(132,163,"Invoice_Notes")),t.xp6(2),t.hYB("placeholder","",t.lcZ(134,165,"Please_Select")," ",t.lcZ(135,167,"Invoice_Notes"),""),t.xp6(6),t.Oqu(t.lcZ(140,169,"Remarks")),t.xp6(2),t.hYB("placeholder","",t.lcZ(142,171,"Please_Select")," ",t.lcZ(143,173,"Remarks"),""),t.xp6(8),t.Oqu(t.lcZ(150,175,"Item")),t.xp6(3),t.Oqu(t.lcZ(153,177,"Description")),t.xp6(3),t.Oqu(t.lcZ(156,179,"Quantity")),t.xp6(3),t.Oqu(t.lcZ(159,181,"Unit")),t.xp6(3),t.Oqu(t.lcZ(162,183,"Price")),t.xp6(3),t.Oqu(t.lcZ(165,185,"Discount")),t.xp6(3),t.hij("",t.lcZ(168,187,"VAT"),"%"),t.xp6(3),t.Oqu(t.lcZ(171,189,"Total")),t.xp6(7),t.Q6J("ngIf",!i.isBarcodeScannerOn),t.xp6(1),t.Q6J("ngIf",i.isBarcodeScannerOn),t.xp6(4),t.Oqu(t.lcZ(183,191,"Barcode_Scanner")),t.xp6(2),t.Q6J("ngModel",i.isBarcodeScannerOn)("ngModelOptions",t.DdM(254,w)),t.xp6(2),t.s9C("placeholder",t.lcZ(187,193,"Description")),t.Q6J("ngModel",i.description)("ngModelOptions",t.DdM(255,w)),t.xp6(3),t.s9C("placeholder",t.lcZ(190,195,"Quantity")),t.Q6J("ngModel",i.quantity)("ngModelOptions",t.DdM(256,w)),t.xp6(3),t.Q6J("ngModel",i.unitType)("ngModelOptions",t.DdM(257,w)),t.xp6(2),t.Oqu(t.lcZ(195,197,"Unit")),t.xp6(2),t.Q6J("ngForOf",i.unitTypesList),t.xp6(2),t.s9C("placeholder",t.lcZ(199,199,"Price")),t.Q6J("ngModel",i.unitPrice)("ngModelOptions",t.DdM(258,w)),t.xp6(3),t.s9C("placeholder",t.lcZ(202,201,"Discount")),t.Q6J("ngModel",i.discount)("ngModelOptions",t.DdM(259,w)),t.xp6(3),t.s9C("placeholder",t.lcZ(205,203,"VAT")),t.Q6J("ngModel",i.vat)("ngModelOptions",t.DdM(260,w)),t.xp6(3),t.s9C("placeholder",t.lcZ(208,205,"Total")),t.Q6J("ngModel",i.itemInvAmount)("ngModelOptions",t.DdM(261,w)),t.xp6(4),t.Oqu(t.lcZ(212,207,"Add")),t.xp6(5),t.Oqu(t.lcZ(217,209,"Item")),t.xp6(3),t.Oqu(t.lcZ(220,211,"Description")),t.xp6(3),t.Oqu(t.lcZ(223,213,"Quantity")),t.xp6(3),t.Oqu(t.lcZ(226,215,"Unit")),t.xp6(3),t.Oqu(t.lcZ(229,217,"Price")),t.xp6(3),t.hij("",t.lcZ(232,219,"Disc"),"%"),t.xp6(3),t.hij("",t.lcZ(235,221,"VAT"),"%"),t.xp6(3),t.Oqu(t.lcZ(238,223,"Total")),t.xp6(4),t.Q6J("ngForOf",i.listOfInvoices),t.xp6(5),t.Oqu(t.lcZ(247,225,"Total_Amount")),t.xp6(3),t.Oqu(t.xi3(250,227,i.grandTotal,"1.2")),t.xp6(5),t.Oqu(t.lcZ(255,230,"Line_Discount")),t.xp6(3),t.Oqu(t.xi3(258,232,i.grandDiscountAmount,"1.2")),t.xp6(5),t.Oqu(t.lcZ(263,235,"Footer_Discount")),t.xp6(3),t.Oqu(t.xi3(266,237,i.grandFooterDiscountAmount,"1.2")),t.xp6(5),t.Oqu(t.lcZ(271,240,"VAT_Amount")),t.xp6(3),t.Oqu(t.xi3(274,242,i.grandVatTotal,"1.2")),t.xp6(5),t.Oqu(t.lcZ(279,245,"Invoice_Total")),t.xp6(3),t.Oqu(t.xi3(282,247,i.grandInvoiceTotal,"1.2")),t.xp6(7),t.hij(" ",t.lcZ(289,250,"Cancel")," "),t.xp6(3),t.Q6J("ngIf",i.canSave&&i.canCreate),t.xp6(1),t.Q6J("ngIf",i.canSave&&i.canSaveAndApprove),t.xp6(1),t.Q6J("ngIf",i.canSave&&i.canSaveAndSettle&&"2"!=i.invoiceStatusId)}},directives:[l._Y,l.JL,l.sg,l.EJ,l.JJ,l.On,l.YN,l.Kr,D.w9,l.u,l.Fj,_.hl,_.nW,A.R9,_.Mq,nt.s,d.sg,d.O5,O.Rr,l.wV],pipes:[h.X$,d.JJ],encapsulation:2}),n})(),Fr=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-sndsalesinvoiceprinting"]],decls:2,vars:0,template:function(e,i){1&e&&(t.TgZ(0,"p"),t._uU(1,"sndsalesinvoiceprinting works!"),t.qZA())},encapsulation:2}),n})();function Br(n,a){if(1&n&&t._UZ(0,"img",61),2&n){const e=t.oxw(2);t.s9C("src",e.company.logoURL,t.LSH)}}function Er(n,a){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td",62),t._uU(2),t.qZA(),t.TgZ(3,"td",62),t.TgZ(4,"b",63),t._uU(5),t._UZ(6,"br"),t.qZA(),t.qZA(),t.TgZ(7,"td",64),t.TgZ(8,"div",65),t._uU(9),t.qZA(),t.qZA(),t.TgZ(10,"td",62),t._uU(11),t.qZA(),t.TgZ(12,"td",62),t._uU(13),t.ALo(14,"number"),t.qZA(),t.TgZ(15,"td",62),t._uU(16),t.qZA(),t.TgZ(17,"td",66),t._uU(18),t.ALo(19,"number"),t.qZA(),t.TgZ(20,"td",66),t._uU(21),t.ALo(22,"number"),t.qZA(),t.qZA()),2&n){const e=a.$implicit;t.xp6(2),t.hij(" ",e.itemCode," "),t.xp6(3),t.hij(" ",e.itemName,""),t.xp6(4),t.hij(" ",e.description," "),t.xp6(2),t.hij(" ",e.quantity," "),t.xp6(2),t.hij(" ",t.xi3(14,8,e.unitPrice,"1.2")," "),t.xp6(3),t.hij(" ",e.taxTariffPercentage+" %"," "),t.xp6(2),t.hij(" ",t.xi3(19,11,e.taxAmount,"1.2")," "),t.xp6(3),t.hij(" ",t.xi3(22,14,e.totalAmount,"1.2")," ")}}function $r(n,a){1&n&&(t.TgZ(0,"table",5),t.TgZ(1,"tr"),t._UZ(2,"td",67),t.qZA(),t.qZA())}function Vr(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"div",1),t.TgZ(2,"table",2),t.TgZ(3,"tr"),t.TgZ(4,"td",3),t.YNc(5,Br,1,1,"img",4),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"table",5),t.TgZ(7,"tr"),t.TgZ(8,"td",6),t.TgZ(9,"h4",7),t._uU(10),t.qZA(),t.TgZ(11,"h4",7),t._uU(12),t.qZA(),t._UZ(13,"span"),t.TgZ(14,"h4",7),t._uU(15," VAT NO : "),t.TgZ(16,"span",8),t._uU(17),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"td",9),t.TgZ(19,"span",10),t._uU(20),t.qZA(),t._UZ(21,"br"),t.TgZ(22,"span",11),t._uU(23),t.qZA(),t.qZA(),t.TgZ(24,"td",12),t.TgZ(25,"h4",13),t._uU(26),t.qZA(),t.TgZ(27,"h4",13),t._uU(28),t.qZA(),t.TgZ(29,"h4",13),t._uU(30),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(31,"div",14),t.TgZ(32,"table",15),t.TgZ(33,"tr"),t.TgZ(34,"td",16),t.TgZ(35,"table",17),t.TgZ(36,"tr"),t.TgZ(37,"td",18),t._uU(38," Invoice # "),t.qZA(),t.TgZ(39,"td",19),t._uU(40),t.qZA(),t.TgZ(41,"td",20),t._uU(42," \u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629 "),t.qZA(),t.qZA(),t.TgZ(43,"tr"),t.TgZ(44,"td",18),t._uU(45," Service Month "),t.qZA(),t.TgZ(46,"td",19),t._uU(47),t.qZA(),t.TgZ(48,"td",20),t._uU(49," \u0634\u0647\u0631 \u0627\u0644\u0639\u0645\u0644 "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(50,"td",21),t.TgZ(51,"td",22),t.TgZ(52,"table",17),t.TgZ(53,"tr"),t.TgZ(54,"td",18),t._uU(55," Issue Date "),t.qZA(),t.TgZ(56,"td",19),t.TgZ(57,"label",23),t._uU(58),t.ALo(59,"date"),t.qZA(),t.qZA(),t.TgZ(60,"td",20),t._uU(61," \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0635\u062f\u0627\u0631 "),t.qZA(),t.qZA(),t.TgZ(62,"tr"),t.TgZ(63,"td",18),t._uU(64," Due Date "),t.qZA(),t.TgZ(65,"td",19),t.TgZ(66,"label",23),t._uU(67),t.ALo(68,"date"),t.qZA(),t.qZA(),t.TgZ(69,"td",20),t._uU(70," \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0633\u062a\u062d\u0642\u0627\u0642 "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(71,"div",24),t.TgZ(72,"table",17),t.TgZ(73,"tr"),t.TgZ(74,"td",25),t._uU(75," Address "),t.qZA(),t.TgZ(76,"td",26),t._uU(77),t.qZA(),t.TgZ(78,"td",27),t._uU(79),t.ALo(80,"translate"),t.qZA(),t.TgZ(81,"td",28),t._uU(82),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(83,"div",24),t.TgZ(84,"table",17),t.TgZ(85,"tr"),t.TgZ(86,"td",29),t._uU(87),t.qZA(),t.TgZ(88,"td",30),t._uU(89," \u0627\u0644\u0639\u0646\u0648\u0627\u0646 "),t.qZA(),t.TgZ(90,"td",31),t._uU(91),t.qZA(),t.TgZ(92,"td",32),t._uU(93," \u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064a\u0644 "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(94,"div",24),t.TgZ(95,"table",17),t.TgZ(96,"tr"),t.TgZ(97,"td",33),t._uU(98," \u0634\u0631\u0648\u0637 \u0627\u0644\u062f\u0641\u0639 "),t.TgZ(99,"span",34),t._uU(100," Payment Terms "),t.qZA(),t.qZA(),t.TgZ(101,"td",35),t._uU(102," \u0631\u0642\u0645 \u0623\u0645\u0631 \u0627\u0644\u0634\u0631\u0627\u0621 \xa0 \xa0 "),t.TgZ(103,"span",34),t._uU(104,"P.O. No."),t.qZA(),t.qZA(),t.TgZ(105,"td",19),t._uU(106," \u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064a\u0628\u064a \u0644\u0644\u0639\u0645\u064a\u0644 \xa0 \xa0 "),t.TgZ(107,"span",34),t._uU(108),t.ALo(109,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(110,"tr"),t.TgZ(111,"td",33),t._uU(112),t.qZA(),t.TgZ(113,"td",35),t._uU(114),t.qZA(),t.TgZ(115,"td",19),t._uU(116),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(117,"div",36),t.TgZ(118,"table",17),t.TgZ(119,"tr"),t.TgZ(120,"th",37),t.TgZ(121,"div",38),t._uU(122,"\u0631\u0642\u0645 \u0627\u0644\u0635\u0646\u0641"),t.qZA(),t.TgZ(123,"div",39),t._uU(124,"Item"),t.qZA(),t.qZA(),t.TgZ(125,"th",37),t.TgZ(126,"div",38),t._uU(127," \u0627\u0633\u0645"),t.qZA(),t.TgZ(128,"div",39),t._uU(129,"Name"),t.qZA(),t.qZA(),t.TgZ(130,"th",19),t.TgZ(131,"div",38),t._uU(132,"\u0627\u0644\u0648\u0635\u0641"),t.qZA(),t.TgZ(133,"div",39),t._uU(134,"Description"),t.qZA(),t.qZA(),t.TgZ(135,"th",37),t.TgZ(136,"div",38),t._uU(137," \u0627\u0644\u0643\u0645\u064a\u0629"),t.qZA(),t.TgZ(138,"div",39),t._uU(139,"Qty"),t.qZA(),t.qZA(),t.TgZ(140,"th",37),t.TgZ(141,"div",38),t._uU(142,"\u0633\u0639\u0631 \u0627\u0644\u0648\u062d\u062f\u0629"),t.qZA(),t.TgZ(143,"div",39),t._uU(144,"Unit Price"),t.qZA(),t.qZA(),t.TgZ(145,"th",37),t.TgZ(146,"div",38),t._uU(147," \u0636\u0631\u064a\u0628\u0629 \u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0645\u0636\u0627\u0641\u0629"),t.qZA(),t.TgZ(148,"div",39),t._uU(149,"Vat"),t.qZA(),t.qZA(),t.TgZ(150,"th",40),t.TgZ(151,"div",38),t._uU(152," \u0625\u062c\u0645\u0627\u0644\u064a \u0636\u0631\u064a\u0628\u0629 \u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0645\u0636\u0627\u0641\u0629"),t.qZA(),t.TgZ(153,"div",39),t._uU(154,"Vat Amount"),t.qZA(),t.qZA(),t.TgZ(155,"th",40),t.TgZ(156,"div",38),t._uU(157,"\u0627\u0644\u0633\u0639\u0631 \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a"),t.qZA(),t.TgZ(158,"div",39),t._uU(159,"Total Price"),t.qZA(),t.qZA(),t.qZA(),t.YNc(160,Er,23,17,"tr",41),t.TgZ(161,"tr"),t.TgZ(162,"td",42),t.TgZ(163,"div",43),t._uU(164),t.qZA(),t.TgZ(165,"div",44),t._uU(166),t.qZA(),t.TgZ(167,"div",45),t._UZ(168,"img",46),t.qZA(),t.qZA(),t.TgZ(169,"td",47),t.TgZ(170,"div",48),t._uU(171," \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a \u063a\u064a\u0631 \u0634\u0627\u0645\u0644 \u0627\u0644\u0636\u0631\u064a\u0628\u0629"),t.qZA(),t.TgZ(172,"div",49),t._uU(173,"Subtotal Excl. VAT"),t.qZA(),t.qZA(),t.TgZ(174,"td",50),t._uU(175),t.ALo(176,"number"),t.qZA(),t.qZA(),t.TgZ(177,"tr"),t.TgZ(178,"td",47),t.TgZ(179,"div",48),t._UZ(180,"span",49),t._uU(181," \u0636\u0631\u064a\u0628\u0629 \u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0645\u0636\u0627\u0641\u0629 "),t.qZA(),t.TgZ(182,"div",49),t._uU(183,"VAT Amount"),t.qZA(),t.qZA(),t.TgZ(184,"td",50),t._uU(185),t.ALo(186,"number"),t.qZA(),t.qZA(),t.TgZ(187,"tr"),t.TgZ(188,"td",51),t.TgZ(189,"table",52),t.TgZ(190,"tr"),t.TgZ(191,"td",53),t.TgZ(192,"div",54),t._uU(193,":Bank Account Details"),t.qZA(),t.TgZ(194,"div",54),t._uU(195),t.qZA(),t.TgZ(196,"div",54),t._uU(197),t.qZA(),t.TgZ(198,"div",54),t._uU(199),t.qZA(),t._UZ(200,"div",54),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(201,"td",55),t.TgZ(202,"div",56),t._uU(203," \u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a \u0634\u0627\u0645\u0644 \u0627\u0644\u0636\u0631\u064a\u0628\u0629"),t.qZA(),t.TgZ(204,"div",57),t._uU(205,"Total Incl. VAT"),t.qZA(),t.qZA(),t.TgZ(206,"td",58),t._uU(207," SAR "),t.TgZ(208,"span",59),t._uU(209),t.ALo(210,"number"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(211,"tr"),t.TgZ(212,"td",47),t.TgZ(213,"div",48),t._uU(214,"\u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u0645\u062f\u0641\u0648\u0639"),t.qZA(),t.TgZ(215,"div",49),t._uU(216,"Amount Paid"),t.qZA(),t.qZA(),t.TgZ(217,"td",50),t._uU(218),t.ALo(219,"number"),t.qZA(),t.qZA(),t.TgZ(220,"tr"),t.TgZ(221,"td",55),t.TgZ(222,"div",56),t._uU(223,"\u0627\u0644\u0631\u0635\u064a\u062f \u0627\u0644\u0645\u0633\u062a\u062d\u0642"),t.qZA(),t.TgZ(224,"div",57),t._uU(225,"Balance Due "),t.qZA(),t.qZA(),t.TgZ(226,"td",58),t._uU(227),t.ALo(228,"number"),t.qZA(),t.qZA(),t.qZA(),t.YNc(229,$r,3,0,"table",60),t.qZA(),t.qZA(),t.BQk()),2&n){const e=t.oxw();t.xp6(4),t.Akn(e.isSavePDF?"height : 0px ":"height:150px"),t.xp6(1),t.Q6J("ngIf",e.isSavePDF),t.xp6(5),t.hij(" ",e.company.companyName," "),t.xp6(2),t.hij(" ",e.company.companyAddress," "),t.xp6(5),t.hij("",e.company.vatNumber," "),t.xp6(3),t.hij(" ",e.invoice.isCreditConverted?" \u0627\u0634\u0639\u0627\u0631 \u062f\u0627\u0626\u0646 ":" \u0641\u0627\u062a\u0648\u0631\u0629 \u0636\u0631\u064a\u0628\u064a\u0629 "," "),t.xp6(3),t.hij(" ",e.invoice.isCreditConverted?" Credit note ":" SALES INVOICE "," \xa0 \xa0\xa0 "),t.xp6(3),t.hij(" ",e.company.companyName," "),t.xp6(2),t.hij(" ",e.company.companyAddress," "),t.xp6(2),t.hij(" ",e.company.vatNumber," : \u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064a\u0628\u064a "),t.xp6(10),t.hij(" ",e.invoice.invoiceNumber," "),t.xp6(7),t.hij(" ",e.invoice.serviceDate1," "),t.xp6(11),t.hij(" ",t.xi3(59,38,e.invoice.invoiceDate,"dd-MM-yyyy")," "),t.xp6(9),t.Oqu(t.xi3(68,41,e.invoice.invoiceDueDate,"dd-MM-yyyy")),t.xp6(10),t.hij(" ",e.customer.custAddress1," "),t.xp6(2),t.AsE(" ",e.invoice.customerName?"Walk-In / \u0641\u064a \u0627\u0644\u0645\u0648\u0642\u0639 ":""," ",t.lcZ(80,44,"Customer_Name")," "),t.xp6(3),t.hij(" ",e.customer.custName," "),t.xp6(5),t.hij(" ",e.customer.custAddress1," "),t.xp6(4),t.hij(" ",e.customer.custArbName," "),t.xp6(17),t.Oqu(t.lcZ(109,46,"Customer_VAT_No")),t.xp6(4),t.hij(" ",e.invoice.paymentTermId," "),t.xp6(2),t.hij(" ",e.invoice.invoiceRefNumber," "),t.xp6(2),t.hij(" ",e.customer.vatNumber," "),t.xp6(44),t.Q6J("ngForOf",e.tableData),t.xp6(4),t.hij(" \u0627\u0644\u0645\u062c\u0645\u0648\u0639 \u0643\u062a\u0627\u0628\u0629 : ",e.totalAmountAr," "),t.xp6(2),t.hij(" Total In Words: ",e.totalAmountEn," "),t.xp6(2),t.s9C("src",e.invoice.qrCode,t.LSH),t.xp6(7),t.hij(" SAR ",t.xi3(176,48,e.invoice.subTotal,"3.2-5")," "),t.xp6(10),t.hij(" SAR ",t.xi3(186,51,e.invoice.taxAmount,"3.2-5")," "),t.xp6(10),t.hij(" Account Name: ",e.company.companyName,""),t.xp6(2),t.hij("Bank Name: ",e.bank.branchName,""),t.xp6(2),t.hij("Address :",e.bank.branchAddress," "),t.xp6(10),t.Oqu(t.xi3(210,54,e.invoice.totalAmount,"3.2-5")),t.xp6(9),t.hij(" SAR ",t.xi3(219,57,e.invoice.paidAmount,"3.2-5")," "),t.xp6(9),t.hij(" SAR ",t.xi3(228,60,e.invoice.totalAmount-e.invoice.paidAmount,"3.2-5")," "),t.xp6(2),t.Q6J("ngIf",e.isSavePDF)}}function zr(n,a){if(1&n&&t._UZ(0,"img",61),2&n){const e=t.oxw(2);t.s9C("src",e.company.logoURL,t.LSH)}}function Wr(n,a){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td",71),t._uU(2),t.qZA(),t.TgZ(3,"td",71),t.TgZ(4,"b",63),t._uU(5),t._UZ(6,"br"),t.qZA(),t.qZA(),t.TgZ(7,"td",64),t.TgZ(8,"div",65),t._uU(9),t.qZA(),t.qZA(),t.TgZ(10,"td",71),t._uU(11),t.qZA(),t.TgZ(12,"td",71),t._uU(13),t.ALo(14,"number"),t.qZA(),t.TgZ(15,"td",71),t._uU(16),t.ALo(17,"number"),t.qZA(),t.qZA()),2&n){const e=a.$implicit;t.xp6(2),t.hij(" ",e.itemCode," "),t.xp6(3),t.hij(" ",e.itemName,""),t.xp6(4),t.hij(" ",e.unitType," "),t.xp6(2),t.hij(" ",e.quantity," "),t.xp6(2),t.hij(" ",t.xi3(14,6,e.unitPrice,"1.2")," "),t.xp6(3),t.hij(" ",t.xi3(17,9,e.totalAmount,"1.2")," ")}}function Hr(n,a){1&n&&(t.TgZ(0,"table",5),t.TgZ(1,"tr"),t._UZ(2,"td",72),t.qZA(),t.qZA())}function Gr(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"div",1),t.TgZ(2,"table",2),t.TgZ(3,"tr"),t.TgZ(4,"td",3),t.YNc(5,zr,1,1,"img",4),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"table",5),t.TgZ(7,"tr"),t.TgZ(8,"td",6),t.TgZ(9,"h4",7),t._uU(10),t.qZA(),t.TgZ(11,"h4",7),t._uU(12),t.qZA(),t._UZ(13,"span"),t.TgZ(14,"h4",7),t._uU(15," VAT NO : "),t.TgZ(16,"span",8),t._uU(17),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"td",9),t.TgZ(19,"span",10),t._uU(20),t.qZA(),t._UZ(21,"br"),t.TgZ(22,"span",11),t._uU(23),t.qZA(),t.qZA(),t.TgZ(24,"td",12),t.TgZ(25,"h4",13),t._uU(26),t.qZA(),t.TgZ(27,"h4",13),t._uU(28),t.qZA(),t.TgZ(29,"h4",13),t._uU(30),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(31,"div",14),t.TgZ(32,"table",15),t.TgZ(33,"tr"),t.TgZ(34,"td",16),t.TgZ(35,"table",17),t.TgZ(36,"tr"),t.TgZ(37,"td",18),t._uU(38," Invoice # "),t.qZA(),t.TgZ(39,"td",19),t._uU(40),t.qZA(),t.TgZ(41,"td",20),t._uU(42," \u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629 "),t.qZA(),t.qZA(),t.TgZ(43,"tr"),t.TgZ(44,"td",18),t._uU(45," Service Month "),t.qZA(),t.TgZ(46,"td",19),t._uU(47),t.qZA(),t.TgZ(48,"td",20),t._uU(49," \u0634\u0647\u0631 \u0627\u0644\u0639\u0645\u0644 "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(50,"td",21),t.TgZ(51,"td",22),t.TgZ(52,"table",17),t.TgZ(53,"tr"),t.TgZ(54,"td",18),t._uU(55," Issue Date "),t.qZA(),t.TgZ(56,"td",19),t.TgZ(57,"label",23),t._uU(58),t.ALo(59,"date"),t.qZA(),t.qZA(),t.TgZ(60,"td",20),t._uU(61," \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0635\u062f\u0627\u0631 "),t.qZA(),t.qZA(),t.TgZ(62,"tr"),t.TgZ(63,"td",18),t._uU(64," Due Date "),t.qZA(),t.TgZ(65,"td",19),t.TgZ(66,"label",23),t._uU(67),t.ALo(68,"date"),t.qZA(),t.qZA(),t.TgZ(69,"td",20),t._uU(70," \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0633\u062a\u062d\u0642\u0627\u0642 "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(71,"div",24),t.TgZ(72,"table",17),t.TgZ(73,"tr"),t.TgZ(74,"td",25),t._uU(75," Address "),t.qZA(),t.TgZ(76,"td",26),t._uU(77),t.qZA(),t.TgZ(78,"td",27),t._uU(79),t.ALo(80,"translate"),t.qZA(),t.TgZ(81,"td",28),t._uU(82),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(83,"div",24),t.TgZ(84,"table",17),t.TgZ(85,"tr"),t.TgZ(86,"td",29),t._uU(87),t.qZA(),t.TgZ(88,"td",30),t._uU(89," \u0627\u0644\u0639\u0646\u0648\u0627\u0646 "),t.qZA(),t.TgZ(90,"td",31),t._uU(91),t.qZA(),t.TgZ(92,"td",32),t._uU(93," \u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064a\u0644 "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(94,"div",24),t.TgZ(95,"table",17),t.TgZ(96,"tr"),t.TgZ(97,"td",33),t._uU(98," \u0634\u0631\u0648\u0637 \u0627\u0644\u062f\u0641\u0639 "),t.TgZ(99,"span",34),t._uU(100," Payment Terms "),t.qZA(),t.qZA(),t.TgZ(101,"td",35),t._uU(102," \u0631\u0642\u0645 \u0623\u0645\u0631 \u0627\u0644\u0634\u0631\u0627\u0621 \xa0 \xa0 "),t.TgZ(103,"span",34),t._uU(104,"P.O. No."),t.qZA(),t.qZA(),t.TgZ(105,"td",19),t._uU(106," \u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064a\u0628\u064a \u0644\u0644\u0639\u0645\u064a\u0644 \xa0 \xa0 "),t.TgZ(107,"span",34),t._uU(108),t.ALo(109,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(110,"tr"),t.TgZ(111,"td",33),t._uU(112),t.qZA(),t.TgZ(113,"td",35),t._uU(114),t.qZA(),t.TgZ(115,"td",19),t._uU(116),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(117,"div",36),t.TgZ(118,"table",17),t.TgZ(119,"tr"),t.TgZ(120,"th",40),t.TgZ(121,"div",38),t._uU(122,"\u0631\u0642\u0645 \u0627\u0644\u0635\u0646\u0641"),t.qZA(),t.TgZ(123,"div",39),t._uU(124,"Item"),t.qZA(),t.qZA(),t.TgZ(125,"th",68),t.TgZ(126,"div",38),t._uU(127),t.ALo(128,"translate"),t.qZA(),t.TgZ(129,"div",39),t._uU(130,"Item Details"),t.qZA(),t.qZA(),t.TgZ(131,"th",40),t.TgZ(132,"div",38),t._uU(133),t.ALo(134,"translate"),t.qZA(),t.TgZ(135,"div",39),t._uU(136,"Unit"),t.qZA(),t.qZA(),t.TgZ(137,"th",40),t.TgZ(138,"div",38),t._uU(139," \u0627\u0644\u0643\u0645\u064a\u0629"),t.qZA(),t.TgZ(140,"div",39),t._uU(141,"Qty"),t.qZA(),t.qZA(),t.TgZ(142,"th",40),t.TgZ(143,"div",38),t._uU(144,"\u0633\u0639\u0631 \u0627\u0644\u0648\u062d\u062f\u0629"),t.qZA(),t.TgZ(145,"div",39),t._uU(146,"Unit Price"),t.qZA(),t.qZA(),t.TgZ(147,"th",68),t.TgZ(148,"div",38),t._uU(149,"\u0627\u0644\u0633\u0639\u0631 \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a"),t.qZA(),t.TgZ(150,"div",39),t._uU(151,"Total Price"),t.qZA(),t.qZA(),t.qZA(),t.YNc(152,Wr,18,12,"tr",41),t.TgZ(153,"tr"),t.TgZ(154,"td",69),t.TgZ(155,"div",43),t._uU(156),t.qZA(),t.TgZ(157,"div",44),t._uU(158),t.qZA(),t.TgZ(159,"div",45),t._UZ(160,"img",46),t.qZA(),t.qZA(),t.TgZ(161,"td",47),t.TgZ(162,"div",48),t._uU(163),t.ALo(164,"translate"),t.qZA(),t.TgZ(165,"div",49),t._uU(166,"Total"),t.qZA(),t.qZA(),t.TgZ(167,"td",50),t._uU(168),t.ALo(169,"number"),t.qZA(),t.qZA(),t.TgZ(170,"tr"),t.TgZ(171,"td",47),t.TgZ(172,"div",48),t._uU(173),t.ALo(174,"translate"),t.qZA(),t.TgZ(175,"div",49),t._uU(176,"Discount"),t.qZA(),t.qZA(),t.TgZ(177,"td",50),t._uU(178),t.ALo(179,"number"),t.qZA(),t.qZA(),t.TgZ(180,"tr"),t.TgZ(181,"td",47),t.TgZ(182,"div",48),t._uU(183," \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a \u063a\u064a\u0631 \u0634\u0627\u0645\u0644 \u0627\u0644\u0636\u0631\u064a\u0628\u0629"),t.qZA(),t.TgZ(184,"div",49),t._uU(185,"Subtotal Excl. VAT"),t.qZA(),t.qZA(),t.TgZ(186,"td",50),t._uU(187),t.ALo(188,"number"),t.qZA(),t.qZA(),t.TgZ(189,"tr"),t.TgZ(190,"td",47),t.TgZ(191,"div",48),t._UZ(192,"span",49),t._uU(193," \u0636\u0631\u064a\u0628\u0629 \u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0645\u0636\u0627\u0641\u0629 "),t.qZA(),t.TgZ(194,"div",49),t._uU(195,"VAT Amount"),t.qZA(),t.qZA(),t.TgZ(196,"td",50),t._uU(197),t.ALo(198,"number"),t.qZA(),t.qZA(),t.TgZ(199,"tr"),t.TgZ(200,"td",70),t.TgZ(201,"table",52),t.TgZ(202,"tr"),t.TgZ(203,"td",53),t.TgZ(204,"div",54),t._uU(205,":Bank Account Details"),t.qZA(),t.TgZ(206,"div",54),t._uU(207),t.qZA(),t.TgZ(208,"div",54),t._uU(209),t.qZA(),t.TgZ(210,"div",54),t._uU(211),t.qZA(),t.TgZ(212,"div",54),t._uU(213,"--\x3e"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(214,"td",55),t.TgZ(215,"div",56),t._uU(216," \u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a \u0634\u0627\u0645\u0644 \u0627\u0644\u0636\u0631\u064a\u0628\u0629"),t.qZA(),t.TgZ(217,"div",57),t._uU(218,"Total Incl. VAT"),t.qZA(),t.qZA(),t.TgZ(219,"td",58),t._uU(220," SAR "),t.TgZ(221,"span",59),t._uU(222),t.ALo(223,"number"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(224,"tr"),t.TgZ(225,"td",47),t.TgZ(226,"div",48),t._uU(227,"\u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u0645\u062f\u0641\u0648\u0639"),t.qZA(),t.TgZ(228,"div",49),t._uU(229,"Amount Paid"),t.qZA(),t.qZA(),t.TgZ(230,"td",50),t._uU(231),t.ALo(232,"number"),t.qZA(),t.qZA(),t.TgZ(233,"tr"),t.TgZ(234,"td",55),t.TgZ(235,"div",56),t._uU(236,"\u0627\u0644\u0631\u0635\u064a\u062f \u0627\u0644\u0645\u0633\u062a\u062d\u0642"),t.qZA(),t.TgZ(237,"div",57),t._uU(238,"Balance Due "),t.qZA(),t.qZA(),t.TgZ(239,"td",58),t._uU(240),t.ALo(241,"number"),t.qZA(),t.qZA(),t.qZA(),t.YNc(242,Hr,3,0,"table",60),t.qZA(),t.qZA(),t.BQk()),2&n){const e=t.oxw();t.xp6(4),t.Akn(e.isSavePDF?"height : 0px ":"height:150px"),t.xp6(1),t.Q6J("ngIf",e.isSavePDF),t.xp6(5),t.hij(" ",e.company.companyName," "),t.xp6(2),t.hij(" ",e.company.companyAddress," "),t.xp6(5),t.hij("",e.company.vatNumber," "),t.xp6(3),t.hij(" ",e.invoice.isCreditConverted?" \u0627\u0634\u0639\u0627\u0631 \u062f\u0627\u0626\u0646 ":" \u0641\u0627\u062a\u0648\u0631\u0629 \u0636\u0631\u064a\u0628\u064a\u0629 "," "),t.xp6(3),t.hij(" ",e.invoice.isCreditConverted?" Credit note ":" SALES INVOICE "," \xa0 \xa0\xa0 "),t.xp6(3),t.hij(" ",e.company.companyName," "),t.xp6(2),t.hij(" ",e.company.companyAddress," "),t.xp6(2),t.hij(" ",e.company.vatNumber," : \u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064a\u0628\u064a "),t.xp6(10),t.hij(" ",e.invoice.invoiceNumber," "),t.xp6(7),t.hij(" ",e.invoice.serviceDate1," "),t.xp6(11),t.hij(" ",t.xi3(59,44,e.invoice.invoiceDate,"dd-MM-yyyy")," "),t.xp6(9),t.Oqu(t.xi3(68,47,e.invoice.invoiceDueDate,"dd-MM-yyyy")),t.xp6(10),t.hij(" ",e.customer.custAddress1," "),t.xp6(2),t.AsE(" ",e.invoice.customerName?"Walk-In / \u0641\u064a \u0627\u0644\u0645\u0648\u0642\u0639 ":""," ",t.lcZ(80,50,"Customer_Name")," "),t.xp6(3),t.hij(" ",e.customer.custName," "),t.xp6(5),t.hij(" ",e.customer.custAddress1," "),t.xp6(4),t.hij(" ",e.customer.custArbName," "),t.xp6(17),t.Oqu(t.lcZ(109,52,"Customer_VAT_No")),t.xp6(4),t.hij(" ",e.invoice.paymentTermId," "),t.xp6(2),t.hij(" ",e.invoice.invoiceRefNumber," "),t.xp6(2),t.hij(" ",e.customer.vatNumber," "),t.xp6(11),t.hij(" ",t.lcZ(128,54,"Item_Details"),""),t.xp6(6),t.Oqu(t.lcZ(134,56,"Unit")),t.xp6(19),t.Q6J("ngForOf",e.tableData),t.xp6(4),t.hij(" \u0627\u0644\u0645\u062c\u0645\u0648\u0639 \u0643\u062a\u0627\u0628\u0629 : ",e.totalAmountAr," "),t.xp6(2),t.hij(" Total In Words: ",e.totalAmountEn," "),t.xp6(2),t.s9C("src",e.invoice.qrCode,t.LSH),t.xp6(3),t.hij(" ",t.lcZ(164,58,"Total"),""),t.xp6(5),t.hij(" SAR ",t.xi3(169,60,e.grandTotalData.total,"3.2-5")," "),t.xp6(5),t.hij(" ",t.lcZ(174,63,"Discount"),""),t.xp6(5),t.hij(" SAR ",t.xi3(179,65,e.grandTotalData.discAmnt+e.grandTotalData.footerDiscAmnt,"3.2-5")," "),t.xp6(9),t.hij(" SAR ",t.xi3(188,68,e.grandTotalData.totalBeforeVat,"3.2-5")," "),t.xp6(10),t.hij(" SAR ",t.xi3(198,71,e.grandTotalData.vatAmnt,"3.2-5")," "),t.xp6(10),t.hij(" Account Name: ",e.company.companyName,""),t.xp6(2),t.hij("Bank Name: ",e.bank.branchName,""),t.xp6(2),t.hij("Address :",e.bank.branchAddress," "),t.xp6(11),t.Oqu(t.xi3(223,74,e.grandTotalData.invTotalAmnt,"3.2-5")),t.xp6(9),t.hij(" SAR ",t.xi3(232,77,e.invoice.paidAmount,"3.2-5")," "),t.xp6(9),t.hij(" SAR ",t.xi3(241,80,e.grandTotalData.invTotalAmnt-e.invoice.paidAmount,"3.2-5")," "),t.xp6(2),t.Q6J("ngIf",e.isSavePDF)}}function Xr(n,a){if(1&n&&t._UZ(0,"img",61),2&n){const e=t.oxw(2);t.s9C("src",e.company.logoURL,t.LSH)}}function Kr(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"tr"),t.TgZ(2,"td",75),t._uU(3),t.qZA(),t.TgZ(4,"td",71),t._uU(5),t.qZA(),t._UZ(6,"td",71),t.TgZ(7,"td",71),t._uU(8),t.qZA(),t.TgZ(9,"td",71),t._uU(10),t.ALo(11,"number"),t.qZA(),t.TgZ(12,"td",71),t._uU(13),t.ALo(14,"number"),t.qZA(),t.qZA(),t.TgZ(15,"tr"),t.TgZ(16,"td",71),t.TgZ(17,"b",63),t._uU(18),t._UZ(19,"br"),t.qZA(),t.qZA(),t._UZ(20,"td",71),t.TgZ(21,"td",76),t.TgZ(22,"div",65),t._uU(23),t.qZA(),t.qZA(),t.TgZ(24,"td",71),t._uU(25),t.ALo(26,"number"),t.qZA(),t.TgZ(27,"td",71),t._uU(28),t.ALo(29,"number"),t.qZA(),t.qZA(),t.BQk()),2&n){const e=a.$implicit,i=a.index;t.xp6(3),t.Oqu(i+1),t.xp6(2),t.hij(" ",e.itemCode," "),t.xp6(3),t.hij(" ",e.quantity," "),t.xp6(2),t.hij(" ",t.xi3(11,9,e.unitPrice,"1.2")," "),t.xp6(3),t.hij(" ",t.xi3(14,12,e.totalAmount,"1.2")," "),t.xp6(5),t.hij(" ",e.itemName,""),t.xp6(5),t.hij(" ",e.unitType," "),t.xp6(2),t.hij(" ",t.xi3(26,15,e.calUnitTotalDiscPrice,"1.2")," "),t.xp6(3),t.hij(" ",t.xi3(29,18,e.calSubTotal,"1.2")," ")}}function tl(n,a){1&n&&(t.TgZ(0,"table",5),t.TgZ(1,"tr"),t._UZ(2,"td",77),t.qZA(),t.qZA())}function el(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"div",1),t.TgZ(2,"table",2),t.TgZ(3,"tr"),t.TgZ(4,"td",3),t.YNc(5,Xr,1,1,"img",4),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"table",5),t.TgZ(7,"tr"),t.TgZ(8,"td",6),t.TgZ(9,"h4",7),t._uU(10),t.qZA(),t.TgZ(11,"h4",7),t._uU(12),t.qZA(),t._UZ(13,"span"),t.TgZ(14,"h4",7),t._uU(15," VAT NO : "),t.TgZ(16,"span",8),t._uU(17),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"td",9),t.TgZ(19,"span",10),t._uU(20),t.qZA(),t._UZ(21,"br"),t.TgZ(22,"span",11),t._uU(23),t.qZA(),t.qZA(),t.TgZ(24,"td",12),t.TgZ(25,"h4",13),t._uU(26),t.qZA(),t.TgZ(27,"h4",13),t._uU(28),t.qZA(),t.TgZ(29,"h4",13),t._uU(30),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(31,"div",14),t.TgZ(32,"table",15),t.TgZ(33,"tr"),t.TgZ(34,"td",16),t.TgZ(35,"table",17),t.TgZ(36,"tr"),t.TgZ(37,"td",18),t._uU(38," Invoice # "),t.qZA(),t.TgZ(39,"td",19),t._uU(40),t.qZA(),t.TgZ(41,"td",20),t._uU(42," \u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629 "),t.qZA(),t.qZA(),t.TgZ(43,"tr"),t.TgZ(44,"td",18),t._uU(45," Service Month "),t.qZA(),t.TgZ(46,"td",19),t._uU(47),t.qZA(),t.TgZ(48,"td",20),t._uU(49," \u0634\u0647\u0631 \u0627\u0644\u0639\u0645\u0644 "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(50,"td",21),t.TgZ(51,"td",22),t.TgZ(52,"table",17),t.TgZ(53,"tr"),t.TgZ(54,"td",18),t._uU(55," Issue Date "),t.qZA(),t.TgZ(56,"td",19),t.TgZ(57,"label",23),t._uU(58),t.ALo(59,"date"),t.qZA(),t.qZA(),t.TgZ(60,"td",20),t._uU(61," \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0635\u062f\u0627\u0631 "),t.qZA(),t.qZA(),t.TgZ(62,"tr"),t.TgZ(63,"td",18),t._uU(64," Due Date "),t.qZA(),t.TgZ(65,"td",19),t.TgZ(66,"label",23),t._uU(67),t.ALo(68,"date"),t.qZA(),t.qZA(),t.TgZ(69,"td",20),t._uU(70," \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0633\u062a\u062d\u0642\u0627\u0642 "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(71,"div",24),t.TgZ(72,"table",17),t.TgZ(73,"tr"),t.TgZ(74,"td",25),t._uU(75," Address "),t.qZA(),t.TgZ(76,"td",26),t._uU(77),t.qZA(),t.TgZ(78,"td",27),t._uU(79),t.ALo(80,"translate"),t.qZA(),t.TgZ(81,"td",28),t._uU(82),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(83,"div",24),t.TgZ(84,"table",17),t.TgZ(85,"tr"),t.TgZ(86,"td",29),t._uU(87),t.qZA(),t.TgZ(88,"td",30),t._uU(89," \u0627\u0644\u0639\u0646\u0648\u0627\u0646 "),t.qZA(),t.TgZ(90,"td",31),t._uU(91),t.qZA(),t.TgZ(92,"td",32),t._uU(93," \u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064a\u0644 "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(94,"div",24),t.TgZ(95,"table",17),t.TgZ(96,"tr"),t.TgZ(97,"td",33),t._uU(98," \u0634\u0631\u0648\u0637 \u0627\u0644\u062f\u0641\u0639 "),t.TgZ(99,"span",34),t._uU(100," Payment Terms "),t.qZA(),t.qZA(),t.TgZ(101,"td",35),t._uU(102," \u0631\u0642\u0645 \u0623\u0645\u0631 \u0627\u0644\u0634\u0631\u0627\u0621 \xa0 \xa0 "),t.TgZ(103,"span",34),t._uU(104,"P.O. No."),t.qZA(),t.qZA(),t.TgZ(105,"td",19),t._uU(106," \u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064a\u0628\u064a \u0644\u0644\u0639\u0645\u064a\u0644 \xa0 \xa0 "),t.TgZ(107,"span",34),t._uU(108),t.ALo(109,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(110,"tr"),t.TgZ(111,"td",33),t._uU(112),t.qZA(),t.TgZ(113,"td",35),t._uU(114),t.qZA(),t.TgZ(115,"td",19),t._uU(116),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(117,"div",36),t.TgZ(118,"table",17),t.TgZ(119,"tr"),t.TgZ(120,"th",73),t._uU(121," S.No "),t.qZA(),t.TgZ(122,"th",68),t.TgZ(123,"div",38),t._uU(124,"\u0631\u0642\u0645 \u0627\u0644\u0635\u0646\u0641"),t.qZA(),t.TgZ(125,"div",39),t._uU(126,"Item"),t.qZA(),t.qZA(),t.TgZ(127,"th",33),t._uU(128),t.ALo(129,"translate"),t.qZA(),t.TgZ(130,"th",40),t.TgZ(131,"div",38),t._uU(132," \u0627\u0644\u0643\u0645\u064a\u0629"),t.qZA(),t.TgZ(133,"div",39),t._uU(134,"Qty"),t.qZA(),t.qZA(),t.TgZ(135,"th",40),t.TgZ(136,"div",38),t._uU(137),t.ALo(138,"translate"),t.qZA(),t.TgZ(139,"div",39),t._uU(140,"Cost"),t.qZA(),t.qZA(),t.TgZ(141,"th",40),t.TgZ(142,"div",38),t._uU(143),t.ALo(144,"translate"),t.qZA(),t.TgZ(145,"div",39),t._uU(146,"Total"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(147,"tr"),t.TgZ(148,"th",19),t.TgZ(149,"div",38),t._uU(150),t.ALo(151,"translate"),t.qZA(),t.TgZ(152,"div",39),t._uU(153,"Item Details"),t.qZA(),t.qZA(),t.TgZ(154,"th",19),t._uU(155," Remarks "),t.qZA(),t.TgZ(156,"th",19),t.TgZ(157,"div",38),t._uU(158),t.ALo(159,"translate"),t.qZA(),t.TgZ(160,"div",39),t._uU(161,"Unit"),t.qZA(),t.qZA(),t.TgZ(162,"th",19),t.TgZ(163,"div",38),t._uU(164),t.ALo(165,"translate"),t.qZA(),t.TgZ(166,"div",39),t._uU(167,"Net Cost"),t.qZA(),t.qZA(),t.TgZ(168,"th",19),t.TgZ(169,"div",38),t._uU(170),t.ALo(171,"translate"),t.qZA(),t.TgZ(172,"div",39),t._uU(173,"Net Total"),t.qZA(),t.qZA(),t.qZA(),t.YNc(174,Kr,30,21,"ng-container",41),t.TgZ(175,"tr"),t.TgZ(176,"td",69),t.TgZ(177,"div",43),t._uU(178),t.qZA(),t.TgZ(179,"div",44),t._uU(180),t.qZA(),t.TgZ(181,"div",45),t._UZ(182,"img",46),t.qZA(),t.qZA(),t.TgZ(183,"td",47),t.TgZ(184,"div",48),t._uU(185),t.ALo(186,"translate"),t.qZA(),t.TgZ(187,"div",49),t._uU(188,"Total"),t.qZA(),t.qZA(),t.TgZ(189,"td",50),t._uU(190),t.ALo(191,"number"),t.qZA(),t.qZA(),t.TgZ(192,"tr"),t.TgZ(193,"td",47),t.TgZ(194,"div",48),t._uU(195),t.ALo(196,"translate"),t.qZA(),t.TgZ(197,"div",49),t._uU(198,"Discount"),t.qZA(),t.qZA(),t.TgZ(199,"td",50),t._uU(200),t.ALo(201,"number"),t.qZA(),t.qZA(),t.TgZ(202,"tr"),t.TgZ(203,"td",47),t.TgZ(204,"div",48),t._uU(205," \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a \u063a\u064a\u0631 \u0634\u0627\u0645\u0644 \u0627\u0644\u0636\u0631\u064a\u0628\u0629"),t.qZA(),t.TgZ(206,"div",49),t._uU(207,"Subtotal Excl. VAT"),t.qZA(),t.qZA(),t.TgZ(208,"td",50),t._uU(209),t.ALo(210,"number"),t.qZA(),t.qZA(),t.TgZ(211,"tr"),t.TgZ(212,"td",47),t.TgZ(213,"div",48),t._UZ(214,"span",49),t._uU(215," \u0636\u0631\u064a\u0628\u0629 \u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0645\u0636\u0627\u0641\u0629 "),t.qZA(),t.TgZ(216,"div",49),t._uU(217,"VAT Amount"),t.qZA(),t.qZA(),t.TgZ(218,"td",50),t._uU(219),t.ALo(220,"number"),t.qZA(),t.qZA(),t.TgZ(221,"tr"),t.TgZ(222,"td",74),t.TgZ(223,"table",52),t.TgZ(224,"tr"),t.TgZ(225,"td",53),t.TgZ(226,"div",54),t._uU(227,":Bank Account Details"),t.qZA(),t.TgZ(228,"div",54),t._uU(229),t.qZA(),t.TgZ(230,"div",54),t._uU(231),t.qZA(),t.TgZ(232,"div",54),t._uU(233),t.qZA(),t._UZ(234,"div",54),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(235,"td",55),t.TgZ(236,"div",56),t._uU(237," \u0627\u0644\u0627\u062c\u0645\u0627\u0644\u064a \u0634\u0627\u0645\u0644 \u0627\u0644\u0636\u0631\u064a\u0628\u0629"),t.qZA(),t.TgZ(238,"div",57),t._uU(239,"Total Incl. VAT"),t.qZA(),t.qZA(),t.TgZ(240,"td",58),t._uU(241," SAR "),t.TgZ(242,"span",59),t._uU(243),t.ALo(244,"number"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(245,"tr"),t.TgZ(246,"td",47),t.TgZ(247,"div",48),t._uU(248,"\u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u0645\u062f\u0641\u0648\u0639"),t.qZA(),t.TgZ(249,"div",49),t._uU(250,"Amount Paid"),t.qZA(),t.qZA(),t.TgZ(251,"td",50),t._uU(252),t.ALo(253,"number"),t.qZA(),t.qZA(),t.TgZ(254,"tr"),t.TgZ(255,"td",55),t.TgZ(256,"div",56),t._uU(257,"\u0627\u0644\u0631\u0635\u064a\u062f \u0627\u0644\u0645\u0633\u062a\u062d\u0642"),t.qZA(),t.TgZ(258,"div",57),t._uU(259,"Balance Due "),t.qZA(),t.qZA(),t.TgZ(260,"td",58),t._uU(261),t.ALo(262,"number"),t.qZA(),t.qZA(),t.qZA(),t.YNc(263,tl,3,0,"table",60),t.qZA(),t.qZA(),t.BQk()),2&n){const e=t.oxw();t.xp6(4),t.Akn(e.isSavePDF?"height : 0px ":"height:150px"),t.xp6(1),t.Q6J("ngIf",e.isSavePDF),t.xp6(5),t.hij(" ",e.company.companyName," "),t.xp6(2),t.hij(" ",e.company.companyAddress," "),t.xp6(5),t.hij("",e.company.vatNumber," "),t.xp6(3),t.hij(" ",e.invoice.isCreditConverted?" \u0627\u0634\u0639\u0627\u0631 \u062f\u0627\u0626\u0646 ":" \u0641\u0627\u062a\u0648\u0631\u0629 \u0636\u0631\u064a\u0628\u064a\u0629 "," "),t.xp6(3),t.hij(" ",e.invoice.isCreditConverted?" Credit note ":" SALES INVOICE "," \xa0 \xa0\xa0 "),t.xp6(3),t.hij(" ",e.company.companyName," "),t.xp6(2),t.hij(" ",e.company.companyAddress," "),t.xp6(2),t.hij(" ",e.company.vatNumber," : \u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064a\u0628\u064a "),t.xp6(10),t.hij(" ",e.invoice.invoiceNumber," "),t.xp6(7),t.hij(" ",e.invoice.serviceDate1," "),t.xp6(11),t.hij(" ",t.xi3(59,49,e.invoice.invoiceDate,"dd-MM-yyyy")," "),t.xp6(9),t.Oqu(t.xi3(68,52,e.invoice.invoiceDueDate,"dd-MM-yyyy")),t.xp6(10),t.hij(" ",e.customer.custAddress1," "),t.xp6(2),t.AsE(" ",e.invoice.customerName?"Walk-In / \u0641\u064a \u0627\u0644\u0645\u0648\u0642\u0639 ":""," ",t.lcZ(80,55,"Customer_Name")," "),t.xp6(3),t.hij(" ",e.customer.custName," "),t.xp6(5),t.hij(" ",e.customer.custAddress1," "),t.xp6(4),t.hij(" ",e.customer.custArbName," "),t.xp6(17),t.Oqu(t.lcZ(109,57,"Customer_VAT_No")),t.xp6(4),t.hij(" ",e.invoice.paymentTermId," "),t.xp6(2),t.hij(" ",e.invoice.invoiceRefNumber," "),t.xp6(2),t.hij(" ",e.customer.vatNumber," "),t.xp6(12),t.hij(" ",t.lcZ(129,59,"Remarks")," "),t.xp6(9),t.Oqu(t.lcZ(138,61,"Cost")),t.xp6(6),t.Oqu(t.lcZ(144,63,"Total")),t.xp6(7),t.hij(" ",t.lcZ(151,65,"Item_Details"),""),t.xp6(8),t.Oqu(t.lcZ(159,67,"Unit")),t.xp6(6),t.Oqu(t.lcZ(165,69,"Net_Cost")),t.xp6(6),t.Oqu(t.lcZ(171,71,"Net_Total")),t.xp6(4),t.Q6J("ngForOf",e.tableData),t.xp6(4),t.hij(" \u0627\u0644\u0645\u062c\u0645\u0648\u0639 \u0643\u062a\u0627\u0628\u0629 : ",e.totalAmountAr," "),t.xp6(2),t.hij(" Total In Words: ",e.totalAmountEn," "),t.xp6(2),t.s9C("src",e.invoice.qrCode,t.LSH),t.xp6(3),t.hij(" ",t.lcZ(186,73,"Total"),""),t.xp6(5),t.hij(" SAR ",t.xi3(191,75,e.grandTotalData.total,"3.2-5")," "),t.xp6(5),t.hij(" ",t.lcZ(196,78,"Discount"),""),t.xp6(5),t.hij(" SAR ",t.xi3(201,80,e.grandTotalData.discAmnt+e.grandTotalData.footerDiscAmnt,"3.2-5")," "),t.xp6(9),t.hij(" SAR ",t.xi3(210,83,e.grandTotalData.totalBeforeVat,"3.2-5")," "),t.xp6(10),t.hij(" SAR ",t.xi3(220,86,e.grandTotalData.vatAmnt,"3.2-5")," "),t.xp6(10),t.hij(" Account Name: ",e.company.companyName,""),t.xp6(2),t.hij("Bank Name: ",e.bank.branchName,""),t.xp6(2),t.hij("Address :",e.bank.branchAddress," "),t.xp6(10),t.Oqu(t.xi3(244,89,e.grandTotalData.invTotalAmnt,"3.2-5")),t.xp6(9),t.hij(" SAR ",t.xi3(253,92,e.invoice.paidAmount,"3.2-5")," "),t.xp6(9),t.hij(" SAR ",t.xi3(262,95,e.grandTotalData.invTotalAmnt-e.invoice.paidAmount,"3.2-5")," "),t.xp6(2),t.Q6J("ngIf",e.isSavePDF)}}let nl=(()=>{class n{constructor(){this.items=[],this.totalAmountAr="",this.totalAmountEn="",this.footerDiscount=0,this.tableData=[],this.grandTotalData={total:0,discAmnt:0,footerDiscAmnt:0,vatAmnt:0,invTotalAmnt:0},this.isSavePDF=!1,this.format="format1"}ngOnChanges(e){this.res&&(this.totalAmountAr=this.res.totalAmountAr,this.totalAmountEn=this.res.totalAmountEn,this.company=this.res.company,this.customer=this.res.customer,this.bank=this.res.bankDetails,this.invoice=this.res.invoice,this.items=this.res.invoiceItems,this.footerDiscount=this.invoice.footerDiscount,console.log(this.res),this.items.length>0&&(this.tableData=[],this.grandTotalData={total:0,discAmnt:0,footerDiscAmnt:0,vatAmnt:0,invTotalAmnt:0},this.items.forEach(i=>{let o=i;o.calTotal=i.quantity*o.unitPrice*1,o.calDiscAmnt=o.calTotal*(o.discount/100),o.calFooterDiscAmnt=o.calTotal*(1-o.discount/100)*(this.footerDiscount/100),o.calVatAmnt=o.taxTariffPercentage/100*(o.calTotal-o.calDiscAmnt-o.calFooterDiscAmnt),o.calInvAmnt=o.calTotal-o.calDiscAmnt-o.calFooterDiscAmnt+o.calVatAmnt,o.calUnitDiscPrice=o.unitPrice*(o.discount/100),o.calUnitFooterDiscPrice=o.unitPrice*(o.footerDiscount/100),o.calUnitTotalDiscPrice=o.unitPrice*(1-o.discount/100)*(1-this.footerDiscount/100),o.calSubTotal=o.calUnitTotalDiscPrice*o.quantity,this.grandTotalData.total+=o.calTotal,this.grandTotalData.discAmnt+=o.calDiscAmnt,this.grandTotalData.footerDiscAmnt+=o.calFooterDiscAmnt,this.grandTotalData.vatAmnt+=o.calVatAmnt,this.grandTotalData.invTotalAmnt+=o.calInvAmnt,this.grandTotalData.totalBeforeVat=this.grandTotalData.total-this.grandTotalData.discAmnt-this.grandTotalData.footerDiscAmnt,this.grandTotalData.totalBeforeFooterDis=this.grandTotalData.total-this.grandTotalData.discAmnt,this.tableData.push(o)}),console.log(this.tableData),console.log(this.grandTotalData)))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-invoiceviewar"]],inputs:{res:"res",isSavePDF:"isSavePDF",format:"format"},features:[t.TTD],decls:4,vars:3,consts:[[4,"ngIf"],["id","printcontainer",1,"container-fluid","invoice-container","print-container",2,"width","850px","margin","auto","padding-top","150px !important","border","1px solid #ccc","border-radius","10px"],["border","0","cellpadding","0","cellspacing","0","width","100%",1,"ur_tablestyle",2,"width","100%","padding-bottom","5px"],["colspan","5",2,"text-align","center","padding-bottom","30px"],["alt","","style","width:200px;height:150px;",3,"src",4,"ngIf"],["border","0","cellpadding","0","cellspacing","0","width","100%",1,"ur_tablestyle",2,"width","100%"],[1,"table_right",2,"width","35%"],[2,"font-size","0.875rem !important","color","#0c2f54","font-family","'Poppins', sans-serif","font-weight","500","line-height","1.2","margin","0","padding-top","4px"],[2,"font-size","0.75rem !important","color","#0c2f54","font-family","'Poppins', sans-serif","font-weight","500","line-height","1.2","margin","0"],[2,"width","30%","text-align","center","vertical-align","middle"],[2,"font-size","1.75rem !important","color","#0c2f54","font-family","'Poppins', sans-serif","font-weight","500","line-height","1.2","margin","0"],[2,"font-size","1.3rem !important","color","#0c2f54","font-family","'Poppins', sans-serif","font-weight","500","line-height","1.2","margin","0"],[1,"table_left",2,"text-align","left","width","35%"],[2,"font-size","0.75rem !important","color","#0c2f54","font-family","'Poppins', sans-serif","font-weight","500","line-height","1.2","margin","0","padding-top","4px"],[2,"padding-top","10px","padding-bottom","5px"],["border","0","cellpadding","0","cellspacing","0","width","100%",2,"width","100%"],[2,"width","40%","text-align","center"],["border","0","cellpadding","0","cellspacing","0","width","100%",1,"custumtable",2,"width","100%"],[2,"border","2px solid #878787","border-left","2px solid #878787","padding","5px","width","33%","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","2px solid #878787","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","2px solid #878787","padding","5px","width","33%","text-align","center","font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"width","20%"],[2,"width","40%"],[1,"two"],[2,"padding-bottom","5px"],[2,"border","2px solid #878787","padding","5px","width","10%","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","2px solid #878787","padding","5px","width","22%","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","2px solid #878787","padding","5px","width","20%","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","2px solid #878787","padding","5px","text-align","left","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[1,"ur_left",2,"border","2px solid #878787","padding","5px","width","25%","text-align","right","font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","2px solid #878787","width","10%","padding","5px","text-align","center","font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[1,"ur_left",2,"border","2px solid #878787","padding","5px","text-align","right","font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","2px solid #878787","padding","5px","width","15%","text-align","center","font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"width","30%","border","2px solid #878787","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"padding","5px","text-align","right","font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"border","2px solid #878787","width","30%","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],["dir","rtl",2,"padding-bottom","5px"],[2,"width","10%","border","2px solid #878787","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"width","15%","border","2px solid #878787","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[4,"ngFor","ngForOf"],["rowspan","2","colspan","5",2,"border","2px solid #878787","padding","5px","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[1,"ur_right",2,"text-align","right","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[1,"ur_left",2,"text-align","left","font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[1,"ur_right"],["alt","QR Code",3,"src"],["colspan","2",1,"ur_right",2,"border","2px solid #878787","border-right","0","padding","5px","text-align","left","font-size","0.675rem !important","color","#706f6f","font-family","'Poppins', sans-serif","font-weight","500"],[2,"font-size","1rem !important","color","#706f6f","font-family","'Poppins', sans-serif","font-weight","500"],[2,"font-size","0.875rem !important","color","#706f6f","font-family","'Poppins', sans-serif","font-weight","500"],[1,"ur_left",2,"border","2px solid #878787","padding","5px","text-align","right","font-size","0.875rem !important","color","#706f6f","font-family","'Poppins', sans-serif","font-weight","500"],["rowspan","3","colspan","5",1,"ur_right",2,"border","2px solid #878787","padding","5px","font-size","0.675rem !important","color","#706f6f","font-family","'Poppins', sans-serif","font-weight","500","vertical-align","top"],["border","0",2,"width","100%"],["colspan","12",2,"text-align","left","padding","8px","border","none!important"],[2,"line-height","18px"],["colspan","2",1,"ur_right",2,"border","2px solid #878787","border-right","0","padding","5px","text-align","left","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[2,"font-size","1rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[2,"font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],[1,"ur_left",2,"border","2px solid #878787","padding","5px","text-align","right","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","600"],["id","spnTotalInclVat"],["style","width:100%;","border","0","cellpadding","0","cellspacing","0","width","100%","class","ur_tablestyle",4,"ngIf"],["alt","",2,"width","200px","height","150px",3,"src"],[2,"width","10%","border","2px solid #878787","padding","5px","text-align","center","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"font-weight","600"],[1,"ur_right",2,"border","2px solid #878787","padding","5px","text-align","left","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[2,"width","15%","border","2px solid #878787","padding","5px","text-align","center","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],["colspan","5"],[2,"width","20%","border","2px solid #878787","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],["rowspan","4","colspan","3",2,"border","2px solid #878787","padding","5px","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],["rowspan","3","colspan","3",1,"ur_right",2,"border","2px solid #878787","padding","5px","font-size","0.675rem !important","color","#706f6f","font-family","'Poppins', sans-serif","font-weight","500","vertical-align","top"],[2,"border","2px solid #878787","padding","5px","text-align","center","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],["colspan","3"],["rowspan","2",2,"width","5%","border","2px solid #878787","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],["rowspan","4","colspan","3",1,"ur_right",2,"border","2px solid #878787","padding","5px","font-size","0.675rem !important","color","#706f6f","font-family","'Poppins', sans-serif","font-weight","500","vertical-align","top"],["rowspan","2",2,"border","2px solid #878787","padding","5px","text-align","center","font-size","0.675rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],[1,"ur_right",2,"border","2px solid #878787","padding","5px","text-align","center","font-size","0.875rem !important","color","#000000","font-family","'Poppins', sans-serif","font-weight","500"],["colspan","2"]],template:function(e,i){1&e&&(t._UZ(0,"br"),t.YNc(1,Vr,230,63,"ng-container",0),t.YNc(2,Gr,243,83,"ng-container",0),t.YNc(3,el,264,98,"ng-container",0)),2&e&&(t.xp6(1),t.Q6J("ngIf",i.items&&i.items.length>0&&"default"==i.format&&i.tableData.length==i.items.length),t.xp6(1),t.Q6J("ngIf",i.items&&i.items.length>0&&"format1"==i.format&&i.tableData.length==i.items.length),t.xp6(1),t.Q6J("ngIf",i.items&&i.items.length>0&&"format2"==i.format&&i.tableData.length==i.items.length))},directives:[d.O5,st.Lv,d.sg],pipes:[d.uU,h.X$,d.JJ],styles:["@media print {\n    div.print-container[_ngcontent-%COMP%] {\n      padding-top: 50px !important;\n      border: 1px solid red;\n    }\n  }\n\n  .customrow[_ngcontent-%COMP%] {\n    width: 850px;\n    margin: auto\n  }\n\n  .custumtable[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .custumtable[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n    border: 0.3px solid #d1d0d0 !important;\n  }\n\n  .custumtable[_ngcontent-%COMP%] {\n    border: 0.3px solid #d1d0d0 !important;\n  }\n\n  .custumtable_bottom[_ngcontent-%COMP%] {\n    border-top: 0px solid #878787 !important;\n  }\n\n    .custumtable_bottom[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .custumtable_bottom[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n      border-top: 0px solid #20b4e2 !important;\n      border-left: 0.5px solid #20b4e2 !important;\n      border-right: 0.5px solid #20b4e2 !important;\n      border-bottom: 0.5px solid #20b4e2 !important\n    }"]}),n})();function il(n,a){if(1&n&&(t.TgZ(0,"option",10),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.s9C("value",e.text),t.xp6(1),t.Oqu(e.text)}}const ol=function(){return{standalone:!0}};let al=(()=>{class n extends v{constructor(e,i,o,s,r){super(i),this.apiService=e,this.authService=i,this.utilService=o,this.dialogRef=s,this.notifyService=r,this.id=0,this.isSavePDF=!1,this.isArabic=!1,this.isLoading=!1,this.printFormats=[{text:"format1",value:"format1"},{text:"format2",value:"format2"},{text:"format3",value:"format3"},{text:"format4",value:"format4"},{text:"format5",value:"format5"},{text:"format6",value:"format6"},{text:"format7",value:"format7"},{text:"format8",value:"format8"},{text:"format9",value:"format9"},{text:"format10",value:"format10"}],this.format="format1"}ngOnInit(){this.id>0&&this.loadSalesView()}loadSalesView(){this.isLoading=!0,this.apiService.get("generateSndInvoice/generateSndInvoiceReportById",this.id).subscribe(e=>{this.isLoading=!1,e&&(this.result=e,this.isArabic=this.authService.isArabic())})}closeModel(){this.dialogRef.close()}printInvoice(){this.isSavePDF=!1,this.openPrint()}openPrint(){const e=document.getElementById("printcontainer"),i=window.open("","","left=0,top=0,width=2000,height=1000,toolbar=0,scrollbars=0,status=0");setTimeout(()=>{i.document.write(e.innerHTML),i.document.close(),i.focus(),i.print(),i.close()},50)}saveAsPDF(){setTimeout(()=>{this.isSavePDF=!0,this.openPrint()},600)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x.s),t.Y36(T._),t.Y36(C.t),t.Y36(y.so),t.Y36(S.g))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-sndsalesinvoiceview"]],features:[t.qOj],decls:20,vars:11,consts:[["href","/assets/style_new.css","rel","stylesheet"],[1,"row"],[1,"col-md-12","col-lg-12"],[3,"click"],["type","button","aria-hidden","true",1,"",3,"click"],[3,"ngModel","ngModelOptions","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"isLoading"],[3,"res","isSavePDF","format"],[3,"value"]],template:function(e,i){1&e&&(t._UZ(0,"link",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"button",3),t.NdJ("click",function(){return i.printInvoice()}),t._uU(4,"Print"),t.qZA(),t._uU(5," \xa0 "),t.TgZ(6,"button",3),t.NdJ("click",function(){return i.saveAsPDF()}),t._uU(7,"Save As PDF"),t.qZA(),t._uU(8," \xa0 "),t.TgZ(9,"button",4),t.NdJ("click",function(){return i.closeModel()}),t._uU(10," Close"),t.qZA(),t._uU(11,"\xa0 "),t.TgZ(12,"select",5),t.NdJ("ngModelChange",function(s){return i.format=s}),t.TgZ(13,"option",6),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.YNc(16,il,2,2,"option",7),t.qZA(),t.qZA(),t.qZA(),t._UZ(17,"br"),t._UZ(18,"spinner-loader",8),t._UZ(19,"app-invoiceviewar",9)),2&e&&(t.xp6(12),t.Q6J("ngModel",i.format)("ngModelOptions",t.DdM(10,ol)),t.xp6(2),t.Oqu(t.lcZ(15,8,"Select_Format")),t.xp6(2),t.Q6J("ngForOf",i.printFormats),t.xp6(2),t.Q6J("isLoading",i.isLoading),t.xp6(1),t.Q6J("res",i.result)("isSavePDF",i.isSavePDF)("format",i.format))},directives:[l.EJ,l.JJ,l.On,l.YN,l.Kr,d.sg,b.r,nl],pipes:[h.X$],encapsulation:2}),n})();function sl(n,a){1&n&&(t.TgZ(0,"th",68),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Sales_InvoiceNumber")," "))}function rl(n,a){if(1&n&&(t.TgZ(0,"td",69),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e.invoiceNumber)}}function ll(n,a){1&n&&(t.TgZ(0,"th",68),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Sales_Invoice_Date")," "))}function ul(n,a){if(1&n&&(t.TgZ(0,"td",69),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.invoiceDate,"dd/MM/yyyy"))}}function cl(n,a){1&n&&(t.TgZ(0,"th",68),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Organization")," "))}function dl(n,a){if(1&n&&(t.TgZ(0,"td",69),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e.companyName)}}function pl(n,a){1&n&&(t.TgZ(0,"th",68),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Invoice_Reference_Number")," "))}function gl(n,a){if(1&n&&(t.TgZ(0,"td",69),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e.invoiceRefNumber)}}function ml(n,a){1&n&&(t.TgZ(0,"th",68),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Store")," "))}function Zl(n,a){if(1&n&&(t.TgZ(0,"td",69),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e.warehouseName)}}function _l(n,a){1&n&&(t.TgZ(0,"th",68),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Customer")," "))}function hl(n,a){if(1&n&&(t.TgZ(0,"td",69),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e.customerName)}}function Al(n,a){1&n&&(t.TgZ(0,"th",68),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Sales_Invoice_Amount")," (SAR) "))}function Tl(n,a){if(1&n&&(t.TgZ(0,"td",69),t._uU(1),t.ALo(2,"number"),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.totalAmount,"1.2"))}}function fl(n,a){1&n&&(t.TgZ(0,"th",68),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"LPO_Contract")," "))}function ql(n,a){if(1&n&&(t.TgZ(0,"td",69),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e.lpoContract)}}function vl(n,a){1&n&&(t.TgZ(0,"th",68),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Payment_Terms")," "))}function xl(n,a){if(1&n&&(t.TgZ(0,"td",69),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e.paymentTermId)}}function Cl(n,a){1&n&&(t.TgZ(0,"th",68),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Tax_Id_Number")," "))}function Sl(n,a){if(1&n&&(t.TgZ(0,"td",69),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e.taxIdNumber)}}function yl(n,a){1&n&&(t.TgZ(0,"th",68),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Delivery_Date")," "))}function Ul(n,a){if(1&n&&(t.TgZ(0,"td",69),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.invoiceDueDate,"dd/MM/yyyy"))}}function bl(n,a){1&n&&(t.TgZ(0,"th",70),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Actions")))}function Ll(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"span"),t.TgZ(1,"a",72),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).$implicit;return t.oxw().edit(o)}),t.ALo(2,"translate"),t._UZ(3,"i",75),t.qZA(),t._uU(4," \xa0 "),t.qZA()}2&n&&(t.xp6(1),t.s9C("matTooltip",t.lcZ(2,1,"Edit_Item")))}function Il(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"span"),t.TgZ(1,"a",72),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).$implicit;return t.oxw().approve(o)}),t.ALo(2,"translate"),t._UZ(3,"i",76),t.qZA(),t._uU(4," \xa0 "),t.qZA()}2&n&&(t.xp6(1),t.s9C("matTooltip",t.lcZ(2,1,"Approve")))}function Nl(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"span"),t.TgZ(1,"a",72),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).$implicit;return t.oxw().settlePayment(o)}),t.ALo(2,"translate"),t._UZ(3,"i",77),t.qZA(),t._uU(4," \xa0 "),t.qZA()}2&n&&(t.xp6(1),t.s9C("matTooltip",t.lcZ(2,1,"Settle_Payment")))}function wl(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"span"),t.TgZ(1,"a",72),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).$implicit;return t.oxw().postInvoice(o)}),t.ALo(2,"translate"),t._UZ(3,"i",77),t.qZA(),t._uU(4," \xa0 "),t.qZA()}2&n&&(t.xp6(1),t.s9C("matTooltip",t.lcZ(2,1,"Post_Invoice")))}function Dl(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"span"),t.TgZ(1,"a",72),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).$implicit;return t.oxw().cancelInvoice(o)}),t.ALo(2,"translate"),t._UZ(3,"i",78),t.qZA(),t._uU(4," \xa0 "),t.qZA()}2&n&&(t.xp6(1),t.s9C("matTooltip",t.lcZ(2,1,"Cancel_Invoice")))}function Ol(n,a){if(1&n&&(t.ynx(0),t.YNc(1,Ll,5,3,"span",74),t.YNc(2,Il,5,3,"span",74),t.YNc(3,Nl,5,3,"span",74),t.YNc(4,wl,5,3,"span",74),t.YNc(5,Dl,5,3,"span",74),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.authority.canEditSndInvoice&&!e.isApproved&&!e.isVoid),t.xp6(1),t.Q6J("ngIf",e.authority.canApproveSndInvoice&&!e.isApproved&&!e.isVoid),t.xp6(1),t.Q6J("ngIf",e.authority.canVoidSndInvoice&&e.isApproved&&!e.isSettled&&!e.isVoid),t.xp6(1),t.Q6J("ngIf",e.authority.canPostSndInvoice&&e.isSettled&&!e.isPosted&&!e.isVoid),t.xp6(1),t.Q6J("ngIf",e.authority.canVoidSndInvoice&&!e.isSettled&&!e.isPosted&&!e.isVoid)}}function Ml(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"td",69),t.TgZ(1,"div"),t.ynx(2),t._UZ(3,"i",71),t._uU(4," \xa0 "),t.BQk(),t.TgZ(5,"a",72),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().view(s)}),t.ALo(6,"translate"),t._UZ(7,"i",73),t.qZA(),t._uU(8," \xa0 "),t.YNc(9,Ol,6,5,"ng-container",74),t.qZA(),t.qZA()}if(2&n){const e=a.$implicit,i=t.oxw();t.xp6(3),t.s9C("id",i.getStatusColor(e)),t.xp6(2),t.s9C("matTooltip",t.lcZ(6,3,"View_Details")),t.xp6(4),t.Q6J("ngIf",e.hasAuthority)}}function kl(n,a){1&n&&t._UZ(0,"tr",79)}function Ql(n,a){1&n&&t._UZ(0,"tr",80)}const jl=function(){return{standalone:!0}},Rl=[{path:"sndCustomer",component:ua},{path:"sndSalesInvoice",component:(()=>{class n extends v{constructor(e,i,o,s,r,u,p,c,Z,U,N,R){super(r),this.fb=e,this.http=i,this.router=o,this.apiService=s,this.authService=r,this.utilService=u,this.sndService=p,this.translate=c,this.notifyService=Z,this.validationService=U,this.pageService=N,this.dialog=R,this.displayedColumns=["invoiceNumber","invoiceDate","companyName","invoiceRefNumber","warehouseName","customerName","totalAmount","lpoContract","paymentTermId","taxIdNumber","invoiceDueDate","Actions"],this.totalItemsCount=0,this.searchValue="",this.sortingOrder="id desc",this.isLoading=!1,this.IsSettlentOpened=!1,this.IsApproved=!1,this.statusId="",this.selectListType="",this.itemList=[],this.itemCode=0,this.isArab=!1}ngOnInit(){this.isArab=this.utilService.isArabic(),this.initialLoading(),this.loadItems()}refresh(){this.searchValue="",this.itemCode=0,this.sortingOrder="id desc",document.getElementById("approvalList").value="",this.selectListType="",this.initialLoading()}loadItems(){this.apiService.getall("item/getSelectItemMOUList").subscribe(e=>{e&&(this.itemList=e,this.itemList.forEach(i=>{i.text=i.text+" ("+i.textTwo+")"}))})}initialLoading(){this.loadList(0,this.pageService.pageCount,"",this.sortingOrder)}onSortOrder(e){this.sortingOrder=e.active+" "+e.direction,this.totalItemsCount=0,this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder)}onPageSwitch(e){this.pageService.change(e),this.loadList(e.pageIndex,e.pageSize,this.searchValue,this.sortingOrder)}loadList(e,i,o,s,r=this.selectListType){var u;this.isLoading=!0,this.apiService.getPagination("generateSndInvoice",this.utilService.getQueryString(e,i,o,s,r,this.statusId,null!==(u=this.itemCode)&&void 0!==u?u:0)).subscribe(p=>{this.isLoading=!1,this.data=new g.by(p.items),this.totalItemsCount=p.totalCount,setTimeout(()=>{this.paginator.pageIndex=e,this.paginator.length=this.totalItemsCount}),this.data.sort=this.sort,this.isLoading=!1},p=>this.utilService.ShowApiErrorMessage(p))}applyFilter(e,i){(e||i)&&(this.searchValue=e,this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder))}loadApprovals(e){this.selectListType=e.target.value,this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder,e.target.value)}loadInvoices(e){document.getElementById("approvalList").value="",this.setStatus(e.target.value),this.loadList(0,this.pageService.pageCount,this.searchValue,this.sortingOrder,"")}setStatus(e){this.statusId=`${e}`}openDialogManage(e=0,i,o="",s="",r,u={module:"00",action:"00act"},p=100){let c=this.utilService.openDialogCongif(this.dialog,r,p);c.componentInstance.dbops=i,c.componentInstance.modalTitle=o,c.componentInstance.id=e,c.componentInstance.moduleFile=u,c.afterClosed().subscribe(Z=>{Z&&!0===Z&&this.initialLoading()})}openDialogManageApproval(e,i=0,o,s="",r,u={module:"00",action:"00act"},p=100){let c=this.utilService.openDialogCongif(this.dialog,r,p);c.componentInstance.dbops=o,c.componentInstance.serviceType=0,c.componentInstance.id=i,c.componentInstance.inputData=e,c.componentInstance.moduleFile=u,c.afterClosed().subscribe(Z=>{Z&&!0===Z&&this.initialLoading()})}create(){this.isLoading||this.openDialogManage(0,f.Oi.create,this.translate.instant("Create_New_Sales_Invoice"),"",_t)}edit(e){this.isLoading||this.openDialogManage(e.id,f.Oi.update,this.translate.instant("Update_Sales_Invoice"),"",_t)}view(e){this.isLoading||this.openDialogManage(e.id,f.Oi.create,"","",al,{action:"",module:""},100)}approve(e){this.isLoading||this.openDialogManageApproval(e,e.id,f.Oi.create,"",gt,{action:"",module:""},50)}settlePayment(e){this.isLoading||this.openDialogManageApproval(e,e.id,f.Oi.create,"",ut,{action:"",module:""},75)}printInvoice(){this.isLoading||this.openDialogManage(0,f.Oi.create,"","",Fr)}getStatusColor(e){return(null==e?void 0:e.isVoid)?"statusVoid":(null==e?void 0:e.isPaid)?"statusPaid":(null==e?void 0:e.isPosted)?"statusPosted":(null==e?void 0:e.isSettled)?"statusSettled":(null==e?void 0:e.isApproved)?"statusApproved":"statusOpen"}postInvoice(e){let i=this.sndService.confirmationDialog(this.dialog,F);i.componentInstance.modalTitle="Are you Sure? Do You Want To Post Invoice?",i.afterClosed().subscribe(o=>{(1==o||"true"==o)&&this.apiService.post("GenerateSndInvoice/postSndInvoice",{Id:e.id}).subscribe(s=>{this.isLoading=!1,this.utilService.OkMessage(),this.ngOnInit()},s=>{this.isLoading=!1,console.error(s),this.utilService.ShowApiErrorMessage(s)})})}openConfirmationDialog(e,i,o,s){let r=this.sndService.confirmationDialog(this.dialog,o);r.componentInstance.dbops=e,r.componentInstance.modalTitle=i,r.componentInstance.InputData=s,r.afterClosed().subscribe(u=>{"true"==u?"deleteInvoice"==s.operation&&(this.isLoading=!0,this.apiService.post("GenerateSndInvoice/cancelSndlInvoice",{id:s.id}).subscribe(c=>{this.isLoading=!1,this.utilService.OkMessage(),this.ngOnInit()},c=>{this.isLoading=!1,console.error(c),this.utilService.ShowApiErrorMessage(c)})):console.log("False")})}cancelInvoice(e){this.isLoading?this.notifyService.showInfo(this.translate.instant("Please_Wait")):this.openConfirmationDialog(f.Oi.create,"Are_You_Sure?",F,{operation:"deleteInvoice",id:e.id})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.qu),t.Y36(j.eN),t.Y36(I.F0),t.Y36(x.s),t.Y36(T._),t.Y36(C.t),t.Y36(Y),t.Y36(h.sK),t.Y36(S.g),t.Y36(P.R),t.Y36(et.N),t.Y36(y.uw))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-snd-sales-invoice"]],viewQuery:function(e,i){if(1&e&&(t.Gf(Q.NW,7),t.Gf(L.YE,7)),2&e){let o;t.iGM(o=t.CRH())&&(i.paginator=o.first),t.iGM(o=t.CRH())&&(i.sort=o.first)}},features:[t.qOj],decls:149,vars:70,consts:[[1,"page-breadcrumb"],[1,"row"],[1,"col-12","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item","text-muted"],["aria-current","page",1,"breadcrumb-item","active"],[1,"container-fluid"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"row","pb-3"],[1,"col-md-3"],[1,"form-control",3,"placeholder","ngModel","ngModelChange"],["bindLabel","text","bindValue","textTwo",2,"width","250px",3,"items","ngModel","ngModelOptions","ngModelChange"],[1,"col-md-4","arabicright"],[1,"btn","btn-primary",3,"click"],[1,"",3,"click"],[1,"btn","btn-primary","icon-refresh"],[1,"mr-sm-2"],["id","approvalList",1,"custom-select","mr-sm-2",3,"change"],["value",""],["value","approved"],["value","unapproved"],["value","settled"],["value","unsettled"],["value","posted"],["value","cancelled"],[1,"custom-select","mr-sm-2",3,"change"],["value","1"],["value","2"],[1,"col-md-4","col-lg-4"],[1,"card-title","pt6"],[1,"col-md-4","col-lg-4","text-center"],[3,"isLoading"],[1,"col-md-4","col-lg-4","text-right"],[1,"nav-item","dropdown"],["data-toggle","modal","data-target","#scrollable-modal","href","#",1,"btn","waves-effect","waves-light","btn-rounded","btn-outline-primary",3,"click"],[1,"icon-plus"],[1,"cardtitle-divider"],[1,"example-table-container","table-responsive","pt-3"],["mat-table","","matSort","","matSortActive","Id","matSortDisableClear","","matSortDirection","desc",1,"table","table-bordered","no-wrap",3,"dataSource","matSortChange"],["matColumnDef","invoiceNumber"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","invoiceDate"],["matColumnDef","companyName"],["matColumnDef","invoiceRefNumber"],["matColumnDef","warehouseName"],["matColumnDef","customerName"],["matColumnDef","totalAmount"],["matColumnDef","lpoContract"],["matColumnDef","paymentTermId"],["matColumnDef","taxIdNumber"],["matColumnDef","invoiceDueDate"],["matColumnDef","Actions","stickyEnd",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions","page"],["id","statusOpen",1,"fas","fa-circle"],["id","statusApproved",1,"fas","fa-circle"],["id","statusSettled",1,"fas","fa-circle"],["id","statusPaid",1,"fas","fa-circle"],["id","statusPosted",1,"fas","fa-circle"],["id","statusVoid",1,"fas","fa-circle"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[1,"fas","fa-circle",3,"id"],[1,"tableicons","pcursor",3,"matTooltip","click"],[1,"icon-list"],[4,"ngIf"],[1,"icon-note"],[1,"icon-arrow-up-circle"],[1,"icon-action-redo"],[1,"icon-action-undo"],["mat-header-row",""],["mat-row",""]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"nav",5),t.TgZ(8,"ol",6),t.TgZ(9,"li",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"li",8),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"div",9),t.TgZ(16,"div",1),t.TgZ(17,"div",10),t.TgZ(18,"div",11),t.TgZ(19,"div",12),t.TgZ(20,"div",13),t._UZ(21,"div",10),t.TgZ(22,"div",14),t.TgZ(23,"input",15),t.NdJ("ngModelChange",function(s){return i.searchValue=s}),t.ALo(24,"translate"),t.qZA(),t.qZA(),t.TgZ(25,"div",14),t.TgZ(26,"ng-select",16),t.NdJ("ngModelChange",function(s){return i.itemCode=s}),t.qZA(),t.qZA(),t.TgZ(27,"div",17),t.TgZ(28,"button",18),t.NdJ("click",function(){return i.applyFilter(i.searchValue,i.itemCode)}),t._uU(29),t.ALo(30,"translate"),t.qZA(),t._uU(31," \xa0 "),t.TgZ(32,"a",19),t.NdJ("click",function(){return i.refresh()}),t._UZ(33,"i",20),t.qZA(),t._uU(34," \xa0 "),t.TgZ(35,"button",18),t.NdJ("click",function(){return i.printInvoice()}),t._uU(36),t.ALo(37,"translate"),t.qZA(),t._uU(38," \xa0 "),t.qZA(),t.qZA(),t.TgZ(39,"div",13),t.TgZ(40,"div",14),t.TgZ(41,"label",21),t._uU(42),t.ALo(43,"translate"),t.qZA(),t.TgZ(44,"select",22),t.NdJ("change",function(s){return i.loadApprovals(s)}),t.TgZ(45,"option",23),t._uU(46),t.ALo(47,"translate"),t.qZA(),t.TgZ(48,"option",24),t._uU(49,"Approved"),t.qZA(),t.TgZ(50,"option",25),t._uU(51,"UnApproved"),t.qZA(),t.TgZ(52,"option",26),t._uU(53,"Settled"),t.qZA(),t.TgZ(54,"option",27),t._uU(55,"UnSettled"),t.qZA(),t.TgZ(56,"option",28),t._uU(57,"Posted"),t.qZA(),t.TgZ(58,"option",29),t._uU(59,"Cancelled"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(60,"div",14),t.TgZ(61,"label",21),t._uU(62),t.ALo(63,"translate"),t.qZA(),t.TgZ(64,"select",30),t.NdJ("change",function(s){return i.loadInvoices(s)}),t.TgZ(65,"option",31),t._uU(66),t.ALo(67,"translate"),t.qZA(),t.TgZ(68,"option",32),t._uU(69),t.ALo(70,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(71,"div",1),t.TgZ(72,"div",33),t.TgZ(73,"h4",34),t._uU(74),t.ALo(75,"translate"),t.qZA(),t.qZA(),t.TgZ(76,"div",35),t._UZ(77,"spinner-loader",36),t.qZA(),t.TgZ(78,"div",37),t.TgZ(79,"div",38),t.TgZ(80,"a",39),t.NdJ("click",function(){return i.create()}),t._UZ(81,"i",40),t._uU(82),t.ALo(83,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(84,"div",41),t.TgZ(85,"div",42),t.ynx(86),t.TgZ(87,"table",43),t.NdJ("matSortChange",function(s){return i.onSortOrder(s)}),t.ynx(88,44),t.YNc(89,sl,3,3,"th",45),t.YNc(90,rl,2,1,"td",46),t.BQk(),t.ynx(91,47),t.YNc(92,ll,3,3,"th",45),t.YNc(93,ul,3,4,"td",46),t.BQk(),t.ynx(94,48),t.YNc(95,cl,3,3,"th",45),t.YNc(96,dl,2,1,"td",46),t.BQk(),t.ynx(97,49),t.YNc(98,pl,3,3,"th",45),t.YNc(99,gl,2,1,"td",46),t.BQk(),t.ynx(100,50),t.YNc(101,ml,3,3,"th",45),t.YNc(102,Zl,2,1,"td",46),t.BQk(),t.ynx(103,51),t.YNc(104,_l,3,3,"th",45),t.YNc(105,hl,2,1,"td",46),t.BQk(),t.ynx(106,52),t.YNc(107,Al,3,3,"th",45),t.YNc(108,Tl,3,4,"td",46),t.BQk(),t.ynx(109,53),t.YNc(110,fl,3,3,"th",45),t.YNc(111,ql,2,1,"td",46),t.BQk(),t.ynx(112,54),t.YNc(113,vl,3,3,"th",45),t.YNc(114,xl,2,1,"td",46),t.BQk(),t.ynx(115,55),t.YNc(116,Cl,3,3,"th",45),t.YNc(117,Sl,2,1,"td",46),t.BQk(),t.ynx(118,56),t.YNc(119,yl,3,3,"th",45),t.YNc(120,Ul,3,4,"td",46),t.BQk(),t.ynx(121,57),t.YNc(122,bl,3,3,"th",58),t.YNc(123,Ml,10,5,"td",46),t.BQk(),t.YNc(124,kl,1,0,"tr",59),t.YNc(125,Ql,1,0,"tr",60),t.qZA(),t.BQk(),t.qZA(),t.ynx(126),t.TgZ(127,"mat-paginator",61),t.NdJ("page",function(s){return i.onPageSwitch(s)}),t.qZA(),t.BQk(),t.qZA(),t.TgZ(128,"div",12),t.ynx(129),t._uU(130),t.ALo(131,"translate"),t._UZ(132,"i",62),t._uU(133),t.ALo(134,"translate"),t._UZ(135,"i",63),t._uU(136),t.ALo(137,"translate"),t._UZ(138,"i",64),t._uU(139),t.ALo(140,"translate"),t._UZ(141,"i",65),t._uU(142),t.ALo(143,"translate"),t._UZ(144,"i",66),t._uU(145),t.ALo(146,"translate"),t._UZ(147,"i",67),t._uU(148," \xa0\xa0 |\xa0\xa0 "),t.BQk(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.hij(" ",t.lcZ(5,31,"Sales_Invoice")," "),t.xp6(6),t.hij("",t.lcZ(11,33,"Sales_And_Distribution")," "),t.xp6(3),t.hij("",t.lcZ(14,35,"Sales_Invoice")," "),t.xp6(10),t.MGl("placeholder","",t.lcZ(24,37,"Search"),"..."),t.Q6J("ngModel",i.searchValue),t.xp6(3),t.Q6J("items",i.itemList)("ngModel",i.itemCode)("ngModelOptions",t.DdM(69,jl)),t.xp6(3),t.Oqu(t.lcZ(30,39,"Search")),t.xp6(7),t.Oqu(t.lcZ(37,41,"Print")),t.xp6(6),t.Oqu(t.lcZ(43,43,"Sales_Invoice_List")),t.xp6(4),t.Oqu(t.lcZ(47,45,"Sales_Invoice_List")),t.xp6(16),t.Oqu(t.lcZ(63,47,"Invoice_Type")),t.xp6(4),t.Oqu(t.lcZ(67,49,"Invoice")),t.xp6(3),t.Oqu(t.lcZ(70,51,"Credit")),t.xp6(5),t.Oqu(t.lcZ(75,53,"Sales_Invoice_List")),t.xp6(3),t.Q6J("isLoading",i.isLoading),t.xp6(5),t.hij("",t.lcZ(83,55,"Add_New_Sales_Invoice")," "),t.xp6(5),t.Q6J("dataSource",i.data),t.xp6(37),t.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(2),t.Q6J("length",i.totalItemsCount)("pageSize",i.pageService.pageCount)("pageSizeOptions",i.pageService.selectItemsPerPage),t.xp6(3),t.hij(" \xa0\xa0",t.lcZ(131,57,"Open"),":\xa0"),t.xp6(3),t.hij(" \xa0\xa0 |\xa0\xa0 ",t.lcZ(134,59,"Approved"),":\xa0 "),t.xp6(3),t.hij("\xa0\xa0|\xa0\xa0 ",t.lcZ(137,61,"Settled"),":\xa0 "),t.xp6(3),t.hij(" \xa0\xa0|\xa0\xa0 ",t.lcZ(140,63,"Paid"),":\xa0 "),t.xp6(3),t.hij(" \xa0\xa0|\xa0\xa0 ",t.lcZ(143,65,"Posted"),":\xa0 "),t.xp6(3),t.hij(" \xa0\xa0|\xa0\xa0 ",t.lcZ(146,67,"Void"),":\xa0"))},directives:[l.Fj,l.JJ,l.On,D.w9,l.YN,l.Kr,b.r,g.BZ,L.YE,g.w1,g.fO,g.Dz,g.as,g.nj,Q.NW,g.ge,L.nU,g.ev,q.gM,d.O5,g.XQ,g.Gk],pipes:[h.X$,d.uU,d.JJ],styles:["#statusOpen[_ngcontent-%COMP%] {\n    color:#ff6a00\n  }\n  #statusApproved[_ngcontent-%COMP%] {\n    color: #4cff00\n  }\n  #statusSettled[_ngcontent-%COMP%]{\n    color: #4800ff\n  }\n  #statusVoid[_ngcontent-%COMP%] {\n    color:#000000\n  }\n  #statusPaid[_ngcontent-%COMP%] {\n    color:#feff05\n  }\n  #statusPosted[_ngcontent-%COMP%] {\n    color:#ffd800\n  }"]}),n})()},{path:"sndAuthorities",component:Jo},{path:"sndQuotations",component:br},{path:"sndDeliveryNotes",component:ms},{path:"sndInvoiceSummary",component:Qt},{path:"sndItemSalesSummary",component:Se},{path:"sndReportCustomerSales",component:ln},{path:"sndReportCustomerSalesMonthlyMatrix",component:Ye},{path:"sndItemDepartmentReport",component:oe},{path:"sndInventoryStockLedgerReport",component:$n},{path:"sndInventoryStockAnalysisReport",component:Cn},{path:"sndInventoryTransactionsReport",component:vi},{path:"sndStockTransactionsAnalysisReport",component:oi}];let Jl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[I.Bz.forChild(Rl)],I.Bz]}),n})(),Pl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[d.uU],imports:[[Jl,J.m,J.m,$.ot,V.LD,q.AV,_.FA,A.lN],d.ez]}),n})()},5620:(dt,B,m)=>{m.d(B,{v:()=>V});var d=m(8002),J=m(7716),$=m(5830);let V=(()=>{class q{constructor(A){this.apiService=A}filter(A){return this.apiService.getall(`branch/getSelectSysBranchList?search=${A.trim()}`).pipe((0,d.U)(I=>I))}}return q.\u0275fac=function(A){return new(A||q)(J.LFG($.s))},q.\u0275prov=J.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})()},4246:(dt,B,m)=>{m.d(B,{J:()=>$,d:()=>V});var d=m(8583),J=m(7716);let $=(()=>{class q{transform(A,I){return(0,d.uf)(A,"en","1.2-2")}}return q.\u0275fac=function(A){return new(A||q)},q.\u0275pipe=J.Yjl({name:"decimalpipe",type:q,pure:!0}),q})(),V=(()=>{class q{transform(A,I){return A<0?`- (${(0,d.uf)(-1*A,"en","1.2-2")})`:(0,d.uf)(A,"en","1.2-2")}}return q.\u0275fac=function(A){return new(A||q)},q.\u0275pipe=J.Yjl({name:"decimalpipe2",type:q,pure:!0}),q})()}}]);