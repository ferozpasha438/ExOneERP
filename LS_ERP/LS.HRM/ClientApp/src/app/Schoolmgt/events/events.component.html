<div class="page-breadcrumb">
    <div class="row">
      <div class="col-12 align-self-center">
        <h3 class="page-title text-truncate text-dark font-weight-medium mb-1">
          {{'Events' | translate}}
        </h3>
        <div class="d-flex align-items-center">
          <nav aria-label="breadcrumb">
            <ol class="breadcrumb m-0 p-0">
              <li class="breadcrumb-item text-muted">{{'Events' | translate}}</li>
              <li class="breadcrumb-item text-muted">{{'Events_Mangement' | translate}}</li>
               <li class="breadcrumb-item   active" aria-current="page">{{'Events_List' | translate}}</li>
  
            </ol>
          </nav>
        </div>
      </div>  
    </div>
  </div>
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-12 col-lg-12">
        <div class="card">
          <div class="card-body">  
            <div class="row pb-3">           
              <div class="col-md-3">
                <!--(keyup)="applyFilter($event)"-->
                <input class="form-control" placeholder="{{'Search' | translate}}..." [(ngModel)]="searchValue" />
              </div>
              <div class="col-md-4 arabicright">
                <button (click)="applyFilter(searchValue)" class="btn btn-primary">{{'Search' | translate}}</button> &nbsp;
                <a (click)="refresh()" class=""><i class="btn btn-primary icon-refresh"></i></a>
              </div>
            </div>  
            <div class="row">
              <div class="col-md-4 col-lg-4">
                <h4 class="card-title pt6">{{'Events' | translate}}</h4>
              </div>
              <div class="col-md-8 col-lg-8 text-right">
                <a data-toggle="modal"
                   data-target="#addupdateUnit" class="  btn waves-effect waves-light btn-rounded btn-outline-primary" (click)="create()" href="#"> <i class="icon-plus"> </i>{{'Add_New' | translate}}</a>
  
              </div>
            </div>
            <div class="cardtitle-divider"></div>
            <div class="table-responsive">
              <spinner-loader [isLoading]="isLoading"></spinner-loader>  
              <div class="mat-elevation-z8">              
                <ng-container>  
                  <table mat-table [dataSource]="data" matSort matSortActive="id"
                         matSortDisableClear matSortDirection="desc" class="table  table-bordered no-wrap">  
                    <ng-container matColumnDef="branchCode">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>
                        {{'BranchCode' | translate}}
                      </th>
                      <td mat-cell *matCellDef="let row">{{ row.branchCode }}</td>
                    </ng-container>
                    <ng-container matColumnDef="hDate">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>
                        {{'HDate' | translate}}
                      </th>
                      <td mat-cell *matCellDef="let row">{{ row.hDate }}</td>
                    </ng-container>  
                    <ng-container matColumnDef="fromTime">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>
                        {{'FromTime' | translate}}
                      </th>
                      <td mat-cell *matCellDef="let row">{{ row.fromTime }}</td>                    
                    </ng-container>  
  
                    <ng-container matColumnDef="toTime">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>
                        {{'ToTime' | translate}}
                      </th>
                      <td mat-cell *matCellDef="let row">{{ row.toTime }}</td>
                    </ng-container>                   
                    <ng-container matColumnDef="eventName">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>
                        {{'EventName' | translate}}
                      </th>
                      <td mat-cell *matCellDef="let row">{{isArab?row.eventNameAr: row.eventName }}</td>
                    </ng-container>
                    <ng-container matColumnDef="eventCreatedOn">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>
                        {{'EventCreatedOn' | translate}}
                      </th>
                      <td mat-cell *matCellDef="let row">{{ row.eventCreatedOn }}</td>
                    </ng-container>
                    <ng-container matColumnDef="isApproved">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>
                        {{'IsApproved' | translate}}
                      </th>
                      <td mat-cell *matCellDef="let row">{{ row.isApproved }}</td>
                    </ng-container>
                    <ng-container matColumnDef="isActive">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>
                        {{'IsActive' | translate}}
                      </th>
                      <td mat-cell *matCellDef="let row">{{ row.isActive }}</td>
                    </ng-container>                   
                      <ng-container matColumnDef="Actions" stickyEnd>
                      <th mat-header-cell *matHeaderCellDef> {{'Actions' | translate}}</th>
                      <td mat-cell *matCellDef="let row">  
                        <a class="tableicons" (click)="edit(row.id)" matTooltip="{{'Edit_Item' | translate}}"><i class="icon-note"> </i></a>
                        <span *ngIf="!row.isApproved">
                          <a class="tableicons" (click)="delete(row.id)" matTooltip="{{'Delete' | translate}}"><i class="icon-trash"> </i></a>

                        </span>

                      </td>
                    </ng-container>  
                    <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>  
                  </table>  
                  <ng-container>
                    <mat-paginator [length]="totalItemsCount"
                                   [pageSize]="pageService.pageCount"
                                   [pageSizeOptions]="pageService.selectItemsPerPage"
                                   (page)="onPageSwitch($event)">
                    </mat-paginator>
                  </ng-container>
                </ng-container>              
              </div> 
              </div>  
          </div>
        </div>
      </div>
    </div>
  </div>
